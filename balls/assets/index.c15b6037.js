var kl=Object.defineProperty;var ql=(L,w,M)=>w in L?kl(L,w,{enumerable:!0,configurable:!0,writable:!0,value:M}):L[w]=M;var j=(L,w,M)=>(ql(L,typeof w!="symbol"?w+"":w,M),M);(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))b(W);new MutationObserver(W=>{for(const Z of W)if(Z.type==="childList")for(const p of Z.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&b(p)}).observe(document,{childList:!0,subtree:!0});function M(W){const Z={};return W.integrity&&(Z.integrity=W.integrity),W.referrerpolicy&&(Z.referrerPolicy=W.referrerpolicy),W.crossorigin==="use-credentials"?Z.credentials="include":W.crossorigin==="anonymous"?Z.credentials="omit":Z.credentials="same-origin",Z}function b(W){if(W.ep)return;W.ep=!0;const Z=M(W);fetch(W.href,Z)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _l(L){var w=L.default;if(typeof w=="function"){var M=function(){return w.apply(this,arguments)};M.prototype=w.prototype}else M={};return Object.defineProperty(M,"__esModule",{value:!0}),Object.keys(L).forEach(function(b){var W=Object.getOwnPropertyDescriptor(L,b);Object.defineProperty(M,b,W.get?W:{enumerable:!0,get:function(){return L[b]}})}),M}var Jo={exports:{}};(function(L,w){(function(b,W){L.exports=W()})(vt,()=>(()=>{var M={6659:p=>{var S=Object.prototype.hasOwnProperty,t="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(t=!1));function c(e,s,u){this.fn=e,this.context=s,this.once=u||!1}function a(e,s,u,i,o){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new c(u,i||e,o),l=t?t+s:s;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],h]:e._events[l].push(h):(e._events[l]=h,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new f:delete e._events[s]}function n(){this._events=new f,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],u,i;if(this._eventsCount===0)return s;for(i in u=this._events)S.call(u,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(u)):s},n.prototype.listeners=function(s){var u=t?t+s:s,i=this._events[u];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,h=i.length,l=new Array(h);o<h;o++)l[o]=i[o].fn;return l},n.prototype.listenerCount=function(s){var u=t?t+s:s,i=this._events[u];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,u,i,o,h,l){var d=t?t+s:s;if(!this._events[d])return!1;var v=this._events[d],m=arguments.length,x,g;if(v.fn){switch(v.once&&this.removeListener(s,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,i),!0;case 4:return v.fn.call(v.context,u,i,o),!0;case 5:return v.fn.call(v.context,u,i,o,h),!0;case 6:return v.fn.call(v.context,u,i,o,h,l),!0}for(g=1,x=new Array(m-1);g<m;g++)x[g-1]=arguments[g];v.fn.apply(v.context,x)}else{var y=v.length,T;for(g=0;g<y;g++)switch(v[g].once&&this.removeListener(s,v[g].fn,void 0,!0),m){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,u);break;case 3:v[g].fn.call(v[g].context,u,i);break;case 4:v[g].fn.call(v[g].context,u,i,o);break;default:if(!x)for(T=1,x=new Array(m-1);T<m;T++)x[T-1]=arguments[T];v[g].fn.apply(v[g].context,x)}}return!0},n.prototype.on=function(s,u,i){return a(this,s,u,i,!1)},n.prototype.once=function(s,u,i){return a(this,s,u,i,!0)},n.prototype.removeListener=function(s,u,i,o){var h=t?t+s:s;if(!this._events[h])return this;if(!u)return r(this,h),this;var l=this._events[h];if(l.fn)l.fn===u&&(!o||l.once)&&(!i||l.context===i)&&r(this,h);else{for(var d=0,v=[],m=l.length;d<m;d++)(l[d].fn!==u||o&&!l[d].once||i&&l[d].context!==i)&&v.push(l[d]);v.length?this._events[h]=v.length===1?v[0]:v:r(this,h)}return this},n.prototype.removeAllListeners=function(s){var u;return s?(u=t?t+s:s,this._events[u]&&r(this,u)):(this._events=new f,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,p.exports=n},62270:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82590),c=function(a,r,n,e){for(var s=a[0],u=1;u<a.length;u++){var i=a[u];f(i,s,r,n,e),s=i}return a};p.exports=c},61148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"angle",r,n,e,s)};p.exports=c},22015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=0;a<t.length;a++){var r=t[a];f.call(c,r)}return t};p.exports=S},31060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){c===void 0&&(c=0);for(var a=c;a<t.length;a++){var r=t[a],n=!0;for(var e in f)r[e]!==f[e]&&(n=!1);if(n)return r}return null};p.exports=S},52367:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){c===void 0&&(c=0);for(var a=t.length-1;a>=c;a--){var r=t[a],n=!0;for(var e in f)r[e]!==f[e]&&(n=!1);if(n)return r}return null};p.exports=S},12673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40327),c=t(84093),a=t(72632),r=t(72283),n=t(71030),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(u,i){i===void 0&&(i={});var o=i.hasOwnProperty("width"),h=i.hasOwnProperty("height"),l=a(i,"width",-1),d=a(i,"height",-1),v=a(i,"cellWidth",1),m=a(i,"cellHeight",v),x=a(i,"position",c.TOP_LEFT),g=a(i,"x",0),y=a(i,"y",0),T=0,E=0,C=l*v,A=d*m;e.setPosition(g,y),e.setSize(v,m);for(var P=0;P<u.length;P++)if(f(u[P],e,x),o&&l===-1)e.x+=v;else if(h&&d===-1)e.y+=m;else if(h&&!o){if(E+=m,e.y+=m,E===A&&(E=0,T+=v,e.y=y,e.x+=v,T===C))break}else if(T+=v,e.x+=v,T===C&&(T=0,E+=m,e.x=g,e.y+=m,E===A))break;return u};p.exports=s},691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"alpha",r,n,e,s)};p.exports=c},3877:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"x",r,n,e,s)};p.exports=c},71020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"x",r,e,u,i),f(a,"y",n,s,u,i)};p.exports=c},28970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"y",r,n,e,s)};p.exports=c},82249:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var r=c,n=(a-c)/t.length,e=f.x,s=f.y,u=f.radius,i=0;i<t.length;i++)t[i].x=e+u*Math.cos(r),t[i].y=s+u*Math.sin(r),r+=n;return t};p.exports=S},30285:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var r=c,n=(a-c)/t.length,e=f.width/2,s=f.height/2,u=0;u<t.length;u++)t[u].x=f.x+e*Math.cos(r),t[u].y=f.y+s*Math.sin(r),r+=n;return t};p.exports=S},61557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8570),c=function(a,r){for(var n=f(r,a.length),e=0;e<a.length;e++){var s=a[e],u=n[e];s.x=u.x,s.y=u.y}return a};p.exports=c},63549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40053),c=t(77640),a=t(38487),r=function(n,e,s){s===void 0&&(s=0);var u=f(e,!1,n.length);s>0?c(u,s):s<0&&a(u,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=u[i].x,n[i].y=u[i].y;return n};p.exports=r},51629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(58813),c=function(a,r,n){var e=f({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=f({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),u=f({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),u.pop(),e=e.concat(s,u);for(var i=e.length/a.length,o=0,h=0;h<a.length;h++){var l=a[h],d=e[Math.floor(o)];l.x=d.x,l.y=d.y,o+=i}return a};p.exports=c},1045:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(f,c)}return t};p.exports=S},6124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,u=t.length;if(n===1)for(e=r;e<u;e++)t[e][f]+=c+s*a,s++;else for(e=r;e>=0;e--)t[e][f]+=c+s*a,s++;return t};p.exports=S},23646:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,u=t.length;if(n===1)for(e=r;e<u;e++)t[e][f]=c+s*a,s++;else for(e=r;e>=0;e--)t[e][f]=c+s*a,s++;return t};p.exports=S},4392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(30977),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},94985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72006),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},63305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74077),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},90739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(30001),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},91417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99761),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},26182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"rotation",r,n,e,s)};p.exports=c},87299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72395),c=t(53996),a=function(r,n,e){for(var s=n.x,u=n.y,i=0;i<r.length;i++){var o=r[i];f(o,s,u,e,Math.max(1,c(o.x,o.y,s,u)))}return r};p.exports=a},92194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72395),c=function(a,r,n,e){var s=r.x,u=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)f(a[i],s,u,n,e);return a};p.exports=c},30363:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"scaleX",r,n,e,s)};p.exports=c},51449:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"scaleX",r,e,u,i),f(a,"scaleY",n,s,u,i)};p.exports=c},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"scaleY",r,n,e,s)};p.exports=c},30329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"alpha",r,n,e,s)};p.exports=c},43954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e){return f(a,"blendMode",r,0,n,e)};p.exports=c},70688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"depth",r,n,e,s)};p.exports=c},8314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=0;a<t.length;a++)t[a].setInteractive(f,c);return t};p.exports=S},12894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"originX",r,e,u,i),f(a,"originY",n,s,u,i),a.forEach(function(o){o.updateDisplayOrigin()}),a};p.exports=c},38767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"rotation",r,n,e,s)};p.exports=c},18584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"scaleX",r,e,u,i),f(a,"scaleY",n,s,u,i)};p.exports=c},17381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scaleX",r,n,e,s)};p.exports=c},74370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scaleY",r,n,e,s)};p.exports=c},27773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"scrollFactorX",r,e,u,i),f(a,"scrollFactorY",n,s,u,i)};p.exports=c},75257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scrollFactorX",r,n,e,s)};p.exports=c},54512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scrollFactorY",r,n,e,s)};p.exports=c},69423:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){for(var n=0;n<t.length;n++)t[n].setTint(f,c,a,r);return t};p.exports=S},58291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e){return f(a,"visible",r,0,n,e)};p.exports=c},94833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"x",r,n,e,s)};p.exports=c},14284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"x",r,e,u,i),f(a,"y",n,s,u,i)};p.exports=c},96574:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"y",r,n,e,s)};p.exports=c},74086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new f);var u,i,o=a.length;if(o===1)u=a[0].x,i=a[0].y,a[0].x=r,a[0].y=n;else{var h=1,l=0;e===0&&(l=o-1,h=o-2),u=a[l].x,i=a[l].y,a[l].x=r,a[l].y=n;for(var d=0;d<o;d++)if(!(h>=o||h===-1)){var v=a[h],m=v.x,x=v.y;v.x=u,v.y=i,u=m,i=x,e===0?h--:h++}}return s.x=u,s.y=i,s};p.exports=c},86347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18592),c=function(a){return f(a)};p.exports=c},1558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(5514),c=function(a,r,n,e,s){s===void 0&&(s=!1);var u=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=f(i*u,n,e);else for(i=0;i<a.length;i++)a[i][r]=f(i*u,n,e);return a};p.exports=c},9938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(87736),c=function(a,r,n,e,s){s===void 0&&(s=!1);var u=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=f(i*u,n,e);else for(i=0;i<a.length;i++)a[i][r]=f(i*u,n,e);return a};p.exports=c},71060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][f]+=(a+c)/2:t[0][f]=(a+c)/2,t;var n=Math.abs(a-c)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][f]+=e*n+c;else for(e=0;e<t.length;e++)t[e][f]=e*n+c;return t};p.exports=S},11207:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=0;f<t.length;f++)t[f].visible=!t[f].visible;return t};p.exports=S},24404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1071),c=function(a,r,n){n===void 0&&(n=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=f(s.x,r.left-n,r.right+n),s.y=f(s.y,r.top-n,r.bottom+n)}return a};p.exports=c},83979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(16938),r=t(2406),n=t(71519),e=t(10850),s=t(28834),u=new c({initialize:function(o,h,l){this.manager=o,this.key=h,this.type="frame",this.frames=this.getFrames(o.textureManager,e(l,"frames",[]),e(l,"defaultTextureKey",null),e(l,"sortFrames",!0)),this.frameRate=e(l,"frameRate",null),this.duration=e(l,"duration",null),this.msPerFrame,this.skipMissedFrames=e(l,"skipMissedFrames",!0),this.delay=e(l,"delay",0),this.repeat=e(l,"repeat",0),this.repeatDelay=e(l,"repeatDelay",0),this.yoyo=e(l,"yoyo",!1),this.showBeforeDelay=e(l,"showBeforeDelay",!1),this.showOnStart=e(l,"showOnStart",!1),this.hideOnComplete=e(l,"hideOnComplete",!1),this.randomFrame=e(l,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,o,h,l){h===null&&l===null?(i.frameRate=24,i.duration=24/o*1e3):h&&l===null?(i.duration=h,i.frameRate=o/(h/1e3)):(i.frameRate=l,i.duration=o/l*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,o){var h=this.getFrames(this.manager.textureManager,o);if(h.length>0){if(i===0)this.frames=h.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(h);else{var l=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=l.concat(h,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame+i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,o,h,l){l===void 0&&(l=!0);var d=[],v,m,x=1,g,y;if(typeof o=="string"){if(y=o,!i.exists(y))return console.warn('Texture "%s" not found',y),d;var T=i.get(y),E=T.getFrameNames();l&&s(E),o=[],E.forEach(function(I){o.push({key:y,frame:I})})}if(!Array.isArray(o)||o.length===0)return d;for(g=0;g<o.length;g++){var C=o[g],A=e(C,"key",h);if(!!A){var P=e(C,"frame",0),F=i.getFrame(A,P);if(!F){console.warn('Texture "%s" not found',A);continue}m=new n(A,P,x,F),m.duration=e(C,"duration",0),m.isFirst=!v,v&&(v.nextFrame=m,m.prevFrame=v),d.push(m),v=m,x++}}if(d.length>0){m.isLast=!0,m.nextFrame=d[0],d[0].prevFrame=m;var O=1/(d.length-1);for(g=0;g<d.length;g++)d[g].progress=g*O}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame+i.currentFrame.duration},getFrameByProgress:function(i){return i=f(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var o=i.currentFrame;o.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,o.nextFrame)},handleYoyoFrame:function(i,o){if(o||(o=!1),i.inReverse===!o&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=o),this.repeatAnimation(i);return}if(i.inReverse!==o&&i.repeatCounter===0){i.complete();return}i.forward=o;var h=o?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,h)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var o=i.currentFrame;o.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,o.prevFrame)},updateAndGetNextTick:function(i,o){i.setCurrentFrame(o),this.getNextTick(i)},removeFrame:function(i){var o=this.frames.indexOf(i);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){i.frames.push(o.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,o=1/(i-1),h,l=0;l<i;l++)h=this.frames[l],h.index=l+1,h.isFirst=!1,h.isLast=!1,h.progress=l*o,l===0?(h.isFirst=!0,i===1?(h.isLast=!0,h.nextFrame=h,h.prevFrame=h):(h.isLast=!1,h.prevFrame=this.frames[i-1],h.nextFrame=this.frames[l+1])):l===i-1&&i>1?(h.isLast=!0,h.prevFrame=this.frames[i-2],h.nextFrame=this.frames[0]):i>1&&(h.prevFrame=this.frames[l-1],h.nextFrame=this.frames[l+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});p.exports=u},71519:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u){u===void 0&&(u=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=c},90249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85463),c=t(56694),a=t(33885),r=t(6659),n=t(16938),e=t(97081),s=t(72632),u=t(10850),i=t(83392),o=t(13401),h=t(76400),l=new c({Extends:r,initialize:function(v){r.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",v.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,v,m){var x=this.anims,g=this.mixes,y=typeof d=="string"?d:d.key,T=typeof v=="string"?v:v.key;if(x.has(y)&&x.has(T)){var E=g.get(y);E||(E={}),E[T]=m,g.set(y,E)}return this},removeMix:function(d,v){var m=this.mixes,x=typeof d=="string"?d:d.key,g=m.get(x);if(g)if(v){var y=typeof v=="string"?v:v.key;g.hasOwnProperty(y)&&delete g[y]}else v||m.delete(x);return this},getMix:function(d,v){var m=this.mixes,x=typeof d=="string"?d:d.key,g=typeof v=="string"?v:v.key,y=m.get(x);return y&&y.hasOwnProperty(g)?y[g]:0},add:function(d,v){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(v.key=d,this.anims.set(d,v),this.emit(n.ADD_ANIMATION,d,v),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,v,m){var x=[],g=this.game.cache.json.get(d);if(!g)return console.warn("No Aseprite data found for: "+d),x;var y=this,T=u(g,"meta",null),E=u(g,"frames",null);if(T&&E){var C=u(T,"frameTags",[]);C.forEach(function(A){var P=[],F=s(A,"name",null),O=s(A,"from",0),I=s(A,"to",0),G=s(A,"direction","forward");if(!!F&&(!v||v&&v.indexOf(F)>-1)){for(var z=0,X=O;X<=I;X++){var H=X.toString(),N=E[H];if(N){var U=s(N,"duration",i.MAX_SAFE_INTEGER);P.push({key:d,frame:H,duration:U}),z+=U}}var R=z/P.length;P.forEach(function(V){V.duration-=R}),G==="reverse"&&(P=P.reverse());var D={key:F,frames:P,duration:z,yoyo:G==="pingpong"},B;m?m.anims&&(B=m.anims.create(D)):B=y.create(D),B&&x.push(B)}})}return x},create:function(d){var v=d.key,m=!1;return v&&(m=this.get(v),m?console.warn("AnimationManager key already exists: "+v):(m=new f(this,v,d),this.anims.set(v,m),this.emit(n.ADD_ANIMATION,v,m))),m},fromJSON:function(d,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var m=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var x=0;x<d.anims.length;x++)m.push(this.create(d.anims[x]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&m.push(this.create(d));return m},generateFrameNames:function(d,v){var m=u(v,"prefix",""),x=u(v,"start",0),g=u(v,"end",0),y=u(v,"suffix",""),T=u(v,"zeroPad",0),E=u(v,"outputArray",[]),C=u(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),E;var A=this.textureManager.get(d);if(!A)return E;var P;if(v)for(C||(C=o(x,g)),P=0;P<C.length;P++){var F=m+h(C[P],T,"0",1)+y;A.has(F)?E.push({key:d,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,d)}else for(C=A.getFrameNames(),P=0;P<C.length;P++)E.push({key:d,frame:C[P]});return E},generateFrameNumbers:function(d,v){var m=u(v,"start",0),x=u(v,"end",-1),g=u(v,"first",!1),y=u(v,"outputArray",[]),T=u(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),y;var E=this.textureManager.get(d);if(!E)return y;g&&E.has(g)&&y.push({key:d,frame:g}),T||(x===-1&&(x=E.frameTotal-2),T=o(m,x));for(var C=0;C<T.length;C++){var A=T[C];E.has(A)?y.push({key:d,frame:A}):console.warn('Frame "%s" not found in texture "%s"',A,d)}return y},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var v=this.textureManager.get(d),m=v.key,x=this.anims.getArray(),g=[],y=0;y<x.length;y++)for(var T=x[y],E=T.frames,C=0;C<E.length;C++)if(E[C].textureKey===m){g.push(T.key);break}return g},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(d,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)v[m].anims.play(d);return this},staggerPlay:function(d,v,m,x){m===void 0&&(m=0),x===void 0&&(x=!0),Array.isArray(v)||(v=[v]);var g=v.length;x||g--;for(var y=0;y<v.length;y++){var T=m<0?Math.abs(m)*(g-y):m*y;v[y].anims.playAfterDelay(d,T)}return this},remove:function(d){var v=this.get(d);return v&&(this.emit(n.REMOVE_ANIMATION,d,v),this.anims.delete(d),this.removeMix(d)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(d){var v={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?v.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(m,x){v.anims.push(x.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=l},16569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85463),c=t(17489),a=t(56694),r=t(33885),n=t(16938),e=t(72632),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(u){var i=this.parent;if(u===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(u)||(u=[u]);for(var o=0;o<u.length;o++){var h=u[o];this.nextAnim?this.nextAnimsQueue.push(h):this.nextAnim=h}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(u){this.isPlaying&&this.stop();var i=this.animationManager,o=typeof u=="string"?u:e(u,"key",null),h=this.exists(o)?this.get(o):i.get(o);if(!h)console.warn("Missing animation: "+o);else{this.currentAnim=h;var l=h.getTotalFrames(),d=e(u,"frameRate",h.frameRate),v=e(u,"duration",h.duration);h.calculateDuration(this,l,v,d),this.delay=e(u,"delay",h.delay),this.repeat=e(u,"repeat",h.repeat),this.repeatDelay=e(u,"repeatDelay",h.repeatDelay),this.yoyo=e(u,"yoyo",h.yoyo),this.showBeforeDelay=e(u,"showBeforeDelay",h.showBeforeDelay),this.showOnStart=e(u,"showOnStart",h.showOnStart),this.hideOnComplete=e(u,"hideOnComplete",h.hideOnComplete),this.skipMissedFrames=e(u,"skipMissedFrames",h.skipMissedFrames),this.randomFrame=e(u,"randomFrame",h.randomFrame),this.timeScale=e(u,"timeScale",this.timeScale);var m=e(u,"startFrame",0);m>l&&(m=0),this.randomFrame&&(m=c(0,l-1));var x=h.frames[m];m===0&&!this.forward&&(x=h.getLastFrame()),this.currentFrame=x}return this.parent},pause:function(u){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),u!==void 0&&this.setCurrentFrame(u),this.parent},resume:function(u){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),u!==void 0&&this.setCurrentFrame(u),this.parent},playAfterDelay:function(u,i){if(!this.isPlaying)this.delayCounter=i,this.play(u,!0);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.nextAnim=u,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(u,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(u);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=u,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(u,i){i===void 0&&(i=!1);var o=this.currentAnim,h=this.parent,l=typeof u=="string"?u:u.key;if(i&&this.isPlaying&&o.key===l)return h;if(o&&this.isPlaying){var d=this.animationManager.getMix(o.key,u);if(d>0)return this.playAfterDelay(u,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u)},playReverse:function(u,i){i===void 0&&(i=!1);var o=typeof u=="string"?u:u.key;return i&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u))},startAnimation:function(u){this.load(u);var i=this.currentAnim,o=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(u,i){var o=this.currentAnim;if(o){var h=this.currentFrame,l=this.parent,d=h.textureFrame;l.emit(u,o,h,l,d),i&&l.emit(i+o.key,o,h,l,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var u=this.currentFrame;if(!u)return 0;var i=u.progress;return this.inReverse&&(i*=-1),i},setProgress:function(u){return this.forward||(u=1-u),this.setCurrentFrame(this.currentAnim.getFrameByProgress(u)),this.parent},setRepeat:function(u){return this.repeatCounter=u===-1?Number.MAX_VALUE:u,this.parent},globalRemove:function(u,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(u,i){u===void 0&&(u=!1),i===void 0&&(i=!1);var o=this.currentAnim,h=this.parent;return o?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!u,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):h},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(u)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(u)}return this.parent},stopAfterDelay:function(u){return this._pendingStop=1,this._pendingStopValue=u,this.parent},stopAfterRepeat:function(u){return u===void 0&&(u=1),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=u,this.parent},stopOnFrame:function(u){return this._pendingStop=3,this._pendingStopValue=u,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(u,i){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var h=0;do this.forward?o.nextFrame(this):o.previousFrame(this),h++;while(this.isPlaying&&this.accumulator>this.nextTick&&h<60)}}},setCurrentFrame:function(u){var i=this.parent;return this.currentFrame=u,i.texture=u.frame.texture,i.frame=u.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),u.setAlpha&&(i.alpha=u.alpha),i.setSizeToFrame(),i._originComponent&&(u.frame.customPivot?i.setOrigin(u.frame.pivotX,u.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===u&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(u){return this.anims?this.anims.get(u):null},exists:function(u){return this.anims?this.anims.has(u):!1},create:function(u){var i=u.key,o=!1;return i&&(o=this.get(i),o?console.warn("Animation key already exists: "+i):(o=new f(this,i,u),this.anims||(this.anims=new r),this.anims.set(i,o))),o},createFromAseprite:function(u,i){return this.animationManager.createFromAseprite(u,i,this.parent)},generateFrameNames:function(u,i){return this.animationManager.generateFrameNames(u,i)},generateFrameNumbers:function(u,i){return this.animationManager.generateFrameNumbers(u,i)},remove:function(u){var i=this.get(u);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(u)),i},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=s},44509:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},84563:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},61586:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},72175:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},37690:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},58525:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},5243:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},10598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},4860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},31865:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},16938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(33885),a=t(6659),r=t(69773),n=new f({initialize:function(){this.entries=new c,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=n},43474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23740),c=t(56694),a=t(97081),r=new c({initialize:function(e){this.game=e,this.binary=new f,this.bitmapFont=new f,this.json=new f,this.physics=new f,this.shader=new f,this.audio=new f,this.video=new f,this.text=new f,this.html=new f,this.obj=new f,this.tilemap=new f,this.xml=new f,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new f),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});p.exports=r},94762:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},75968:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},69773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(75606),r=t(6659),n=t(89787),e=t(74118),s=t(69360),u=t(93222),i=t(93736),o=new f({Extends:r,Mixins:[c.AlphaSingle,c.Visible],initialize:function(l,d,v,m){l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=l,this._y=d,this._width=v,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(v/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(h){this.renderList.push(h)},setOrigin:function(h,l){return h===void 0&&(h=.5),l===void 0&&(l=h),this.originX=h,this.originY=l,this},getScroll:function(h,l,d){d===void 0&&(d=new i);var v=this.width*.5,m=this.height*.5;return d.x=h-v,d.y=l-m,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(h){var l=this.width*.5;return this.midPoint.x=h,this.scrollX=h-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(h){var l=this.height*.5;return this.midPoint.y=h,this.scrollY=h-l,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(h,l){return this.centerOnX(h),this.centerOnY(l),this},centerToBounds:function(){if(this.useBounds){var h=this._bounds,l=this.width*.5,d=this.height*.5;this.midPoint.set(h.centerX,h.centerY),this.scrollX=h.centerX-l,this.scrollY=h.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(h){if(this.disableCull)return h;var l=this.matrix.matrix,d=l[0],v=l[1],m=l[2],x=l[3],g=d*x-v*m;if(!g)return h;var y=l[4],T=l[5],E=this.scrollX,C=this.scrollY,A=this.width,P=this.height,F=this.y,O=F+P,I=this.x,G=I+A,z=this.culledObjects,X=h.length;g=1/g,z.length=0;for(var H=0;H<X;++H){var N=h[H];if(!N.hasOwnProperty("width")||N.parentContainer){z.push(N);continue}var U=N.width,R=N.height,D=N.x-E*N.scrollFactorX-U*N.originX,B=N.y-C*N.scrollFactorY-R*N.originY,V=D*d+B*m+y,Y=D*v+B*x+T,K=(D+U)*d+(B+R)*m+y,$=(D+U)*v+(B+R)*x+T;K>I&&V<G&&$>F&&Y<O&&z.push(N)}return z},getWorldPoint:function(h,l,d){d===void 0&&(d=new i);var v=this.matrix.matrix,m=v[0],x=v[1],g=v[2],y=v[3],T=v[4],E=v[5],C=m*y-x*g;if(!C)return d.x=h,d.y=l,d;C=1/C;var A=y*C,P=-x*C,F=-g*C,O=m*C,I=(g*E-y*T)*C,G=(x*T-m*E)*C,z=Math.cos(this.rotation),X=Math.sin(this.rotation),H=this.zoomX,N=this.zoomY,U=this.scrollX,R=this.scrollY,D=h+(U*z-R*X)*H,B=l+(U*X+R*z)*N;return d.x=D*A+B*F+I,d.y=D*P+B*O+G,d},ignore:function(h){var l=this.id;Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var v=h[d];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=l}return this},preRender:function(){this.renderList.length=0;var h=this.width,l=this.height,d=h*.5,v=l*.5,m=this.zoomX,x=this.zoomY,g=this.matrix,y=h*this.originX,T=l*this.originY,E=this.scrollX,C=this.scrollY;this.useBounds&&(E=this.clampX(E),C=this.clampY(C)),this.scrollX=E,this.scrollY=C;var A=E+d,P=C+v;this.midPoint.set(A,P);var F=h/m,O=l/x;this.worldView.setTo(A-F/2,P-O/2,F,O),g.applyITRS(this.x+y,this.y+T,this.rotation,m,x),g.translate(-y,-T)},clampX:function(h){var l=this._bounds,d=this.displayWidth,v=l.x+(d-this.width)/2,m=Math.max(v,v+l.width-d);return h<v?h=v:h>m&&(h=m),h},clampY:function(h){var l=this._bounds,d=this.displayHeight,v=l.y+(d-this.height)/2,m=Math.max(v,v+l.height-d);return h<v?h=v:h>m&&(h=m),h},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(h){return h===void 0&&(h=0),this.rotation=a(h),this},setBackgroundColor:function(h){return h===void 0&&(h="rgba(0,0,0,0)"),this.backgroundColor=u(h),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(h,l,d,v,m){return m===void 0&&(m=!1),this._bounds.setTo(h,l,d,v),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(h){h===void 0&&(h=new e);var l=this._bounds;return h.setTo(l.x,l.y,l.width,l.height),h},setName:function(h){return h===void 0&&(h=""),this.name=h,this},setPosition:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setRoundPixels:function(h){return this.roundPixels=h,this},setScene:function(h,l){l===void 0&&(l=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=h,this.isSceneCamera=l;var d=h.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(h,l){return l===void 0&&(l=h),this.scrollX=h,this.scrollY=l,this},setSize:function(h,l){return l===void 0&&(l=h),this.width=h,this.height=l,this},setViewport:function(h,l,d,v){return this.x=h,this.y=l,this.width=d,this.height=v,this},setZoom:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=h),h===0&&(h=.001),l===0&&(l=.001),this.zoomX=h,this.zoomY=l,this},setMask:function(h,l){return l===void 0&&(l=!0),this.mask=h,this._maskCamera=l?this.cameraManager.default:this,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var h={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(h.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),h},update:function(){},setIsSceneCamera:function(h){return this.isSceneCamera=h,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var h=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,l=this.sceneManager;h&&!this._customViewport?l.customViewports++:!h&&this._customViewport&&l.customViewports--,this.dirty=!0,this._customViewport=h}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(h){this._x=h,this.updateSystem()}},y:{get:function(){return this._y},set:function(h){this._y=h,this.updateSystem()}},width:{get:function(){return this._width},set:function(h){this._width=h,this.updateSystem()}},height:{get:function(){return this._height},set:function(h){this._height=h,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(h){h!==this._scrollX&&(this._scrollX=h,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(h){h!==this._scrollY&&(this._scrollY=h,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(h){this._zoomX=h,this._zoomY=h,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(h){this._zoomX=h,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(h){this._zoomY=h,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=o},47751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(51052),c=t(79993),a=t(82897),r=t(56694),n=t(64937),e=t(53030),s=t(89787),u=t(42798),i=t(74118),o=t(93736),h=new r({Extends:f,Mixins:[n.PostPipeline],initialize:function(d,v,m,x){f.call(this,d,v,m,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(l,d){if(l===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=l,this.deadzone.height=d):this.deadzone=new i(0,0,l,d),this._follow){var v=this.width/2,m=this.height/2,x=this._follow.x-this.followOffset.x,g=this._follow.y-this.followOffset.y;this.midPoint.set(x,g),this.scrollX=x-v,this.scrollY=g-m}c(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(l,d,v,m,x,g){return this.fadeEffect.start(!1,l,d,v,m,!0,x,g)},fadeOut:function(l,d,v,m,x,g){return this.fadeEffect.start(!0,l,d,v,m,!0,x,g)},fadeFrom:function(l,d,v,m,x,g,y){return this.fadeEffect.start(!1,l,d,v,m,x,g,y)},fade:function(l,d,v,m,x,g,y){return this.fadeEffect.start(!0,l,d,v,m,x,g,y)},flash:function(l,d,v,m,x,g,y){return this.flashEffect.start(l,d,v,m,x,g,y)},shake:function(l,d,v,m,x){return this.shakeEffect.start(l,d,v,m,x)},pan:function(l,d,v,m,x,g,y){return this.panEffect.start(l,d,v,m,x,g,y)},rotateTo:function(l,d,v,m,x,g,y){return this.rotateToEffect.start(l,d,v,m,x,g,y)},zoomTo:function(l,d,v,m,x,g){return this.zoomEffect.start(l,d,v,m,x,g)},preRender:function(){this.renderList.length=0;var l=this.width,d=this.height,v=l*.5,m=d*.5,x=this.zoom,g=this.matrix,y=l*this.originX,T=d*this.originY,E=this._follow,C=this.deadzone,A=this.scrollX,P=this.scrollY;C&&c(C,this.midPoint.x,this.midPoint.y);var F=!1;if(E&&!this.panEffect.isRunning){var O=this.lerp,I=E.x-this.followOffset.x,G=E.y-this.followOffset.y;C?(I<C.x?A=u(A,A-(C.x-I),O.x):I>C.right&&(A=u(A,A+(I-C.right),O.x)),G<C.y?P=u(P,P-(C.y-G),O.y):G>C.bottom&&(P=u(P,P+(G-C.bottom),O.y))):(A=u(A,I-y,O.x),P=u(P,G-T,O.y)),F=!0}this.useBounds&&(A=this.clampX(A),P=this.clampY(P)),this.scrollX=A,this.scrollY=P;var z=A+v,X=P+m;this.midPoint.set(z,X);var H=l/x,N=d/x,U=Math.floor(z-H/2),R=Math.floor(X-N/2);this.worldView.setTo(U,R,H,N),g.applyITRS(Math.floor(this.x+y),Math.floor(this.y+T),this.rotation,x,x),g.translate(-y,-T),this.shakeEffect.preRender(),F&&this.emit(s.FOLLOW_UPDATE,this,E)},setLerp:function(l,d){return l===void 0&&(l=1),d===void 0&&(d=l),this.lerp.set(l,d),this},setFollowOffset:function(l,d){return l===void 0&&(l=0),d===void 0&&(d=0),this.followOffset.set(l,d),this},startFollow:function(l,d,v,m,x,g){d===void 0&&(d=!1),v===void 0&&(v=1),m===void 0&&(m=v),x===void 0&&(x=0),g===void 0&&(g=x),this._follow=l,this.roundPixels=d,v=a(v,0,1),m=a(m,0,1),this.lerp.set(v,m),this.followOffset.set(x,g);var y=this.width/2,T=this.height/2,E=l.x-x,C=l.y-g;return this.midPoint.set(E,C),this.scrollX=E-y,this.scrollY=C-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(l,d){this.visible&&(this.rotateToEffect.update(l,d),this.panEffect.update(l,d),this.zoomEffect.update(l,d),this.shakeEffect.update(l,d),this.flashEffect.update(l,d),this.fadeEffect.update(l,d))},destroy:function(){this.resetFX(),f.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=h},62382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47751),c=t(56694),a=t(72632),r=t(91963),n=t(94287),e=t(40444),s=t(7599),u=new c({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(s.BOOT,this.boot,this),o.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new f(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(s.UPDATE,this.update,this),o.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,o,h,l,d,v){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=this.scene.sys.scale.width),l===void 0&&(l=this.scene.sys.scale.height),d===void 0&&(d=!1),v===void 0&&(v="");var m=new f(i,o,h,l);return m.setName(v),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),d&&(this.main=m),m},addExisting:function(i,o){o===void 0&&(o=!1);var h=this.cameras.indexOf(i);return h===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),o&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,o=1,h=0;h<32;h++){for(var l=!1,d=0;d<i.length;d++){var v=i[d];if(v&&v.id===o){l=!0;continue}}if(l)o=o<<1;else return o}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var o=0,h=this.cameras,l=0;l<h.length;l++){var d=h[l];(!i||i&&d.visible)&&o++}return o},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var o=this.scene.sys.scale.width,h=this.scene.sys.scale.height,l=0;l<i.length;l++){var d=i[l],v=a(d,"x",0),m=a(d,"y",0),x=a(d,"width",o),g=a(d,"height",h),y=this.add(v,m,x,g);y.name=a(d,"name",""),y.zoom=a(d,"zoom",1),y.rotation=a(d,"rotation",0),y.scrollX=a(d,"scrollX",0),y.scrollY=a(d,"scrollY",0),y.roundPixels=a(d,"roundPixels",!1),y.visible=a(d,"visible",!0);var T=a(d,"backgroundColor",!1);T&&y.setBackgroundColor(T);var E=a(d,"bounds",null);if(E){var C=a(E,"x",0),A=a(E,"y",0),P=a(E,"width",o),F=a(E,"height",h);y.setBounds(C,A,P,F)}}return this},getCamera:function(i){for(var o=this.cameras,h=0;h<o.length;h++)if(o[h].name===i)return o[h];return null},getCamerasBelowPointer:function(i){for(var o=this.cameras,h=i.x,l=i.y,d=[],v=0;v<o.length;v++){var m=o[v];m.visible&&m.inputEnabled&&n(m,h,l)&&d.unshift(m)}return d},remove:function(i,o){o===void 0&&(o=!0),Array.isArray(i)||(i=[i]);for(var h=0,l=this.cameras,d=0;d<i.length;d++){var v=l.indexOf(i[d]);v!==-1&&(o?l[v].destroy():l[v].renderList=[],l.splice(v,1),h++)}return!this.main&&l[0]&&(this.main=l[0]),h},render:function(i,o){for(var h=this.scene,l=this.cameras,d=0;d<l.length;d++){var v=l[d];if(v.visible&&v.alpha>0){v.preRender();var m=this.getVisibleChildren(o.getChildren(),v);i.render(h,m,v)}}},getVisibleChildren:function(i,o){return i.filter(function(h){return h.willRender(o)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,o){for(var h=0;h<this.cameras.length;h++)this.cameras[h].update(i,o)},onResize:function(i,o,h,l,d){for(var v=0;v<this.cameras.length;v++){var m=this.cameras[v];m._x===0&&m._y===0&&m._width===l&&m._height===d&&m.setSize(o.width,o.height)}},resize:function(i,o){for(var h=0;h<this.cameras.length;h++)this.cameras[h].setSize(i,o)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var o=this.systems.events;o.off(s.UPDATE,this.update,this),o.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",u,"cameras"),p.exports=u},92522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,u,i,o,h,l){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=!1),h===void 0&&(h=null),l===void 0&&(l=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=u,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=l;var d=n?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,s,u,i),this.camera},update:function(n,e){!this.isRunning||(this._elapsed+=e,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,u=this.red/255,i=this.green/255,o=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(o,i,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},22151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,u,i,o,h){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),u===void 0&&(u=255),i===void 0&&(i=!1),o===void 0&&(o=null),h===void 0&&(h=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=u,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(a.FLASH_START,this.camera,this,n,e,s,u),this.camera)},update:function(n,e){!this.isRunning||(this._elapsed+=e,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,u=this.red/255,i=this.green/255,o=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(o,i,u,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},37551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(35060),r=t(89787),n=t(93736),e=new c({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,u,i,o,h,l,d){i===void 0&&(i=1e3),o===void 0&&(o=a.Linear),h===void 0&&(h=!1),l===void 0&&(l=null),d===void 0&&(d=this.camera.scene);var v=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(s,u),v.getScroll(s,u,this.current),typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,i,s,u)),v},update:function(s,u){if(!!this.isRunning){this._elapsed+=u;var i=f(this._elapsed/this.duration,0,1);this.progress=i;var o=this.camera;if(this._elapsed<this.duration){var h=this.ease(i);o.getScroll(this.destination.x,this.destination.y,this.current);var l=this.source.x+(this.current.x-this.source.x)*h,d=this.source.y+(this.current.y-this.source.y)*h;o.setScroll(l,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,l,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},1771:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=t(35060),n=new c({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,u,i,o,h,l){u===void 0&&(u=1e3),i===void 0&&(i=r.Linear),o===void 0&&(o=!1),h===void 0&&(h=null),l===void 0&&(l=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;d=d-Math.floor(d/v)*v;var m=this.camera;if(!o&&this.isRunning)return m;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=m.rotation,this.destination=d,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=l,this.shortestPath){var x=0,g=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+v)-this.source,this.source>this.destination?g=Math.abs(this.source-this.destination):g=Math.abs(this.source+v)-this.destination,x<g?this.clockwise=!0:x>g&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,u,d),m},update:function(e,s){if(!!this.isRunning){this._elapsed+=s;var u=f(this._elapsed/this.duration,0,1);this.progress=u;var i=this.camera;if(this._elapsed<this.duration){var o=this.ease(u);this.current=i.rotation;var h=0,l=360*Math.PI/180,d=this.destination,v=this.current;this.clockwise===!1&&(d=this.current,v=this.destination),d>=v?h=Math.abs(d-v):h=Math.abs(d+l)-v;var m=0;this.clockwise?m=i.rotation+h*o:m=i.rotation-h*o,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,u,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=n},3241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=t(93736),n=new c({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,u,i,o){return e===void 0&&(e=100),s===void 0&&(s=.05),u===void 0&&(u=!1),i===void 0&&(i=null),o===void 0&&(o=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=o,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(!!this.isRunning)if(this._elapsed+=s,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,i=this.camera.width,o=this.camera.height,h=this.camera.zoom;this._offsetX=(Math.random()*u.x*i*2-u.x*i)*h,this._offsetY=(Math.random()*u.y*o*2-u.y*o)*h,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=n},13383:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(35060),r=t(89787),n=new c({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,u,i,o,h){s===void 0&&(s=1e3),u===void 0&&(u=a.Linear),i===void 0&&(i=!1),o===void 0&&(o=null),h===void 0&&(h=this.camera.scene);var l=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=l.zoom,this.destination=e,typeof u=="string"&&a.hasOwnProperty(u)?this.ease=a[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),l},update:function(e,s){!this.isRunning||(this._elapsed+=s,this.progress=f(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=n},53030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},85373:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},92057:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},1903:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},96131:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},85409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},25500:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},44071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},19818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},80002:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},87966:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},74217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},34805:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},30408:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},49856:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},69189:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},67657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},14229:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},89787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(10850),a=new f({initialize:function(n){this.camera=c(n,"camera",null),this.left=c(n,"left",null),this.right=c(n,"right",null),this.up=c(n,"up",null),this.down=c(n,"down",null),this.zoomIn=c(n,"zoomIn",null),this.zoomOut=c(n,"zoomOut",null),this.zoomSpeed=c(n,"zoomSpeed",.01),this.minZoom=c(n,"minZoom",.001),this.maxZoom=c(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=c(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=c(n,"speed.x",0),this.speedY=c(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(!!this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},69370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(10850),a=new f({initialize:function(n){this.camera=c(n,"camera",null),this.left=c(n,"left",null),this.right=c(n,"right",null),this.up=c(n,"up",null),this.down=c(n,"down",null),this.zoomIn=c(n,"zoomIn",null),this.zoomOut=c(n,"zoomOut",null),this.zoomSpeed=c(n,"zoomSpeed",.01),this.minZoom=c(n,"minZoom",.001),this.maxZoom=c(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=c(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=c(n,"acceleration.x",0),this.accelY=c(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=c(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=c(n,"drag.x",0),this.dragY=c(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=c(n,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=c(n,"maxSpeed.x",0),this.maxSpeedY=c(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(!!this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},6524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={VERSION:"3.70.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=f},14033:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(86459),a=t(18360),r=t(77290),n=t(72632),e=t(10850),s=t(42911),u=t(72283),i=t(5923),o=t(65641),h=t(93222),l=new f({initialize:function(v){v===void 0&&(v={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",g=e(v,"scale",null);this.width=e(g,"width",1024,v),this.height=e(g,"height",768,v),this.zoom=e(g,"zoom",1,v),this.parent=e(g,"parent",void 0,v),this.scaleMode=e(g,g?"mode":"scaleMode",0,v),this.expandParent=e(g,"expandParent",!0,v),this.autoRound=e(g,"autoRound",!1,v),this.autoCenter=e(g,"autoCenter",0,v),this.resizeInterval=e(g,"resizeInterval",500,v),this.fullscreenTarget=e(g,"fullscreenTarget",null,v),this.minWidth=e(g,"min.width",0,v),this.maxWidth=e(g,"max.width",0,v),this.minHeight=e(g,"min.height",0,v),this.maxHeight=e(g,"max.height",0,v),this.renderType=e(v,"type",c.AUTO),this.canvas=e(v,"canvas",null),this.context=e(v,"context",null),this.canvasStyle=e(v,"canvasStyle",null),this.customEnvironment=e(v,"customEnvironment",!1),this.sceneConfig=e(v,"scene",null),this.seed=e(v,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(v,"title",""),this.gameURL=e(v,"url","https://phaser.io"),this.gameVersion=e(v,"version",""),this.autoFocus=e(v,"autoFocus",!0),this.stableSort=e(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(v,"dom.createContainer",!1),this.domPointerEvents=e(v,"dom.pointerEvents","none"),this.inputKeyboard=e(v,"input.keyboard",!0),this.inputKeyboardEventTarget=e(v,"input.keyboard.target",window),this.inputKeyboardCapture=e(v,"input.keyboard.capture",[]),this.inputMouse=e(v,"input.mouse",!0),this.inputMouseEventTarget=e(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(v,"input.touch",r.input.touch),this.inputTouchEventTarget=e(v,"input.touch.target",null),this.inputTouchCapture=e(v,"input.touch.capture",!0),this.inputActivePointers=e(v,"input.activePointers",1),this.inputSmoothFactor=e(v,"input.smoothFactor",0),this.inputWindowEvents=e(v,"input.windowEvents",!0),this.inputGamepad=e(v,"input.gamepad",!1),this.inputGamepadEventTarget=e(v,"input.gamepad.target",window),this.disableContextMenu=e(v,"disableContextMenu",!1),this.audio=e(v,"audio",{}),this.hideBanner=e(v,"banner",null)===!1,this.hidePhaser=e(v,"banner.hidePhaser",!1),this.bannerTextColor=e(v,"banner.text",x),this.bannerBackgroundColor=e(v,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(v,"fps",null),this.disablePreFX=e(v,"disablePreFX",!1),this.disablePostFX=e(v,"disablePostFX",!1);var y=e(v,"render",null);this.pipeline=e(y,"pipeline",null,v),this.autoMobilePipeline=e(y,"autoMobilePipeline",!0,v),this.defaultPipeline=e(y,"defaultPipeline",o.MULTI_PIPELINE,v),this.antialias=e(y,"antialias",!0,v),this.antialiasGL=e(y,"antialiasGL",!0,v),this.mipmapFilter=e(y,"mipmapFilter","",v),this.desynchronized=e(y,"desynchronized",!1,v),this.roundPixels=e(y,"roundPixels",!0,v),this.pixelArt=e(y,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(y,"transparent",!1,v),this.clearBeforeRender=e(y,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=e(y,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=e(y,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=e(y,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=e(y,"powerPreference","default",v),this.batchSize=e(y,"batchSize",4096,v),this.maxTextures=e(y,"maxTextures",-1,v),this.maxLights=e(y,"maxLights",10,v);var T=e(v,"backgroundColor",0);this.backgroundColor=h(T),this.transparent&&(this.backgroundColor=h(0),this.backgroundColor.alpha=0),this.preBoot=e(v,"callbacks.preBoot",u),this.postBoot=e(v,"callbacks.postBoot",u),this.physics=e(v,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(v,"loader.baseURL",""),this.loaderPath=e(v,"loader.path",""),this.loaderMaxParallelDownloads=e(v,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(v,"loader.crossOrigin",void 0),this.loaderResponseType=e(v,"loader.responseType",""),this.loaderAsync=e(v,"loader.async",!0),this.loaderUser=e(v,"loader.user",""),this.loaderPassword=e(v,"loader.password",""),this.loaderTimeout=e(v,"loader.timeout",0),this.loaderWithCredentials=e(v,"loader.withCredentials",!1),this.loaderImageLoadType=e(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(v,"fx.glow.quality",.1),this.glowFXDistance=e(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=e(v,"plugins",null),C=a.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:s(E)&&(this.installGlobalPlugins=n(E,"global",[]),this.installScenePlugins=n(E,"scene",[]),Array.isArray(E.default)?C=E.default:Array.isArray(E.defaultMerge)&&(C=C.concat(E.defaultMerge)))),this.defaultPlugins=C;var A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(v,"images.default",A+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(v,"images.missing",A+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=c.WEBGL:window.FORCE_CANVAS&&(this.renderType=c.CANVAS))}});p.exports=l},50150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70616),c=t(61068),a=t(86459),r=t(90185),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=r.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||c.disableSmoothing();var u=e.scale.baseSize,i=u.width,o=u.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=o):e.canvas=c.create(e,i,o,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||f.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var h,l;h=t(91135),l=t(11857),s.renderType===a.WEBGL?e.renderer=new l(e):(e.renderer=new h(e),e.context=e.renderer.gameContext)}};p.exports=n},77291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86459),c=function(a){var r=a.config;if(!r.hideBanner){var n="WebGL";r.renderType===f.CANVAS?n="Canvas":r.renderType===f.HEADLESS&&(n="Headless");var e=r.audio,s=a.device.audio,u;if(s.webAudio&&!e.disableWebAudio?u="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?u="No Audio":u="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+f.VERSION+" / https://phaser.io");else{var i="",o=[i];if(Array.isArray(r.bannerBackgroundColor)){var h;r.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),o.push("background: "+d),h=d}),o[o.length-1]="color: "+r.bannerTextColor+"; background: "+h}else i=i.concat("%c "),o.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);o.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var l="";r.hidePhaser||(i=i.concat("Phaser v"+f.VERSION+l+" ("+n+" | "+u+")")),i=i.concat(" %c "+r.gameURL),o[0]=i,console.log.apply(console,o)}}};p.exports=c},15213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99584),c=t(90249),a=t(43474),r=t(61068),n=t(56694),e=t(14033),s=t(85178),u=t(50150),i=t(81078),o=t(77291),h=t(77290),l=t(21546),d=t(6659),v=t(97081),m=t(69898),x=t(91963),g=t(49274),y=t(756),T=t(13553),E=t(38203),C=t(6237),A=t(26617),P=t(26493),F=t(84191),O=new n({initialize:function(G){this.config=new e(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new c(this),this.textures=new C(this),this.cache=new a(this),this.registry=new i(this,new d),this.input=new m(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=h,this.scale=new y(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new A(this,this.config.fps),this.plugins=new g(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,l(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),s(this),o(this),f(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),P(this);var I=this.events;I.on(v.HIDDEN,this.onHidden,this),I.on(v.VISIBLE,this.onVisible,this),I.on(v.BLUR,this.onBlur,this),I.on(v.FOCUS,this.onFocus,this)},step:function(I,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(v.PRE_STEP,I,G),z.emit(v.STEP,I,G),this.scene.update(I,G),z.emit(v.POST_STEP,I,G);var X=this.renderer;X.preRender(),z.emit(v.PRE_RENDER,X,I,G),this.scene.render(X),X.postRender(),z.emit(v.POST_RENDER,X,I,G)}},headlessStep:function(I,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(v.PRE_STEP,I,G),z.emit(v.STEP,I,G),this.scene.update(I,G),z.emit(v.POST_STEP,I,G),this.scene.isProcessing=!1,z.emit(v.PRE_RENDER,null,I,G),z.emit(v.POST_RENDER,null,I,G)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(v.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=O},26617:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(10850),a=t(72283),r=t(27385),n=new f({initialize:function(s,u){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=c(u,"min",5),this.targetFps=c(u,"target",60),this.fpsLimit=c(u,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=c(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=c(u,"deltaHistory",10),this.panicMax=c(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=c(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,u=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=u[s],e=Math.min(e,this._min)),u[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var o=0,h=0;h<i;h++)o+=u[h];return o/=i,o},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=n},26493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97081),c=function(a){var r,n=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},r=u+"visibilitychange")})}var s=function(u){document.hidden||u.type==="pause"?n.emit(f.HIDDEN):n.emit(f.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(f.BLUR)},window.onfocus=function(){n.emit(f.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};p.exports=c},41651:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},5520:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},51673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},25055:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},23767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},57564:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},38327:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},43807:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},73652:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},780:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},13781:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},38247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},29129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},34994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},55237:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="systemready"},98704:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},97081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),SYSTEM_READY:t(55237),VISIBLE:t(98704)}},80293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(81543),c=t(61068),a=t(10850),r=function(n){var e=a(n,"data",[]),s=a(n,"canvas",null),u=a(n,"palette",f),i=a(n,"pixelWidth",1),o=a(n,"pixelHeight",i),h=a(n,"resizeCanvas",!0),l=a(n,"clearCanvas",!0),d=a(n,"preRender",null),v=a(n,"postRender",null),m=Math.floor(Math.abs(e[0].length*i)),x=Math.floor(Math.abs(e.length*o));s||(s=c.create2D(this,m,x),h=!1,l=!1),h&&(s.width=m,s.height=x);var g=s.getContext("2d",{willReadFrequently:!0});l&&g.clearRect(0,0,m,x),d&&d(s,g);for(var y=0;y<e.length;y++)for(var T=e[y],E=0;E<T.length;E++){var C=T[E];C!=="."&&C!==" "&&(g.fillStyle=u[C],g.fillRect(E*i,y*o,i,o))}return v&&v(s,g),s};p.exports=r},84106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(34631),a=t(38517),r=t(93736),n=new f({Extends:a,initialize:function(s,u,i,o){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(o=new r(s[6],s[7]),i=new r(s[4],s[5]),u=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=u,this.p2=i,this.p3=o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var u=this.p0,i=this.p1,o=this.p2,h=this.p3;return s.set(c(e,u.x,i.x,o.x,h.x),c(e,u.y,i.y,o.y,h.y))},draw:function(e,s){s===void 0&&(s=32);var u=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<u.length;i++)e.lineTo(u[i].x,u[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,u=new r(s[0],s[1]),i=new r(s[2],s[3]),o=new r(s[4],s[5]),h=new r(s[6],s[7]);return new n(u,i,o,h)},p.exports=n},38517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(80222),a=t(74118),r=t(93736),n=new f({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var u=this.getLength();s>u&&(s=u/2);var i=Math.max(1,Math.round(u/s));return c(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),u=Math.max(1,s/e);return this.getSpacedPoints(u)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],u,i=this.getPoint(0,this._tmpVec2A),o=0;s.push(0);for(var h=1;h<=e;h++)u=this.getPoint(h/e,this._tmpVec2B),o+=u.distance(i),s.push(o),i.copy(u);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var u=this.getUtoTmapping(e);return this.getPoint(u,s)},getPoints:function(e,s,u){u===void 0&&(u=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)u.push(this.getPoint(i/e));return u},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,u){u===void 0&&(u=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var o=this.getUtoTmapping(i/e,null,e);u.push(this.getPoint(o))}return u},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var u=1e-4,i=e-u,o=e+u;return i<0&&(i=0),o>1&&(o=1),this.getPoint(i,this._tmpVec2A),this.getPoint(o,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var u=this.getUtoTmapping(e);return this.getTangent(u,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,u){var i=this.getLengths(u),o=0,h=i.length,l;s?l=Math.min(s,i[h-1]):l=e*i[h-1];for(var d=0,v=h-1,m;d<=v;)if(o=Math.floor(d+(v-d)/2),m=i[o]-l,m<0)d=o+1;else if(m>0)v=o-1;else{v=o;break}if(o=v,i[o]===l)return o/(h-1);var x=i[o],g=i[o+1],y=g-x,T=(l-x)/y;return(o+T)/(h-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=n},48835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(38517),a=t(75606),r=t(10850),n=t(23701),e=t(93736),s=new f({Extends:c,initialize:function(i,o,h,l,d,v,m,x){if(typeof i=="object"){var g=i;i=r(g,"x",0),o=r(g,"y",0),h=r(g,"xRadius",0),l=r(g,"yRadius",h),d=r(g,"startAngle",0),v=r(g,"endAngle",360),m=r(g,"clockwise",!1),x=r(g,"rotation",0)}else l===void 0&&(l=h),d===void 0&&(d=0),v===void 0&&(v=360),m===void 0&&(m=!1),x===void 0&&(x=0);c.call(this,"EllipseCurve"),this.p0=new e(i,o),this._xRadius=h,this._yRadius=l,this._startAngle=a(d),this._endAngle=a(v),this._clockwise=m,this._rotation=a(x)},getStartPoint:function(u){return u===void 0&&(u=new e),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,i){i===void 0&&(i=new e);for(var o=Math.PI*2,h=this._endAngle-this._startAngle,l=Math.abs(h)<Number.EPSILON;h<0;)h+=o;for(;h>o;)h-=o;h<Number.EPSILON&&(l?h=0:h=o),this._clockwise&&!l&&(h===o?h=-o:h=h-o);var d=this._startAngle+u*h,v=this.p0.x+this._xRadius*Math.cos(d),m=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var x=Math.cos(this._rotation),g=Math.sin(this._rotation),y=v-this.p0.x,T=m-this.p0.y;v=y*x-T*g+this.p0.x,m=y*g+T*x+this.p0.y}return i.set(v,m)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return n(this._startAngle)},set:function(u){this._startAngle=a(u)}},endAngle:{get:function(){return n(this._endAngle)},set:function(u){this._endAngle=a(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return n(this._rotation)},set:function(u){this._rotation=a(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(u){return new s(u)},p.exports=s},58084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(38517),a=t(80222),r=t(74118),n=t(93736),e=new f({Extends:c,initialize:function(u,i){c.call(this,"LineCurve"),Array.isArray(u)&&(i=new n(u[2],u[3]),u=new n(u[0],u[1])),this.p0=u,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,u){return u===void 0&&(u=new n),s===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),u)},getPointAt:function(s,u){return this.getPoint(s,u)},getTangent:function(s,u){return u===void 0&&(u=new n),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(s,u,i){var o;if(u){var h=this.getLengths(i),l=h[h.length-1],d=Math.min(u,l);o=d/l}else o=s;return o},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var u=s.points,i=new n(u[0],u[1]),o=new n(u[2],u[3]);return new e(i,o)},p.exports=e},64761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(38517),a=t(16252),r=t(93736),n=new f({Extends:c,initialize:function(s,u,i){c.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),u=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=u,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var u=this.p0,i=this.p1,o=this.p2;return s.set(a(e,u.x,i.x,o.x),a(e,u.y,i.y,o.y))},draw:function(e,s){s===void 0&&(s=32);var u=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<u.length;i++)e.lineTo(u[i].x,u[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,u=new r(s[0],s[1]),i=new r(s[2],s[3]),o=new r(s[4],s[5]);return new n(u,i,o)},p.exports=n},11956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14976),c=t(56694),a=t(38517),r=t(93736),n=new c({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var u=new r;typeof e[s]=="number"?(u.x=e[s],u.y=e[s+1],s++):Array.isArray(e[s])?(u.x=e[s][0],u.y=e[s][1]):(u.x=e[s].x,u.y=e[s].y),this.points.push(u)}return this},addPoint:function(e,s){var u=new r(e,s);return this.points.push(u),u},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var u=this.points,i=(u.length-1)*e,o=Math.floor(i),h=i-o,l=u[o===0?o:o-1],d=u[o],v=u[o>u.length-2?u.length-1:o+1],m=u[o>u.length-3?u.length-1:o+2];return s.set(f(h,l.x,d.x,v.x,m.x),f(h,l.y,d.y,v.y,m.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},p.exports=n},73962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(n,e){this.active=!1,this.p0=new c(n,e)},getPoint:function(r,n){return n===void 0&&(n=new c),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=a},12822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(63120),a=t(48835),r=t(61286),n=t(58084),e=t(53639),s=t(64761),u=t(74118),i=t(11956),o=t(93736),h=t(83392),l=new f({initialize:function(v,m){v===void 0&&(v=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,m)},add:function(d){return this.curves.push(d),this},circleTo:function(d,v,m){return v===void 0&&(v=!1),this.ellipseTo(d,d,0,360,v,m)},closePath:function(){var d=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return d.equals(v)||this.curves.push(new n(v,d)),this},cubicBezierTo:function(d,v,m,x,g,y){var T=this.getEndPoint(),E,C,A;return d instanceof o?(E=d,C=v,A=m):(E=new o(m,x),C=new o(g,y),A=new o(d,v)),this.add(new c(T,E,C,A))},quadraticBezierTo:function(d,v,m,x){var g=this.getEndPoint(),y,T;return d instanceof o?(y=d,T=v):(y=new o(m,x),T=new o(d,v)),this.add(new s(g,y,T))},draw:function(d,v){for(var m=0;m<this.curves.length;m++){var x=this.curves[m];!x.active||x.draw(d,v)}return d},ellipseTo:function(d,v,m,x,g,y){var T=new a(0,0,d,v,m,x,g,y),E=this.getEndPoint(this._tmpVec2A),C=T.getStartPoint(this._tmpVec2B);return E.subtract(C),T.x=E.x,T.y=E.y,this.add(T)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var v=0;v<d.curves.length;v++){var m=d.curves[v];switch(m.type){case"LineCurve":this.add(n.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(c.fromJSON(m));break;case"QuadraticBezierCurve":this.add(s.fromJSON(m));break}}return this},getBounds:function(d,v){d===void 0&&(d=new u),v===void 0&&(v=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var m=new u,x=h.MIN_SAFE_INTEGER,g=h.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];!T.active||(T.getBounds(m,v),d.x=Math.min(d.x,m.x),d.y=Math.min(d.y,m.y),x=Math.max(x,m.right),g=Math.max(g,m.bottom))}return d.right=x,d.bottom=g,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],v=0,m=0;m<this.curves.length;m++)v+=this.curves[m].getLength(),d.push(v);return this.cacheLengths=d,d},getCurveAt:function(d){for(var v=d*this.getLength(),m=this.getCurveLengths(),x=0;x<m.length;){if(m[x]>=v)return this.curves[x];x++}return null},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,v){v===void 0&&(v=new o);for(var m=d*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var y=x[g]-m,T=this.curves[g],E=T.getLength(),C=E===0?0:1-y/E;return T.getPointAt(C,v)}g++}return null},getPoints:function(d,v){!d&&!v&&(d=this.defaultDivisions);for(var m=[],x,g=0;g<this.curves.length;g++){var y=this.curves[g];if(!!y.active)for(var T=y.getResolution(d),E=y.getPoints(T,v),C=0;C<E.length;C++){var A=E[C];x&&x.equals(A)||(m.push(A),x=A)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var v=[],m=0;m<=d;m++)v.push(this.getPoint(m/d));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,v){v===void 0&&(v=new o);for(var m=d*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var y=x[g]-m,T=this.curves[g],E=T.getLength(),C=E===0?0:1-y/E;return T.getTangentAt(C,v)}g++}return null},lineTo:function(d,v){d instanceof o?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,v);var m=this.getEndPoint(this._tmpVec2A);return this.add(new n([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,v){return d instanceof o?this.add(new e(d.x,d.y)):this.add(new e(d,v))},toJSON:function(){for(var d=[],v=0;v<this.curves.length;v++)d.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,v){return new l(d,v)}),p.exports=l},81078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(35026),a=new f({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(c.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,u=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(o){if(!e._frozen){var h=s[r];s[r]=o,u.emit(c.CHANGE_DATA,i,r,o,h),u.emit(c.CHANGE_DATA_KEY+r,i,o,h)}}}),s[r]=n,u.emit(c.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var u in this.list)e[1]=u,e[2]=this.list[u],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(c.CHANGE_DATA),this.events.off(c.SET_DATA),this.events.off(c.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});p.exports=a},76508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(81078),a=t(91963),r=t(7599),n=new f({Extends:c,initialize:function(s){c.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){c.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",n,"data"),p.exports=n},73569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},15590:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},37669:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},87090:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},90142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},35026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1350),c={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return c;c.audioData=!!window.Audio,c.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,o){var h=r.canPlayType("audio/"+i).replace(/^no$/,"");return Boolean(o?h||r.canPlayType("audio/"+o).replace(/^no$/,""):h)};if(c.ogg=e('ogg; codecs="vorbis"'),c.opus=e('ogg; codecs="opus"',"opus"),c.mp3=e("mpeg"),c.wav=e("wav"),c.m4a=e("x-m4a"),c.aac=e("aac"),c.flac=e("flac","x-flac"),c.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(f.edge)c.dolby=!0;else if(f.safari&&f.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),u=parseInt(RegExp.$2,10);(s===10&&u>=11||s>10)&&(c.dolby=!0)}}}}catch{}return c}p.exports=a()},1350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36580),c={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(c.edge=!0,c.es2019=!0):/OPR/.test(r)?(c.opera=!0,c.es2019=!0):/Chrome\/(\d+)/.test(r)&&!f.windowsPhone?(c.chrome=!0,c.chromeVersion=parseInt(RegExp.$1,10),c.es2019=c.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(c.firefox=!0,c.firefoxVersion=parseInt(RegExp.$1,10),c.es2019=c.firefoxVersion>10):/AppleWebKit/.test(r)&&f.iOS?(c.mobileSafari=!0,c.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(c.ie=!0,c.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(r)&&!f.windowsPhone?(c.safari=!0,c.safariVersion=parseInt(RegExp.$1,10),c.es2019=c.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(c.ie=!0,c.trident=!0,c.tridentVersion=parseInt(RegExp.$1,10),c.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(c.silk=!0),c}p.exports=a()},98581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var i=new Image;i.onload=function(){var o=f.create2D(i,6),h=o.getContext("2d",{willReadFrequently:!0});if(h.globalCompositeOperation="multiply",h.drawImage(u,0,0),h.drawImage(i,2,0),!h.getImageData(2,0,1,1))return!1;var l=h.getImageData(2,0,1,1).data;f.remove(i),c.supportNewBlendModes=l[0]===255&&l[1]===0&&l[2]===0},i.src=e+"/wCKxvRF"+s},u.src=e+"AP804Oa6"+s,!1}function r(){var e=f.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var u=s.getImageData(0,0,1,1);if(u===null)return!1;s.putImageData(u,1,0);var i=s.getImageData(1,0,1,1),o=i.data[0]===u.data[0]&&i.data[1]===u.data[1]&&i.data[2]===u.data[2]&&i.data[3]===u.data[3];return f.remove(this),o}function n(){return typeof importScripts!="function"&&document!==void 0&&(c.supportNewBlendModes=a(),c.supportInverseAlpha=r()),c}p.exports=n()},90185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36580),c=t(1350),a=t(61068),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),u=new Uint8Array(s),i=new Uint32Array(s);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,u=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),o=i.getContext("webgl")||i.getContext("experimental-webgl"),h=a.create2D(this),l=h.getContext("2d",{willReadFrequently:!0}),d=l.createImageData(1,1);return s=d.data instanceof Uint8ClampedArray,a.remove(i),a.remove(h),!!o}catch{return!1}return!1};return r.webGL=u(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,c.firefox&&c.firefoxVersion<21&&(r.getUserMedia=!1),!f.iOS&&(c.ie||c.firefox||c.chrome)&&(r.canvasBitBltShift=!0),(c.safari||c.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}p.exports=e()},33553:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var f,c="Fullscreen",a="FullScreen",r=["request"+c,"request"+a,"webkitRequest"+c,"webkitRequest"+a,"msRequest"+c,"msRequest"+a,"mozRequest"+a,"mozRequest"+c];for(f=0;f<r.length;f++)if(document.documentElement[r[f]]){S.available=!0,S.request=r[f];break}var n=["cancel"+a,"exit"+c,"webkitCancel"+a,"webkitExit"+c,"msCancel"+a,"msExit"+c,"mozCancel"+a,"mozExit"+c];if(S.available){for(f=0;f<n.length;f++)if(document[n[f]]){S.cancel=n[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},95872:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1350),c={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(c.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(c.mspointer=!0),navigator.getGamepads&&(c.gamepads=!0),"onwheel"in window||f.ie&&"WheelEvent"in window?c.wheelEvent="wheel":"onmousewheel"in window?c.wheelEvent="mousewheel":f.firefox&&"MouseScrollEvent"in window&&(c.wheelEvent="DOMMouseScroll")),c}p.exports=a()},36580:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var f=navigator.userAgent;/Windows/.test(f)?S.windows=!0:/Mac OS/.test(f)&&!/like Mac OS/.test(f)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(f)?S.android=!0:/Linux/.test(f)?S.linux=!0:/iP[ao]d|iPhone/i.test(f)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=f.toLowerCase().indexOf("iphone")!==-1,S.iPad=f.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(f)||/\bKF[A-Z][A-Z]+/.test(f)||/Silk.*Mobile Safari/.test(f)?S.kindle=!0:/CrOS/.test(f)&&(S.chromeOS=!0),(/Windows Phone/i.test(f)||/IEMobile/i.test(f))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var c=/Silk/.test(f);return(S.windows||S.macOS||S.linux&&!c||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(f)&&/Touch/i.test(f))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(f)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},53861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return c;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(c.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(c.h264=!0,c.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(c.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(c.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(c.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(c.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),c.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var i=f(s[u],"url",s[u]);if(i.indexOf("blob:")===0)return{url:i,type:""};var o;if(i.indexOf("data:")===0?o=i.split(",")[0].match(/\/(.*?);/):o=i.match(/\.([a-zA-Z0-9]+)($|\?)/),o=f(s[u],"type",o?o[1]:"").toLowerCase(),c[o])return{url:i,type:o}}return null},c}p.exports=a()},77290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new Float32Array(20),a=new f({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),u=.213,i=.715,o=.072;return this.multiply([u+e*(1-u)+s*-u,i+e*-i+s*-i,o+e*-o+s*(1-o),0,0,u+e*-u+s*.143,i+e*(1-i)+s*.14,o+e*-o+s*-.283,0,0,u+e*-u+s*-(1-u),i+e*-i+s*i,o+e*(1-o)+s*o,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=c;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=a},39298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72283),a=new f({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=c,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=a},84093:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},32058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(59994),a=t(73174),r=t(28417),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},85535:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(73174),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},9605:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(70271),a=t(73174),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},22529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(21843),c=t(59994),a=t(29568),r=function(n,e,s,u){return s===void 0&&(s=0),u===void 0&&(u=0),f(n,c(e)+s,a(e)+u),n};p.exports=r},5739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(40163),a=t(81711),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},40327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=[];c[f.BOTTOM_CENTER]=t(32058),c[f.BOTTOM_LEFT]=t(85535),c[f.BOTTOM_RIGHT]=t(9605),c[f.CENTER]=t(22529),c[f.LEFT_CENTER]=t(5739),c[f.RIGHT_CENTER]=t(27683),c[f.TOP_CENTER]=t(96439),c[f.TOP_LEFT]=t(81447),c[f.TOP_RIGHT]=t(47888),c[f.LEFT_BOTTOM]=c[f.BOTTOM_LEFT],c[f.LEFT_TOP]=c[f.TOP_LEFT],c[f.RIGHT_BOTTOM]=c[f.BOTTOM_RIGHT],c[f.RIGHT_TOP]=c[f.TOP_RIGHT];var a=function(r,n,e,s,u){return c[e](r,n,s,u)};p.exports=a},27683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(70271),a=t(81711),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},96439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59994),c=t(47196),a=t(28417),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)+u),r(e,c(s)-i),e};p.exports=n},81447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40163),c=t(47196),a=t(74465),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)-u),r(e,c(s)-i),e};p.exports=n},47888:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70271),c=t(47196),a=t(19298),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)+u),r(e,c(s)-i),e};p.exports=n},46997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=t(98611),a={In:t(46997),To:t(86639)};a=c(!1,a,f),p.exports=a},27118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(59994),a=t(28417),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,c(s)+u),r(e,f(s)+i),e};p.exports=n},84469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(74465),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,c(s)-u),r(e,f(s)+i),e};p.exports=n},51577:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(70271),a=t(19298),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,c(s)+u),r(e,f(s)+i),e};p.exports=n},90271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(73174),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},30466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(40163),a=t(81711),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},50087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40163),c=t(47196),a=t(19298),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)-u),r(e,c(s)-i),e};p.exports=n},82590:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=[];c[f.BOTTOM_CENTER]=t(27118),c[f.BOTTOM_LEFT]=t(84469),c[f.BOTTOM_RIGHT]=t(51577),c[f.LEFT_BOTTOM]=t(90271),c[f.LEFT_CENTER]=t(30466),c[f.LEFT_TOP]=t(50087),c[f.RIGHT_BOTTOM]=t(13555),c[f.RIGHT_CENTER]=t(99049),c[f.RIGHT_TOP]=t(67788),c[f.TOP_CENTER]=t(78170),c[f.TOP_LEFT]=t(54145),c[f.TOP_RIGHT]=t(75548);var a=function(r,n,e,s,u){return c[e](r,n,s,u)};p.exports=a},13555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(70271),a=t(73174),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},99049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(70271),a=t(81711),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},67788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70271),c=t(47196),a=t(74465),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)+u),r(e,c(s)-i),e};p.exports=n},78170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59994),c=t(47196),a=t(73174),r=t(28417),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,f(s)+u),a(e,c(s)-i),e};p.exports=n},54145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40163),c=t(47196),a=t(73174),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,f(s)-u),a(e,c(s)-i),e};p.exports=n},75548:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70271),c=t(47196),a=t(73174),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,f(s)+u),a(e,c(s)-i),e};p.exports=n},86639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28417),c=t(81711),a=function(r,n,e){return f(r,n),c(r,e)};p.exports=a},97328:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},7126:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(70271),r=t(47196),n=t(74118),e=function(s,u){u===void 0&&(u=new n);var i=c(s),o=r(s);return u.x=i,u.y=o,u.width=a(s)-i,u.height=f(s)-o,u};p.exports=e},59994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},29568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},40163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},52088:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},23379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},70271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},47196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},73174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.y=f-t.height+t.height*t.originY,t};p.exports=S},28417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.width*t.originX;return t.x=f+c-t.width*.5,t};p.exports=S},81711:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.height*t.originY;return t.y=f+c-t.height*.5,t};p.exports=S},74465:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x=f+t.width*t.originX,t};p.exports=S},19298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x=f-t.width+t.width*t.originX,t};p.exports=S},84349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.y=f+t.height*t.originY,t};p.exports=S},15252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(c){t.style["image-rendering"]=c}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},61068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86459),c=t(8213),a=[],r=!1,n=function(){var e=function(m,x,g,y,T){x===void 0&&(x=1),g===void 0&&(g=1),y===void 0&&(y=f.CANVAS),T===void 0&&(T=!1);var E,C=i(y);return C===null?(C={parent:m,canvas:document.createElement("canvas"),type:y},y===f.CANVAS&&a.push(C),E=C.canvas):(C.parent=m,E=C.canvas),T&&(C.parent=E),E.width=x,E.height=g,r&&y===f.CANVAS&&c.disable(E.getContext("2d",{willReadFrequently:!1})),E},s=function(m,x,g){return e(m,x,g,f.CANVAS)},u=function(m,x,g){return e(m,x,g,f.WEBGL)},i=function(m){if(m===void 0&&(m=f.CANVAS),m===f.WEBGL)return null;for(var x=0;x<a.length;x++){var g=a[x];if(!g.parent&&g.type===m)return g}return null},o=function(m){var x=m instanceof HTMLCanvasElement;a.forEach(function(g){(x&&g.canvas===m||!x&&g.parent===m)&&(g.parent=null,g.canvas.width=1,g.canvas.height=1)})},h=function(){var m=0;return a.forEach(function(x){x.parent&&m++}),m},l=function(){return a.length-h()},d=function(){r=!0},v=function(){r=!1};return{create2D:s,create:e,createWebGL:u,disableSmoothing:d,enableSmoothing:v,first:i,free:l,pool:a,remove:o,total:h}};p.exports=n()},8213:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var f=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var u=e[s]+"mageSmoothingEnabled";if(u in n)return u}return null},c=function(n){return S===""&&(S=f(n)),S&&(n[S]=!0),n},a=function(n){return S===""&&(S=f(n)),S&&(n[S]=!1),n},r=function(n){return S!==null?n[S]:null};return{disable:a,enable:c,getPrefix:f,isEnabled:r}};p.exports=t()},59271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f="none"),t.style.msTouchAction=f,t.style["ms-touch-action"]=f,t.style["touch-action"]=f,t};p.exports=S},36505:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f="none");var c=["-webkit-","-khtml-","-moz-","-ms-",""];return c.forEach(function(a){t.style[a+"user-select"]=f}),t.style["-webkit-touch-callout"]=f,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},23514:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(22946),a=t(5657),r=t(24650),n=t(68033),e=new f({initialize:function(u,i,o,h){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,i,o,h)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,u,i,o,h){return o===void 0&&(o=255),h===void 0&&(h=!0),this._locked=!0,this.red=s,this.green=u,this.blue=i,this.alpha=o,this._locked=!1,this.update(h)},setGLTo:function(s,u,i,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=s,this.greenGL=u,this.blueGL=i,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,u,i){return r(s,u,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var u=this.r,i=this.g,o=this.b,h=this.a;return this._color=c(u,i,o),this._color32=a(u,i,o,h),this._rgba="rgba("+u+","+i+","+o+","+h/255+")",s&&n(u,i,o,this),this},updateHSV:function(){var s=this.r,u=this.g,i=this.b;return n(s,u,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,u){s===void 0&&(s=0),u===void 0&&(u=255);var i=Math.floor(s+Math.random()*(u-s)),o=Math.floor(s+Math.random()*(u-s)),h=Math.floor(s+Math.random()*(u-s));return this.setTo(i,o,h)},randomGray:function(s,u){s===void 0&&(s=0),u===void 0&&(u=255);var i=Math.floor(s+Math.random()*(u-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var u=this.r,i=this.g,o=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),this.setTo(u,i,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});p.exports=e},30245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22946),c=function(a){a===void 0&&(a=1024);var r=[],n=255,e,s=255,u=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:f(s,e,i)});for(u=255,e=n;e>=0;e--)r.push({r:e,g:u,b:i,color:f(e,u,i)});for(s=0,e=0;e<=n;e++,u--)r.push({r:s,g:u,b:e,color:f(s,u,e)});for(u=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:u,b:i,color:f(s,u,i)});if(a===1024)return r;var o=[],h=0,l=1024/a;for(e=0;e<a;e++)o.push(r[Math.floor(h)]),h+=l;return o};p.exports=c},86672:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(f.a=t>>>24),f};p.exports=S},25409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.toString(16);return f.length===1?"0"+f:f};p.exports=S},22946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t<<16|f<<8|c};p.exports=S},5657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return a<<24|t<<16|f<<8|c};p.exports=S},74777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=t(59998),a=function(r,n,e){var s=e,u=e,i=e;if(n!==0){var o=e<.5?e*(1+n):e+n-e*n,h=2*e-o;s=c(h,o,r+1/3),u=c(h,o,r),i=c(h,o,r-1/3)}var l=new f;return l.setGLTo(s,u,i,1)};p.exports=a},89263:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(24650),c=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(f(e/359,a,r));return n};p.exports=c},24650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22946);function c(r,n,e,s){var u=(r+n*6)%6,i=Math.min(u,4-u,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var u=c(5,r,n,e),i=c(3,r,n,e),o=c(1,r,n,e);return s?s.setTo?s.setTo(u,i,o,s.alpha,!0):(s.r=u,s.g=i,s.b=o,s.color=f(u,i,o),s):{r:u,g:i,b:o,color:f(u,i,o)}};p.exports=a},91487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=function(a){var r=new f;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,o,h,l){return o+o+h+h+l+l});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),u=parseInt(n[3],16);r.setTo(e,s,u)}return r};p.exports=c},59998:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?t+(f-t)*6*c:c<.5?f:c<.6666666666666666?t+(f-t)*(.6666666666666666-c)*6:t};p.exports=S},74853:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=t(15978),a=function(r){var n=c(r);return new f(n.r,n.g,n.b,n.a)};p.exports=a},15978:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},53756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(42798),c=function(n,e,s,u,i,o,h,l){h===void 0&&(h=100),l===void 0&&(l=0);var d=l/h;return{r:f(n,u,d),g:f(e,i,d),b:f(s,o,d)}},a=function(n,e,s,u){return s===void 0&&(s=100),u===void 0&&(u=0),c(n.r,n.g,n.b,e.r,e.g,e.b,s,u)},r=function(n,e,s,u,i,o){return i===void 0&&(i=100),o===void 0&&(o=0),c(n.r,n.g,n.b,e,s,u,i,o)};p.exports={RGBWithRGB:c,ColorWithRGB:r,ColorWithColor:a}},73904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=function(a){return new f(a.r,a.g,a.b,a.a)};p.exports=c},26841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=function(a){var r=new f,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),u=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,u,i*255)}return r};p.exports=c},68033:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,f/=255,c/=255;var r=Math.min(t,f,c),n=Math.max(t,f,c),e=n-r,s=0,u=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(f-c)/e+(f<c?6:0):n===f?s=(c-t)/e+2:n===c&&(s=(t-f)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=u,a._v=i):(a.h=s,a.s=u,a.v=i),a};p.exports=S},4880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25409),c=function(a,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+f(e)+f(a)+f(r)+f(n)};p.exports=c},37243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(27119),a=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new c(f(r,n),f(r,n),f(r,n))};p.exports=a},93222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(91487),c=t(74853),a=t(73904),r=t(26841),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):f(e);case"number":return c(e);case"object":return a(e)}};p.exports=n},95509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119);f.ColorSpectrum=t(30245),f.ColorToRGBA=t(86672),f.ComponentToHex=t(25409),f.GetColor=t(22946),f.GetColor32=t(5657),f.HexStringToColor=t(91487),f.HSLToColor=t(74777),f.HSVColorWheel=t(89263),f.HSVToRGB=t(24650),f.HueToComponent=t(59998),f.IntegerToColor=t(74853),f.IntegerToRGB=t(15978),f.Interpolate=t(53756),f.ObjectToColor=t(73904),f.RandomRGB=t(37243),f.RGBStringToColor=t(26841),f.RGBToHSV=t(68033),f.RGBToString=t(4880),f.ValueToColor=t(93222),p.exports=f},24816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(61286),a=new f({initialize:function(n,e,s,u,i,o){e||(e=n.sys.make.image({x:s,y:u,key:i,frame:o,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});c.register("bitmapMask",function(r,n,e,s,u){return new a(this.scene,r,n,e,s,u)}),p.exports=a},63037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,n){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:n}),this.applyStencil(a,n,!0),a.maskCount++},applyStencil:function(a,r,n){var e=a.gl,s=this.geometryMask,u=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,u,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),u++):(e.stencilFunc(e.EQUAL,u+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=u,s.renderWebGL(a,s,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,u,i):e.stencilFunc(e.EQUAL,u,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var n=a.currentMask;if(a.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(a,r,n){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,n,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=c},93310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});p.exports=c},99584:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c;if(f)typeof f=="string"?c=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(c=f);else if(t.parentElement||f===null)return t;return c||(c=document.body),c.appendChild(t),t};p.exports=S},85178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99584),c=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=n,f(n,r.parent)}};p.exports=c},21546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36580),c=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?f.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=c},74181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var f=Math.abs(window.orientation),c={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),c.w=f===90?a.offsetHeight:window.innerWidth,c.h=f===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?c.h:c.w};p.exports=S},9229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(55301),c=function(a,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return f.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return f.ORIENTATION.LANDSCAPE}else return r>a?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE};p.exports=c},2893:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f;return t!==""&&(typeof t=="string"?f=document.getElementById(t):t&&t.nodeType===1&&(f=t)),f||(f=document.body),f};p.exports=S},89200:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f="";try{if(window.DOMParser){var c=new DOMParser;f=c.parseFromString(t,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(t)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f};p.exports=S},55638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},27385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72283),a=new f({initialize:function(){this.isRunning=!1,this.callback=c,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=c}});p.exports=a},3590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};p.exports=f},78491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(91963),r=new f({Extends:c,initialize:function(){c.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),p.exports=r},95146:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(78491)}},20170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s){s===void 0&&(s=1),c.call(this,a.BARREL,e),this.amount=s}});p.exports=r},51182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l){u===void 0&&(u=1),i===void 0&&(i=1),o===void 0&&(o=1),h===void 0&&(h=1),l===void 0&&(l=4),c.call(this,a.BLOOM,e),this.steps=l,this.offsetX=u,this.offsetY=i,this.blurStrength=o,this.strength=h,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},51498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l){s===void 0&&(s=0),u===void 0&&(u=2),i===void 0&&(i=2),o===void 0&&(o=1),l===void 0&&(l=4),c.call(this,a.BLUR,e),this.quality=s,this.x=u,this.y=i,this.steps=l,this.strength=o,this.glcolor=[1,1,1],h!=null&&(this.color=h)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},12042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d){s===void 0&&(s=.5),u===void 0&&(u=1),i===void 0&&(i=.2),o===void 0&&(o=!1),h===void 0&&(h=1),l===void 0&&(l=1),d===void 0&&(d=1),c.call(this,a.BOKEH,e),this.radius=s,this.amount=u,this.contrast=i,this.isTiltShift=o,this.strength=d,this.blurX=h,this.blurY=l}});p.exports=r},69900:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h){s===void 0&&(s=8),o===void 0&&(o=1),h===void 0&&(h=.005),c.call(this,a.CIRCLE,e),this.scale=o,this.feather=h,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],u!=null&&(this.color=u),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});p.exports=r},48991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65246),a=t(47406),r=new f({Extends:c,initialize:function(e){c.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},47551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=c},47909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i){s===void 0&&(s="__WHITE"),u===void 0&&(u=.005),i===void 0&&(i=.005),c.call(this,a.DISPLACEMENT,e),this.x=u,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},18919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){u===void 0&&(u=4),i===void 0&&(i=0),o===void 0&&(o=!1),c.call(this,a.GLOW,e),this.outerStrength=u,this.innerStrength=i,this.knockout=o,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},62494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d,v){i===void 0&&(i=.2),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=1),v===void 0&&(v=0),c.call(this,a.GRADIENT,e),this.alpha=i,this.size=v,this.fromX=o,this.fromY=h,this.toX=l,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),u!=null&&(this.color2=u)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});p.exports=r},68897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s){s===void 0&&(s=1),c.call(this,a.PIXELATE,e),this.amount=s}});p.exports=r},58575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=.1),o===void 0&&(o=1),l===void 0&&(l=6),d===void 0&&(d=1),c.call(this,a.SHADOW,e),this.x=s,this.y=u,this.decay=i,this.power=o,this.glcolor=[0,0,0,1],this.samples=l,this.intensity=d,h!==void 0&&(this.color=h)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},33755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){s===void 0&&(s=.5),u===void 0&&(u=.5),i===void 0&&(i=3),o===void 0&&(o=!1),c.call(this,a.SHINE,e),this.speed=s,this.lineWidth=u,this.gradient=i,this.reveal=o}});p.exports=r},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){s===void 0&&(s=.5),u===void 0&&(u=.5),i===void 0&&(i=.5),o===void 0&&(o=.5),c.call(this,a.VIGNETTE,e),this.x=s,this.y=u,this.radius=i,this.strength=o}});p.exports=r},66241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){s===void 0&&(s=.1),u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=!1),c.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=u,this.axis=i,this.reveal=o}});p.exports=r},47406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},96910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(47406),a={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};a=f(!1,a,c),p.exports=a},88933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(20494),a=function(r,n,e){n.x=c(e,"x",0),n.y=c(e,"y",0),n.depth=c(e,"depth",0),n.flipX=c(e,"flipX",!1),n.flipY=c(e,"flipY",!1);var s=c(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=c(s,"x",1),n.scaleY=c(s,"y",1));var u=c(e,"scrollFactor",null);typeof u=="number"?n.setScrollFactor(u):u!==null&&(n.scrollFactorX=c(u,"x",1),n.scrollFactorY=c(u,"y",1)),n.rotation=c(e,"rotation",0);var i=c(e,"angle",null);i!==null&&(n.angle=i),n.alpha=c(e,"alpha",1);var o=c(e,"origin",null);if(typeof o=="number")n.setOrigin(o);else if(o!==null){var h=c(o,"x",.5),l=c(o,"y",.5);n.setOrigin(h,l)}n.blendMode=c(e,"blendMode",f.NORMAL),n.visible=c(e,"visible",!0);var d=c(e,"add",!0);return d&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};p.exports=a},32291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(20494),c=function(a,r){var n=f(r,"anims",null);if(n===null)return a;if(typeof n=="string")a.anims.play(n);else if(typeof n=="object"){var e=a.anims,s=f(n,"key",void 0);if(s){var u=f(n,"startFrame",void 0),i=f(n,"delay",0),o=f(n,"repeat",0),h=f(n,"repeatDelay",0),l=f(n,"yoyo",!1),d=f(n,"play",!1),v=f(n,"delayedPlay",0),m={key:s,delay:i,repeat:o,repeatDelay:h,yoyo:l,startFrame:u};d?e.play(m):v>0?e.playAfterDelay(m,v):e.load(m)}}return a};p.exports=c},91713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(71207),a=t(91963),r=t(56631),n=t(7599),e=t(17922),s=new f({Extends:c,initialize:function(i){c.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.parentContainer&&u.parentContainer.remove(u),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(r.ADDED_TO_SCENE,u,this.scene),this.events.emit(n.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(r.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,i){return u._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list;u.length;)u[0].destroy(!0);this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),p.exports=s},89980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(48129),a=t(81078),r=t(6659),n=t(56631),e=t(7599),s=new f({Extends:r,initialize:function(i,o){r.call(this),this.scene=i,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(u,i){return this.data||(this.data=new a(this)),this.data.set(u,i),this},incData:function(u,i){return this.data||(this.data=new a(this)),this.data.inc(u,i),this},toggleData:function(u){return this.data||(this.data=new a(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new a(this)),this.data.get(u)},setInteractive:function(u,i,o){return this.scene.sys.input.enable(this,u,i,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(u){var i=this.displayList&&this.displayList.active?this.displayList.willRender(u):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,i=this.parentContainer,o=[];i&&(o.unshift(i.getIndex(u)),u=i,i.parentContainer);)i=i.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(u)):o.unshift(this.scene.sys.displayList.getIndex(u)),o},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),u.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u&&u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,p.exports=s},99325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91963),a=t(7599),r=new f({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},c.register("GameObjectCreator",r,"make"),p.exports=r},61286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91963),a=t(7599),r=new f({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},c.register("GameObjectFactory",r,"add"),p.exports=r},73329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(69360),c=new f,a=new f,r=new f,n={camera:c,sprite:a,calc:r},e=function(s,u,i){var o=c,h=a,l=r;return h.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),o.copyFrom(u.matrix),i?(o.multiplyWithOffset(i,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),h.e=s.x,h.f=s.y):(h.e-=u.scrollX*s.scrollFactorX,h.f-=u.scrollY*s.scrollFactorY),o.multiply(h,l),n};p.exports=e},92034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74623),a=t(91963),r=t(7599),n=new f({Extends:c,initialize:function(s){c.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var u=this._active,i=u.length,o=0;o<i;o++){var h=u[o];h.active&&h.preUpdate.call(h,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",n,"updateList"),p.exports=n},8810:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n,e,s,u,i,o,h,l,d,v){var m=c.x-f.displayOriginX+r,x=c.y-f.displayOriginY+n,g=m+c.w,y=x+c.h,T=e.getXRound(m,x,s),E=e.getYRound(m,x,s),C=e.getXRound(m,y,s),A=e.getYRound(m,y,s),P=e.getXRound(g,y,s),F=e.getYRound(g,y,s),O=e.getXRound(g,x,s),I=e.getYRound(g,x,s);t.batchQuad(f,T,E,C,A,P,F,O,I,a.u0,a.v0,a.u1,a.v1,u,i,o,h,l,d,v)};p.exports=S},82173:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){if(c===void 0&&(c=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,u=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,h=0,l=t.fontData.chars,d=t.fontData.lineHeight,v=t.letterSpacing,m=t.lineSpacing,x=0,g=0,y=0,T=null,E=t._align,C=0,A=0,P=t.fontSize/t.fontData.size,F=P*t.scaleX,O=P*t.scaleY,I=null,G=0,z=[],X=Number.MAX_VALUE,H=0,N=0,U=0,R,D=[],B=[],V=null;if(e>0){for(R=0;R<n;R++){if(y=r.charCodeAt(R),y===10){V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O,cr:!0}),V=null),x=0,g+=d+m,I=null;continue}if(T=l[y],!!T){if(I!==null)var Y=T.kerning[G];y===s?V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O,cr:!1}),V=null):(V===null&&(V={word:"",i:R,x,y:g,w:0,h:d,cr:!1}),V.word=V.word.concat(r[R]),V.w+=T.xOffset+T.xAdvance+(Y!==void 0?Y:0)),x+=T.xAdvance+v,I=T,G=y}}V!==null&&D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O,cr:!1}),x=0,g=0,I=null,G=0;var K,$=0,J=[];for(R=0;R<D.length;R++){var Q=D[R],k=Q.x,q=Q.x+Q.w;if(K){var tt=k-(K.x+K.w);$=k-(tt+K.w),K=null}var _=k-$,it=q-$;_>e||it>e?(J.push(Q.i-1),Q.cr?(J.push(Q.i+Q.word.length),$=0,K=null):K=Q):Q.cr&&(J.push(Q.i+Q.word.length),$=0,K=null)}var st=function(ft,ct,mt){return ft.substr(0,ct)+mt+ft.substr(ct+1)};for(R=J.length-1;R>=0;R--)r=st(r,J[R],`
`);a.wrappedText=r,n=r.length,D=[],V=null}var ht=0;for(R=0;R<n;R++){if(y=r.charCodeAt(R),y===10){V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O}),V=null),x=0,g+=d+m,I=null,z[N]=U,U>H&&(H=U),U<X&&(X=U),N++,U=0;continue}if(T=l[y],!!T){if(C=x,A=g,I!==null){var ut=T.kerning[G];C+=ut!==void 0?ut:0}u>C&&(u=C),i>A&&(i=A);var et=C+T.xAdvance,rt=A+d;o<et&&(o=et),h<rt&&(h=rt);var nt=T.xOffset+T.xAdvance+(ut!==void 0?ut:0);y===s?V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O}),V=null):(V===null&&(V={word:"",i:ht,x,y:g,w:0,h:d}),V.word=V.word.concat(r[R]),V.w+=nt),B.push({i:ht,idx:R,char:r[R],code:y,x:(T.xOffset+C)*P,y:(T.yOffset+g)*P,w:T.width*P,h:T.height*P,t:g*P,r:et*P,b:d*P,line:N,glyph:T}),x+=T.xAdvance+v+(ut!==void 0?ut:0),I=T,G=y,U=et*P,ht++}}if(V!==null&&D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O}),z[N]=U,U>H&&(H=U),U<X&&(X=U),E>0)for(var pt=0;pt<B.length;pt++){var gt=B[pt];if(E===1){var Tt=(H-z[gt.line])/2;gt.x+=Tt,gt.r+=Tt}else if(E===2){var lt=H-z[gt.line];gt.x+=lt,gt.r+=lt}}var ot=a.local,at=a.global,dt=a.lines;return ot.x=u*P,ot.y=i*P,ot.width=o*P,ot.height=h*P,at.x=t.x-t._displayOriginX+u*F,at.y=t.y-t._displayOriginY+i*O,at.width=o*F,at.height=h*O,dt.shortest=X,dt.longest=H,dt.lengths=z,f&&(ot.x=Math.ceil(ot.x),ot.y=Math.ceil(ot.y),ot.width=Math.ceil(ot.width),ot.height=Math.ceil(ot.height),at.x=Math.ceil(at.x),at.y=Math.ceil(at.y),at.width=Math.ceil(at.width),at.height=Math.ceil(at.height),dt.shortest=Math.ceil(X),dt.longest=Math.ceil(H)),c&&(t._displayOriginX=t.originX*ot.width,t._displayOriginY=t.originY*ot.height,at.x=t.x-t._displayOriginX*t.scaleX,at.y=t.y-t._displayOriginY*t.scaleY,f&&(at.x=Math.ceil(at.x),at.y=Math.ceil(at.y))),a.words=D,a.characters=B,a.lines.height=d,a.scale=P,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};p.exports=S},68298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(31476),c=function(a,r,n,e,s,u,i){var o=a.sys.textures.get(n),h=o.get(e),l=a.sys.cache.xml.get(s);if(h&&l){var d=f(l,h,u,i,o);return a.sys.cache.bitmapFont.add(r,{data:d,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=c},39860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=function(a,r){var n=r.width,e=r.height,s=Math.floor(n/2),u=Math.floor(e/2),i=f(r,"chars","");if(i!==""){var o=f(r,"image",""),h=a.sys.textures.getFrame(o),l=h.cutX,d=h.cutY,v=h.source.width,m=h.source.height,x=f(r,"offset.x",0),g=f(r,"offset.y",0),y=f(r,"spacing.x",0),T=f(r,"spacing.y",0),E=f(r,"lineSpacing",0),C=f(r,"charsPerRow",null);C===null&&(C=v/n,C>i.length&&(C=i.length));for(var A=x,P=g,F={retroFont:!0,font:o,size:n,lineHeight:e+E,chars:{}},O=0,I=0;I<i.length;I++){var G=i.charCodeAt(I),z=(l+A)/v,X=(d+P)/m,H=(l+A+n)/v,N=(d+P+e)/m;F.chars[G]={x:A,y:P,width:n,height:e,centerX:s,centerY:u,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:z,v0:X,u1:H,v1:N},O++,O===C?(O=0,A=x,P+=e+T):A+=n+y}var U={data:F,frame:null,texture:o};return U}};p.exports=c},31476:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(f,c){return parseInt(f.getAttribute(c),10)}var t=function(f,c,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0);var e=c.cutX,s=c.cutY,u=c.source.width,i=c.source.height,o=c.sourceIndex,h={},l=f.getElementsByTagName("info")[0],d=f.getElementsByTagName("common")[0];h.font=l.getAttribute("face"),h.size=S(l,"size"),h.lineHeight=S(d,"lineHeight")+r,h.chars={};var v=f.getElementsByTagName("char"),m=c!==void 0&&c.trimmed;if(m)var x=c.height,g=c.width;for(var y=0;y<v.length;y++){var T=v[y],E=S(T,"id"),C=String.fromCharCode(E),A=S(T,"x"),P=S(T,"y"),F=S(T,"width"),O=S(T,"height");m&&(A<g&&(g=A),P<x&&(x=P)),m&&x!==0&&g!==0&&(A-=c.x,P-=c.y);var I=(e+A)/u,G=(s+P)/i,z=(e+A+F)/u,X=(s+P+O)/i;if(h.chars[E]={x:A,y:P,width:F,height:O,centerX:Math.floor(F/2),centerY:Math.floor(O/2),xOffset:S(T,"xoffset"),yOffset:S(T,"yoffset"),xAdvance:S(T,"xadvance")+a,data:{},kerning:{},u0:I,v0:G,u1:z,v1:X},n&&F!==0&&O!==0){var H=n.add(C,o,A,P,F,O);H&&H.setUVs(F,O,I,G,z,X)}}var N=f.getElementsByTagName("kerning");for(y=0;y<N.length;y++){var U=N[y],R=S(U,"first"),D=S(U,"second"),B=S(U,"amount");h.chars[D].kerning[R]=B}return h};p.exports=t},55873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66863),c=t(98611),a={Parse:t(39860)};a=c(!1,a,f),p.exports=a},66863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},13468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44616),c=t(56694),a=t(88899),r=new c({Extends:f,Mixins:[a],initialize:function(e,s,u,i,o,h,l){f.call(this,e,s,u,i,o,h,l),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});p.exports=r},93438:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(49584),c=function(a,r,n,e){var s=r._text,u=s.length,i=a.currentContext;if(!(u===0||!f(a,i,r,n,e))){n.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,h=r.displayCallback,l=r.callbackData,d=r.fontData.chars,v=r.fontData.lineHeight,m=r._letterSpacing,x=0,g=0,y=0,T=null,E=0,C=0,A=0,P=0,F=0,O=0,I=null,G=0,z=r.frame.source.image,X=o.cutX,H=o.cutY,N=0,U=0,R=r._fontSize/r.fontData.size,D=r._align,B=0,V=0;r.getTextBounds(!1);var Y=r._bounds.lines;D===1?V=(Y.longest-Y.lengths[0])/2:D===2&&(V=Y.longest-Y.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var K=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var $=0;$<u;$++){if(U=R,N=0,y=s.charCodeAt($),y===10){B++,D===1?V=(Y.longest-Y.lengths[B])/2:D===2&&(V=Y.longest-Y.lengths[B]),x=0,g+=v,I=null;continue}if(T=d[y],!!T){if(E=X+T.x,C=H+T.y,A=T.width,P=T.height,F=T.xOffset+x-r.scrollX,O=T.yOffset+g-r.scrollY,I!==null){var J=T.kerning[G];F+=J!==void 0?J:0}if(h){l.index=$,l.charCode=y,l.x=F,l.y=O,l.scale=U,l.rotation=N,l.data=T.data;var Q=h(l);F=Q.x,O=Q.y,U=Q.scale,N=Q.rotation}F*=U,O*=U,F+=V,x+=T.xAdvance+m+(J!==void 0?J:0),I=T,G=y,!(A===0||P===0||y===32)&&(K&&(F=Math.round(F),O=Math.round(O)),i.save(),i.translate(F,O),i.rotate(N),i.scale(U,U),i.drawImage(z,E,C,A,P,0,0,A,P),i.restore())}}i.restore()}};p.exports=c},67513:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(13468),c=t(88933),a=t(99325),r=t(20494);a.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),u=r(n,"text",""),i=r(n,"size",!1),o=new f(this.scene,0,0,s,u,i);return e!==void 0&&(n.add=e),c(this.scene,o,n),o})},94145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(13468),c=t(61286);c.register("dynamicBitmapText",function(a,r,n,e,s){return this.displayList.add(new f(this.scene,a,r,n,e,s))})},88899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(16873),a=t(93438),p.exports={renderWebGL:c,renderCanvas:a}},16873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(69360),a=t(75512),r=new c,n=function(e,s,u,i){var o=s.text,h=o.length;if(h!==0){u.addToRenderList(s);var l=e.pipelines.set(s.pipeline,s),d=f(s,u,i);e.pipelines.preBatch(s);var v=d.sprite,m=d.calc,x=r,g=s.cropWidth>0||s.cropHeight>0;g&&(l.flush(),e.pushScissor(m.tx,m.ty,s.cropWidth*m.scaleX,s.cropHeight*m.scaleY));var y=s.frame,T=y.glTexture,E=s.tintFill,C=a.getTintAppendFloatAlpha(s.tintTopLeft,u.alpha*s._alphaTL),A=a.getTintAppendFloatAlpha(s.tintTopRight,u.alpha*s._alphaTR),P=a.getTintAppendFloatAlpha(s.tintBottomLeft,u.alpha*s._alphaBL),F=a.getTintAppendFloatAlpha(s.tintBottomRight,u.alpha*s._alphaBR),O=l.setGameObject(s),I=0,G=0,z=0,X=0,H=s.letterSpacing,N,U=0,R=0,D,B=s.scrollX,V=s.scrollY,Y=s.fontData,K=Y.chars,$=Y.lineHeight,J=s.fontSize/Y.size,Q=0,k=s._align,q=0,tt=0,_=s.getTextBounds(!1);s.maxWidth>0&&(o=_.wrappedText,h=o.length);var it=s._bounds.lines;k===1?tt=(it.longest-it.lengths[0])/2:k===2&&(tt=it.longest-it.lengths[0]);for(var st=u.roundPixels,ht=s.displayCallback,ut=s.callbackData,et=0;et<h;et++){if(z=o.charCodeAt(et),z===10){q++,k===1?tt=(it.longest-it.lengths[q])/2:k===2&&(tt=it.longest-it.lengths[q]),I=0,G+=$,D=null;continue}if(N=K[z],!!N){U=N.width,R=N.height;var rt=N.xOffset+I-B,nt=N.yOffset+G-V;if(D!==null){var pt=N.kerning[X];rt+=pt!==void 0?pt:0}if(I+=N.xAdvance+H,D=N,X=z,!(U===0||R===0||z===32)){if(J=s.fontSize/s.fontData.size,Q=0,ht){ut.color=0,ut.tint.topLeft=C,ut.tint.topRight=A,ut.tint.bottomLeft=P,ut.tint.bottomRight=F,ut.index=et,ut.charCode=z,ut.x=rt,ut.y=nt,ut.scale=J,ut.rotation=Q,ut.data=N.data;var gt=ht(ut);rt=gt.x,nt=gt.y,J=gt.scale,Q=gt.rotation,gt.color?(C=gt.color,A=gt.color,P=gt.color,F=gt.color):(C=gt.tint.topLeft,A=gt.tint.topRight,P=gt.tint.bottomLeft,F=gt.tint.bottomRight),C=a.getTintAppendFloatAlpha(C,u.alpha*s._alphaTL),A=a.getTintAppendFloatAlpha(A,u.alpha*s._alphaTR),P=a.getTintAppendFloatAlpha(P,u.alpha*s._alphaBL),F=a.getTintAppendFloatAlpha(F,u.alpha*s._alphaBR)}rt*=J,nt*=J,rt-=s.displayOriginX,nt-=s.displayOriginY,rt+=tt,x.applyITRS(rt,nt,Q,J,J),m.multiply(x,v);var Tt=N.u0,lt=N.v0,ot=N.u1,at=N.v1,dt=U,ft=R,ct=v.e,mt=v.f,Et=ft*v.c+v.e,Pt=ft*v.d+v.f,Ft=dt*v.a+ft*v.c+v.e,Yt=dt*v.b+ft*v.d+v.f,Vt=dt*v.a+v.e,$t=dt*v.b+v.f;st&&(ct=Math.round(ct),mt=Math.round(mt),Et=Math.round(Et),Pt=Math.round(Pt),Ft=Math.round(Ft),Yt=Math.round(Yt),Vt=Math.round(Vt),$t=Math.round($t)),l.shouldFlush(6)&&(l.flush(),O=l.setGameObject(s)),l.batchQuad(s,ct,mt,Et,Pt,Ft,Yt,Vt,$t,Tt,lt,ot,at,C,A,P,F,E,T,O)}}}g&&(l.flush(),e.popScissor()),e.pipelines.postBatch(s)}};p.exports=n},44616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82897),a=t(64937),r=t(89980),n=t(82173),e=t(68298),s=t(31476),u=t(74118),i=t(84557),o=new f({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(l,d,v,m,x,g,y){x===void 0&&(x=""),y===void 0&&(y=0),r.call(this,l,"BitmapText"),this.font=m;var T=this.scene.sys.cache.bitmapFont.get(m);T||console.warn("Invalid BitmapText key: "+m),this.fontData=T.data,this._text="",this._fontSize=g||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=y,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(d,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(h){return this._fontSize=h,this._dirty=!0,this},setLetterSpacing:function(h){return h===void 0&&(h=0),this._letterSpacing=h,this._dirty=!0,this},setLineSpacing:function(h){return h===void 0&&(h=0),this.lineSpacing=h,this},setText:function(h){return!h&&h!==0&&(h=""),Array.isArray(h)&&(h=h.join(`
`)),h!==this.text&&(this._text=h.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(h,l,d,v){return h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=.5),this.dropShadowX=h,this.dropShadowY=l,this.dropShadowColor=d,this.dropShadowAlpha=v,this},setCharacterTint:function(h,l,d,v,m,x,g){h===void 0&&(h=0),l===void 0&&(l=1),d===void 0&&(d=!1),v===void 0&&(v=-1),m===void 0&&(m=v,x=v,g=v);var y=this.text.length;l===-1&&(l=y),h<0&&(h=y+h),h=c(h,0,y-1);for(var T=c(h+l,h,y),E=this.charColors,C=h;C<T;C++){var A=E[C];if(v===-1)E[C]=null;else{var P=d?1:0;A?(A.tintEffect=P,A.tintTL=v,A.tintTR=m,A.tintBL=x,A.tintBR=g):E[C]={tintEffect:P,tintTL:v,tintTR:m,tintBL:x,tintBR:g}}}return this},setWordTint:function(h,l,d,v,m,x,g){l===void 0&&(l=1);for(var y=this.getTextBounds(),T=y.words,E=typeof h=="number",C=0,A=0;A<T.length;A++){var P=T[A];if((E&&A===h||!E&&P.word===h)&&(this.setCharacterTint(P.i,P.word.length,d,v,m,x,g),C++,C===l))return this}return this},getTextBounds:function(h){var l=this._bounds;return(this._dirty||h||this.scaleX!==l.scaleX||this.scaleY!==l.scaleY)&&(n(this,h,!0,l),this._dirty=!1),l},getCharacterAt:function(h,l,d){for(var v=this.getLocalPoint(h,l,null,d),m=this.getTextBounds(),x=m.characters,g=new u,y=0;y<x.length;y++){var T=x[y];if(g.setTo(T.x,T.t,T.r-T.x,T.b),g.contains(v.x,v.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(h,l,d){if(l===void 0&&(l=this._fontSize),d===void 0&&(d=this._align),h!==this.font){var v=this.scene.sys.cache.bitmapFont.get(h);v&&(this.font=h,this.fontData=v.data,this._fontSize=l,this._align=d,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),n(this,!1,!0,this._bounds))}return this},setMaxWidth:function(h,l){return this._maxWidth=h,this._dirty=!0,l!==void 0&&(this.wordWrapCharCode=l),this},align:{set:function(h){this._align=h,this._dirty=!0},get:function(){return this._align}},text:{set:function(h){this.setText(h)},get:function(){return this._text}},fontSize:{set:function(h){this._fontSize=h,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(h){this._letterSpacing=h,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(h){this._lineSpacing=h,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(h){this._maxWidth=h,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var h=a.ToJSON(this),l={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return h.data=l,h},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=e,o.ParseXMLBitmapFont=s,p.exports=o},97545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(49584),c=function(a,r,n,e){var s=r._text,u=s.length,i=a.currentContext;if(!(u===0||!f(a,i,r,n,e))){n.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,h=r.fontData.chars,l=r.fontData.lineHeight,d=r._letterSpacing,v=r._lineSpacing,m=0,x=0,g=0,y=null,T=0,E=0,C=0,A=0,P=0,F=0,O=null,I=0,G=o.source.image,z=o.cutX,X=o.cutY,H=r._fontSize/r.fontData.size,N=r._align,U=0,R=0,D=r.getTextBounds(!1);r.maxWidth>0&&(s=D.wrappedText,u=s.length);var B=r._bounds.lines;N===1?R=(B.longest-B.lengths[0])/2:N===2&&(R=B.longest-B.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var V=n.roundPixels,Y=0;Y<u;Y++){if(g=s.charCodeAt(Y),g===10){U++,N===1?R=(B.longest-B.lengths[U])/2:N===2&&(R=B.longest-B.lengths[U]),m=0,x+=l+v,O=null;continue}if(y=h[g],!!y){if(T=z+y.x,E=X+y.y,C=y.width,A=y.height,P=y.xOffset+m,F=y.yOffset+x,O!==null){var K=y.kerning[I];P+=K!==void 0?K:0}P*=H,F*=H,P+=R,m+=y.xAdvance+d+(K!==void 0?K:0),O=y,I=g,!(C===0||A===0||g===32)&&(V&&(P=Math.round(P),F=Math.round(F)),i.save(),i.translate(P,F),i.scale(H,H),i.drawImage(G,T,E,C,A,0,0,C,A),i.restore())}}i.restore()}};p.exports=c},95499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44616),c=t(88933),a=t(99325),r=t(20494),n=t(10850);a.register("bitmapText",function(e,s){e===void 0&&(e={});var u=n(e,"font",""),i=r(e,"text",""),o=r(e,"size",!1),h=n(e,"align",0),l=new f(this.scene,0,0,u,i,o,h);return s!==void 0&&(e.add=s),c(this.scene,l,e),l})},21797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44616),c=t(61286);c.register("bitmapText",function(a,r,n,e,s,u){return this.displayList.add(new f(this.scene,a,r,n,e,s,u))})},84557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(26372),a=t(97545),p.exports={renderWebGL:c,renderCanvas:a}},26372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8810),c=t(73329),a=t(75512),r=function(n,e,s,u){var i=e._text,o=i.length;if(o!==0){s.addToRenderList(e);var h=n.pipelines.set(e.pipeline,e),l=c(e,s,u).calc;n.pipelines.preBatch(e);var d=s.roundPixels,v=s.alpha,m=e.charColors,x=e.tintFill,g=a.getTintAppendFloatAlpha,y=g(e.tintTopLeft,v*e._alphaTL),T=g(e.tintTopRight,v*e._alphaTR),E=g(e.tintBottomLeft,v*e._alphaBL),C=g(e.tintBottomRight,v*e._alphaBR),A=e.frame.glTexture,P=h.setGameObject(e),F=e.getTextBounds(!1),O,I,G,z=F.characters,X=e.dropShadowX,H=e.dropShadowY,N=X!==0||H!==0;if(N){var U=e.dropShadowColor,R=e.dropShadowAlpha,D=g(U,v*R*e._alphaTL),B=g(U,v*R*e._alphaTR),V=g(U,v*R*e._alphaBL),Y=g(U,v*R*e._alphaBR);for(O=0;O<z.length;O++)I=z[O],G=I.glyph,!(I.code===32||G.width===0||G.height===0)&&f(h,e,I,G,X,H,l,d,D,B,V,Y,1,A,P)}for(O=0;O<z.length;O++)if(I=z[O],G=I.glyph,!(I.code===32||G.width===0||G.height===0))if(h.shouldFlush(6)&&(h.flush(),P=h.setGameObject(e)),m[I.i]){var K=m[I.i],$=K.tintEffect,J=g(K.tintTL,v*e._alphaTL),Q=g(K.tintTR,v*e._alphaTR),k=g(K.tintBL,v*e._alphaBL),q=g(K.tintBR,v*e._alphaBR);f(h,e,I,G,0,0,l,d,J,Q,k,q,$,A,P)}else f(h,e,I,G,0,0,l,d,y,T,E,C,x,A,P);n.pipelines.postBatch(e)}};p.exports=r},52816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92246),c=t(41664),a=t(56694),r=t(64937),n=t(82047),e=t(89980),s=t(71207),u=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,f],initialize:function(o,h,l,d,v){e.call(this,o,"Blitter"),this.setTexture(d,v),this.setPosition(h,l),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,o,h,l,d){l===void 0&&(l=!0),d===void 0&&(d=this.children.length),h===void 0?h=this.frame:h instanceof n||(h=this.texture.get(h));var v=new c(this,i,o,h,l);return this.children.addAt(v,d,!1),this.dirty=!0,v},createFromCallback:function(i,o,h,l){for(var d=this.createMultiple(o,h,l),v=0;v<d.length;v++){var m=d[v];i.call(this,m,v)}return d},createMultiple:function(i,o,h){o===void 0&&(o=this.frame.name),h===void 0&&(h=!0),Array.isArray(o)||(o=[o]);var l=[],d=this;return o.forEach(function(v){for(var m=0;m<i;m++)l.push(d.create(0,0,v,h))}),l},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=u},33177:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=f.getRenderList();if(r.length!==0){var n=t.currentContext,e=c.alpha*f.alpha;if(e!==0){c.addToRenderList(f),n.globalCompositeOperation=t.blendModes[f.blendMode],n.imageSmoothingEnabled=!f.frame.source.scaleMode;var s=f.x-c.scrollX*f.scrollFactorX,u=f.y-c.scrollY*f.scrollFactorY;n.save(),a&&a.copyToContext(n);for(var i=c.roundPixels,o=0;o<r.length;o++){var h=r[o],l=h.flipX||h.flipY,d=h.frame,v=d.canvasData,m=d.x,x=d.y,g=1,y=1,T=h.alpha*e;T!==0&&(n.globalAlpha=T,l?(h.flipX&&(g=-1,m-=v.width),h.flipY&&(y=-1,x-=v.height),v.width>0&&v.height>0&&(n.save(),n.translate(h.x+s,h.y+u),n.scale(g,y),n.drawImage(d.source.image,v.x,v.y,v.width,v.height,m,x,v.width,v.height),n.restore())):(i&&(m=Math.round(m),x=Math.round(x)),v.width>0&&v.height>0&&n.drawImage(d.source.image,v.x,v.y,v.width,v.height,m+h.x+s,x+h.y+u,v.width,v.height)))}n.restore()}}};p.exports=S},68452:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(52816),c=t(88933),a=t(99325),r=t(20494);a.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),u=r(n,"frame",null),i=new f(this.scene,0,0,s,u);return e!==void 0&&(n.add=e),c(this.scene,i,n),i})},38906:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(52816),c=t(61286);c.register("blitter",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},92246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(89165),a=t(33177),p.exports={renderWebGL:c,renderCanvas:a}},89165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(69360),c=t(75512),a=new f,r=function(n,e,s,u){var i=e.getRenderList(),o=s.alpha*e.alpha;if(!(i.length===0||o===0)){s.addToRenderList(e);var h=n.pipelines.set(this.pipeline,e),l=s.scrollX*e.scrollFactorX,d=s.scrollY*e.scrollFactorY,v=a.copyFrom(s.matrix);u&&(v.multiplyWithOffset(u,-l,-d),l=0,d=0);var m=e.x-l,x=e.y-d,g=-1,y=!1;n.pipelines.preBatch(e);for(var T=0;T<i.length;T++){var E=i[T],C=E.frame,A=E.alpha*o;if(A!==0){var P=C.width,F=C.height,O=m+E.x+C.x,I=x+E.y+C.y;E.flipX&&(P*=-1,O+=C.width),E.flipY&&(F*=-1,I+=C.height);var G=v.setQuad(O,I,O+P,I+F),z=c.getTintAppendFloatAlpha(E.tint,A);if(C.sourceIndex!==g){var X=h.setGameObject(e,C);g=C.sourceIndex}h.batchQuad(e,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],C.u0,C.v0,C.u1,C.v1,z,z,z,z,y,C.glTexture,X)&&(g=-1)}}n.pipelines.postBatch(e)}};p.exports=r},41664:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82047),a=new f({initialize:function(n,e,s,u,i){this.parent=n,this.x=e,this.y=s,this.frame=u,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof c&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=a},97123:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=f(r,0,1),this._alphaTR=f(n,0,1),this._alphaBL=f(e,0,1),this._alphaBR=f(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=f(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=~c:this.renderFlags|=c}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=f(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=c)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=f(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=c)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=f(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=c)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=f(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=c)}}};p.exports=a},15720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=f(r,0,1);this._alpha=n,n===0?this.renderFlags&=~c:this.renderFlags|=c}}};p.exports=a},69732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c={_blendMode:f.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=f[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};p.exports=c},28284:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,f){return this.width=t,this.height=f,this},setDisplaySize:function(t,f){return this.displayWidth=t,this.displayHeight=f,this}};p.exports=S},85293:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,f,c,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,f,c,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},14975:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=S},88677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(96910),a=t(72677),r=new f({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var u=s[e];if(u.controller===n){this.gameObject.removePostPipeline(u),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(a(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var u=this.gameObject.getPostPipeline(s);if(u)return Array.isArray(u)&&(u=u.pop()),u.controller=n,n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,u,i,o){return this.add(new c.Glow(this.gameObject,n,e,s,u),{quality:i,distance:o})},addShadow:function(n,e,s,u,i,o,h){return this.add(new c.Shadow(this.gameObject,n,e,s,u,i,o,h))},addPixelate:function(n){return this.add(new c.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,u){return this.add(new c.Vignette(this.gameObject,n,e,s,u))},addShine:function(n,e,s,u){return this.add(new c.Shine(this.gameObject,n,e,s,u))},addBlur:function(n,e,s,u,i,o){return this.add(new c.Blur(this.gameObject,n,e,s,u,i,o))},addGradient:function(n,e,s,u,i,o,h,l){return this.add(new c.Gradient(this.gameObject,n,e,s,u,i,o,h,l))},addBloom:function(n,e,s,u,i,o){return this.add(new c.Bloom(this.gameObject,n,e,s,u,i,o))},addColorMatrix:function(){return this.add(new c.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,u,i){return this.add(new c.Circle(this.gameObject,n,e,s,u,i))},addBarrel:function(n){return this.add(new c.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new c.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new c.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new c.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new c.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,u,i,o){return this.add(new c.Bokeh(this.gameObject,n,e,s,!0,u,i,o))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},92972:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,f){return this.flipX=t,this.flipY=f,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},80693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(2386),a=t(93736),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&c(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new f);var e,s,u,i,o,h,l,d;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),v.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),v.transformPoint(n.x,n.y,n),u=n.x,i=n.y,this.getBottomLeft(n),v.transformPoint(n.x,n.y,n),o=n.x,h=n.y,this.getBottomRight(n),v.transformPoint(n.x,n.y,n),l=n.x,d=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),u=n.x,i=n.y,this.getBottomLeft(n),o=n.x,h=n.y,this.getBottomRight(n),l=n.x,d=n.y;return n.x=Math.min(e,u,o,l),n.y=Math.min(s,i,h,d),n.width=Math.max(e,u,o,l)-n.x,n.height=Math.max(s,i,h,d)-n.y,n}};p.exports=r},39171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(76756),c=t(63037),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,u){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new f(this.scene,r,n,e,s,u)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new c(this.scene,r)}};p.exports=a},28072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,f){return t===void 0&&(t=.5),f===void 0&&(f=t),this.originX=t,this.originY=f,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,f){return t===void 0&&(t=0),f===void 0&&(f=t),this.displayOriginX=t,this.displayOriginY=f,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},54211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75606),c=t(63130),a=t(10850),r=t(55303),n=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,u){u===void 0&&(u=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,u&&this.startFollow(u),this},setRotateToPath:function(s,u){return u===void 0&&(u=0),this.rotateToPath=s,this.pathRotationOffset=u,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,u){s===void 0&&(s={}),u===void 0&&(u=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var o=c(s,"positionOnPath",!1);this.rotateToPath=c(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var h=a(s,"startAt",u);if(h&&(s.onStart=function(d){var v=d.data[0];v.progress=h,v.elapsed=v.duration*h;var m=v.ease(v.progress);v.current=v.start+(v.end-v.start)*m,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var l=this.path.getPoint(.1);this.rotation=Math.atan2(l.y-this.y,l.x-this.x)+f(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var u=s.data[0],i=this.pathDelta,o=this.pathVector;if(i.copy(o).negate(),u.state===r.COMPLETE){this.path.getPoint(u.end,o),i.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(u.state!==r.PLAYING_FORWARD&&u.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),o),i.add(o),o.add(this.pathOffset);var h=this.x,l=this.y;this.setPosition(o.x,o.y);var d=this.x-h,v=this.y-l;if(d===0&&v===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,d)+f(this.pathRotationOffset))}}};p.exports=e},58210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28699),c={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){a===void 0&&(a=n.default);var e=n.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var u=s.get(a);u&&(this.pipeline=u),r&&(this.pipelineData=n?f(r):r)}return this},setPipelineData:function(a,r){var n=this.pipelineData;return r===void 0?delete n[a]:n[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=c},44086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28699),c=t(88677),a=t(72677),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new c(this,!0),n&&(this.preFX=new c(this,!1))},setPostPipeline:function(n,e,s){var u=this.scene.sys.renderer;if(!u)return this;var i=u.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var h=i.getPostPipeline(n[o],this,e);h&&this.postPipelines.push(h)}e&&(this.postPipelineData=s?f(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,u=[],i=0;i<s.length;i++){var o=s[i];(e&&o.name===n||!e&&o instanceof n)&&u.push(o)}return u.length===1?u[0]:u},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,u=s.length-1;u>=0;u--){var i=s[u];(e&&i.name===n||!e&&i===n)&&(i.destroy(),a(s,u))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},45900:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,f){return f===void 0&&(f=t),this.scrollFactorX=t,this.scrollFactorY=f,this}};p.exports=S},31654:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setSize:function(t,f){return this.width=t,this.height=f,this},setDisplaySize:function(t,f){return this.displayWidth=t,this.displayHeight=f,this}};p.exports=S},82081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,n,e,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n,e,s)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof f?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=a},21850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var u=r;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof f?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=a},58072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,f,c,a){return t===void 0&&(t=16777215),f===void 0&&(f=t,c=t,a=t),this.tintTopLeft=t,this.tintTopRight=f,this.tintBottomLeft=c,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,f,c,a){return this.setTint(t,f,c,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},48129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(f.textureKey=t.texture.key,f.frameKey=t.frame.name),f};p.exports=S},56584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(69360),a=t(64462),r=t(35786),n=t(62138),e=t(93736),s=4,u={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~s:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~s:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*f.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*f.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,o,h,l){return i===void 0&&(i=0),o===void 0&&(o=i),h===void 0&&(h=0),l===void 0&&(l=0),this.x=i,this.y=o,this.z=h,this.w=l,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,o,h,l){return i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=this.scene.sys.scale.width),l===void 0&&(l=this.scene.sys.scale.height),this.x=i+Math.random()*h,this.y=o+Math.random()*l,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=i),this.scaleX=i,this.scaleY=o,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new c),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,o){i===void 0&&(i=new c);var h=this.parentContainer;if(!h)return this.getLocalTransformMatrix(i);for(o||(o=new c),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);h;)o.applyITRS(h.x,h.y,h._rotation,h._scaleX,h._scaleY),o.multiply(i,i),h=h.parentContainer;return i},getLocalPoint:function(i,o,h,l){h||(h=new e),l||(l=this.scene.sys.cameras.main);var d=l.scrollX,v=l.scrollY,m=i+d*this.scrollFactorX-d,x=o+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,x,h):a(m,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,h),this._originComponent&&(h.x+=this._displayOriginX,h.y+=this._displayOriginY),h},getParentRotation:function(){for(var i=0,o=this.parentContainer;o;)i+=o.rotation,o=o.parentContainer;return i}};p.exports=u},69360:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(83392),a=t(93736),r=new f({initialize:function(e,s,u,i,o,h){e===void 0&&(e=1),s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=1),o===void 0&&(o=0),h===void 0&&(h=0),this.matrix=new Float32Array([e,s,u,i,o,h,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],u=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):u||i?c.TAU-(i>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),u=this.matrix,i=u[0],o=u[1],h=u[2],l=u[3];return u[0]=i*s+h*e,u[1]=o*s+l*e,u[2]=i*-e+h*s,u[3]=o*-e+l*s,this},multiply:function(n,e){var s=this.matrix,u=n.matrix,i=s[0],o=s[1],h=s[2],l=s[3],d=s[4],v=s[5],m=u[0],x=u[1],g=u[2],y=u[3],T=u[4],E=u[5],C=e===void 0?s:e.matrix;return C[0]=m*i+x*h,C[1]=m*o+x*l,C[2]=g*i+y*h,C[3]=g*o+y*l,C[4]=T*i+E*h+d,C[5]=T*o+E*l+v,C},multiplyWithOffset:function(n,e,s){var u=this.matrix,i=n.matrix,o=u[0],h=u[1],l=u[2],d=u[3],v=u[4],m=u[5],x=e*o+s*l+v,g=e*h+s*d+m,y=i[0],T=i[1],E=i[2],C=i[3],A=i[4],P=i[5];return u[0]=y*o+T*l,u[1]=y*h+T*d,u[2]=E*o+C*l,u[3]=E*h+C*d,u[4]=A*o+P*l+x,u[5]=A*h+P*d+g,this},transform:function(n,e,s,u,i,o){var h=this.matrix,l=h[0],d=h[1],v=h[2],m=h[3],x=h[4],g=h[5];return h[0]=n*l+e*v,h[1]=n*d+e*m,h[2]=s*l+u*v,h[3]=s*d+u*m,h[4]=i*l+o*v+x,h[5]=i*d+o*m+g,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var u=this.matrix,i=u[0],o=u[1],h=u[2],l=u[3],d=u[4],v=u[5];return s.x=n*i+e*h+d,s.y=n*o+e*l+v,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],u=n[2],i=n[3],o=n[4],h=n[5],l=e*i-s*u;return n[0]=i/l,n[1]=-s/l,n[2]=-u/l,n[3]=e/l,n[4]=(u*h-i*o)/l,n[5]=-(e*h-s*o)/l,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,u,i,o){var h=this.matrix;return h[0]=n,h[1]=e,h[2]=s,h[3]=u,h[4]=i,h[5]=o,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],u=e[1],i=e[2],o=e[3],h=s*o-u*i;if(n.translateX=e[4],n.translateY=e[5],s||u){var l=Math.sqrt(s*s+u*u);n.rotation=u>0?Math.acos(s/l):-Math.acos(s/l),n.scaleX=l,n.scaleY=h/l}else if(i||o){var d=Math.sqrt(i*i+o*o);n.rotation=Math.PI*.5-(o>0?Math.acos(-i/d):-Math.acos(i/d)),n.scaleX=h/d,n.scaleY=d}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,u,i){var o=this.matrix,h=Math.sin(s),l=Math.cos(s);return o[4]=n,o[5]=e,o[0]=l*u,o[1]=h*u,o[2]=-h*i,o[3]=l*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new a);var u=this.matrix,i=u[0],o=u[1],h=u[2],l=u[3],d=u[4],v=u[5],m=1/(i*l+h*-o);return s.x=l*m*n+-h*m*e+(v*h-d*l)*m,s.y=i*m*e+-o*m*n+(-v*i+d*o)*m,s},setQuad:function(n,e,s,u,i,o){i===void 0&&(i=!1),o===void 0&&(o=this.quad);var h=this.matrix,l=h[0],d=h[1],v=h[2],m=h[3],x=h[4],g=h[5];return i?(o[0]=Math.round(n*l+e*v+x),o[1]=Math.round(n*d+e*m+g),o[2]=Math.round(n*l+u*v+x),o[3]=Math.round(n*d+u*m+g),o[4]=Math.round(s*l+u*v+x),o[5]=Math.round(s*d+u*m+g),o[6]=Math.round(s*l+e*v+x),o[7]=Math.round(s*d+e*m+g)):(o[0]=n*l+e*v+x,o[1]=n*d+e*m+g,o[2]=n*l+u*v+x,o[3]=n*d+u*m+g,o[4]=s*l+u*v+x,o[5]=s*d+u*m+g,o[6]=s*l+e*v+x,o[7]=s*d+e*m+g),o},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var u=this.getX(n,e);return s&&(u=Math.round(u)),u},getYRound:function(n,e,s){var u=this.getY(n,e);return s&&(u=Math.round(u)),u},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(f){f?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(f){return this.visible=f,this}};p.exports=t},64937:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59959),c=t(95723),a=t(56694),r=t(64937),n=t(56631),e=t(89980),s=t(74118),u=t(98524),i=t(58795),o=t(93736),h=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,u],initialize:function(d,v,m,x){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(v,m),this.setBlendMode(c.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(l){return l===void 0&&(l=!0),this.exclusive=l,this},getBounds:function(l){if(l===void 0&&(l=new s),l.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),v=d.transformPoint(this.x,this.y);l.setTo(v.x,v.y,0,0)}if(this.list.length>0){var m=this.list,x=new s,g=!1;l.setEmpty();for(var y=0;y<m.length;y++){var T=m[y];T.getBounds&&(T.getBounds(x),g?i(x,l,l):(l.setTo(x.x,x.y,x.width,x.height),g=!0))}}return l},addHandler:function(l){l.once(n.DESTROY,this.remove,this),this.exclusive&&(l.parentContainer&&l.parentContainer.remove(l),l.parentContainer=this,l.removeFromDisplayList(),l.addedToScene())},removeHandler:function(l){l.off(n.DESTROY,this.remove,this),this.exclusive&&(l.parentContainer=null,l.removedFromScene(),l.addToDisplayList())},pointToContainer:function(l,d){d===void 0&&(d=new o),this.parentContainer?this.parentContainer.pointToContainer(l,d):(d.x=l.x,d.y=l.y);var v=this.tempTransformMatrix;return v.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),v.invert(),v.transformPoint(l.x,l.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(l){return f.Add(this.list,l,this.maxSize,this.addHandler,this),this},addAt:function(l,d){return f.AddAt(this.list,l,d,this.maxSize,this.addHandler,this),this},getAt:function(l){return this.list[l]},getIndex:function(l){return this.list.indexOf(l)},sort:function(l,d){return l?(d===void 0&&(d=function(v,m){return v[l]-m[l]}),f.StableSort(this.list,d),this):this},getByName:function(l){return f.GetFirst(this.list,"name",l)},getRandom:function(l,d){return f.GetRandom(this.list,l,d)},getFirst:function(l,d,v,m){return f.GetFirst(this.list,l,d,v,m)},getAll:function(l,d,v,m){return f.GetAll(this.list,l,d,v,m)},count:function(l,d,v,m){return f.CountAllMatching(this.list,l,d,v,m)},swap:function(l,d){return f.Swap(this.list,l,d),this},moveTo:function(l,d){return f.MoveTo(this.list,l,d),this},moveAbove:function(l,d){return f.MoveAbove(this.list,l,d),this},moveBelow:function(l,d){return f.MoveBelow(this.list,l,d),this},remove:function(l,d){var v=f.Remove(this.list,l,this.removeHandler,this);if(d&&v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)v[m].destroy()}return this},removeAt:function(l,d){var v=f.RemoveAt(this.list,l,this.removeHandler,this);return d&&v&&v.destroy(),this},removeBetween:function(l,d,v){var m=f.RemoveBetween(this.list,l,d,this.removeHandler,this);if(v)for(var x=0;x<m.length;x++)m[x].destroy();return this},removeAll:function(l){var d=this.list;if(l){for(var v=0;v<d.length;v++)d[v]&&d[v].scene&&(d[v].off(n.DESTROY,this.remove,this),d[v].destroy());this.list=[]}else f.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(l){return f.BringToTop(this.list,l),this},sendToBack:function(l){return f.SendToBack(this.list,l),this},moveUp:function(l){return f.MoveUp(this.list,l),this},moveDown:function(l){return f.MoveDown(this.list,l),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(l,d,v){var m=f.Replace(this.list,l,d);return m&&(this.addHandler(d),this.removeHandler(l),v&&l.destroy()),this},exists:function(l){return this.list.indexOf(l)>-1},setAll:function(l,d,v,m){return f.SetAll(this.list,l,d,v,m),this},each:function(l,d){var v=[null],m,x=this.list.slice(),g=x.length;for(m=2;m<arguments.length;m++)v.push(arguments[m]);for(m=0;m<g;m++)v[0]=x[m],l.apply(d,v);return this},iterate:function(l,d){var v=[null],m;for(m=2;m<arguments.length;m++)v.push(arguments[m]);for(m=0;m<this.list.length;m++)v[0]=this.list[m],l.apply(d,v);return this},setScrollFactor:function(l,d,v){return d===void 0&&(d=l),v===void 0&&(v=!1),this.scrollFactorX=l,this.scrollFactorY=d,v&&(f.SetAll(this.list,"scrollFactorX",l),f.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=h},13916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f);var r=f.list;if(r.length!==0){var n=f.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(f.x,f.y),n.rotate(f.rotation),n.scale(f.scaleX,f.scaleY)):n.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var e=f.blendMode!==-1;e||t.setBlendMode(0);var s=f._alpha,u=f.scrollFactorX,i=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(t,null,c);for(var o=0;o<r.length;o++){var h=r[o];if(!!h.willRender(c)){var l=h.alpha,d=h.scrollFactorX,v=h.scrollFactorY;!e&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode),h.setScrollFactor(d*u,v*i),h.setAlpha(l*s),h.renderCanvas(t,h,c,n),h.setAlpha(l),h.setScrollFactor(d,v)}}f.mask&&f.mask.postRenderCanvas(t)}};p.exports=S},44516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(70339),a=t(99325),r=t(20494);a.register("container",function(n,e){n===void 0&&(n={});var s=r(n,"x",0),u=r(n,"y",0),i=r(n,"children",null),o=new c(this.scene,s,u,i);return e!==void 0&&(n.add=e),f(this.scene,o,n),o})},23400:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70339),c=t(61286);c.register("container",function(a,r,n){return this.displayList.add(new f(this.scene,a,r,n))})},98524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(36934),a=t(13916),p.exports={renderWebGL:c,renderCanvas:a}},36934:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f);var r=f.list,n=r.length;if(n!==0){var e=f.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(f.x,f.y),e.rotate(f.rotation),e.scale(f.scaleX,f.scaleY)):e.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),t.pipelines.preBatch(f);var s=f.blendMode!==-1;s||t.setBlendMode(0);for(var u=f.alpha,i=f.scrollFactorX,o=f.scrollFactorY,h=0;h<n;h++){var l=r[h];if(!!l.willRender(c)){var d,v,m,x;if(l.alphaTopLeft!==void 0)d=l.alphaTopLeft,v=l.alphaTopRight,m=l.alphaBottomLeft,x=l.alphaBottomRight;else{var g=l.alpha;d=g,v=g,m=g,x=g}var y=l.scrollFactorX,T=l.scrollFactorY;!s&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var E=l.mask;E&&E.preRenderWebGL(t,l,c);var C=l.type;C!==t.currentType&&(t.newType=!0,t.currentType=C),t.nextTypeMatch=h<n-1?r[h+1].type===t.currentType:!1,l.setScrollFactor(y*i,T*o),l.setAlpha(d*u,v*u,m*u,x*u),l.renderWebGL(t,l,c,e,f),l.setAlpha(d,v,m,x),l.setScrollFactor(y,T),E&&E.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(f)}};p.exports=S},2452:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(11603),r=t(89980),n=t(42911),e=t(55638),s=t(7599),u=t(51729),i=new f({Extends:r,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Origin,c.ScrollFactor,c.Transform,c.Visible,a],initialize:function(h,l,d,v,m,x){r.call(this,h,"DOMElement"),this.parent=h.sys.game.domContainer,this.cache=h.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(l,d),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),m,x):this.createElement(v,m,x):v&&this.setElement(v,m,x),h.sys.events.on(s.SLEEP,this.handleSceneEvent,this),h.sys.events.on(s.WAKE,this.handleSceneEvent,this),h.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var h=this.node,l=h.style;h&&(l.display=o.settings.visible?"block":"none")},setSkew:function(o,h){return o===void 0&&(o=0),h===void 0&&(h=o),this.skewX=o,this.skewY=h,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var h=0;h<o.length;h++)this.node.addEventListener(o[h],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var h=0;h<o.length;h++)this.node.removeEventListener(o[h],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,h,l){return this.setElement(document.createElement(o),h,l)},setElement:function(o,h,l){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,h&&n(h))for(var v in h)d.style[v]=h[v];else typeof h=="string"&&(d.style=h);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),l&&(d.innerText=l),this.updateSize()},createFromCache:function(o,h){var l=this.cache.get(o);return l&&this.createFromHTML(l,h),this},createFromHTML:function(o,h){h===void 0&&(h="div"),this.removeElement();var l=document.createElement(h);return this.node=l,l.style.zIndex="0",l.style.display="inline",l.style.position="absolute",l.phaser=this,this.parent&&this.parent.appendChild(l),l.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var o=this.node,h=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=h.width||0,this.displayHeight=h.height||0,this},getChildByProperty:function(o,h){if(this.node){for(var l=this.node.querySelectorAll("*"),d=0;d<l.length;d++)if(l[d][o]===h)return l[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,h=this.node;h&&o&&!o.willRender()&&(h.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});p.exports=i},66070:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(2452),c=t(89980),a=t(69360),r=new a,n=new a,e=new a,s=function(u,i,o,h){if(!!i.node){var l=i.node.style,d=i.scene.sys.settings;if(!l||!d.visible||c.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&o.id||i.parentContainer&&!i.parentContainer.willRender()){l.display="none";return}var v=i.parentContainer,m=o.alpha*i.alpha;v&&(m*=v.alpha);var x=r,g=n,y=e,T=0,E=0,C="0%",A="0%";h?(T=i.width*i.scaleX*i.originX,E=i.height*i.scaleY*i.originY,g.applyITRS(i.x-T,i.y-E,i.rotation,i.scaleX,i.scaleY),x.copyFrom(o.matrix),x.multiplyWithOffset(h,-o.scrollX*i.scrollFactorX,-o.scrollY*i.scrollFactorY),g.e=i.x-T,g.f=i.y-E,x.multiply(g,y)):(T=i.width*i.originX,E=i.height*i.originY,g.applyITRS(i.x-T,i.y-E,i.rotation,i.scaleX,i.scaleY),x.copyFrom(o.matrix),C=100*i.originX+"%",A=100*i.originY+"%",g.e-=o.scrollX*i.scrollFactorX,g.f-=o.scrollY*i.scrollFactorY,x.multiply(g,y)),i.transformOnly||(l.display="block",l.opacity=m,l.zIndex=i._depth,l.pointerEvents=i.pointerEvents,l.mixBlendMode=f[i._blendMode]),l.transform=y.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",l.transformOrigin=C+" "+A}};p.exports=s},66788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(38943),c=t(61286);c.register("dom",function(a,r,n,e,s){var u=new f(this.scene,a,r,n,e,s);return this.displayList.add(u),u})},11603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(66070),a=t(66070),p.exports={renderWebGL:c,renderCanvas:a}},65492:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},98398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},40239:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},17286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},31496:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},89587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},59792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},96342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},6017:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},49614:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},24418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},87318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},50009:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},61922:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},79501:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4052:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},54857:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},56631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(79394),n=new f({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.Origin,c.ScrollFactor,c.Size,c.Texture,c.Tint,c.Transform,c.Visible,r],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=n},96699:()=>{},41155:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(39419),c=t(61286);c.register("extern",function(){var a=new f(this.scene);return this.displayList.add(a),a})},79394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(81410),a=t(96699),p.exports={renderWebGL:c,renderCanvas:a}},81410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){a.pipelines.clear();var s=f(r,n,e).calc;r.render.call(r,a,n,s),a.pipelines.rebind()};p.exports=c},36266:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(51052),c=t(56694),a=t(36266),r=t(64937),n=t(95669),e=t(89980),s=t(72632),u=t(10850),i=t(83392),o=t(60898),h=new c({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,o],initialize:function(d,v){var m=u(v,"x",0),x=u(v,"y",0);e.call(this,d,"Graphics"),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(v)},setDefaultStyles:function(l){return u(l,"lineStyle",null)&&(this.defaultStrokeWidth=u(l,"lineStyle.width",1),this.defaultStrokeColor=u(l,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(l,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(l,"fillStyle",null)&&(this.defaultFillColor=u(l,"fillStyle.color",16777215),this.defaultFillAlpha=u(l,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(l,d,v){return v===void 0&&(v=1),this.commandBuffer.push(a.LINE_STYLE,l,d,v),this._lineWidth=l,this},fillStyle:function(l,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,l,d),this},fillGradientStyle:function(l,d,v,m,x,g,y,T){return x===void 0&&(x=1),g===void 0&&(g=x),y===void 0&&(y=x),T===void 0&&(T=x),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,x,g,y,T,l,d,v,m),this},lineGradientStyle:function(l,d,v,m,x,g){return g===void 0&&(g=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,l,g,d,v,m,x),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(l){return this.fillCircle(l.x,l.y,l.radius)},strokeCircleShape:function(l){return this.strokeCircle(l.x,l.y,l.radius)},fillCircle:function(l,d,v){return this.beginPath(),this.arc(l,d,v,0,i.PI2),this.fillPath(),this},strokeCircle:function(l,d,v){return this.beginPath(),this.arc(l,d,v,0,i.PI2),this.strokePath(),this},fillRectShape:function(l){return this.fillRect(l.x,l.y,l.width,l.height)},strokeRectShape:function(l){return this.strokeRect(l.x,l.y,l.width,l.height)},fillRect:function(l,d,v,m){return this.commandBuffer.push(a.FILL_RECT,l,d,v,m),this},strokeRect:function(l,d,v,m){var x=this._lineWidth/2,g=l-x,y=l+x;return this.beginPath(),this.moveTo(l,d),this.lineTo(l,d+m),this.strokePath(),this.beginPath(),this.moveTo(l+v,d),this.lineTo(l+v,d+m),this.strokePath(),this.beginPath(),this.moveTo(g,d),this.lineTo(y+v,d),this.strokePath(),this.beginPath(),this.moveTo(g,d+m),this.lineTo(y+v,d+m),this.strokePath(),this},fillRoundedRect:function(l,d,v,m,x){x===void 0&&(x=20);var g=x,y=x,T=x,E=x;typeof x!="number"&&(g=s(x,"tl",20),y=s(x,"tr",20),T=s(x,"bl",20),E=s(x,"br",20));var C=g>=0,A=y>=0,P=T>=0,F=E>=0;return g=Math.abs(g),y=Math.abs(y),T=Math.abs(T),E=Math.abs(E),this.beginPath(),this.moveTo(l+g,d),this.lineTo(l+v-y,d),A?this.arc(l+v-y,d+y,y,-i.TAU,0):this.arc(l+v,d,y,Math.PI,i.TAU,!0),this.lineTo(l+v,d+m-E),F?this.arc(l+v-E,d+m-E,E,0,i.TAU):this.arc(l+v,d+m,E,-i.TAU,Math.PI,!0),this.lineTo(l+T,d+m),P?this.arc(l+T,d+m-T,T,i.TAU,Math.PI):this.arc(l,d+m,T,0,-i.TAU,!0),this.lineTo(l,d+g),C?this.arc(l+g,d+g,g,-Math.PI,-i.TAU):this.arc(l,d,g,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(l,d,v,m,x){x===void 0&&(x=20);var g=x,y=x,T=x,E=x,C=Math.min(v,m)/2;typeof x!="number"&&(g=s(x,"tl",20),y=s(x,"tr",20),T=s(x,"bl",20),E=s(x,"br",20));var A=g>=0,P=y>=0,F=T>=0,O=E>=0;return g=Math.min(Math.abs(g),C),y=Math.min(Math.abs(y),C),T=Math.min(Math.abs(T),C),E=Math.min(Math.abs(E),C),this.beginPath(),this.moveTo(l+g,d),this.lineTo(l+v-y,d),this.moveTo(l+v-y,d),P?this.arc(l+v-y,d+y,y,-i.TAU,0):this.arc(l+v,d,y,Math.PI,i.TAU,!0),this.lineTo(l+v,d+m-E),this.moveTo(l+v,d+m-E),O?this.arc(l+v-E,d+m-E,E,0,i.TAU):this.arc(l+v,d+m,E,-i.TAU,Math.PI,!0),this.lineTo(l+T,d+m),this.moveTo(l+T,d+m),F?this.arc(l+T,d+m-T,T,i.TAU,Math.PI):this.arc(l,d+m,T,0,-i.TAU,!0),this.lineTo(l,d+g),this.moveTo(l,d+g),A?this.arc(l+g,d+g,g,-Math.PI,-i.TAU):this.arc(l,d,g,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(l,d){return this.fillPoint(l.x,l.y,d)},fillPoint:function(l,d,v){return!v||v<1?v=1:(l-=v/2,d-=v/2),this.commandBuffer.push(a.FILL_RECT,l,d,v,v),this},fillTriangleShape:function(l){return this.fillTriangle(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)},strokeTriangleShape:function(l){return this.strokeTriangle(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)},fillTriangle:function(l,d,v,m,x,g){return this.commandBuffer.push(a.FILL_TRIANGLE,l,d,v,m,x,g),this},strokeTriangle:function(l,d,v,m,x,g){return this.commandBuffer.push(a.STROKE_TRIANGLE,l,d,v,m,x,g),this},strokeLineShape:function(l){return this.lineBetween(l.x1,l.y1,l.x2,l.y2)},lineBetween:function(l,d,v,m){return this.beginPath(),this.moveTo(l,d),this.lineTo(v,m),this.strokePath(),this},lineTo:function(l,d){return this.commandBuffer.push(a.LINE_TO,l,d),this},moveTo:function(l,d){return this.commandBuffer.push(a.MOVE_TO,l,d),this},strokePoints:function(l,d,v,m){d===void 0&&(d=!1),v===void 0&&(v=!1),m===void 0&&(m=l.length),this.beginPath(),this.moveTo(l[0].x,l[0].y);for(var x=1;x<m;x++)this.lineTo(l[x].x,l[x].y);return d&&this.lineTo(l[0].x,l[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(l,d,v,m){d===void 0&&(d=!1),v===void 0&&(v=!1),m===void 0&&(m=l.length),this.beginPath(),this.moveTo(l[0].x,l[0].y);for(var x=1;x<m;x++)this.lineTo(l[x].x,l[x].y);return d&&this.lineTo(l[0].x,l[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(l,d){d===void 0&&(d=32);var v=l.getPoints(d);return this.strokePoints(v,!0)},strokeEllipse:function(l,d,v,m,x){x===void 0&&(x=32);var g=new n(l,d,v,m),y=g.getPoints(x);return this.strokePoints(y,!0)},fillEllipseShape:function(l,d){d===void 0&&(d=32);var v=l.getPoints(d);return this.fillPoints(v,!0)},fillEllipse:function(l,d,v,m,x){x===void 0&&(x=32);var g=new n(l,d,v,m),y=g.getPoints(x);return this.fillPoints(y,!0)},arc:function(l,d,v,m,x,g,y){return g===void 0&&(g=!1),y===void 0&&(y=0),this.commandBuffer.push(a.ARC,l,d,v,m,x,g,y),this},slice:function(l,d,v,m,x,g,y){return g===void 0&&(g=!1),y===void 0&&(y=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,l,d),this.commandBuffer.push(a.ARC,l,d,v,m,x,g,y),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(l,d){return this.commandBuffer.push(a.TRANSLATE,l,d),this},scaleCanvas:function(l,d){return this.commandBuffer.push(a.SCALE,l,d),this},rotateCanvas:function(l){return this.commandBuffer.push(a.ROTATE,l),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(l,d,v){var m=this.scene.sys,x=m.game.renderer;d===void 0&&(d=m.scale.width),v===void 0&&(v=m.scale.height),h.TargetCamera.setScene(this.scene),h.TargetCamera.setViewport(0,0,d,v),h.TargetCamera.scrollX=this.x,h.TargetCamera.scrollY=this.y;var g,y,T={willReadFrequently:!0};if(typeof l=="string")if(m.textures.exists(l)){g=m.textures.get(l);var E=g.getSourceImage();E instanceof HTMLCanvasElement&&(y=E.getContext("2d",T))}else g=m.textures.createCanvas(l,d,v),y=g.getSourceImage().getContext("2d",T);else l instanceof HTMLCanvasElement&&(y=l.getContext("2d",T));return y&&(this.renderCanvas(x,this,h.TargetCamera,null,y,!1),g&&g.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});h.TargetCamera=new f,p.exports=h},91543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36266),c=t(49584),a=function(r,n,e,s,u,i){var o=n.commandBuffer,h=o.length,l=u||r.currentContext;if(!(h===0||!c(r,l,n,e,s))){e.addToRenderList(n);var d=1,v=1,m=0,x=0,g=1,y=0,T=0,E=0;l.beginPath();for(var C=0;C<h;++C){var A=o[C];switch(A){case f.ARC:l.arc(o[C+1],o[C+2],o[C+3],o[C+4],o[C+5],o[C+6]),C+=7;break;case f.LINE_STYLE:g=o[C+1],m=o[C+2],d=o[C+3],y=(m&16711680)>>>16,T=(m&65280)>>>8,E=m&255,l.strokeStyle="rgba("+y+","+T+","+E+","+d+")",l.lineWidth=g,C+=3;break;case f.FILL_STYLE:x=o[C+1],v=o[C+2],y=(x&16711680)>>>16,T=(x&65280)>>>8,E=x&255,l.fillStyle="rgba("+y+","+T+","+E+","+v+")",C+=2;break;case f.BEGIN_PATH:l.beginPath();break;case f.CLOSE_PATH:l.closePath();break;case f.FILL_PATH:i||l.fill();break;case f.STROKE_PATH:i||l.stroke();break;case f.FILL_RECT:i?l.rect(o[C+1],o[C+2],o[C+3],o[C+4]):l.fillRect(o[C+1],o[C+2],o[C+3],o[C+4]),C+=4;break;case f.FILL_TRIANGLE:l.beginPath(),l.moveTo(o[C+1],o[C+2]),l.lineTo(o[C+3],o[C+4]),l.lineTo(o[C+5],o[C+6]),l.closePath(),i||l.fill(),C+=6;break;case f.STROKE_TRIANGLE:l.beginPath(),l.moveTo(o[C+1],o[C+2]),l.lineTo(o[C+3],o[C+4]),l.lineTo(o[C+5],o[C+6]),l.closePath(),i||l.stroke(),C+=6;break;case f.LINE_TO:l.lineTo(o[C+1],o[C+2]),C+=2;break;case f.MOVE_TO:l.moveTo(o[C+1],o[C+2]),C+=2;break;case f.LINE_FX_TO:l.lineTo(o[C+1],o[C+2]),C+=5;break;case f.MOVE_FX_TO:l.moveTo(o[C+1],o[C+2]),C+=5;break;case f.SAVE:l.save();break;case f.RESTORE:l.restore();break;case f.TRANSLATE:l.translate(o[C+1],o[C+2]),C+=2;break;case f.SCALE:l.scale(o[C+1],o[C+2]),C+=2;break;case f.ROTATE:l.rotate(o[C+1]),C+=1;break;case f.GRADIENT_FILL_STYLE:C+=5;break;case f.GRADIENT_LINE_STYLE:C+=6;break}}l.restore()}};p.exports=a},41286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(33182);f.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var n=new c(this.scene,a);return a.add&&this.scene.sys.displayList.add(n),n})},13122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(33182),c=t(61286);c.register("graphics",function(a){return this.displayList.add(new f(this.scene,a))})},60898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(34429),a=t(91543),a=t(91543),p.exports={renderWebGL:c,renderCanvas:a}},34429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36266),c=t(73329),a=t(69360),r=t(75512),n=function(o,h,l){this.x=o,this.y=h,this.width=l},e=function(o,h,l){this.points=[],this.pointsLength=1,this.points[0]=new n(o,h,l)},s=[],u=new a,i=function(o,h,l,d){if(h.commandBuffer.length!==0){l.addToRenderList(h);var v=o.pipelines.set(h.pipeline,h);o.pipelines.preBatch(h);for(var m=c(h,l,d).calc,x=u.loadIdentity(),g=h.commandBuffer,y=l.alpha*h.alpha,T=1,E=v.fillTint,C=v.strokeTint,A=0,P=0,F=0,O=.01,I=Math.PI*2,G,z=[],X=0,H=!0,N=null,U=r.getTintAppendFloatAlpha,R=0;R<g.length;R++)switch(G=g[R],G){case f.BEGIN_PATH:{z.length=0,N=null,H=!0;break}case f.CLOSE_PATH:{H=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case f.FILL_PATH:{for(X=0;X<z.length;X++)v.batchFillPath(z[X].points,x,m);break}case f.STROKE_PATH:{for(X=0;X<z.length;X++)v.batchStrokePath(z[X].points,T,H,x,m);break}case f.LINE_STYLE:{T=g[++R];var D=g[++R],B=g[++R]*y,V=U(D,B);C.TL=V,C.TR=V,C.BL=V,C.BR=V;break}case f.FILL_STYLE:{var Y=g[++R],K=g[++R]*y,$=U(Y,K);E.TL=$,E.TR=$,E.BL=$,E.BR=$;break}case f.GRADIENT_FILL_STYLE:{var J=g[++R]*y,Q=g[++R]*y,k=g[++R]*y,q=g[++R]*y;E.TL=U(g[++R],J),E.TR=U(g[++R],Q),E.BL=U(g[++R],k),E.BR=U(g[++R],q);break}case f.GRADIENT_LINE_STYLE:{T=g[++R];var tt=g[++R]*y;C.TL=U(g[++R],tt),C.TR=U(g[++R],tt),C.BL=U(g[++R],tt),C.BR=U(g[++R],tt);break}case f.ARC:{var _=0,it=g[++R],st=g[++R],ht=g[++R],ut=g[++R],et=g[++R],rt=g[++R],nt=g[++R];for(et-=ut,rt?et<-I?et=-I:et>0&&(et=-I+et%I):et>I?et=I:et<0&&(et=I+et%I),N===null&&(N=new e(it+Math.cos(ut)*ht,st+Math.sin(ut)*ht,T),z.push(N),_+=O);_<1+nt;)F=et*_+ut,A=it+Math.cos(F)*ht,P=st+Math.sin(F)*ht,N.points.push(new n(A,P,T)),_+=O;F=et+ut,A=it+Math.cos(F)*ht,P=st+Math.sin(F)*ht,N.points.push(new n(A,P,T));break}case f.FILL_RECT:{v.batchFillRect(g[++R],g[++R],g[++R],g[++R],x,m);break}case f.FILL_TRIANGLE:{v.batchFillTriangle(g[++R],g[++R],g[++R],g[++R],g[++R],g[++R],x,m);break}case f.STROKE_TRIANGLE:{v.batchStrokeTriangle(g[++R],g[++R],g[++R],g[++R],g[++R],g[++R],T,x,m);break}case f.LINE_TO:{N!==null?N.points.push(new n(g[++R],g[++R],T)):(N=new e(g[++R],g[++R],T),z.push(N));break}case f.MOVE_TO:{N=new e(g[++R],g[++R],T),z.push(N);break}case f.SAVE:{s.push(x.copyToArray());break}case f.RESTORE:{x.copyFromArray(s.pop());break}case f.TRANSLATE:{it=g[++R],st=g[++R],x.translate(it,st);break}case f.SCALE:{it=g[++R],st=g[++R],x.scale(it,st);break}case f.ROTATE:{x.rotate(g[++R]);break}}o.pipelines.postBatch(h)}};p.exports=i},59192:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83979),c=t(56694),a=t(56631),r=t(6659),n=t(71608),e=t(72632),s=t(10850),u=t(19256),i=t(42911),o=t(75757),h=t(58403),l=t(13747),d=new c({Extends:r,initialize:function(m,x,g){r.call(this),g?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?i(x[0])&&(g=x,x=null):i(x)&&(g=x,x=null),this.scene=m,this.children=new h,this.isParent=!0,this.type="Group",this.classType=e(g,"classType",l),this.name=e(g,"name",""),this.active=e(g,"active",!0),this.maxSize=e(g,"maxSize",-1),this.defaultKey=e(g,"defaultKey",null),this.defaultFrame=e(g,"defaultFrame",null),this.runChildUpdate=e(g,"runChildUpdate",!1),this.createCallback=e(g,"createCallback",null),this.removeCallback=e(g,"removeCallback",null),this.createMultipleCallback=e(g,"createMultipleCallback",null),this.internalCreateCallback=e(g,"internalCreateCallback",null),this.internalRemoveCallback=e(g,"internalRemoveCallback",null),x&&this.addMultiple(x),g&&this.createMultiple(g),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,m,x,g,y,T){if(v===void 0&&(v=0),m===void 0&&(m=0),x===void 0&&(x=this.defaultKey),g===void 0&&(g=this.defaultFrame),y===void 0&&(y=!0),T===void 0&&(T=!0),this.isFull())return null;var E=new this.classType(this.scene,v,m,x,g);return E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList(),E.visible=y,E.setActive(T),this.add(E),E},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var m=[];if(v[0].key)for(var x=0;x<v.length;x++){var g=this.createFromConfig(v[x]);m=m.concat(g)}return m},createFromConfig:function(v){if(this.isFull())return[];this.classType=e(v,"classType",this.classType);var m=e(v,"key",void 0),x=e(v,"frame",null),g=e(v,"visible",!0),y=e(v,"active",!0),T=[];if(m===void 0)return T;Array.isArray(m)||(m=[m]),Array.isArray(x)||(x=[x]);var E=e(v,"repeat",0),C=e(v,"randomKey",!1),A=e(v,"randomFrame",!1),P=e(v,"yoyo",!1),F=e(v,"quantity",!1),O=e(v,"frameQuantity",1),I=e(v,"max",0),G=o(m,x,{max:I,qty:F||O,random:C,randomB:A,repeat:E,yoyo:P});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback),v.internalCreateCallback&&(this.internalCreateCallback=v.internalCreateCallback),v.internalRemoveCallback&&(this.internalRemoveCallback=v.internalRemoveCallback);for(var z=0;z<G.length;z++){var X=this.create(0,0,G[z].a,G[z].b,g,y);if(!X)break;T.push(X)}if(u(v,"setXY")){var H=s(v,"setXY.x",0),N=s(v,"setXY.y",0),U=s(v,"setXY.stepX",0),R=s(v,"setXY.stepY",0);f.SetXY(T,H,N,U,R)}if(u(v,"setRotation")){var D=s(v,"setRotation.value",0),B=s(v,"setRotation.step",0);f.SetRotation(T,D,B)}if(u(v,"setScale")){var V=s(v,"setScale.x",1),Y=s(v,"setScale.y",V),K=s(v,"setScale.stepX",0),$=s(v,"setScale.stepY",0);f.SetScale(T,V,Y,K,$)}if(u(v,"setOrigin")){var J=s(v,"setOrigin.x",.5),Q=s(v,"setOrigin.y",J),k=s(v,"setOrigin.stepX",0),q=s(v,"setOrigin.stepY",0);f.SetOrigin(T,J,Q,k,q)}if(u(v,"setAlpha")){var tt=s(v,"setAlpha.value",1),_=s(v,"setAlpha.step",0);f.SetAlpha(T,tt,_)}if(u(v,"setDepth")){var it=s(v,"setDepth.value",0),st=s(v,"setDepth.step",0);f.SetDepth(T,it,st)}if(u(v,"setScrollFactor")){var ht=s(v,"setScrollFactor.x",1),ut=s(v,"setScrollFactor.y",ht),et=s(v,"setScrollFactor.stepX",0),rt=s(v,"setScrollFactor.stepY",0);f.SetScrollFactor(T,ht,ut,et,rt)}var nt=e(v,"hitArea",null),pt=e(v,"hitAreaCallback",null);nt&&f.SetHitArea(T,nt,pt);var gt=e(v,"gridAlign",!1);return gt&&f.GridAlign(T,gt),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(v,m){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),g=0;g<x.length;g++){var y=x[g];y.active&&y.update(v,m)}},add:function(v,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),m&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(a.DESTROY,this.remove,this),this)},addMultiple:function(v,m){if(m===void 0&&(m=!1),Array.isArray(v))for(var x=0;x<v.length;x++)this.add(v[x],m);return this},remove:function(v,m,x){return m===void 0&&(m=!1),x===void 0&&(x=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(a.DESTROY,this.remove,this),x?v.destroy():m&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1);for(var x=this.children,g=0;g<x.size;g++){var y=x.entries[g];y.off(a.DESTROY,this.remove,this),m?y.destroy():v&&(y.removeFromDisplayList(),y.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,m,x,g){return n(this.children.entries,v,m,x,g)},getFirst:function(v,m,x,g,y,T,E){return this.getHandler(!0,1,v,m,x,g,y,T,E)},getFirstNth:function(v,m,x,g,y,T,E,C){return this.getHandler(!0,v,m,x,g,y,T,E,C)},getLast:function(v,m,x,g,y,T,E){return this.getHandler(!1,1,v,m,x,g,y,T,E)},getLastNth:function(v,m,x,g,y,T,E,C){return this.getHandler(!1,v,m,x,g,y,T,E,C)},getHandler:function(v,m,x,g,y,T,E,C,A){x===void 0&&(x=!1),g===void 0&&(g=!1);var P,F,O=0,I=this.children.entries;if(v)for(F=0;F<I.length;F++)if(P=I[F],P.active===x){if(O++,O===m)break}else P=null;else for(F=I.length-1;F>=0;F--)if(P=I[F],P.active===x){if(O++,O===m)break}else P=null;return P?(typeof y=="number"&&(P.x=y),typeof T=="number"&&(P.y=T),P):g?this.create(y,T,E,C,A):null},get:function(v,m,x,g,y){return this.getFirst(!1,!0,v,m,x,g,y)},getFirstAlive:function(v,m,x,g,y,T){return this.getFirst(!0,v,m,x,g,y,T)},getFirstDead:function(v,m,x,g,y,T){return this.getFirst(!1,v,m,x,g,y,T)},playAnimation:function(v,m){return f.PlayAnimation(this.children.entries,v,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var m=0,x=0;x<this.children.size;x++)this.children.entries[x].active===v&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,m,x,g,y){return f.PropertyValueSet(this.children.entries,v,m,x,g,y),this},propertyValueInc:function(v,m,x,g,y){return f.PropertyValueInc(this.children.entries,v,m,x,g,y),this},setX:function(v,m){return f.SetX(this.children.entries,v,m),this},setY:function(v,m){return f.SetY(this.children.entries,v,m),this},setXY:function(v,m,x,g){return f.SetXY(this.children.entries,v,m,x,g),this},incX:function(v,m){return f.IncX(this.children.entries,v,m),this},incY:function(v,m){return f.IncY(this.children.entries,v,m),this},incXY:function(v,m,x,g){return f.IncXY(this.children.entries,v,m,x,g),this},shiftPosition:function(v,m,x){return f.ShiftPosition(this.children.entries,v,m,x),this},angle:function(v,m){return f.Angle(this.children.entries,v,m),this},rotate:function(v,m){return f.Rotate(this.children.entries,v,m),this},rotateAround:function(v,m){return f.RotateAround(this.children.entries,v,m),this},rotateAroundDistance:function(v,m,x){return f.RotateAroundDistance(this.children.entries,v,m,x),this},setAlpha:function(v,m){return f.SetAlpha(this.children.entries,v,m),this},setTint:function(v,m,x,g){return f.SetTint(this.children.entries,v,m,x,g),this},setOrigin:function(v,m,x,g){return f.SetOrigin(this.children.entries,v,m,x,g),this},scaleX:function(v,m){return f.ScaleX(this.children.entries,v,m),this},scaleY:function(v,m){return f.ScaleY(this.children.entries,v,m),this},scaleXY:function(v,m,x,g){return f.ScaleXY(this.children.entries,v,m,x,g),this},setDepth:function(v,m){return f.SetDepth(this.children.entries,v,m),this},setBlendMode:function(v){return f.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,m){return f.SetHitArea(this.children.entries,v,m),this},shuffle:function(){return f.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,m,x){return f.SetVisible(this.children.entries,v,m,x),this},toggleVisible:function(){return f.ToggleVisible(this.children.entries),this},destroy:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,v),this.scene=void 0,this.children=void 0)}});p.exports=d},61295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(59192);f.register("group",function(a){return new c(this.scene,null,a)})},62598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59192),c=t(61286);c.register("group",function(a,r){return this.updateList.add(new f(this.scene,a,r))})},1539:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(57322),n=new f({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,r],initialize:function(s,u,i,o,h){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,h),this.setPosition(u,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},57786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),t.batchSprite(f,f.frame,c,a)};p.exports=S},83556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(1539);c.register("image",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"frame",null),i=new r(this.scene,0,0,s,u);return e!==void 0&&(n.add=e),f(this.scene,i,n),i})},20927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1539),c=t(61286);c.register("image",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},57322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(59390),a=t(57786),p.exports={renderWebGL:c,renderCanvas:a}},59390:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),this.pipeline.batchSprite(f,c,a)};p.exports=S},48013:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};f.Shader=t(27902),f.Mesh=t(83321),f.NineSlice=t(44139),f.PointLight=t(13171),f.Plane=t(33412),f.Factories.Shader=t(51979),f.Factories.Mesh=t(8767),f.Factories.NineSlice=t(53778),f.Factories.PointLight=t(91201),f.Factories.Plane=t(58322),f.Creators.Shader=t(13908),f.Creators.Mesh=t(41839),f.Creators.NineSlice=t(40964),f.Creators.PointLight=t(162),f.Creators.Plane=t(10912),f.Light=t(14455),f.LightsManager=t(26193),f.LightsPlugin=t(50296),p.exports=f},85305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(56694),a=t(64937),r=t(48129),n=t(81078),e=t(6659),s=t(56631),u=t(71207),i=t(47427),o=t(58010),h=t(7599),l=t(17922),d=new c({Extends:u,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,o],initialize:function(m,x){u.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),x&&this.add(x),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(v,m){return this.data||(this.data=new n(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new n(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new n(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new n(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},add:function(v){return u.prototype.add.call(this,v),this},remove:function(v,m){var x=u.prototype.remove.call(this,v);if(m&&x){Array.isArray(x)||(x=[x]);for(var g=0;g<x.length;g++)x[g].destroy()}return this},removeAll:function(v){var m=this.list;if(v){for(var x=0;x<m.length;x++)m[x]&&m[x].scene&&(m[x].off(s.DESTROY,this.remove,this),m[x].destroy());this.list=[]}else i(m,0,m.length,this.removeChildCallback,this);return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,x=[];m&&(x.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return x.unshift(this.displayList.getIndex(v)),x},addChildCallback:function(v){v.once(s.DESTROY,this.remove,this),v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(s.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){v.off(s.DESTROY,this.remove,this),this.queueDepthSort(),v.displayList=null,v.emit(s.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),v.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=d},834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=f.list;if(a.length!==0){f.depthSort();var r=f.blendMode!==-1;r||t.setBlendMode(0);var n=f._alpha;f.mask&&f.mask.preRenderCanvas(t,null,c);for(var e=0;e<a.length;e++){var s=a[e];if(!!s.willRender(c)){var u=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(u*n),s.renderCanvas(t,s,c),s.setAlpha(u)}}f.mask&&f.mask.postRenderCanvas(t)}};p.exports=S},56378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(85305),a=t(99325),r=t(20494);a.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),u=new c(this.scene,s);return e!==void 0&&(n.add=e),f(this.scene,u,n),u})},17676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85305),c=t(61286);c.register("layer",function(a){return this.displayList.add(new f(this.scene,a))})},58010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(17576),a=t(834),p.exports={renderWebGL:c,renderCanvas:a}},17576:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=f.list,r=a.length;if(r!==0){f.depthSort(),t.pipelines.preBatch(f);var n=f.blendMode!==-1;n||t.setBlendMode(0);for(var e=f.alpha,s=0;s<r;s++){var u=a[s];if(!!u.willRender(c)){var i,o,h,l;if(u.alphaTopLeft!==void 0)i=u.alphaTopLeft,o=u.alphaTopRight,h=u.alphaBottomLeft,l=u.alphaBottomRight;else{var d=u.alpha;i=d,o=d,h=d,l=d}!n&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var v=u.mask;v&&v.preRenderWebGL(t,u,c);var m=u.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=s<r-1?a[s+1].type===t.currentType:!1,u.setAlpha(i*e,o*e,h*e,l*e),u.renderWebGL(t,u,c),u.setAlpha(i,o,h,l),v&&v.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(f)}};p.exports=S},14455:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=t(56694),a=t(64937),r=t(39298),n=t(75512),e=new c({Extends:f,Mixins:[a.Origin,a.ScrollFactor,a.Transform,a.Visible],initialize:function(u,i,o,h,l,d,v){f.call(this,u,i,o),this.color=new r(h,l,d),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var u=n.getFloatsFromUintRGB(s);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,p.exports=e},26193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26535),c=t(56694),a=t(53996),r=t(14455),n=t(13171),e=t(39298),s=t(72677),u=t(17922),i=t(75512),o=new c({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(h,l,d,v,m,x){return this.systems.displayList.add(new n(this.scene,h,l,d,v,m,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(h){for(var l=this.lights,d=h.worldView,v=[],m=0;m<l.length;m++){var x=l[m];x.willRender(h)&&f(x,d)&&v.push({light:x,distance:a(x.x,x.y,d.centerX,d.centerY)})}return v.length>this.maxLights&&(u(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(h,l){return h.distance>=l.distance},setAmbientColor:function(h){var l=i.getFloatsFromUintRGB(h);return this.ambientColor.set(l[0],l[1],l[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(h,l,d,v,m){h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=128),v===void 0&&(v=16777215),m===void 0&&(m=1);var x=i.getFloatsFromUintRGB(v),g=new r(h,l,d,x[0],x[1],x[2],m);return this.lights.push(g),g},removeLight:function(h){var l=this.lights.indexOf(h);return l>=0&&s(this.lights,l),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=o},50296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(26193),a=t(91963),r=t(7599),n=new f({Extends:c,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),c.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",n,"lights"),p.exports=n},83321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(75606),r=t(18693),n=t(89980),e=t(53267),s=t(67623),u=t(73329),i=t(16650),o=t(23464),h=t(23701),l=t(17922),d=t(70015),v=t(85769),m=new f({Extends:n,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,o],initialize:function(g,y,T,E,C,A,P,F,O,I,G,z){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E="__WHITE"),n.call(this,g,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var X=g.sys.renderer;this.setPosition(y,T),this.setTexture(E,C),this.setSize(X.width,X.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(X.width,X.height),A&&this.addVertices(A,P,F,O,I,G,z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(d.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=d.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,g,y,T,E){return y===void 0&&(y=45),T===void 0&&(T=.01),E===void 0&&(E=1e3),this.fov=y,this.projectionMatrix.perspective(a(y),x/g,T,E),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,g,y,T){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),g===void 0&&(g=1),y===void 0&&(y=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-g,g,y,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,g,y,T,E,C,A,P,F){var O=this.scene.sys.cache.obj.get(x),I;return O&&(I=e(O,this,g,y,T,E,C,A,P,F)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,g){return x.depth-g.depth},depthSort:function(){return l(this.faces,this.sortByDepth),this},addVertex:function(x,g,y,T,E,C,A){var P=new v(x,g,y,T,E,C,A);return this.vertices.push(P),P},addFace:function(x,g,y){var T=new r(x,g,y);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(x,g,y,T,E,C,A){var P=s(x,g,y,T,E,C,A);return P?(this.faces=this.faces.concat(P.faces),this.vertices=this.vertices.concat(P.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,g,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=u(this,y).calc,E=this.faces,C=0;C<E.length;C++){var A=E[C];if(A.contains(x,g,T))return!0}return!1},getFaceAt:function(x,g,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=u(this,y).calc,E=this.faces,C=[],A=0;A<E.length;A++){var P=E[A];P.contains(x,g,T)&&C.push(P)}return l(C,this.sortByDepth)},setDebug:function(x,g){return this.debugGraphic=x,!x&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,g=this.modelRotation,y=this.modelScale,T=this.dirtyCache,E=x.x,C=x.y,A=x.z,P=g.x,F=g.y,O=g.z,I=y.x,G=y.y,z=y.z,X=this.getFaceCount(),H=T[0],N=T[1],U=T[2],R=T[3],D=T[4],B=T[5],V=T[6],Y=T[7],K=T[8],$=T[9];return T[0]=E,T[1]=C,T[2]=A,T[3]=P,T[4]=F,T[5]=O,T[6]=I,T[7]=G,T[8]=z,T[9]=X,H!==E||N!==C||U!==A||R!==P||D!==F||B!==O||V!==I||Y!==G||K!==z||$!==X},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var g=this.width,y=this.height,T=this.viewMatrix,E=this.viewPosition;x[10]&&(T.identity(),T.translate(E),T.invert(),x[10]=0);var C=this.transformMatrix;C.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var A=E.z,P=this.faces,F=0;F<P.length;F++)P[F].transformCoordinatesLocal(C,g,y,A);this.depthSort()}},renderDebug:function(x,g){for(var y=x.debugGraphic,T=0;T<g.length;T++){var E=g[T],C=E.vertex1.tx,A=E.vertex1.ty,P=E.vertex2.tx,F=E.vertex2.ty,O=E.vertex3.tx,I=E.vertex3.ty;y.strokeTriangle(C,A,P,F,O,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var x=function(g,y,T){for(var E=this.faces,C=0;C<E.length;C++){var A=E[C];if(A.contains(y,T))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,x),this},setTint:function(x){x===void 0&&(x=16777215);for(var g=this.vertices,y=0;y<g.length;y++)g[y].color=x;return this},uvScroll:function(x,g){for(var y=this.faces,T=0;T<y.length;T++)y[T].scrollUV(x,g);return this},uvScale:function(x,g){for(var y=this.faces,T=0;T<y.length;T++)y[T].scaleUV(x,g);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return h(this.modelRotation.x)},set:function(x){this.modelRotation.x=a(x)}},rotateY:{get:function(){return h(this.modelRotation.y)},set:function(x){this.modelRotation.y=a(x)}},rotateZ:{get:function(){return h(this.modelRotation.z)},set:function(x){this.modelRotation.z=a(x)}}});p.exports=m},6317:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},41839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(10850),n=t(83321);c.register("mesh",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=a(e,"frame",null),o=r(e,"vertices",[]),h=r(e,"uvs",[]),l=r(e,"indicies",[]),d=r(e,"containsZ",!1),v=r(e,"normals",[]),m=r(e,"colors",16777215),x=r(e,"alphas",1),g=new n(this.scene,0,0,u,i,o,h,l,d,v,m,x);return s!==void 0&&(e.add=s),f(this.scene,g,e),g})},8767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83321),c=t(61286);c.register("mesh",function(a,r,n,e,s,u,i,o,h,l,d){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o,h,l,d))})},23464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(57410),a=t(6317),p.exports={renderWebGL:c,renderCanvas:a}},57410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){var s=r.faces,u=s.length;if(u!==0){n.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),o=f(r,n,e).calc;a.pipelines.preBatch(r);for(var h=i.setGameObject(r),l=i.vertexViewF32,d=i.vertexViewU32,v=i.vertexCount*i.currentShader.vertexComponentCount-1,m=r.tintFill,x=[],g=r.debugCallback,y=o.a,T=o.b,E=o.c,C=o.d,A=o.e,P=o.f,F=r.viewPosition.z,O=r.hideCCW,I=n.roundPixels,G=n.alpha*r.alpha,z=0,X=0;X<u;X++){var H=s[X];!H.isInView(n,O,F,G,y,T,E,C,A,P,I)||(i.shouldFlush(3)&&(i.flush(),h=i.setGameObject(r),v=0),v=H.load(l,d,v,h,m),z++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,g&&x.push(H))}r.totalFrame+=z,g&&g.call(r,r,x),a.pipelines.postBatch(r)}};p.exports=c},44139:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(94456),n=t(85769),e=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,r],initialize:function(u,i,o,h,l,d,v,m,x,g,y){a.call(this,u,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var T=u.textures.getFrame(h,l);this.is3Slice=!g&&!y,T.scale9&&(this.is3Slice=T.is3Slice);for(var E=this.is3Slice?18:54,C=0;C<E;C++)this.vertices.push(new n);this.setPosition(i,o),this.setTexture(h,l),this.setSlices(d,v,m,x,g,y,!1),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,u,i,o,h,l,d){i===void 0&&(i=10),o===void 0&&(o=10),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=!1);var v=this.frame,m=!1;if(this.is3Slice&&d&&h!==0&&l!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(v.scale9&&!d){var x=v.data.scale9Borders,g=x.x,y=x.y;i=g,o=v.width-x.w-g,h=y,l=v.height-x.h-y,s===void 0&&(s=v.width),u===void 0&&(u=v.height)}else s===void 0&&(s=256),u===void 0&&(u=256);this._width=s,this._height=u,this.leftWidth=i,this.rightWidth=o,this.topHeight=h,this.bottomHeight=l,this.is3Slice&&(u=v.height,this._height=u,this.topHeight=u,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,u=this.rightWidth,i=this.topHeight,o=this.bottomHeight,h=this.frame.width,l=this.frame.height;this.updateQuadUVs(0,0,0,s/h,i/l),this.updateQuadUVs(6,s/h,0,1-u/h,i/l),this.updateQuadUVs(12,1-u/h,0,1,i/l),this.is3Slice||(this.updateQuadUVs(18,0,i/l,s/h,1-o/l),this.updateQuadUVs(24,s/h,i/l,1-u/h,1-o/l),this.updateQuadUVs(30,1-u/h,i/l,1,1-o/l),this.updateQuadUVs(36,0,1-o/l,s/h,1),this.updateQuadUVs(42,s/h,1-o/l,1-u/h,1),this.updateQuadUVs(48,1-u/h,1-o/l,1,1))},updateVertices:function(){var s=this.leftWidth,u=this.rightWidth,i=this.topHeight,o=this.bottomHeight,h=this.width,l=this.height;this.updateQuad(0,-.5,.5,-.5+s/h,.5-i/l),this.updateQuad(6,-.5+s/h,.5,.5-u/h,.5-i/l),this.updateQuad(12,.5-u/h,.5,.5,.5-i/l),this.is3Slice||(this.updateQuad(18,-.5,.5-i/l,-.5+s/h,-.5+o/l),this.updateQuad(24,-.5+s/h,.5-i/l,.5-u/h,-.5+o/l),this.updateQuad(30,.5-u/h,.5-i/l,.5,-.5+o/l),this.updateQuad(36,-.5,-.5+o/l,-.5+s/h,-.5),this.updateQuad(42,-.5+s/h,-.5+o/l,.5-u/h,-.5),this.updateQuad(48,.5-u/h,-.5+o/l,.5,-.5))},updateQuad:function(s,u,i,o,h){var l=this.width,d=this.height,v=this.originX,m=this.originY,x=this.vertices;x[s+0].resize(u,i,l,d,v,m),x[s+1].resize(u,h,l,d,v,m),x[s+2].resize(o,i,l,d,v,m),x[s+3].resize(u,h,l,d,v,m),x[s+4].resize(o,h,l,d,v,m),x[s+5].resize(o,i,l,d,v,m)},updateQuadUVs:function(s,u,i,o,h){var l=this.vertices,d=this.frame,v=d.u0,m=d.v0,x=d.u1,g=d.v1;if(v!==0||x!==1){var y=x-v;u=v+u*y,o=v+o*y}if(m!==0||g!==1){var T=g-m;i=m+i*T,h=m+h*T}l[s+0].setUVs(u,i),l[s+1].setUVs(u,h),l[s+2].setUVs(o,i),l[s+3].setUVs(u,h),l[s+4].setUVs(o,h),l[s+5].setUVs(o,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,u){this.width=s,this.height=u;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,u){return this.displayWidth=s,this.displayHeight=u,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,u){return s===void 0&&(s=.5),u===void 0&&(u=s),this._originX=s,this._originY=u,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},40964:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(10850),n=t(44139);c.register("nineslice",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=a(e,"frame",null),o=r(e,"width",256),h=r(e,"height",256),l=r(e,"leftWidth",10),d=r(e,"rightWidth",10),v=r(e,"topHeight",0),m=r(e,"bottomHeight",0),x=new n(this.scene,0,0,u,i,o,h,l,d,v,m);return s!==void 0&&(e.add=s),f(this.scene,x,e),x})},53778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44139),c=t(61286);c.register("nineslice",function(a,r,n,e,s,u,i,o,h,l){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o,h,l))})},94456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(27420),p.exports={renderWebGL:c,renderCanvas:a}},27420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){var u=n.vertices,i=u.length;if(i!==0){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline,n),h=f(n,e,s,!1).calc;r.pipelines.preBatch(n);var l=o.setGameObject(n),d=o.vertexViewF32,v=o.vertexViewU32,m=o.vertexCount*o.currentShader.vertexComponentCount-1,x=e.roundPixels,g=n.tintFill,y=e.alpha*n.alpha,T=c.getTintAppendFloatAlpha(n.tint,y),E=o.vertexAvailable(),C=-1;E<i&&(C=E);for(var A=0;A<i;A++){var P=u[A];A===C&&(o.flush(),l=o.setGameObject(n),m=0),d[++m]=h.getXRound(P.vx,P.vy,x),d[++m]=h.getYRound(P.vx,P.vy,x),d[++m]=P.u,d[++m]=P.v,d[++m]=l,d[++m]=g,v[++m]=T,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}r.pipelines.postBatch(n)}};p.exports=a},19737:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93025),a=t(22946),r=t(21902),n=t(4840),e=t(15978),s=new f({Extends:c,initialize:function(i){c.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var u=this.propertyValue,i=u,o=this.defaultEmit,h=this.defaultUpdate;if(this.method===9){this.start=u[0],this.ease=r("Linear"),this.interpolation=n("linear"),o=this.easedValueEmit,h=this.easeValueUpdate,i=u[0],this.active=!0;for(var l=0;l<u.length;l++){var d=e(u[l]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=o,this.onUpdate=h,this.current=i,this},setEase:function(u){this.easeName=u,this.ease=r(u)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(u,i,o){var h=this.ease(o),l=this.interpolation(this.r,h),d=this.interpolation(this.g,h),v=this.interpolation(this.b,h),m=a(l,d,v);return this.current=m,m}});p.exports=s},93025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(82897),a=t(56694),r=t(61616),n=t(21902),e=t(72632),s=t(4840),u=t(88462),i=t(1071),o=new a({initialize:function(l,d,v){v===void 0&&(v=!1),this.propertyKey=l,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(h,l){h===void 0&&(h={}),l&&(this.propertyKey=l),this.propertyValue=e(h,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(h){var l;switch(this.method){case 1:case 3:case 8:l=h;break;case 2:this.propertyValue.indexOf(h)>=0&&(l=h);break;case 4:var d=(this.end-this.start)/this.steps;l=u(h,d),this.counter=l;break;case 5:case 6:case 7:l=c(h,this.start,this.end);break;case 9:l=this.start[0];break}return this.current=l,this},getMethod:function(){var h=this.propertyValue;if(h===null)return 0;var l=typeof h;if(l==="number")return 1;if(Array.isArray(h))return 2;if(l==="function")return 3;if(l==="object"){if(this.hasBoth(h,"start","end"))return this.has(h,"steps")?4:5;if(this.hasBoth(h,"min","max"))return 6;if(this.has(h,"random"))return 7;if(this.hasEither(h,"onEmit","onUpdate"))return 8;if(this.hasEither(h,"values","interpolation"))return 9}return 0},setMethods:function(){var h=this.propertyValue,l=h,d=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,l=h[0];break;case 3:this._onEmit=h,d=this.proxyEmit;break;case 4:this.start=h.start,this.end=h.end,this.steps=h.steps,this.counter=this.start,this.yoyo=this.has(h,"yoyo")?h.yoyo:!1,this.direction=0,d=this.steppedEmit,l=this.start;break;case 5:this.start=h.start,this.end=h.end;var m=this.has(h,"ease")?h.ease:"Linear";this.ease=n(m,h.easeParams),d=this.has(h,"random")&&h.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,l=this.start;break;case 6:this.start=h.min,this.end=h.max,d=this.has(h,"int")&&h.int?this.randomRangedIntEmit:this.randomRangedValueEmit,l=this.start;break;case 7:var x=h.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),d=this.randomRangedIntEmit,l=this.start;break;case 8:this._onEmit=this.has(h,"onEmit")?h.onEmit:this.defaultEmit,this._onUpdate=this.has(h,"onUpdate")?h.onUpdate:this.defaultUpdate,d=this.proxyEmit,v=this.proxyUpdate;break;case 9:this.start=h.values;var g=this.has(h,"ease")?h.ease:"Linear";this.ease=n(g,h.easeParams),this.interpolation=s(h.interpolation),d=this.easedValueEmit,v=this.easeValueUpdate,l=this.start[0];break}return this.onEmit=d,this.onUpdate=v,this.current=l,this},has:function(h,l){return h.hasOwnProperty(l)},hasBoth:function(h,l,d){return h.hasOwnProperty(l)&&h.hasOwnProperty(d)},hasEither:function(h,l,d){return h.hasOwnProperty(l)||h.hasOwnProperty(d)},defaultEmit:function(h,l,d){return d},defaultUpdate:function(h,l,d,v){return v},proxyEmit:function(h,l,d){var v=this._onEmit(h,l,d);return this.current=v,v},proxyUpdate:function(h,l,d,v){var m=this._onUpdate(h,l,d,v);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var h=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[h],this.current},randomRangedValueEmit:function(h,l){var d=r(this.start,this.end);return h&&h.data[l]&&(h.data[l].min=d,h.data[l].max=this.end),this.current=d,d},randomRangedIntEmit:function(h,l){var d=f(this.start,this.end);return h&&h.data[l]&&(h.data[l].min=d,h.data[l].max=this.end),this.current=d,d},steppedEmit:function(){var h=this.counter,l=h,d=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(l+=d,l>=this.end&&(v=l-this.end,l=this.end-v,this.direction=1)):(l-=d,l<=this.start&&(v=this.start-l,l=this.start+v,this.direction=0)),this.counter=l}else this.counter=i(l+d,this.start,this.end);return this.current=h,h},easedValueEmit:function(h,l){if(h&&h.data[l]){var d=h.data[l];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(h,l,d){var v=h.data[l],m,x=this.ease(d);return this.interpolation?m=this.interpolation(this.start,x):m=(v.max-v.min)*x+v.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=o},87811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(30891),r=new f({Extends:a,initialize:function(e,s,u,i,o){if(typeof e=="object"){var h=e;e=c(h,"x",0),s=c(h,"y",0),u=c(h,"power",0),i=c(h,"epsilon",100),o=c(h,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=100),o===void 0&&(o=50);a.call(this,e,s,!0),this._gravity=o,this._power=u*o,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,u=this.y-n.y,i=s*s+u*u;if(i!==0){var o=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var h=this._power*e/(i*o)*100;n.velocityX+=s*h,n.velocityY+=u*h}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});p.exports=r},14909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(82897),a=t(56694),r=t(75606),n=t(74118),e=t(2386),s=t(93736),u=new a({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new f(this),this.bounds=new n},emit:function(i,o,h,l,d,v){return this.emitter.emit(i,o,h,l,d,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,o){i===void 0&&(i=0),o===void 0&&(o=0),this.x=i,this.y=o},fire:function(i,o){var h=this.emitter,l=h.ops,d=h.getAnim();if(d?this.anims.play(d):(this.frame=h.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(h.getEmitZone(this),i===void 0?this.x+=l.x.onEmit(this,"x"):l.x.steps>0?this.x+=i+l.x.onEmit(this,"x"):this.x+=i,o===void 0?this.y+=l.y.onEmit(this,"y"):l.y.steps>0?this.y+=o+l.y.onEmit(this,"y"):this.y+=o,this.life=l.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=l.delay.onEmit(this,"delay"),this.holdCurrent=l.hold.onEmit(this,"hold"),this.scaleX=l.scaleX.onEmit(this,"scaleX"),this.scaleY=l.scaleY.active?l.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=l.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),h.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&h.getDeathZone(this))return this.lifeCurrent=0,!1;var v=l.speedX.onEmit(this,"speedX"),m=l.speedY.active?l.speedY.onEmit(this,"speedY"):v;if(h.radial){var x=r(l.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(v),this.velocityY=Math.sin(x)*Math.abs(m)}else if(h.moveTo){var g=l.moveToX.onEmit(this,"moveToX"),y=l.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(g-this.x)/T,this.velocityY=(y-this.y)/T}else this.velocityX=v,this.velocityY=m;return h.acceleration&&(this.accelerationX=l.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=l.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=l.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=l.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=l.bounce.onEmit(this,"bounce"),this.alpha=l.alpha.onEmit(this,"alpha"),l.color.active?this.tint=l.color.onEmit(this,"tint"):this.tint=l.tint.onEmit(this,"tint"),!0},update:function(i,o,h){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var l=this.emitter,d=l.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=d.x.onUpdate(this,"x",v,this.x),this.y=d.y.onUpdate(this,"y",v,this.y),l.moveTo){var m=d.moveToX.onUpdate(this,"moveToX",v,l.moveToX),x=d.moveToY.onUpdate(this,"moveToY",v,l.moveToY),g=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/g,this.velocityY=(x-this.y)/g}return this.computeVelocity(l,i,o,h,v),this.scaleX=d.scaleX.onUpdate(this,"scaleX",v,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",v,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=r(this.angle),l.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=c(d.alpha.onUpdate(this,"alpha",v,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",v,this.tint):this.tint=d.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,o,h,l,d){var v=i.ops,m=this.velocityX,x=this.velocityY,g=v.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),y=v.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),T=v.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),E=v.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",d,this.bounce),m+=i.gravityX*h+g*h,x+=i.gravityY*h+y*h,m=c(m,-T,T),x=c(x,-E,E),this.velocityX=m,this.velocityY=x,this.x+=m*h,this.y+=x*h,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var C=0;C<l.length;C++){var A=l[C];A.active&&A.update(this,o,h,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var o=Math.abs(i.scaleX)*this.scaleX,h=Math.abs(i.scaleY)*this.scaleY,l=this.x,d=this.y,v=this.rotation,m=this.frame.width*o/2,x=this.frame.height*h/2,g=this.bounds,y=new s(l-m,d-x),T=new s(l+m,d-x),E=new s(l-m,d+x),C=new s(l+m,d+x);return v!==0&&(e(y,l,d,v),e(T,l,d,v),e(E,l,d,v),e(C,l,d,v)),i.transformPoint(y.x,y.y,y),i.transformPoint(T.x,T.y,T),i.transformPoint(E.x,E.y,E),i.transformPoint(C.x,C.y,C),g.x=Math.min(y.x,T.x,E.x,C.x),g.y=Math.min(y.y,T.y,E.y,C.y),g.width=Math.max(y.x,T.x,E.x,C.x)-g.x,g.height=Math.max(y.y,T.y,E.y,C.y)-g.y,g},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=u},73106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(30891),a=t(74118),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d){o===void 0&&(o=!0),h===void 0&&(h=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),c.call(this,e,s,!0),this.bounds=new a(e,s,u,i),this.collideLeft=o,this.collideRight=h,this.collideTop=l,this.collideBottom=d},update:function(n){var e=this.bounds,s=-n.bounce,u=n.worldPosition;u.x<e.x&&this.collideLeft?(n.x+=e.x-u.x,n.velocityX*=s):u.x>e.right&&this.collideRight&&(n.x-=u.x-e.right,n.velocityX*=s),u.y<e.y&&this.collideTop?(n.y+=e.y-u.y,n.velocityY*=s):u.y>e.bottom&&this.collideBottom&&(n.y-=u.y-e.bottom,n.velocityY*=s)}});p.exports=r},9216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(48129),r=t(29538),n=t(69361),e=t(54213),s=t(19737),u=t(93025),i=t(40629),o=t(89980),h=t(72632),l=t(72861),d=t(87811),v=t(53523),m=t(19256),x=t(7782),g=t(71207),y=t(14655),T=t(14909),E=t(68433),C=t(74118),A=t(90205),P=t(66458),F=t(69116),O=t(17922),I=t(69360),G=t(93736),z=t(1071),X=t(73106),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],N=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new f({Extends:o,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,F],initialize:function(D,B,V,Y,K){o.call(this,D,"ParticleEmitter"),this.particleClass=T,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new s("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new g(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(B,V),this.setTexture(Y),K&&this.setConfig(K)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(R){if(!R)return this;var D=0,B="",V=this.ops;for(D=0;D<N.length;D++)B=N[D],V[B].loadConfig(R);for(D=0;D<H.length;D++)B=H[D],m(R,B)&&(this[B]=h(R,B));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(R,"speed")&&(V.speedX.loadConfig(R,"speed"),V.speedY.active=!1),(v(R,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(R,"scale")&&(V.scaleX.loadConfig(R,"scale"),V.scaleY.active=!1),m(R,"callbackScope")){var Y=h(R,"callbackScope",null);this.emitCallbackScope=Y,this.deathCallbackScope=Y}if(m(R,"emitZone")&&this.addEmitZone(R.emitZone),m(R,"deathZone")&&this.addDeathZone(R.deathZone),m(R,"bounds")){var K=this.addParticleBounds(R.bounds);K.collideLeft=h(R,"collideLeft",!0),K.collideRight=h(R,"collideRight",!0),K.collideTop=h(R,"collideTop",!0),K.collideBottom=h(R,"collideBottom",!0)}return m(R,"followOffset")&&this.followOffset.setFromObject(h(R,"followOffset",0)),m(R,"texture")&&this.setTexture(R.texture),m(R,"frame")?this.setEmitterFrame(R.frame):m(R,"anim")&&this.setAnim(R.anim),m(R,"reserve")&&this.reserve(R.reserve),m(R,"advance")&&this.fastForward(R.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},toJSON:function(){var R=a(this),D=0,B="";for(D=0;D<H.length;D++)B=H[D],R[B]=this[B];var V=this.ops;for(D=0;D<N.length;D++)B=N[D],V[B]&&(R[B]=V[B].toJSON());return V.speedY.active||(delete R.speedX,R.speed=V.speedX.toJSON()),this.scaleX===this.scaleY&&(delete R.scaleX,delete R.scaleY,R.scale=V.scaleX.toJSON()),R},resetCounters:function(R,D){var B=this.counters;B.fill(0),B[0]=R,D&&(B[5]=1)},startFollow:function(R,D,B,V){return D===void 0&&(D=0),B===void 0&&(B=0),V===void 0&&(V=!1),this.follow=R,this.followOffset.set(D,B),this.trackVisible=V,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var R=this.frames,D=R.length,B;return D===1?B=R[0]:this.randomFrame?B=l(R):(B=R[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===D&&(this.currentFrame=0))),this.texture.get(B)},setEmitterFrame:function(R,D,B){D===void 0&&(D=!0),B===void 0&&(B=1),this.randomFrame=D,this.frameQuantity=B,this.currentFrame=0;var V=typeof R;if(this.frames.length=0,Array.isArray(R))this.frames=this.frames.concat(R);else if(V==="string"||V==="number")this.frames.push(R);else if(V==="object"){var Y=R;R=h(Y,"frames",null),R&&(this.frames=this.frames.concat(R));var K=h(Y,"cycle",!1);this.randomFrame=!K,this.frameQuantity=h(Y,"quantity",B)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var R=this.anims,D=R.length;if(D===0)return null;if(D===1)return R[0];if(this.randomAnim)return l(R);var B=R[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,D)),B},setAnim:function(R,D,B){D===void 0&&(D=!0),B===void 0&&(B=1),this.randomAnim=D,this.animQuantity=B,this.currentAnim=0;var V=typeof R;if(this.anims.length=0,Array.isArray(R))this.anims=this.anims.concat(R);else if(V==="string")this.anims.push(R);else if(V==="object"){var Y=R;R=h(Y,"anims",null),R&&(this.anims=this.anims.concat(R));var K=h(Y,"cycle",!1);this.randomAnim=!K,this.animQuantity=h(Y,"quantity",B)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(R){return R===void 0&&(R=!0),this.radial=R,this},addParticleBounds:function(R,D,B,V,Y,K,$,J){if(typeof R=="object"){var Q=R;R=Q.x,D=Q.y,B=m(Q,"w")?Q.w:Q.width,V=m(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new X(R,D,B,V,Y,K,$,J))},setParticleSpeed:function(R,D){return D===void 0&&(D=R),this.ops.speedX.onChange(R),R===D?this.ops.speedY.active=!1:this.ops.speedY.onChange(D),this.radial=!0,this},setParticleScale:function(R,D){return R===void 0&&(R=1),D===void 0&&(D=R),this.ops.scaleX.onChange(R),this.ops.scaleY.onChange(D),this},setParticleGravity:function(R,D){return this.gravityX=R,this.gravityY=D,this},setParticleAlpha:function(R){return this.ops.alpha.onChange(R),this},setParticleTint:function(R){return this.ops.tint.onChange(R),this},setEmitterAngle:function(R){return this.ops.angle.onChange(R),this},setParticleLifespan:function(R){return this.ops.lifespan.onChange(R),this},setQuantity:function(R){return this.quantity=R,this},setFrequency:function(R,D){return this.frequency=R,this.flowCounter=R>0?R:0,D&&(this.quantity=D),this},addDeathZone:function(R){Array.isArray(R)||(R=[R]);for(var D,B=[],V=0;V<R.length;V++)if(D=R[V],D instanceof n)B.push(D);else if(typeof D.contains=="function")D=new n(D,!0),B.push(D);else{var Y=h(D,"type","onEnter"),K=h(D,"source",null);if(K&&typeof K.contains=="function"){var $=Y==="onEnter";D=new n(K,$),B.push(D)}}return this.deathZones=this.deathZones.concat(B),B},removeDeathZone:function(R){return P(this.deathZones,R),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(R){Array.isArray(R)||(R=[R]);for(var D,B=[],V=0;V<R.length;V++)if(D=R[V],D instanceof E||D instanceof e)B.push(D);else{var Y=h(D,"source",null);if(Y){var K=h(D,"type","random");if(K==="random"&&typeof Y.getRandomPoint=="function")D=new E(Y),B.push(D);else if(K==="edge"&&typeof Y.getPoints=="function"){var $=h(D,"quantity",1),J=h(D,"stepRate",0),Q=h(D,"yoyo",!1),k=h(D,"seamless",!0),q=h(D,"total",-1);D=new e(Y,$,J,Q,k,q),B.push(D)}}}return this.emitZones=this.emitZones.concat(B),B},removeEmitZone:function(R){return P(this.emitZones,R),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(R){var D=this.emitZones,B=D.length;if(B!==0){var V=D[this.zoneIndex];V.getPoint(R),V.total>-1&&(this.zoneTotal++,this.zoneTotal===V.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===B&&(this.zoneIndex=0)))}},getDeathZone:function(R){for(var D=this.deathZones,B=0;B<D.length;B++){var V=D[B];if(V.willKill(R))return this.emit(i.DEATH_ZONE,this,R,V),!0}return!1},setEmitZone:function(R){var D;return isFinite(R)?D=R:D=this.emitZones.indexOf(R),D>=0&&(this.zoneIndex=D),this},addParticleProcessor:function(R){return this.processors.exists(R)||(R.emitter&&R.emitter.removeParticleProcessor(R),this.processors.add(R),R.emitter=this),R},removeParticleProcessor:function(R){return this.processors.exists(R)&&(this.processors.remove(R,!0),R.emitter=null),R},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(R){return this.addParticleProcessor(new d(R))},reserve:function(R){var D=this.dead;if(this.maxParticles>0){var B=this.getParticleCount();B+R>this.maxParticles&&(R=this.maxParticles-(B+R))}for(var V=0;V<R;V++)D.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(R,D){return R===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof R=="function"&&(this.emitCallback=R,D&&(this.emitCallbackScope=D)),this},onParticleDeath:function(R,D){return R===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof R=="function"&&(this.deathCallback=R,D&&(this.deathCallbackScope=D)),this},killAll:function(){for(var R=this.dead,D=this.alive;D.length>0;)R.push(D.pop());return this},forEachAlive:function(R,D){for(var B=this.alive,V=B.length,Y=0;Y<V;Y++)R.call(D,B[Y],this);return this},forEachDead:function(R,D){for(var B=this.dead,V=B.length,Y=0;Y<V;Y++)R.call(D,B[Y],this);return this},start:function(R,D){return R===void 0&&(R=0),this.emitting||(R>0&&this.fastForward(R),this.emitting=!0,this.resetCounters(this.frequency,!0),D!==void 0&&(this.duration=Math.abs(D)),this.emit(i.START,this)),this},stop:function(R){return R===void 0&&(R=!1),this.emitting&&(this.emitting=!1,R&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(R,D){return R===void 0&&(R=""),D===void 0&&(D=this.true),this.sortProperty=R,this.sortOrderAsc=D,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(R){return this.sortProperty!==""?R=this.depthSortCallback:R=null,this.sortCallback=R,this},depthSort:function(){return O(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(R,D){var B=this.sortProperty;return this.sortOrderAsc?R[B]-D[B]:D[B]-R[B]},flow:function(R,D,B){return D===void 0&&(D=1),this.emitting=!1,this.frequency=R,this.quantity=D,B!==void 0&&(this.stopAfter=B),this.start()},explode:function(R,D,B){this.frequency=-1,this.resetCounters(-1,!0);var V=this.emitParticle(R,D,B);return this.emit(i.EXPLODE,this,V),V},emitParticleAt:function(R,D,B){return this.emitParticle(B,R,D)},emitParticle:function(R,D,B){if(!this.atLimit()){R===void 0&&(R=this.ops.quantity.onEmit());for(var V=this.dead,Y=this.stopAfter,K=this.follow?this.follow.x+this.followOffset.x:D,$=this.follow?this.follow.y+this.followOffset.y:B,J=0;J<R;J++){var Q=V.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(K,$)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),Y>0&&(this.stopCounter++,this.stopCounter>=Y)||this.atLimit())break}return Q}},fastForward:function(R,D){D===void 0&&(D=1e3/60);var B=0;for(this.skipping=!0;B<Math.abs(R);)this.preUpdate(0,D),B+=D;return this.skipping=!1,this},preUpdate:function(R,D){D*=this.timeScale;var B=D/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var V=this.getProcessors(),Y=this.alive,K=this.dead,$=0,J=[],Q=Y.length;for($=0;$<Q;$++){var k=Y[$];k.update(D,B,V)&&J.push({index:$,particle:k})}if(Q=J.length,Q>0){var q=this.deathCallback,tt=this.deathCallbackScope;for($=Q-1;$>=0;$--){var _=J[$];Y.splice(_.index,1),K.push(_.particle),q&&q.call(tt,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Y.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=D;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=D,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(R){for(var D=this.getWorldTransformMatrix(),B=this.alive,V=B.length,Y=[],K=0;K<V;K++){var $=B[K];A(R,$.getBounds(D))&&Y.push($)}return Y},getBounds:function(R,D,B,V){R===void 0&&(R=0),D===void 0&&(D=0),B===void 0&&(B=1e3/60),V===void 0&&(V=new C);var Y=this.getWorldTransformMatrix(),K,$,J=this.alive,Q=!1;if(V.setTo(0,0,0,0),D>0){var k=0;for(this.skipping=!0;k<Math.abs(D);){for(this.preUpdate(0,B),K=0;K<J.length;K++)$=J[K].getBounds(Y),Q?y(V,$):(Q=!0,r($,V));k+=B}this.skipping=!1}else for(K=0;K<J.length;K++)$=J[K].getBounds(Y),Q?y(V,$):(Q=!0,r($,V));return R>0&&x(V,R,R),V},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(R){this.ops.x.onChange(R)}},particleY:{get:function(){return this.ops.y.current},set:function(R){this.ops.y.onChange(R)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(R){this.ops.accelerationX.onChange(R)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(R){this.ops.accelerationY.onChange(R)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(R){this.ops.maxVelocityX.onChange(R)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(R){this.ops.maxVelocityY.onChange(R)}},speed:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R),this.ops.speedY.onChange(R)}},speedX:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R)}},speedY:{get:function(){return this.ops.speedY.current},set:function(R){this.ops.speedY.onChange(R)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(R){this.ops.moveToX.onChange(R)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(R){this.ops.moveToY.onChange(R)}},bounce:{get:function(){return this.ops.bounce.current},set:function(R){this.ops.bounce.onChange(R)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(R){this.ops.scaleX.onChange(R)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(R){this.ops.scaleY.onChange(R)}},particleColor:{get:function(){return this.ops.color.current},set:function(R){this.ops.color.onChange(R)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(R){this.ops.color.setEase(R)}},particleTint:{get:function(){return this.ops.tint.current},set:function(R){this.ops.tint.onChange(R)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(R){this.ops.alpha.onChange(R)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(R){this.ops.lifespan.onChange(R)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(R){this.ops.angle.onChange(R)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(R){this.ops.rotate.onChange(R)}},quantity:{get:function(){return this.ops.quantity.current},set:function(R){this.ops.quantity.onChange(R)}},delay:{get:function(){return this.ops.delay.current},set:function(R){this.ops.delay.onChange(R)}},hold:{get:function(){return this.ops.hold.current},set:function(R){this.ops.hold.onChange(R)}},flowCounter:{get:function(){return this.counters[0]},set:function(R){this.counters[0]=R}},frameCounter:{get:function(){return this.counters[1]},set:function(R){this.counters[1]=R}},animCounter:{get:function(){return this.counters[2]},set:function(R){this.counters[2]=R}},elapsed:{get:function(){return this.counters[3]},set:function(R){this.counters[3]=R}},stopCounter:{get:function(){return this.counters[4]},set:function(R){this.counters[4]=R}},completeFlag:{get:function(){return this.counters[5]},set:function(R){this.counters[5]=R}},zoneIndex:{get:function(){return this.counters[6]},set:function(R){this.counters[6]=R}},zoneTotal:{get:function(){return this.counters[7]},set:function(R){this.counters[7]=R}},currentFrame:{get:function(){return this.counters[8]},set:function(R){this.counters[8]=R}},currentAnim:{get:function(){return this.counters[9]},set:function(R){this.counters[9]=R}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var R,D=this.ops;for(R=0;R<N.length;R++){var B=N[R];D[B].destroy()}for(R=0;R<this.alive.length;R++)this.alive[R].destroy();for(R=0;R<this.dead.length;R++)this.dead[R].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=U},10456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(90205),c=t(69360),a=new c,r=new c,n=new c,e=new c,s=function(u,i,o,h){var l=a,d=r,v=n,m=e;h?(m.loadIdentity(),m.multiply(h),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var x=u.currentContext,g=o.roundPixels,y=o.alpha,T=i.alpha,E=i.alive,C=E.length,A=i.viewBounds;if(!(!i.visible||C===0||A&&!f(A,o.worldView))){i.sortCallback&&i.depthSort(),o.addToRenderList(i);var P=i.scrollFactorX,F=i.scrollFactorY;x.save(),x.globalCompositeOperation=u.blendModes[i.blendMode];for(var O=0;O<C;O++){var I=E[O],G=I.alpha*T*y;if(!(G<=0||I.scaleX===0||I.scaleY===0)){v.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),l.copyFrom(o.matrix),l.multiplyWithOffset(m,-o.scrollX*P,-o.scrollY*F),v.e=I.x,v.f=I.y,l.multiply(v,d);var z=I.frame,X=z.canvasData;if(X.width>0&&X.height>0){var H=-z.halfWidth,N=-z.halfHeight;x.globalAlpha=G,x.save(),d.setToContext(x),g&&(H=Math.round(H),N=Math.round(N)),x.imageSmoothingEnabled=!z.source.scaleMode,x.drawImage(z.source.image,X.x,X.y,X.width,X.height,H,N,X.width,X.height),x.restore()}}}x.restore()}};p.exports=s},765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(72632),n=t(9216);c.register("particles",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=r(e,"config",null),o=new n(this.scene,0,0,u);return s!==void 0&&(e.add=s),f(this.scene,o,e),i&&o.setConfig(i),o})},81212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(9216);f.register("particles",function(a,r,n,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new c(this.scene,a,r,n,e))})},69116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(10275),a=t(10456),p.exports={renderWebGL:c,renderCanvas:a}},10275:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(90205),c=t(69360),a=t(75512),r=new c,n=new c,e=new c,s=new c,u=function(i,o,h,l){var d=i.pipelines.set(o.pipeline),v=r,m=n,x=e,g=s;l?(g.loadIdentity(),g.multiply(l),g.translate(o.x,o.y),g.rotate(o.rotation),g.scale(o.scaleX,o.scaleY)):g.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var y=a.getTintAppendFloatAlpha,T=h.alpha,E=o.alpha;i.pipelines.preBatch(o);var C=o.alive,A=C.length,P=o.viewBounds;if(!(A===0||P&&!f(P,h.worldView))){o.sortCallback&&o.depthSort(),h.addToRenderList(o),v.copyFrom(h.matrix),v.multiplyWithOffset(g,-h.scrollX*o.scrollFactorX,-h.scrollY*o.scrollFactorY),i.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(i,o,h),i.pipelines.set(o.pipeline));for(var F=o.tintFill,O,I,G=0;G<A;G++){var z=C[G],X=z.alpha*E*T;if(!(X<=0||z.scaleX===0||z.scaleY===0)){x.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),x.e=z.x,x.f=z.y,v.multiply(x,m);var H=z.frame;H.glTexture!==I&&(I=H.glTexture,O=d.setGameObject(o,H));var N=-H.halfWidth,U=-H.halfHeight,R=m.setQuad(N,U,N+H.width,U+H.height),D=y(z.tint,X);d.shouldFlush(6)&&(d.flush(),O=d.setGameObject(o,H)),d.batchQuad(o,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],H.u0,H.v0,H.u1,H.v1,D,D,D,D,F,I,O)}}o.mask&&o.mask.postRenderWebGL(i,h),i.pipelines.postBatch(o)}};p.exports=u},30891:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=c},76100:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},26677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},62736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},56490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},85715:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},40629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(a){var r=a.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});p.exports=c},54213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u,i){s===void 0&&(s=!1),u===void 0&&(u=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});p.exports=c},68433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(n){this.source=n,this._tempVec=new c,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});p.exports=a},25962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(13747),r=new f({Extends:a,Mixins:[c.PathFollower],initialize:function(e,s,u,i,o,h){a.call(this,e,u,i,o,h),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});p.exports=r},19626:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(29598);f.register("follower",function(a,r,n,e,s){var u=new c(this.scene,a,r,n,e,s);return this.displayList.add(u),this.updateList.add(u),u})},33412:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(99425),r=t(15978),n=t(83321),e=t(76583),s=new c({Extends:n,initialize:function(i,o,h,l,d,v,m,x){l||(l="__DEFAULT"),n.call(this,i,o,h,l,d),this.type="Plane",this.anims=new f(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,m,x),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(u,i,o){u===void 0&&(u=8),i===void 0&&(i=8),o===void 0&&(o=!1);var h=!1;return o&&(h=!0),this.gridWidth=u,this.gridHeight=i,this.isTiled=o,this.clear(),a({mesh:this,widthSegments:u,heightSegments:i,isOrtho:!1,tile:o,flipY:h}),this},setSizeToFrame:function(u){u===void 0&&(u=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!u)return this;var o=this.gridWidth,h=this.gridHeight,l=this.vertices,d=i.u0,v=i.u1,m=i.v0,x=i.v1,g,y,T=0;if(this.isTiled)for(m=i.v1,x=i.v0,y=0;y<h;y++)for(g=0;g<o;g++)l[T++].setUVs(d,x),l[T++].setUVs(d,m),l[T++].setUVs(v,x),l[T++].setUVs(d,m),l[T++].setUVs(v,m),l[T++].setUVs(v,x);else{var E=o+1,C=h+1,A=v-d,P=x-m,F=[];for(y=0;y<C;y++)for(g=0;g<E;g++){var O=d+A*(g/o),I=m+P*(y/h);F.push(O,I)}for(y=0;y<h;y++)for(g=0;g<o;g++){var G=(g+E*y)*2,z=(g+E*(y+1))*2,X=(g+1+E*(y+1))*2,H=(g+1+E*y)*2;l[T++].setUVs(F[G],F[G+1]),l[T++].setUVs(F[z],F[z+1]),l[T++].setUVs(F[H],F[H+1]),l[T++].setUVs(F[z],F[z+1]),l[T++].setUVs(F[X],F[X+1]),l[T++].setUVs(F[H],F[H+1])}}return this},setViewHeight:function(u){u===void 0&&(u=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/u/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(u,i,o,h,l){u===void 0&&(u=16777215),i===void 0&&(i=255),o===void 0&&(o=255),h===void 0&&(h=255),l===void 0&&(l=128);var d=this.scene.sys.renderer.gl,v=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,v),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);for(var m=r(u),x=r(i),g=[],y=0;y<16;y++)for(var T=0;T<16;T++)y<8&&T<8||y>7&&T>7?g.push(m.r,m.g,m.b,o):g.push(x.r,x.g,x.b,h);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(g)),v.isAlphaPremultiplied=!0,v.isRenderTexture=!1,v.width=16,v.height=16;var E=this.scene.sys.textures.addGLTexture(e(),v,16,16);return this.removeCheckerboard(),this._checkerboard=E,d.bindTexture(d.TEXTURE_2D,null),this.setTexture(E),this.setSizeToFrame(),this.setViewHeight(l),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(u,i){return this.anims.play(u,i)},playReverse:function(u,i){return this.anims.playReverse(u,i)},playAfterDelay:function(u,i){return this.anims.playAfterDelay(u,i)},playAfterRepeat:function(u,i){return this.anims.playAfterRepeat(u,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},preUpdate:function(u,i){n.prototype.preUpdate.call(this,u,i),this.anims.update(u,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=s},10912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(32291),a=t(99325),r=t(20494),n=t(10850),e=t(33412);a.register("plane",function(s,u){s===void 0&&(s={});var i=r(s,"key",null),o=r(s,"frame",null),h=n(s,"width",8),l=n(s,"height",8),d=n(s,"tile",!1),v=new e(this.scene,0,0,i,o,h,l,d);u!==void 0&&(s.add=u);var m=n(s,"checkerboard",null);if(m){var x=n(m,"color1",16777215),g=n(m,"color2",255),y=n(m,"alpha1",255),T=n(m,"alpha2",255),E=n(m,"height",128);v.createCheckerboard(x,g,y,T,E)}return f(this.scene,v,s),c(v,s),v})},58322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(33412),c=t(61286);c.register("plane",function(a,r,n,e,s,u,i){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i))})},13171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(74853),n=t(65641),e=t(71606),s=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible,e],initialize:function(i,o,h,l,d,v,m){l===void 0&&(l=16777215),d===void 0&&(d=128),v===void 0&&(v=1),m===void 0&&(m=.1),a.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,h),this.color=r(l),this.intensity=v,this.attenuation=m,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=s},162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(13171);c.register("pointlight",function(n,e){n===void 0&&(n={});var s=a(n,"color",16777215),u=a(n,"radius",128),i=a(n,"intensity",1),o=a(n,"attenuation",.1),h=new r(this.scene,0,0,s,u,i,o);return e!==void 0&&(n.add=e),f(this.scene,h,n),h})},91201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(13171);f.register("pointlight",function(a,r,n,e,s,u){return this.displayList.add(new c(this.scene,a,r,n,e,s,u))})},71606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(80590),p.exports={renderWebGL:c,renderCanvas:a}},80590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){n.addToRenderList(r);var s=a.pipelines.set(r.pipeline),u=f(r,n,e).calc,i=r.width,o=r.height,h=-r._radius,l=-r._radius,d=h+i,v=l+o,m=u.getX(0,0),x=u.getY(0,0),g=u.getX(h,l),y=u.getY(h,l),T=u.getX(h,v),E=u.getY(h,v),C=u.getX(d,v),A=u.getY(d,v),P=u.getX(d,l),F=u.getY(d,l);a.pipelines.preBatch(r),s.batchPointLight(r,n,g,y,T,E,C,A,P,F,m,x),a.pipelines.postBatch(r)};p.exports=c},15996:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(845),a=t(1539),r=new f({Extends:a,initialize:function(e,s,u,i,o){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=32),o===void 0&&(o=32);var h=new c(e.sys.textures,"",i,o);a.call(this,e,s,u,h),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.texture.setSize(n,e),this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e){return this.setSize(n,e),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,u,i,o){return this.texture.fill(n,e,s,u,i,o),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,u,i){return this.texture.stamp(n,e,s,u,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,u,i){return this.texture.draw(n,e,s,u,i),this},drawFrame:function(n,e,s,u,i,o){return this.texture.drawFrame(n,e,s,u,i,o),this},repeat:function(n,e,s,u,i,o,h,l,d){return this.texture.repeat(n,e,s,u,i,o,h,l,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,u,i){return this.texture.batchDraw(n,e,s,u,i),this},batchDrawFrame:function(n,e,s,u,i,o){return this.texture.batchDrawFrame(n,e,s,u,i,o),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,u,i,o,h){return this.texture.snapshotArea(n,e,s,u,i,o,h),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});p.exports=r},85692:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(15996);c.register("renderTexture",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),u=a(n,"y",0),i=a(n,"width",32),o=a(n,"height",32),h=new r(this.scene,s,u,i,o);return e!==void 0&&(n.add=e),f(this.scene,h,n),h})},29599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(15996);f.register("renderTexture",function(a,r,n,e){return this.displayList.add(new c(this.scene,a,r,n,e))})},79968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(64937),r=t(89980),n=t(65641),e=t(58912),s=t(93736),u=new c({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(o,h,l,d,v,m,x,g,y){d===void 0&&(d="__DEFAULT"),m===void 0&&(m=2),x===void 0&&(x=!0),r.call(this,o,"Rope"),this.anims=new f(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,v),this.setPosition(h,l),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,g,y),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,o){var h=this.anims.currentFrame;this.anims.update(i,o),this.anims.currentFrame!==h&&(this.updateUVs(),this.updateVertices())},play:function(i,o,h){return this.anims.play(i,o,h),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,o,h){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,o,h))},setVertical:function(i,o,h){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,o,h)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,o){var h=this.points.length;if(h<1)return this;var l=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&o===void 0&&(i=[i]);var d,v=0;if(o!==void 0)for(d=0;d<h;d++)v=d*2,l[v]=i,l[v+1]=o;else if(i.length===h)for(d=0;d<h;d++)v=d*2,l[v]=i[d],l[v+1]=i[d];else{var m=i[0];for(d=0;d<h;d++)v=d*2,i.length>v&&(m=i[v]),l[v]=m,i.length>v+1&&(m=i[v+1]),l[v+1]=m}return this},setColors:function(i){var o=this.points.length;if(o<1)return this;var h=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var l,d=0;if(i.length===o)for(l=0;l<o;l++)d=l*2,h[d]=i[l],h[d+1]=i[l];else{var v=i[0];for(l=0;l<o;l++)d=l*2,i.length>d&&(v=i[d]),h[d]=v,i.length>d+1&&(v=i[d+1]),h[d+1]=v}return this},setPoints:function(i,o,h){if(i===void 0&&(i=2),typeof i=="number"){var l=i;l<2&&(l=2),i=[];var d,v,m;if(this.horizontal)for(m=-this.frame.halfWidth,v=this.frame.width/(l-1),d=0;d<l;d++)i.push({x:m+d*v,y:0});else for(m=-this.frame.halfHeight,v=this.frame.height/(l-1),d=0;d<l;d++)i.push({x:0,y:m+d*v})}var x=i.length,g=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(i.unshift({x:0,y:0}),x++),g!==x&&this.resizeArrays(x),this.dirty=!0,this.points=i,this.updateUVs(),o!=null&&this.setColors(o),h!=null&&this.setAlphas(h),this)},updateUVs:function(){for(var i=this.uv,o=this.points.length,h=this.frame.u0,l=this.frame.v0,d=this.frame.u1,v=this.frame.v1,m=(d-h)/(o-1),x=(v-l)/(o-1),g=0;g<o;g++){var y=g*4,T,E,C,A;this.horizontal?(this._flipX?(T=d-g*m,C=d-g*m):(T=h+g*m,C=h+g*m),this._flipY?(E=v,A=l):(E=l,A=v)):(this._flipX?(T=h,C=d):(T=d,C=h),this._flipY?(E=v-g*x,A=v-g*x):(E=l+g*x,A=l+g*x)),i[y+0]=T,i[y+1]=E,i[y+2]=C,i[y+3]=A}return this},resizeArrays:function(i){var o=this.colors,h=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),o=new Uint32Array(i*2),h=new Float32Array(i*2);for(var l=0;l<i*2;l++)o[l]=16777215,h[l]=1;return this.colors=o,this.alphas=h,this.dirty=!0,this},updateVertices:function(){var i=this._perp,o=this.points,h=this.vertices,l=o.length;if(this.dirty=!1,!(l<1)){for(var d,v=o[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<l;x++){var g=o[x],y=x*4;x<l-1?d=o[x+1]:d=g,i.x=d.y-v.y,i.y=-(d.x-v.x);var T=i.length();i.x/=T,i.y/=T,i.x*=m,i.y*=m,h[y]=g.x+i.x,h[y+1]=g.y+i.y,h[y+2]=g.x-i.x,h[y+3]=g.y-i.y,v=g}return this}},setDebug:function(i,o){return this.debugGraphic=i,!i&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,o,h){var l=i.debugGraphic,d=h[0],v=h[1],m=h[2],x=h[3];l.lineBetween(d,v,m,x);for(var g=4;g<o;g+=4){var y=h[g+0],T=h[g+1],E=h[g+2],C=h[g+3];l.lineBetween(d,v,y,T),l.lineBetween(m,x,E,C),l.lineBetween(m,x,y,T),l.lineBetween(y,T,E,C),d=y,v=T,m=E,x=C}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});p.exports=u},44598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},96027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(10850),n=t(79968);c.register("rope",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=a(e,"frame",null),o=a(e,"horizontal",!0),h=r(e,"points",void 0),l=r(e,"colors",void 0),d=r(e,"alphas",void 0),v=new n(this.scene,0,0,u,i,h,o,l,d);return s!==void 0&&(e.add=s),f(this.scene,v,e),v})},31982:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79968),c=t(61286);c.register("rope",function(a,r,n,e,s,u,i,o){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o))})},58912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(49489),a=t(44598),p.exports={renderWebGL:c,renderCanvas:a}},49489:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline,n),i=f(n,e,s).calc,o=n.vertices,h=n.uv,l=n.colors,d=n.alphas,v=n.alpha,m=c.getTintAppendFloatAlpha,x=e.roundPixels,g=o.length,y=Math.floor(g*.5);u.flush(),r.pipelines.preBatch(n);var T=u.setGameObject(n),E=u.vertexViewF32,C=u.vertexViewU32,A=u.vertexCount*u.currentShader.vertexComponentCount-1,P=0,F=n.tintFill;n.dirty&&n.updateVertices();for(var O=n.debugCallback,I=[],G=0;G<g;G+=2){var z=o[G+0],X=o[G+1],H=z*i.a+X*i.c+i.e,N=z*i.b+X*i.d+i.f;x&&(H=Math.round(H),N=Math.round(N)),E[++A]=H,E[++A]=N,E[++A]=h[G+0],E[++A]=h[G+1],E[++A]=T,E[++A]=F,C[++A]=m(l[P],e.alpha*(d[P]*v)),P++,O&&(I[G+0]=H,I[G+1]=N)}O&&O.call(n,n,g,I),u.vertexCount+=y,u.currentBatch.count=u.vertexCount-u.currentBatch.start,r.pipelines.postBatch(n)};p.exports=a},27902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(72632),n=t(98611),e=t(22440),s=t(24252),u=t(69360),i=new f({Extends:a,Mixins:[c.ComputedSize,c.Depth,c.GetBounds,c.Mask,c.Origin,c.ScrollFactor,c.Transform,c.Visible,s],initialize:function(h,l,d,v,m,x,g,y){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=128),x===void 0&&(x=128),a.call(this,h,"Shader"),this.blendMode=-1,this.shader;var T=h.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,v),this.setSize(m,x),this.setOrigin(.5,.5),this.setShader(l,g,y)},willRender:function(o){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,h){if(h===void 0&&(h=!1),!this.renderToTexture){var l=this.width,d=this.height,v=this.renderer;this.glTexture=v.createTextureFromSource(null,l,d,0),this.glTexture.flipY=h,this.framebuffer=v.createFramebuffer(l,d,this.glTexture,!1),this._rendererWidth=l,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,l,d))}return this.shader&&(v.pipelines.clear(),this.load(),this.flush(),v.pipelines.rebind()),this},setShader:function(o,h,l){if(h===void 0&&(h=[]),typeof o=="string"){var d=this.scene.sys.cache.shader;if(!d.has(o))return console.warn("Shader missing: "+o),this;this.shader=d.get(o)}else this.shader=o;var v=this.gl,m=this.renderer;this.program&&v.deleteProgram(this.program);var x=m.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);v.uniformMatrix4fv(v.getUniformLocation(x,"uViewMatrix"),!1,this.viewMatrix),v.uniformMatrix4fv(v.getUniformLocation(x,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(x,"uResolution"),this.width,this.height),this.program=x;var g=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[g.getFullYear(),g.getMonth(),g.getDate(),g.getHours()*60*60+g.getMinutes()*60+g.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)h[T]&&this.setSampler2D("iChannel"+T,h[T],T,l);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,h,l,d){var v=-1e3,m=1e3,x=1/(o-h),g=1/(l-d),y=1/(v-m),T=this.projectionMatrix;T[0]=-2*x,T[5]=-2*g,T[10]=2*y,T[12]=(o+h)*x,T[13]=(d+l)*g,T[14]=(m+v)*y;var E=this.program,C=this.gl,A=this.renderer;A.setProgram(E),C.uniformMatrix4fv(C.getUniformLocation(E,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=h,this._rendererHeight=l},initUniforms:function(){var o=this.gl,h=this.renderer.glFuncMap,l=this.program;this._textureCount=0;for(var d in this.uniforms){var v=this.uniforms[d],m=v.type,x=h[m];v.uniformLocation=o.getUniformLocation(l,d),m!=="sampler2D"&&(v.glMatrix=x.matrix,v.glValueLength=x.length,v.glFunc=x.func)}},setSampler2DBuffer:function(o,h,l,d,v,m){v===void 0&&(v=0),m===void 0&&(m={});var x=this.uniforms[o];return x.value=h,m.width=l,m.height=d,x.textureData=m,this._textureCount=v,this.initSampler2D(x),this},setSampler2D:function(o,h,l,d){l===void 0&&(l=0);var v=this.scene.sys.textures;if(v.exists(h)){var m=v.getFrame(h);if(m.glTexture&&m.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,m.glTexture,m.width,m.height,l,d);var x=this.uniforms[o],g=m.source;x.textureKey=h,x.source=g.image,x.value=m.glTexture,g.isGLTexture&&(d||(d={}),d.width=g.width,d.height=g.height),d&&(x.textureData=d),this._textureCount=l,this.initSampler2D(x)}return this},setUniform:function(o,h){return e(this.uniforms,o,h),this},getUniform:function(o){return r(this.uniforms,o,null)},setChannel0:function(o,h){return this.setSampler2D("iChannel0",o,0,h)},setChannel1:function(o,h){return this.setSampler2D("iChannel1",o,1,h)},setChannel2:function(o,h){return this.setSampler2D("iChannel2",o,2,h)},setChannel3:function(o,h){return this.setSampler2D("iChannel3",o,3,h)},initSampler2D:function(o){if(!!o.value){var h=this.gl;h.activeTexture(h.TEXTURE0+this._textureCount),h.bindTexture(h.TEXTURE_2D,o.value);var l=o.textureData;if(l&&!o.value.isRenderTexture){var d=h[r(l,"magFilter","linear").toUpperCase()],v=h[r(l,"minFilter","linear").toUpperCase()],m=h[r(l,"wrapS","repeat").toUpperCase()],x=h[r(l,"wrapT","repeat").toUpperCase()],g=h[r(l,"format","rgba").toUpperCase()];if(l.repeat&&(m=h.REPEAT,x=h.REPEAT),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!!l.flipY),l.width){var y=r(l,"width",512),T=r(l,"height",2),E=r(l,"border",0);h.texImage2D(h.TEXTURE_2D,0,g,y,T,E,g,h.UNSIGNED_BYTE,null)}else h.texImage2D(h.TEXTURE_2D,0,g,h.RGBA,h.UNSIGNED_BYTE,o.source);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,d),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,v),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,m),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,x)}this.renderer.setProgram(this.program),h.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,h=this.uniforms,l,d,v,m,x,g=0;for(var y in h)l=h[y],v=l.glFunc,d=l.glValueLength,m=l.uniformLocation,x=l.value,x!==null&&(d===1?l.glMatrix?v.call(o,m,l.transpose,x):v.call(o,m,x):d===2?v.call(o,m,x.x,x.y):d===3?v.call(o,m,x.x,x.y,x.z):d===4?v.call(o,m,x.x,x.y,x.z,x.w):l.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+g),o.bindTexture(o.TEXTURE_2D,x),o.uniform1i(m,g),g++))},load:function(o){var h=this.gl,l=this.width,d=this.height,v=this.renderer,m=this.program,x=this.viewMatrix;if(!this.renderToTexture){var g=-this._displayOriginX,y=-this._displayOriginY;x[0]=o[0],x[1]=o[1],x[4]=o[2],x[5]=o[3],x[8]=o[4],x[9]=o[5],x[12]=x[0]*g+x[4]*y,x[13]=x[1]*g+x[5]*y}h.useProgram(m),h.uniformMatrix4fv(h.getUniformLocation(m,"uViewMatrix"),!1,x),h.uniform2f(h.getUniformLocation(m,"uResolution"),this.width,this.height);var T=this.uniforms,E=T.resolution;E.value.x=l,E.value.y=d,T.time.value=v.game.loop.getDuration();var C=this.pointer;if(C){var A=T.mouse,P=C.x/l,F=1-C.y/d;A.value.x=P.toFixed(2),A.value.y=F.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,h=this.height,l=this.program,d=this.gl,v=this.vertexBuffer,m=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(m.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,v);var g=d.getAttribLocation(l,"inPosition");g!==-1&&(d.enableVertexAttribArray(g),d.vertexAttribPointer(g,2,d.FLOAT,!1,x,0));var y=this.vertexViewF32;y[3]=h,y[4]=o,y[5]=h,y[8]=o,y[9]=h,y[10]=o;var T=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,T*x)),d.drawArrays(d.TRIANGLES,0,T),this.renderToTexture&&m.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=i},10612:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},13908:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(27902);c.register("shader",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"x",0),i=a(n,"y",0),o=a(n,"width",128),h=a(n,"height",128),l=new r(this.scene,s,u,i,o,h);return e!==void 0&&(n.add=e),f(this.scene,l,n),l})},51979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27902),c=t(61286);c.register("shader",function(a,r,n,e,s,u,i){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i))})},24252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(19782),a=t(10612),p.exports={renderWebGL:c,renderCanvas:a}},19782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){if(!!r.shader){if(n.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=f(r,n,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(s.matrix),r.flush()}a.pipelines.rebind()}};p.exports=c},19543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e,s,u){for(var i=f.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),o=n.pathData,h=n.pathIndexes,l=0;l<h.length;l+=3){var d=h[l]*2,v=h[l+1]*2,m=h[l+2]*2,x=o[d+0]-s,g=o[d+1]-u,y=o[v+0]-s,T=o[v+1]-u,E=o[m+0]-s,C=o[m+1]-u,A=r.getX(x,g),P=r.getY(x,g),F=r.getX(y,T),O=r.getY(y,T),I=r.getX(E,C),G=r.getY(E,C);a.batchTri(n,A,P,F,O,I,G,0,0,1,1,i,i,i,2)}};p.exports=c},15608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=c||f.fillColor,n=a||f.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,u=r&255;t.fillStyle="rgba("+e+","+s+","+u+","+n+")"};p.exports=S},17876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=c||f.strokeColor,n=a||f.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,u=r&255;t.strokeStyle="rgba("+e+","+s+","+u+","+n+")",t.lineWidth=f.lineWidth};p.exports=S},91461:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(88829),n=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible],initialize:function(s,u,i){u===void 0&&(u="Shape"),a.call(this,s,u),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,u){return u===void 0&&(u=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=n},50262:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e,s){var u=a.strokeTint,i=f.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);u.TL=i,u.TR=i,u.BL=i,u.BR=i;var o=r.pathData,h=o.length-1,l=r.lineWidth,d=l/2,v=o[0]-e,m=o[1]-s;r.closePath||(h-=2);for(var x=2;x<h;x+=2){var g=o[x]-e,y=o[x+1]-s;a.batchLine(v,m,g,y,d,d,l,x-2,r.closePath?x===h-1:!1),v=g,m=y}};p.exports=c},28593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(2213),c=t(56694),a=t(75606),r=t(11117),n=t(26673),e=t(83392),s=t(91461),u=new c({Extends:s,Mixins:[f],initialize:function(o,h,l,d,v,m,x,g,y){h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=128),v===void 0&&(v=0),m===void 0&&(m=360),x===void 0&&(x=!1),s.call(this,o,"Arc",new n(0,0,d)),this._startAngle=v,this._endAngle=m,this._anticlockwise=x,this._iterations=.01,this.setPosition(h,l);var T=this.geom.radius*2;this.setSize(T,T),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var o=i*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,o){return this._startAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(i,o){return this._endAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var i=this._iterations,o=i,h=this.geom.radius,l=a(this._startAngle),d=a(this._endAngle),v=this._anticlockwise,m=h,x=h;d-=l,v?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var g=[m+Math.cos(l)*h,x+Math.sin(l)*h],y;o<1;)y=d*o+l,g.push(m+Math.cos(y)*h,x+Math.sin(y)*h),o+=i;return y=d+l,g.push(m+Math.cos(y)*h,x+Math.sin(y)*h),g.push(m+Math.cos(l)*h,x+Math.sin(l)*h),this.pathIndexes=r(g),this.pathData=g,this}});p.exports=u},23560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75606),c=t(15608),a=t(17876),r=t(49584),n=function(e,s,u,i){u.addToRenderList(s);var o=e.currentContext;if(r(e,o,s,u,i)){var h=s.radius;o.beginPath(),o.arc(h-s.originX*(h*2),h-s.originY*(h*2),h,f(s._startAngle),f(s._endAngle),s.anticlockwise),s.closePath&&o.closePath(),s.isFilled&&(c(o,s),o.fill()),s.isStroked&&(a(o,s),o.stroke()),o.restore()}};p.exports=n},10369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28593),c=t(61286);c.register("arc",function(a,r,n,e,s,u,i,o){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o))}),c.register("circle",function(a,r,n,e,s){return this.displayList.add(new f(this.scene,a,r,n,0,360,!1,e,s))})},2213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(58356),a=t(23560),p.exports={renderWebGL:c,renderCanvas:a}},58356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(19543),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=f(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&c(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},15220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(87203),a=t(11117),r=t(74118),n=t(91461),e=new f({Extends:n,Mixins:[c],initialize:function(u,i,o,h,l,d){i===void 0&&(i=0),o===void 0&&(o=0),n.call(this,u,"Curve",h),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,o),l!==void 0&&this.setFillStyle(l,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,u=this._smoothness;this.geom.getBounds(s,u),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],o=this.geom.getPoints(u),h=0;h<o.length;h++)i.push(o[h].x,o[h].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=e},4024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX+e._curveBounds.x,h=e._displayOriginY+e._curveBounds.y,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}e.closePath&&i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},10147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(15220);f.register("curve",function(a,r,n,e,s){return this.displayList.add(new c(this.scene,a,r,n,e,s))})},87203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(82958),a=t(4024),p.exports={renderWebGL:c,renderCanvas:a}},82958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},28591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(11117),a=t(84171),r=t(95669),n=t(91461),e=new f({Extends:n,Mixins:[a],initialize:function(u,i,o,h,l,d,v){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=128),l===void 0&&(l=128),n.call(this,u,"Ellipse",new r(h/2,l/2,h,l)),this._smoothness=64,this.setPosition(i,o),this.width=h,this.height=l,d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,u){return this.width=s,this.height=u,this.geom.setPosition(s/2,u/2),this.geom.setSize(s,u),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],u=this.geom.getPoints(this._smoothness),i=0;i<u.length;i++)s.push(u[i].x,u[i].y);return s.push(u[0].x,u[0].y),this.pathIndexes=c(s),this.pathData=s,this}});p.exports=e},55881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},99869:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28591),c=t(61286);c.register("ellipse",function(a,r,n,e,s,u){return this.displayList.add(new f(this.scene,a,r,n,e,s,u))})},84171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(17554),a=t(55881),p.exports={renderWebGL:c,renderCanvas:a}},17554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},39169:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91461),a=t(88059),r=new f({Extends:c,Mixins:[a],initialize:function(e,s,u,i,o,h,l,d,v,m,x){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=128),o===void 0&&(o=128),h===void 0&&(h=32),l===void 0&&(l=32),c.call(this,e,"Grid",null),this.cellWidth=h,this.cellHeight=l,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,u),this.setSize(i,o),this.setFillStyle(d,v),m!==void 0&&this.setOutlineStyle(m,x),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},95525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=-e._displayOriginX,h=-e._displayOriginY,l=s.alpha*e.alpha,d=e.width,v=e.height,m=e.cellWidth,x=e.cellHeight,g=Math.ceil(d/m),y=Math.ceil(v/x),T=m,E=x,C=m-(g*m-d),A=x-(y*x-v),P=e.showCells,F=e.showAltCells,O=e.showOutline,I=0,G=0,z=0,X=0,H=0;if(O&&(T--,E--,C===m&&C--,A===x&&A--),P&&e.fillAlpha>0)for(f(i,e),G=0;G<y;G++)for(F&&(z=G%2),I=0;I<g;I++){if(F&&z){z=0;continue}z++,X=I<g-1?T:C,H=G<y-1?E:A,i.fillRect(o+I*m,h+G*x,X,H)}if(F&&e.altFillAlpha>0)for(f(i,e,e.altFillColor,e.altFillAlpha*l),G=0;G<y;G++)for(F&&(z=G%2),I=0;I<g;I++){if(F&&!z){z=1;continue}z=0,X=I<g-1?T:C,H=G<y-1?E:A,i.fillRect(o+I*m,h+G*x,X,H)}if(O&&e.outlineFillAlpha>0){for(c(i,e,e.outlineFillColor,e.outlineFillAlpha*l),I=1;I<g;I++){var N=I*m;i.beginPath(),i.moveTo(N+o,h),i.lineTo(N+o,v+h),i.stroke()}for(G=1;G<y;G++){var U=G*x;i.beginPath(),i.moveTo(o,U+h),i.lineTo(o+d,U+h),i.stroke()}}i.restore()}};p.exports=r},9326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(39169);f.register("grid",function(a,r,n,e,s,u,i,o,h,l){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o,h,l))})},88059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(50639),a=t(95525),p.exports={renderWebGL:c,renderCanvas:a}},50639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s),o=u.calcMatrix.copyFrom(i.calc);o.translate(-n._displayOriginX,-n._displayOriginY);var h=e.alpha*n.alpha,l=n.width,d=n.height,v=n.cellWidth,m=n.cellHeight,x=Math.ceil(l/v),g=Math.ceil(d/m),y=v,T=m,E=v-(x*v-l),C=m-(g*m-d),A,P,F=n.showCells,O=n.showAltCells,I=n.showOutline,G=0,z=0,X=0,H=0,N=0;if(I&&(y--,T--,E===v&&E--,C===m&&C--),r.pipelines.preBatch(n),F&&n.fillAlpha>0)for(A=u.fillTint,P=c.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*h),A.TL=P,A.TR=P,A.BL=P,A.BR=P,z=0;z<g;z++)for(O&&(X=z%2),G=0;G<x;G++){if(O&&X){X=0;continue}X++,H=G<x-1?y:E,N=z<g-1?T:C,u.batchFillRect(G*v,z*m,H,N)}if(O&&n.altFillAlpha>0)for(A=u.fillTint,P=c.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*h),A.TL=P,A.TR=P,A.BL=P,A.BR=P,z=0;z<g;z++)for(O&&(X=z%2),G=0;G<x;G++){if(O&&!X){X=1;continue}X=0,H=G<x-1?y:E,N=z<g-1?T:C,u.batchFillRect(G*v,z*m,H,N)}if(I&&n.outlineFillAlpha>0){var U=u.strokeTint,R=c.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*h);for(U.TL=R,U.TR=R,U.BL=R,U.BR=R,G=1;G<x;G++){var D=G*v;u.batchLine(D,0,D,d,1,1,1,0,!1)}for(z=1;z<g;z++){var B=z*m;u.batchLine(0,B,l,B,1,1,1,0,!1)}}r.pipelines.postBatch(n)};p.exports=a},4415:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72296),c=t(56694),a=t(91461),r=new c({Extends:a,Mixins:[f],initialize:function(e,s,u,i,o,h,l,d){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=48),o===void 0&&(o=32),h===void 0&&(h=15658734),l===void 0&&(l=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=h,this.fillLeft=l,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,u),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},32884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(49584),a=function(r,n,e,s){e.addToRenderList(n);var u=r.currentContext;if(c(r,u,n,e,s)&&n.isFilled){var i=n.width,o=n.height,h=i/2,l=i/n.projection;n.showTop&&(f(u,n,n.fillTop),u.beginPath(),u.moveTo(-h,-o),u.lineTo(0,-l-o),u.lineTo(h,-o),u.lineTo(h,-1),u.lineTo(0,l-1),u.lineTo(-h,-1),u.lineTo(-h,-o),u.fill()),n.showLeft&&(f(u,n,n.fillLeft),u.beginPath(),u.moveTo(-h,0),u.lineTo(0,l),u.lineTo(0,l-o),u.lineTo(-h,-o),u.lineTo(-h,0),u.fill()),n.showRight&&(f(u,n,n.fillRight),u.beginPath(),u.moveTo(h,0),u.lineTo(0,l),u.lineTo(0,l-o),u.lineTo(h,-o),u.lineTo(h,0),u.fill()),u.restore()}};p.exports=a},88154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(4415);f.register("isobox",function(a,r,n,e,s,u,i){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i))})},72296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(33101),a=t(32884),p.exports={renderWebGL:c,renderCanvas:a}},33101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s),o=u.calcMatrix.copyFrom(i.calc),h=n.width,l=n.height,d=h/2,v=h/n.projection,m=e.alpha*n.alpha;if(!!n.isFilled){var x,g,y,T,E,C,A,P,F;r.pipelines.preBatch(n),n.showTop&&(x=c.getTintAppendFloatAlpha(n.fillTop,m),g=o.getX(-d,-l),y=o.getY(-d,-l),T=o.getX(0,-v-l),E=o.getY(0,-v-l),C=o.getX(d,-l),A=o.getY(d,-l),P=o.getX(0,v-l),F=o.getY(0,v-l),u.batchQuad(n,g,y,T,E,C,A,P,F,0,0,1,1,x,x,x,x,2)),n.showLeft&&(x=c.getTintAppendFloatAlpha(n.fillLeft,m),g=o.getX(-d,0),y=o.getY(-d,0),T=o.getX(0,v),E=o.getY(0,v),C=o.getX(0,v-l),A=o.getY(0,v-l),P=o.getX(-d,-l),F=o.getY(-d,-l),u.batchQuad(n,g,y,T,E,C,A,P,F,0,0,1,1,x,x,x,x,2)),n.showRight&&(x=c.getTintAppendFloatAlpha(n.fillRight,m),g=o.getX(d,0),y=o.getY(d,0),T=o.getX(0,v),E=o.getY(0,v),C=o.getX(0,v-l),A=o.getY(0,v-l),P=o.getX(d,-l),F=o.getY(d,-l),u.batchQuad(n,g,y,T,E,C,A,P,F,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(n)}};p.exports=a},65159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93387),a=t(91461),r=new f({Extends:a,Mixins:[c],initialize:function(e,s,u,i,o,h,l,d,v){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=48),o===void 0&&(o=32),h===void 0&&(h=!1),l===void 0&&(l=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=l,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=h,this.isFilled=!0,this.setPosition(s,u),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},9923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(49584),a=function(r,n,e,s){e.addToRenderList(n);var u=r.currentContext;if(c(r,u,n,e,s)&&n.isFilled){var i=n.width,o=n.height,h=i/2,l=i/n.projection,d=n.isReversed;n.showTop&&d&&(f(u,n,n.fillTop),u.beginPath(),u.moveTo(-h,-o),u.lineTo(0,-l-o),u.lineTo(h,-o),u.lineTo(0,l-o),u.fill()),n.showLeft&&(f(u,n,n.fillLeft),u.beginPath(),d?(u.moveTo(-h,-o),u.lineTo(0,l),u.lineTo(0,l-o)):(u.moveTo(-h,0),u.lineTo(0,l),u.lineTo(0,l-o)),u.fill()),n.showRight&&(f(u,n,n.fillRight),u.beginPath(),d?(u.moveTo(h,-o),u.lineTo(0,l),u.lineTo(0,l-o)):(u.moveTo(h,0),u.lineTo(0,l),u.lineTo(0,l-o)),u.fill()),u.restore()}};p.exports=a},67765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(65159);f.register("isotriangle",function(a,r,n,e,s,u,i,o){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o))})},93387:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(54946),a=t(9923),p.exports={renderWebGL:c,renderCanvas:a}},54946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s),o=u.calcMatrix.copyFrom(i.calc),h=n.width,l=n.height,d=h/2,v=h/n.projection,m=n.isReversed,x=e.alpha*n.alpha;if(!!n.isFilled){r.pipelines.preBatch(n);var g,y,T,E,C,A,P;if(n.showTop&&m){g=c.getTintAppendFloatAlpha(n.fillTop,x),y=o.getX(-d,-l),T=o.getY(-d,-l),E=o.getX(0,-v-l),C=o.getY(0,-v-l),A=o.getX(d,-l),P=o.getY(d,-l);var F=o.getX(0,v-l),O=o.getY(0,v-l);u.batchQuad(n,y,T,E,C,A,P,F,O,0,0,1,1,g,g,g,g,2)}n.showLeft&&(g=c.getTintAppendFloatAlpha(n.fillLeft,x),m?(y=o.getX(-d,-l),T=o.getY(-d,-l),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)):(y=o.getX(-d,0),T=o.getY(-d,0),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)),u.batchTri(n,y,T,E,C,A,P,0,0,1,1,g,g,g,2)),n.showRight&&(g=c.getTintAppendFloatAlpha(n.fillRight,x),m?(y=o.getX(d,-l),T=o.getY(d,-l),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)):(y=o.getX(d,0),T=o.getY(d,0),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)),u.batchTri(n,y,T,E,C,A,P,0,0,1,1,g,g,g,2)),r.pipelines.postBatch(n)}};p.exports=a},579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91461),a=t(88829),r=t(52660),n=new f({Extends:c,Mixins:[r],initialize:function(s,u,i,o,h,l,d,v,m){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=128),d===void 0&&(d=0),c.call(this,s,"Line",new a(o,h,l,d));var x=Math.max(1,this.geom.right-this.geom.left),g=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,i),this.setSize(x,g),v!==void 0&&this.setStrokeStyle(1,v,m),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,u,i){return this.geom.setTo(e,s,u,i),this}});p.exports=n},52044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17876),c=t(49584),a=function(r,n,e,s){e.addToRenderList(n);var u=r.currentContext;if(c(r,u,n,e,s)){var i=n._displayOriginX,o=n._displayOriginY;n.isStroked&&(f(u,n),u.beginPath(),u.moveTo(n.geom.x1-i,n.geom.y1-o),u.lineTo(n.geom.x2-i,n.geom.y2-o),u.stroke()),u.restore()}};p.exports=a},85665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(579);f.register("line",function(a,r,n,e,s,u,i,o){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o))})},52660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(46952),a=t(52044),p.exports={renderWebGL:c,renderCanvas:a}},46952:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s);u.calcMatrix.copyFrom(i.calc);var o=n._displayOriginX,h=n._displayOriginY,l=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var d=u.strokeTint,v=c.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*l);d.TL=v,d.TR=v,d.BL=v,d.BR=v,u.batchLine(n.geom.x1-o,n.geom.y1-h,n.geom.x2-o,n.geom.y2-h,n._startWidth/2,n._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};p.exports=a},91249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70573),c=t(56694),a=t(11117),r=t(14045),n=t(8580),e=t(91461),s=t(18974),u=new c({Extends:e,Mixins:[f],initialize:function(o,h,l,d,v,m){h===void 0&&(h=0),l===void 0&&(l=0),e.call(this,o,"Polygon",new n(d));var x=r(this.geom);this.setPosition(h,l),this.setSize(x.width,x.height),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var o=0;o<i;o++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var o=r(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],o=this.geom.points,h=0;h<o.length;h++)i.push(o[h].x,o[h].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=u},40834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}e.closePath&&i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},88203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(91249);f.register("polygon",function(a,r,n,e,s){return this.displayList.add(new c(this.scene,a,r,n,e,s))})},70573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(72841),a=t(40834),p.exports={renderWebGL:c,renderCanvas:a}},72841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74118),a=t(91461),r=t(37673),n=new f({Extends:a,Mixins:[r],initialize:function(s,u,i,o,h,l,d){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=128),h===void 0&&(h=128),a.call(this,s,"Rectangle",new c(0,0,o,h)),this.setPosition(u,i),this.setSize(o,h),l!==void 0&&this.setFillStyle(l,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=e,u.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,u=this._tempLine;return s.getLineA(u),e.push(u.x1,u.y1,u.x2,u.y2),s.getLineB(u),e.push(u.x2,u.y2),s.getLineC(u),e.push(u.x2,u.y2),s.getLineD(u),e.push(u.x2,u.y2),this.pathData=e,this}});p.exports=n},4091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY;e.isFilled&&(f(i,e),i.fillRect(-o,-h,e.width,e.height)),e.isStroked&&(c(i,e),i.beginPath(),i.rect(-o,-h,e.width,e.height),i.stroke()),i.restore()}};p.exports=r},94355:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(517);f.register("rectangle",function(a,r,n,e,s,u){return this.displayList.add(new c(this.scene,a,r,n,e,s,u))})},37673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(43532),a=t(4091),p.exports={renderWebGL:c,renderCanvas:a}},43532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(50262),a=t(75512),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=f(e,s,u);i.calcMatrix.copyFrom(o.calc);var h=e._displayOriginX,l=e._displayOriginY,d=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m,i.batchFillRect(-h,-l,e.width,e.height)}e.isStroked&&c(i,e,d,h,l),n.pipelines.postBatch(e)};p.exports=r},77843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(87956),c=t(56694),a=t(11117),r=t(91461),n=new c({Extends:r,Mixins:[f],initialize:function(s,u,i,o,h,l,d,v){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=5),h===void 0&&(h=32),l===void 0&&(l=64),r.call(this,s,"Star",null),this._points=o,this._innerRadius=h,this._outerRadius=l,this.setPosition(u,i),this.setSize(l*2,l*2),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,u=this._innerRadius,i=this._outerRadius,o=Math.PI/2*3,h=Math.PI/s,l=i,d=i;e.push(l,d+-i);for(var v=0;v<s;v++)e.push(l+Math.cos(o)*i,d+Math.sin(o)*i),o+=h,e.push(l+Math.cos(o)*u,d+Math.sin(o)*u),o+=h;return e.push(l,d+-i),this.pathIndexes=a(e),this.pathData=e,this}});p.exports=n},11401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},23962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(77843),c=t(61286);c.register("star",function(a,r,n,e,s,u,i){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i))})},87956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(12037),a=t(11401),p.exports={renderWebGL:c,renderCanvas:a}},12037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},21873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91461),a=t(66349),r=t(70498),n=new f({Extends:c,Mixins:[r],initialize:function(s,u,i,o,h,l,d,v,m,x,g){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=128),l===void 0&&(l=64),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=128),c.call(this,s,"Triangle",new a(o,h,l,d,v,m));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(u,i),this.setSize(y,T),x!==void 0&&this.setFillStyle(x,g),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,u,i,o,h){return this.geom.setTo(e,s,u,i,o,h),this.updateData()},updateData:function(){var e=[],s=this.geom,u=this._tempLine;return s.getLineA(u),e.push(u.x1,u.y1,u.x2,u.y2),s.getLineB(u),e.push(u.x2,u.y2),s.getLineC(u),e.push(u.x2,u.y2),this.pathData=e,this}});p.exports=n},60213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.geom.x1-o,d=e.geom.y1-h,v=e.geom.x2-o,m=e.geom.y2-h,x=e.geom.x3-o,g=e.geom.y3-h;i.beginPath(),i.moveTo(l,d),i.lineTo(v,m),i.lineTo(x,g),i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},79296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(21873);f.register("triangle",function(a,r,n,e,s,u,i,o,h,l){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o,h,l))})},70498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(72291),a=t(60213),p.exports={renderWebGL:c,renderCanvas:a}},72291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(50262),a=t(75512),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=f(e,s,u);i.calcMatrix.copyFrom(o.calc);var h=e._displayOriginX,l=e._displayOriginY,d=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m;var x=e.geom.x1-h,g=e.geom.y1-l,y=e.geom.x2-h,T=e.geom.y2-l,E=e.geom.x3-h,C=e.geom.y3-l;i.batchFillTriangle(x,g,y,T,E,C,o.sprite,o.camera)}e.isStroked&&c(i,e,d,h,l),n.pipelines.postBatch(e)};p.exports=r},13747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(64937),r=t(89980),n=t(20791),e=new c({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,n],initialize:function(u,i,o,h,l){r.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(h,l),this.setPosition(i,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){this.anims.update(s,u)},play:function(s,u){return this.anims.play(s,u)},playReverse:function(s,u){return this.anims.playReverse(s,u)},playAfterDelay:function(s,u){return this.anims.playAfterDelay(s,u)},playAfterRepeat:function(s,u){return this.anims.playAfterRepeat(s,u)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},27573:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),t.batchSprite(f,f.frame,c,a)};p.exports=S},89219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(32291),a=t(99325),r=t(20494),n=t(13747);a.register("sprite",function(e,s){e===void 0&&(e={});var u=r(e,"key",null),i=r(e,"frame",null),o=new n(this.scene,0,0,u,i);return s!==void 0&&(e.add=s),f(this.scene,o,e),c(o,e),o})},66135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(13747);f.register("sprite",function(a,r,n,e){return this.displayList.add(new c(this.scene,a,r,n,e))})},20791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(21034),a=t(27573),p.exports={renderWebGL:c,renderCanvas:a}},21034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),f.pipeline.batchSprite(f,c,a)};p.exports=S},32979:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.canvas,r=t.context,n=t.style,e=[],s=0,u=c.length;n.maxLines>0&&n.maxLines<c.length&&(u=n.maxLines),n.syncFont(a,r);for(var i=0;i<u;i++){var o=n.strokeThickness;o+=r.measureText(c[i]).width,c[i].length>1&&(o+=t.letterSpacing*(c[i].length-1)),n.wordWrap&&(o-=r.measureText(" ").width),e[i]=Math.ceil(o),s=Math.max(s,e[i])}var h=f.fontSize+n.strokeThickness,l=h*u,d=t.lineSpacing;return u>1&&(l+=d*(u-1)),{width:s,height:l,lines:u,lineWidths:e,lineSpacing:d,lineHeight:h}};p.exports=S},27030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=function(a){var r=f.create(this),n=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,n);var e=n.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,u=e.actualBoundingBoxDescent;return f.remove(r),{ascent:s,descent:u,fontSize:s+u}}var i=Math.ceil(e.width*a.baselineX),o=i,h=2*o;o=o*a.baselineY|0,r.width=i,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,i,h),n.font=a._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a.testString,0,o);var l={ascent:0,descent:0,fontSize:0},d=n.getImageData(0,0,i,h);if(!d)return l.ascent=o,l.descent=o+6,l.fontSize=l.ascent+l.descent,f.remove(r),l;var v=d.data,m=v.length,x=i*4,g,y,T=0,E=!1;for(g=0;g<o;g++){for(y=0;y<x;y+=4)if(v[T+y]!==255){E=!0;break}if(!E)T+=x;else break}for(l.ascent=o-g,T=m-x,E=!1,g=h;g>o;g--){for(y=0;y<x;y+=4)if(v[T+y]!==255){E=!0;break}if(!E)T-=x;else break}return l.descent=g-o,l.fontSize=l.ascent+l.descent,f.remove(r),l};p.exports=c},76555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99584),c=t(61068),a=t(56694),r=t(64937),n=t(89980),e=t(32979),s=t(10850),u=t(55638),i=t(80032),o=t(74744),h=new a({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(d,v,m,x,g){v===void 0&&(v=0),m===void 0&&(m=0),n.call(this,d,"Text"),this.renderer=d.sys.renderer,this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=c.create(this),this.context,this.style=new o(this,g),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),g&&g.padding&&this.setPadding(g.padding),g&&g.lineSpacing&&this.setLineSpacing(g.lineSpacing)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(l){var d=this.style;if(d.wordWrapCallback){var v=d.wordWrapCallback.call(d.wordWrapCallbackScope,l,this);return Array.isArray(v)&&(v=v.join(`
`)),v}else return d.wordWrapWidth?d.wordWrapUseAdvanced?this.advancedWordWrap(l,this.context,this.style.wordWrapWidth):this.basicWordWrap(l,this.context,this.style.wordWrapWidth):l},advancedWordWrap:function(l,d,v){for(var m="",x=l.replace(/ +/gi," ").split(this.splitRegExp),g=x.length,y=0;y<g;y++){var T=x[y],E="";T=T.replace(/^ *|\s*$/gi,"");var C=d.measureText(T).width;if(C<v){m+=T+`
`;continue}for(var A=v,P=T.split(" "),F=0;F<P.length;F++){var O=P[F],I=O+" ",G=d.measureText(I).width;if(G>A){if(F===0){for(var z=I;z.length&&(z=z.slice(0,-1),G=d.measureText(z).width,!(G<=A)););if(!z.length)throw new Error("wordWrapWidth < a single character");var X=O.substr(z.length);P[F]=X,E+=z}var H=P[F].length?F:F+1,N=P.slice(H).join(" ").replace(/[ \n]*$/gi,"");x.splice(y+1,0,N),g=x.length;break}else E+=I,A-=G}m+=E.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(l,d,v){for(var m="",x=l.split(this.splitRegExp),g=x.length-1,y=d.measureText(" ").width,T=0;T<=g;T++){for(var E=v,C=x[T].split(" "),A=C.length-1,P=0;P<=A;P++){var F=C[P],O=d.measureText(F).width,I=O;P<A&&(I+=y),I>E&&P>0&&(m+=`
`,E=v),m+=F,P<A?(m+=" ",E-=I):E-=O}T<g&&(m+=`
`)}return m},getWrappedText:function(l){l===void 0&&(l=this._text),this.style.syncFont(this.canvas,this.context);var d=this.runWordWrap(l);return d.split(this.splitRegExp)},setText:function(l){return!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l!==this._text&&(this._text=l.toString(),this.updateText()),this},appendText:function(l,d){d===void 0&&(d=!0),!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l=l.toString();var v=this._text.concat(d?`
`+l:l);return v!==this._text&&(this._text=v,this.updateText()),this},setStyle:function(l){return this.style.setStyle(l)},setFont:function(l){return this.style.setFont(l)},setFontFamily:function(l){return this.style.setFontFamily(l)},setFontSize:function(l){return this.style.setFontSize(l)},setFontStyle:function(l){return this.style.setFontStyle(l)},setFixedSize:function(l,d){return this.style.setFixedSize(l,d)},setBackgroundColor:function(l){return this.style.setBackgroundColor(l)},setFill:function(l){return this.style.setFill(l)},setColor:function(l){return this.style.setColor(l)},setStroke:function(l,d){return this.style.setStroke(l,d)},setShadow:function(l,d,v,m,x,g){return this.style.setShadow(l,d,v,m,x,g)},setShadowOffset:function(l,d){return this.style.setShadowOffset(l,d)},setShadowColor:function(l){return this.style.setShadowColor(l)},setShadowBlur:function(l){return this.style.setShadowBlur(l)},setShadowStroke:function(l){return this.style.setShadowStroke(l)},setShadowFill:function(l){return this.style.setShadowFill(l)},setWordWrapWidth:function(l,d){return this.style.setWordWrapWidth(l,d)},setWordWrapCallback:function(l,d){return this.style.setWordWrapCallback(l,d)},setAlign:function(l){return this.style.setAlign(l)},setResolution:function(l){return this.style.setResolution(l)},setLineSpacing:function(l){return this.lineSpacing=l,this.updateText()},setLetterSpacing:function(l){return this.letterSpacing=l,this.updateText()},setPadding:function(l,d,v,m){if(typeof l=="object"){var x=l,g=s(x,"x",null);g!==null?(l=g,v=g):(l=s(x,"left",0),v=s(x,"right",l));var y=s(x,"y",null);y!==null?(d=y,m=y):(d=s(x,"top",0),m=s(x,"bottom",d))}else l===void 0&&(l=0),d===void 0&&(d=l),v===void 0&&(v=l),m===void 0&&(m=d);return this.padding.left=l,this.padding.top=d,this.padding.right=v,this.padding.bottom=m,this.updateText()},setMaxLines:function(l){return this.style.setMaxLines(l)},setRTL:function(l){l===void 0&&(l=!0);var d=this.style;return d.rtl===l?this:(d.rtl=l,l?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),d.align==="left"?d.align="right":d.align==="right"&&(d.align="left"),this)},updateText:function(){var l=this.canvas,d=this.context,v=this.style,m=v.resolution,x=v.metrics;v.syncFont(l,d);var g=this._text;(v.wordWrapWidth||v.wordWrapCallback)&&(g=this.runWordWrap(this._text));var y=g.split(this.splitRegExp),T=e(this,x,y),E=this.padding,C;v.fixedWidth===0?(this.width=T.width+E.left+E.right,C=T.width):(this.width=v.fixedWidth,C=this.width-E.left-E.right,C<T.width&&(C=T.width)),v.fixedHeight===0?this.height=T.height+E.top+E.bottom:this.height=v.fixedHeight;var A=this.width,P=this.height;this.updateDisplayOrigin(),A*=m,P*=m,A=Math.max(A,1),P=Math.max(P,1),l.width!==A||l.height!==P?(l.width=A,l.height=P,this.frame.setSize(A,P),v.syncFont(l,d),v.rtl&&(d.direction="rtl")):d.clearRect(0,0,A,P),d.save(),d.scale(m,m),v.backgroundColor&&(d.fillStyle=v.backgroundColor,d.fillRect(0,0,A,P)),v.syncStyle(l,d),d.translate(E.left,E.top);for(var F,O,I=0;I<T.lines;I++){if(F=v.strokeThickness/2,O=v.strokeThickness/2+I*T.lineHeight+x.ascent,I>0&&(O+=T.lineSpacing*I),v.rtl)F=A-F-E.left-E.right;else if(v.align==="right")F+=C-T.lineWidths[I];else if(v.align==="center")F+=(C-T.lineWidths[I])/2;else if(v.align==="justify"){var G=.85;if(T.lineWidths[I]/T.width>=G){var z=T.width-T.lineWidths[I],X=d.measureText(" ").width,H=y[I].trim(),N=H.split(" ");z+=(y[I].length-H.length)*X;for(var U=Math.floor(z/X),R=0;U>0;)N[R]+=" ",R=(R+1)%(N.length-1||1),--U;y[I]=N.join(" ")}}if(this.autoRound&&(F=Math.round(F),O=Math.round(O)),v.strokeThickness&&(v.syncShadow(d,v.shadowStroke),d.strokeText(y[I],F,O)),v.color){v.syncShadow(d,v.shadowFill);var D=this.letterSpacing;if(D!==0)for(var B=0,V=y[I].split(""),Y=0;Y<V.length;Y++)d.fillText(V[Y],F+B,O),B+=d.measureText(V[Y]).width+D;else d.fillText(y[I],F,O)}}d.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture);var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(l){this.setText(l)}},toJSON:function(){var l=r.ToJSON(this),d={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return l.data=d,l},preDestroy:function(){u(this.canvas),c.remove(this.canvas),this.texture.destroy()}});p.exports=h},71649:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.width===0||f.height===0||(c.addToRenderList(f),t.batchSprite(f,f.frame,c,a))};p.exports=S},75397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(76555);c.register("text",function(n,e){n===void 0&&(n={});var s=a(n,"text",""),u=a(n,"style",null),i=a(n,"padding",null);i!==null&&(u.padding=i);var o=new r(this.scene,0,0,s,u);return e!==void 0&&(n.add=e),f(this.scene,o,n),o.autoRound=a(n,"autoRound",!0),o.resolution=a(n,"resolution",1),o})},94627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(76555),c=t(61286);c.register("text",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},80032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(76128),a=t(71649),p.exports={renderWebGL:c,renderCanvas:a}},74744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(20494),a=t(10850),r=t(27030),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new f({initialize:function(u,i){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,u,i){u===void 0&&(u=!0),i===void 0&&(i=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var o in n){var h=i?n[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=a(s,n[o][0],h):this[o]=c(s,n[o][0],h)}var l=a(s,"font",null);l!==null&&this.setFont(l,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(s,"fill",null);d!==null&&(this.color=d);var v=a(s,"metrics",!1);return v?this.metrics={ascent:a(v,"ascent",0),descent:a(v,"descent",0),fontSize:a(v,"fontSize",0)}:(u||!this.metrics)&&(this.metrics=r(this)),u?this.parent.updateText():this.parent},syncFont:function(s,u){u.font=this._font},syncStyle:function(s,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(s,u){u?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,u){u===void 0&&(u=!0);var i=s,o="",h="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),o=a(s,"fontSize","16px"),h=a(s,"fontStyle","");else{var l=s.split(" "),d=0;h=l.length>2?l[d++]:"",o=l[d++]||"16px",i=l[d++]||"Courier"}return(i!==this.fontFamily||o!==this.fontSize||h!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=o,this.fontStyle=h,u&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,u){return this.fixedWidth=s,this.fixedHeight=u,s&&(this.parent.width=s),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,u){return u===void 0&&(u=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==u)&&(this.stroke=s,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(s,u,i,o,h,l){return s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i="#000"),o===void 0&&(o=0),h===void 0&&(h=!1),l===void 0&&(l=!0),this.shadowOffsetX=s,this.shadowOffsetY=u,this.shadowColor=i,this.shadowBlur=o,this.shadowStroke=h,this.shadowFill=l,this.update(!1)},setShadowOffset:function(s,u){return s===void 0&&(s=0),u===void 0&&(u=s),this.shadowOffsetX=s,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,u){return u===void 0&&(u=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(s,u){return u===void 0&&(u=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var u in n)s[u]=this[u];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});p.exports=e},76128:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,u=s.width,i=s.height,o=f.getTintAppendFloatAlpha,h=a.pipelines.set(r.pipeline,r),l=h.setTexture2D(s.glTexture,r);h.batchTexture(r,s.glTexture,u,i,r.x,r.y,u/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,u,i,o(r.tintTopLeft,n.alpha*r._alphaTL),o(r.tintTopRight,n.alpha*r._alphaTR),o(r.tintBottomLeft,n.alpha*r._alphaBL),o(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,l)}};p.exports=c},35856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(56694),a=t(64937),r=t(89980),n=t(3504),e=t(8213),s=t(9271),u=t(93736),i=8,o=new c({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(l,d,v,m,x,g,y){var T=l.sys.renderer;r.call(this,l,"TileSprite");var E=l.sys.textures.get(g),C=E.get(y);C.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),E=l.sys.textures.get("__MISSING"),C=E.get()),E.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),E=l.sys.textures.get("__MISSING"),C=E.get()),!m||!x?(m=C.width,x=C.height):(m=Math.floor(m),x=Math.floor(x)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=T,this.canvas=f.create(this,m,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=E,this.displayFrame=C,this._crop=this.resetCropObject(),this.texture=l.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(C.width),this.potHeight=n(C.height),this.fillCanvas=f.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(d,v),this.setSize(m,x),this.setFrame(y),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(h,l){return this.displayTexture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h){var l=this.displayTexture.get(h);return this.potWidth=n(l.width),this.potHeight=n(l.height),this.canvas.width=0,!l.cutWidth||!l.cutHeight?this.renderFlags&=~i:this.renderFlags|=i,this.displayFrame=l,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(h,l){return h!==void 0&&(this.tilePositionX=h),l!==void 0&&(this.tilePositionY=l),this},setTileScale:function(h,l){return h===void 0&&(h=this.tileScaleX),l===void 0&&(l=h),this.tileScaleX=h,this.tileScaleY=l,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var h=this.displayFrame;if(h.source.isRenderTexture||h.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var l=this.fillContext,d=this.fillCanvas,v=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(v=h.cutWidth,m=h.cutHeight),l.clearRect(0,0,v,m),d.width=v,d.height=m,l.drawImage(h.source.image,h.cutX,h.cutY,h.cutWidth,h.cutHeight,0,0,v,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(d,this.fillPattern):this.fillPattern=l.createPattern(d,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var h=this.canvas;if((h.width!==this.width||h.height!==this.height)&&(h.width=this.width,h.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var l=this.context;this.scene.sys.game.config.antialias||e.disable(l);var d=this._tileScale.x,v=this._tileScale.y,m=this._tilePosition.x,x=this._tilePosition.y;l.clearRect(0,0,this.width,this.height),l.save(),l.scale(d,v),l.translate(-m,-x),l.fillStyle=this.fillPattern,l.fillRect(m,x,this.width/d,this.height/v),l.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),f.remove(this.canvas),f.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(h){this._tilePosition.x=h,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(h){this._tilePosition.y=h,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(h){this._tileScale.x=h,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(h){this._tileScale.y=h,this.dirty=!0}}});p.exports=o},93305:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.updateCanvas(),c.addToRenderList(f),t.batchSprite(f,f.frame,c,a)};p.exports=S},63950:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(35856);c.register("tileSprite",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),u=a(n,"y",0),i=a(n,"width",512),o=a(n,"height",512),h=a(n,"key",""),l=a(n,"frame",""),d=new r(this.scene,s,u,i,o,h,l);return e!==void 0&&(n.add=e),f(this.scene,d,n),d})},20509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(35856),c=t(61286);c.register("tileSprite",function(a,r,n,e,s,u){return this.displayList.add(new f(this.scene,a,r,n,e,s,u))})},9271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(74287),a=t(93305),p.exports={renderWebGL:c,renderCanvas:a}},74287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e){r.updateCanvas();var s=r.width,u=r.height;if(!(s===0||u===0)){n.addToRenderList(r);var i=f.getTintAppendFloatAlpha,o=a.pipelines.set(r.pipeline,r),h=o.setTexture2D(r.fillPattern,r);o.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,u,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*u,0,0,s,u,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,h)}};p.exports=c},8630:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(64937),r=t(56631),n=t(97081),e=t(89980),s=t(83392),u=t(76038),i=t(76583),o=t(77974),h=new c({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,o],initialize:function(d,v,m,x){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var g=d.sys.game;this._device=g.device.video,this.setPosition(v,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),g.events.on(n.PAUSE,this.globalPause,this),g.events.on(n.RESUME,this.globalResume,this);var y=d.sys.sound;y&&y.on(u.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(l){var d=this.scene.sys.cache.video.get(l);return d?(this.cacheKey=l,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+l),this},changeSource:function(l,d,v,m,x){d===void 0&&(d=!0),v===void 0&&(v=!1),this.cacheKey!==l&&(this.load(l),d&&this.play(v,m,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(l,d,v){d===void 0&&(d=!1);var m=this._device.getVideoURL(l);return m?(this.cacheKey="",this.loadHandler(m.url,d,v)):console.warn("No supported video format found for "+l),this},loadMediaStream:function(l,d,v){return this.loadHandler(null,d,v,l)},loadHandler:function(l,d,v,m){d||(d=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),d?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),v?x.setAttribute("crossorigin",v):x.removeAttribute("crossorigin"),m)if("srcObject"in x)try{x.srcObject=m}catch(g){if(g.name!=="TypeError")throw g;x.src=URL.createObjectURL(m)}else x.src=URL.createObjectURL(m);else x.src=l;return this.addLoadEventHandlers(),this.retry=0,this.video=x,this._playCalled=!1,x.load(),this},requestVideoFrame:function(l,d){var v=this.video;if(!!v){var m=d.width,x=d.height,g=this.videoTexture,y=this.videoTextureSource,T=!g||y.source!==v;T?(this._codePaused=v.paused,this._codeMuted=v.muted,g?(y.source=v,y.width=m,y.height=x,g.get().setSize(m,x)):(g=this.scene.sys.textures.create(this._key,v,m,x),g.add("__BASE",0,0,0,m,x),this.setTexture(g),this.videoTexture=g,this.videoTextureSource=g.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,g)),this.setSizeToFrame(),this.updateDisplayOrigin()):y.update(),this.isStalled=!1,this.metadata=d;var E=d.mediaTime;T&&(this._lastUpdate=E,this.emit(r.VIDEO_CREATED,this,m,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?E>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):E<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=E,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(l,d,v){d===void 0&&(d=-1),v===void 0&&(v=s.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(l===void 0&&(l=m.loop),m.loop=l,this._markerIn=d,this._markerOut=v,this._playingMarker=d>-1&&v>d&&v<s.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var l=this.video;l&&(l.addEventListener("error",this._loadCallbackHandler),l.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var l=this.video;l&&(l.removeEventListener("error",this._loadCallbackHandler),l.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var l=this.video;if(l){var d=this._callbacks;for(var v in d)l.addEventListener(v,d[v])}},removeEventHandlers:function(){var l=this.video;if(l){var d=this._callbacks;for(var v in d)l.removeEventListener(v,d[v])}},createPlayPromise:function(l){l===void 0&&(l=!0);var d=this.video,v=d.play();if(v!==void 0){var m=this.playSuccess.bind(this),x=this.playError.bind(this);if(!l){var g=this;x=function(){g.failedPlayAttempts++}}v.then(m).catch(x)}else d.addEventListener("playing",this._callbacks.legacy),l||this.failedPlayAttempts++},addMarker:function(l,d,v){return!isNaN(d)&&d>=0&&!isNaN(v)&&v>d&&(this.markers[l]=[d,v]),this},playMarker:function(l,d){var v=this.markers[l];return v&&this.play(d,v[0],v[1]),this},removeMarker:function(l){return delete this.markers[l],this},snapshot:function(l,d){return l===void 0&&(l=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,l,d)},snapshotArea:function(l,d,v,m,x,g){l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=this.width),m===void 0&&(m=this.height),x===void 0&&(x=v),g===void 0&&(g=m);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(x,g),y&&T.context.drawImage(y,l,d,v,m,0,0,x,g)):(T=this.scene.sys.textures.createCanvas(i(),x,g),this.snapshotTexture=T,y&&T.context.drawImage(y,l,d,v,m,0,0,x,g)),T.update()},saveSnapshotTexture:function(l){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,l):this.snapshotTexture=this.scene.sys.textures.createCanvas(l,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(!!this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var l=this.scene.sys.sound;l&&l.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(l){var d=l.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,l)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,l))},legacyPlayHandler:function(){var l=this.video;l&&(this.playSuccess(),l.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(l){this.stop(!1),this.emit(r.VIDEO_ERROR,this,l)},stalledHandler:function(l){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,l)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(l,d){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(l){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v)){var m=v*l;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(l){var d=this.video;if(d){if(typeof l=="string"){var v=l[0],m=parseFloat(l.substr(1));v==="+"?l=d.currentTime+m:v==="-"&&(l=d.currentTime-m)}d.currentTime=l}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var l=this.video;if(l){var d=l.duration;if(d!==1/0&&!isNaN(d))return l.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(l){l===void 0&&(l=!0),this._codeMuted=l;var d=this.video;return d&&(d.muted=this._systemMuted?!0:l),this},isMuted:function(){return this._codeMuted},globalMute:function(l,d){this._systemMuted=d;var v=this.video;v&&(v.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(l){l===void 0&&(l=!0);var d=this.video;return this._codePaused=l,d&&!d.ended&&(l?d.paused||(this.removeEventHandlers(),d.pause()):l||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(l){return l===void 0&&(l=1),this.video&&(this.video.volume=f(l,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(l){return this.video&&(this.video.playbackRate=l),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(l){return l===void 0&&(l=!0),this.video&&(this.video.loop=l),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(l,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,l),this.videoTextureSource.setFlipY(d)),this._key=l,this.flipY=d,!!this.videoTexture},stop:function(l){l===void 0&&(l=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,l&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var l=this.video;if(!!l){for(l.parentNode&&l.parentNode.removeChild(l);l.hasChildNodes();)l.removeChild(l.firstChild);l.removeAttribute("autoplay"),l.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var l=this.scene.sys.game.events;l.off(n.PAUSE,this.globalPause,this),l.off(n.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(u.GLOBAL_MUTE,this.globalMute,this)}});p.exports=h},56933:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.videoTexture&&(c.addToRenderList(f),t.batchSprite(f,f.frame,c,a))};p.exports=S},65601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(8630);c.register("video",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),u=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),f(this.scene,u,n),u})},215:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8630),c=t(61286);c.register("video",function(a,r,n){return this.displayList.add(new f(this.scene,a,r,n))})},77974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(83572),a=t(56933),p.exports={renderWebGL:c,renderCanvas:a}},83572:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.videoTexture&&(c.addToRenderList(f),f.pipeline.batchSprite(f,c,a))};p.exports=S},71030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(26673),a=t(65650),r=t(56694),n=t(64937),e=t(89980),s=t(74118),u=t(94287),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(h,l,d,v,m){v===void 0&&(v=1),m===void 0&&(m=v),e.call(this,h,"Zone"),this.setPosition(l,d),this.width=v,this.height=m,this.blendMode=f.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,h,l){l===void 0&&(l=!0),this.width=o,this.height=h,this.updateDisplayOrigin();var d=this.input;return l&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=h),this},setDisplaySize:function(o,h){return this.displayWidth=o,this.displayHeight=h,this},setCircleDropZone:function(o){return this.setDropZone(new c(0,0,o),a)},setRectangleDropZone:function(o,h){return this.setDropZone(new s(0,0,o,h),u)},setDropZone:function(o,h){return this.input||this.setInteractive(o,h,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,h,l){l.addToRenderList(h)},renderWebGL:function(o,h,l){l.addToRenderList(h)}});p.exports=i},24067:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(20494),a=t(71030);f.register("zone",function(r){var n=c(r,"x",0),e=c(r,"y",0),s=c(r,"width",1),u=c(r,"height",s);return new a(this.scene,n,e,s,u)})},34546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(71030),c=t(61286);c.register("zone",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},95847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},26673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65650),a=t(94026),r=t(62941),n=t(52394),e=t(30977),s=new f({initialize:function(i,o,h){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),this.type=n.CIRCLE,this.x=i,this.y=o,this._radius=h,this._diameter=h*2},contains:function(u,i){return c(this,u,i)},getPoint:function(u,i){return a(this,u,i)},getPoints:function(u,i,o){return r(this,u,i,o)},getRandomPoint:function(u){return e(this,u)},setTo:function(u,i,o){return this.x=u,this.y=i,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,i){return i===void 0&&(i=u),this.x=u,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});p.exports=s},37964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},72233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){return n===void 0&&(n=new f),n.x=a.x+a.radius*Math.cos(r),n.y=a.y+a.radius*Math.sin(r),n};p.exports=c},61761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=function(a){return new f(a.x,a.y,a.radius)};p.exports=c},65650:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(t.radius>0&&f>=t.left&&f<=t.right&&c>=t.top&&c<=t.bottom){var a=(t.x-f)*(t.x-f),r=(t.y-c)*(t.y-c);return a+r<=t.radius*t.radius}else return!1};p.exports=S},39187:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},58672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=function(a,r){return f(a,r.x,r.y)&&f(a,r.right,r.y)&&f(a,r.x,r.bottom)&&f(a,r.right,r.bottom)};p.exports=c},42997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y,t.radius)};p.exports=S},94894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y&&t.radius===f.radius};p.exports=S},48027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){return r===void 0&&(r=new f),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};p.exports=c},94026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72233),c=t(91806),a=t(83392),r=t(79967),n=function(e,s,u){u===void 0&&(u=new r);var i=c(s,0,a.PI2);return f(e,i,u)};p.exports=n},62941:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(37964),c=t(72233),a=t(91806),r=t(83392),n=function(e,s,u,i){i===void 0&&(i=[]),!s&&u>0&&(s=f(e)/u);for(var o=0;o<s;o++){var h=a(o/s,0,r.PI2);i.push(c(e,h))}return i};p.exports=n},34585:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x+=f,t.y+=c,t};p.exports=S},88665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x+=f.x,t.y+=f.y,t};p.exports=S},30977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,u=s*Math.cos(n),i=s*Math.sin(n);return r.x=a.x+u*a.radius,r.y=a.y+i*a.radius,r};p.exports=c},6112:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673);f.Area=t(95847),f.Circumference=t(37964),f.CircumferencePoint=t(72233),f.Clone=t(61761),f.Contains=t(65650),f.ContainsPoint=t(39187),f.ContainsRect=t(58672),f.CopyFrom=t(42997),f.Equals=t(94894),f.GetBounds=t(48027),f.GetPoint=t(94026),f.GetPoints=t(62941),f.Offset=t(34585),f.OffsetPoint=t(88665),f.Random=t(30977),p.exports=f},52394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},58605:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},39507:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.width/2,c=t.height/2,a=Math.pow(f-c,2)/Math.pow(f+c,2);return Math.PI*(f+c)*(1+3*a/(10+Math.sqrt(4-3*a)))};p.exports=S},86998:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){n===void 0&&(n=new f);var e=a.width/2,s=a.height/2;return n.x=a.x+e*Math.cos(r),n.y=a.y+s*Math.sin(r),n};p.exports=c},81773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95669),c=function(a){return new f(a.x,a.y,a.width,a.height)};p.exports=c},72313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(t.width<=0||t.height<=0)return!1;var a=(f-t.x)/t.width,r=(c-t.y)/t.height;return a*=a,r*=r,a+r<.25};p.exports=S},34368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72313),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},71431:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72313),c=function(a,r){return f(a,r.x,r.y)&&f(a,r.right,r.y)&&f(a,r.x,r.bottom)&&f(a,r.right,r.bottom)};p.exports=c},75459:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y,t.width,t.height)};p.exports=S},95669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72313),a=t(95340),r=t(54978),n=t(52394),e=t(72006),s=new f({initialize:function(i,o,h,l){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),this.type=n.ELLIPSE,this.x=i,this.y=o,this.width=h,this.height=l},contains:function(u,i){return c(this,u,i)},getPoint:function(u,i){return a(this,u,i)},getPoints:function(u,i,o){return r(this,u,i,o)},getRandomPoint:function(u){return e(this,u)},setTo:function(u,i,o,h){return this.x=u,this.y=i,this.width=o,this.height=h,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,i){return i===void 0&&(i=u),this.x=u,this.y=i,this},setSize:function(u,i){return i===void 0&&(i=u),this.width=u,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});p.exports=s},98068:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y&&t.width===f.width&&t.height===f.height};p.exports=S},72897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){return r===void 0&&(r=new f),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};p.exports=c},95340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86998),c=t(91806),a=t(83392),r=t(79967),n=function(e,s,u){u===void 0&&(u=new r);var i=c(s,0,a.PI2);return f(e,i,u)};p.exports=n},54978:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(39507),c=t(86998),a=t(91806),r=t(83392),n=function(e,s,u,i){i===void 0&&(i=[]),!s&&u>0&&(s=f(e)/u);for(var o=0;o<s;o++){var h=a(o/s,0,r.PI2);i.push(c(e,h))}return i};p.exports=n},77951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x+=f,t.y+=c,t};p.exports=S},36233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x+=f.x,t.y+=f.y,t};p.exports=S},72006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(n)*a.width/2,r.y=a.y+e*Math.sin(n)*a.height/2,r};p.exports=c},40652:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95669);f.Area=t(58605),f.Circumference=t(39507),f.CircumferencePoint=t(86998),f.Clone=t(81773),f.Contains=t(72313),f.ContainsPoint=t(34368),f.ContainsRect=t(71431),f.CopyFrom=t(75459),f.Equals=t(98068),f.GetBounds=t(72897),f.GetPoint=t(95340),f.GetPoints=t(54978),f.Offset=t(77951),f.OffsetPoint=t(36233),f.Random=t(72006),p.exports=f},84068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(52394),c=t(98611),a={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};a=c(!1,a,f),p.exports=a},22184:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53996),c=function(a,r){return f(a.x,a.y,r.x,r.y)<=a.radius+r.radius};p.exports=c},26535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=f.width/2,a=f.height/2,r=Math.abs(t.x-f.x-c),n=Math.abs(t.y-f.y-a),e=c+t.radius,s=a+t.radius;if(r>e||n>s)return!1;if(r<=c||n<=a)return!0;var u=r-c,i=n-a,o=u*u,h=i*i,l=t.radius*t.radius;return o+h<=l};p.exports=S},71145:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(22184),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.x,u=r.y,i=r.radius,o=n.x,h=n.y,l=n.radius,d,v,m,x,g;if(u===h)g=(l*l-i*i-o*o+s*s)/(2*(s-o)),d=1,v=-2*h,m=o*o+g*g-2*o*g+h*h-l*l,x=v*v-4*d*m,x===0?e.push(new f(g,-v/(2*d))):x>0&&(e.push(new f(g,(-v+Math.sqrt(x))/(2*d))),e.push(new f(g,(-v-Math.sqrt(x))/(2*d))));else{var y=(s-o)/(u-h),T=(l*l-i*i-o*o+s*s-h*h+u*u)/(2*(u-h));d=y*y+1,v=2*u*y-2*T*y-2*s,m=s*s+u*u+T*T-i*i-2*u*T,x=v*v-4*d*m,x===0?(g=-v/(2*d),e.push(new f(g,T-g*y))):x>0&&(g=(-v+Math.sqrt(x))/(2*d),e.push(new f(g,T-g*y)),g=(-v-Math.sqrt(x))/(2*d),e.push(new f(g,T-g*y)))}}return e};p.exports=a},62508:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26111),c=t(26535),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=n.getLineA(),u=n.getLineB(),i=n.getLineC(),o=n.getLineD();f(s,r,e),f(u,r,e),f(i,r,e),f(o,r,e)}return e};p.exports=a},26111:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(61472),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.x1,u=r.y1,i=r.x2,o=r.y2,h=n.x,l=n.y,d=n.radius,v=i-s,m=o-u,x=s-h,g=u-l,y=v*v+m*m,T=2*(v*x+m*g),E=x*x+g*g-d*d,C=T*T-4*y*E,A,P;if(C===0){var F=-T/(2*y);A=s+F*v,P=u+F*m,F>=0&&F<=1&&e.push(new f(A,P))}else if(C>0){var O=(-T-Math.sqrt(C))/(2*y);A=s+O*v,P=u+O*m,O>=0&&O<=1&&e.push(new f(A,P));var I=(-T+Math.sqrt(C))/(2*y);A=s+I*v,P=u+I*m,I>=0&&I<=1&&e.push(new f(A,P))}}return e};p.exports=a},96537:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70015),c=function(a,r,n,e){n===void 0&&(n=!1);var s=a.x1,u=a.y1,i=a.x2,o=a.y2,h=r.x1,l=r.y1,d=r.x2,v=r.y2,m=i-s,x=o-u,g=d-h,y=v-l,T=m*y-x*g;if(T===0)return null;var E,C,A;if(n){if(E=(m*(l-u)+x*(s-h))/(g*x-y*m),C=(h+g*E-s)/m,C<0||E<0||E>1)return null;A=C}else{if(E=((h-s)*y-(l-u)*g)/T,C=((u-l)*m-(s-h)*x)/T,E<0||E>1||C<0||C>1)return null;A=E}return e===void 0&&(e=new f),e.set(s+m*A,u+x*A,A)};p.exports=c},17647:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(96537),c=t(88829),a=t(70015),r=new c,n=new a,e=function(s,u,i,o){i===void 0&&(i=!1),o===void 0&&(o=new a);var h=!1;o.set(),n.set();for(var l=u[u.length-1],d=0;d<u.length;d++){var v=u[d];r.setTo(l.x,l.y,v.x,v.y),l=v,f(s,r,i,n)&&(!h||n.z<o.z)&&(o.copy(n),h=!0)}return h?o:null};p.exports=e},68439:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70015),c=t(51729),a=t(17647),r=new f,n=function(e,s,u,i){i===void 0&&(i=new c),Array.isArray(s)||(s=[s]);var o=!1;i.set(),r.set();for(var h=0;h<s.length;h++)a(e,s[h].points,u,r)&&(!o||r.z<i.z)&&(i.set(r.x,r.y,r.z,h),o=!0);return o?i:null};p.exports=n},9569:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(25227),a=t(47910),r=function(n,e,s){if(s===void 0&&(s=[]),a(n,e))for(var u=e.getLineA(),i=e.getLineB(),o=e.getLineC(),h=e.getLineD(),l=[new f,new f,new f,new f],d=[c(u,n,l[0]),c(i,n,l[1]),c(o,n,l[2]),c(h,n,l[3])],v=0;v<4;v++)d[v]&&s.push(l[v]);return s};p.exports=r},7449:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(51729),c=t(68439),a=t(88829),r=new a;function n(u,i,o,h,l){var d=Math.cos(u),v=Math.sin(u);r.setTo(i,o,i+d,o+v);var m=c(r,h,!0);m&&l.push(new f(m.x,m.y,u,m.w))}function e(u,i){return u.z-i.z}var s=function(u,i,o){Array.isArray(o)||(o=[o]);for(var h=[],l=[],d=0;d<o.length;d++)for(var v=o[d].points,m=0;m<v.length;m++){var x=Math.atan2(v[m].y-i,v[m].x-u);l.indexOf(x)===-1&&(n(x,u,i,o,h),n(x-1e-5,u,i,o,h),n(x+1e-5,u,i,o,h),l.push(x))}return h.sort(e)};p.exports=s},82931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(90205),a=function(r,n,e){return e===void 0&&(e=new f),c(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};p.exports=a},1946:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(9569),c=t(90205),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.getLineA(),u=r.getLineB(),i=r.getLineC(),o=r.getLineD();f(s,n,e),f(u,n,e),f(i,n,e),f(o,n,e)}return e};p.exports=a},34211:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(20370),c=t(9569),a=function(r,n,e){if(e===void 0&&(e=[]),f(r,n)){var s=n.getLineA(),u=n.getLineB(),i=n.getLineC();c(s,r,e),c(u,r,e),c(i,r,e)}return e};p.exports=a},80511:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26111),c=t(48411),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.getLineA(),u=r.getLineB(),i=r.getLineC();f(s,n,e),f(u,n,e),f(i,n,e)}return e};p.exports=a},31343:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(86117),a=t(25227),r=function(n,e,s){if(s===void 0&&(s=[]),c(n,e))for(var u=n.getLineA(),i=n.getLineB(),o=n.getLineC(),h=[new f,new f,new f],l=[a(u,e,h[0]),a(i,e,h[1]),a(o,e,h[2])],d=0;d<3;d++)l[d]&&s.push(h[d]);return s};p.exports=r},70534:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23589),c=t(31343),a=function(r,n,e){if(e===void 0&&(e=[]),f(r,n)){var s=n.getLineA(),u=n.getLineB(),i=n.getLineC();c(r,s,e),c(r,u,e),c(r,i,e)}return e};p.exports=a},61472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=t(79967),a=new c,r=function(n,e,s){if(s===void 0&&(s=a),f(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(f(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var u=n.x2-n.x1,i=n.y2-n.y1,o=e.x-n.x1,h=e.y-n.y1,l=u*u+i*i,d=u,v=i;if(l>0){var m=(o*u+h*i)/l;d*=m,v*=m}s.x=n.x1+d,s.y=n.y1+v;var x=d*d+v*v;return x<=l&&d*u+v*i>=0&&f(e,s.x,s.y)};p.exports=r},25227:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.x1,r=t.y1,n=t.x2,e=t.y2,s=f.x1,u=f.y1,i=f.x2,o=f.y2;if(a===n&&r===e||s===i&&u===o)return!1;var h=(o-u)*(n-a)-(i-s)*(e-r);if(h===0)return!1;var l=((i-s)*(r-u)-(o-u)*(a-s))/h,d=((n-a)*(r-u)-(e-r)*(a-s))/h;return l<0||l>1||d<0||d>1?!1:(c&&(c.x=a+l*(n-a),c.y=r+l*(e-r)),!0)};p.exports=S},47910:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x1,a=t.y1,r=t.x2,n=t.y2,e=f.x,s=f.y,u=f.right,i=f.bottom,o=0;if(c>=e&&c<=u&&a>=s&&a<=i||r>=e&&r<=u&&n>=s&&n<=i)return!0;if(c<e&&r>=e){if(o=a+(n-a)*(e-c)/(r-c),o>s&&o<=i)return!0}else if(c>u&&r<=u&&(o=a+(n-a)*(u-c)/(r-c),o>=s&&o<=i))return!0;if(a<s&&n>=s){if(o=c+(r-c)*(s-a)/(n-a),o>=e&&o<=u)return!0}else if(a>i&&n<=i&&(o=c+(r-c)*(i-a)/(n-a),o>=e&&o<=u))return!0;return!1};p.exports=S},34426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){c===void 0&&(c=1);var a=f.x1,r=f.y1,n=f.x2,e=f.y2,s=t.x,u=t.y,i=(n-a)*(n-a)+(e-r)*(e-r);if(i===0)return!1;var o=((s-a)*(n-a)+(u-r)*(e-r))/i;if(o<0)return Math.sqrt((a-s)*(a-s)+(r-u)*(r-u))<=c;if(o>=0&&o<=1){var h=((r-u)*(n-a)-(a-s)*(e-r))/i;return Math.abs(h)*Math.sqrt(i)<=c}else return Math.sqrt((n-s)*(n-s)+(e-u)*(e-u))<=c};p.exports=S},81414:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(34426),c=function(a,r){if(!f(a,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),u=Math.max(r.y1,r.y2);return a.x>=n&&a.x<=e&&a.y>=s&&a.y<=u};p.exports=c},90205:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.width<=0||t.height<=0||f.width<=0||f.height<=0?!1:!(t.right<f.x||t.bottom<f.y||t.x>f.right||t.y>f.bottom)};p.exports=S},20370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25227),c=t(94287),a=t(86875),r=t(87279),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var u=s.getLineA(),i=s.getLineB(),o=s.getLineC();if(c(e,u.x1,u.y1)||c(e,u.x2,u.y2)||c(e,i.x1,i.y1)||c(e,i.x2,i.y2)||c(e,o.x1,o.y1)||c(e,o.x2,o.y2))return!0;var h=e.getLineA(),l=e.getLineB(),d=e.getLineC(),v=e.getLineD();if(f(u,h)||f(u,l)||f(u,d)||f(u,v)||f(i,h)||f(i,l)||f(i,d)||f(i,v)||f(o,h)||f(o,l)||f(o,d)||f(o,v))return!0;var m=r(e),x=a(s,m,!0);return x.length>0};p.exports=n},8786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){return n===void 0&&(n=0),!(f>t.right+n||c<t.left-n||a>t.bottom+n||r<t.top-n)};p.exports=S},48411:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61472),c=t(60689),a=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(c(r,n.x,n.y)||f(r.getLineA(),n)||f(r.getLineB(),n)||f(r.getLineC(),n))};p.exports=a},86117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25227),c=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||f(a.getLineA(),r)||f(a.getLineB(),r)||f(a.getLineC(),r))};p.exports=c},23589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86875),c=t(18680),a=t(25227),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),u=n.getLineB(),i=n.getLineC(),o=e.getLineA(),h=e.getLineB(),l=e.getLineC();if(a(s,o)||a(s,h)||a(s,l)||a(u,o)||a(u,h)||a(u,l)||a(i,o)||a(i,h)||a(i,l))return!0;var d=c(n),v=f(e,d,!0);return v.length>0||(d=c(e),v=f(n,d,!0),v.length>0)};p.exports=r},7563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},58813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=1),c===void 0&&(c=[]);var a=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-a),u=Math.abs(e-r),i=a<n?1:-1,o=r<e?1:-1,h=s-u;c.push({x:a,y:r});for(var l=1;!(a===n&&r===e);){var d=h<<1;d>-u&&(h-=u,a+=i),d<s&&(h+=s,r+=o),l%f===0&&c.push({x:a,y:r}),l++}return c};p.exports=S},88513:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=f-(t.x1+t.x2)/2,r=c-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};p.exports=S},26718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88829),c=function(a){return new f(a.x1,a.y1,a.x2,a.y2)};p.exports=c},88930:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},90656:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x1===f.x1&&t.y1===f.y1&&t.x2===f.x2&&t.y2===f.y2};p.exports=S},30897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=function(a,r,n){n===void 0&&(n=r);var e=f(a),s=a.x2-a.x1,u=a.y2-a.y1;return r&&(a.x1=a.x1-s/e*r,a.y1=a.y1-u/e*r),n&&(a.x2=a.x2+s/e*n,a.y2=a.y2+u/e*n),a};p.exports=c},30684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92951),c=t(21902),a=t(79967),r=function(n,e,s,u,i){u===void 0&&(u=0),i===void 0&&(i=[]);var o=[],h=n.x1,l=n.y1,d=n.x2-h,v=n.y2-l,m=c(e,i),x,g,y=s-1;for(x=0;x<y;x++)g=m(x/y),o.push(new a(h+d*g,l+v*g));if(g=m(1),o.push(new a(h+d*g,l+v*g)),u>0){var T=o[0],E=[T];for(x=1;x<o.length-1;x++){var C=o[x];f(T,C)>=u&&(E.push(C),T=C)}var A=o[o.length-1];return f(T,A)<u&&E.pop(),E.push(A),E}else return o};p.exports=r},20487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};p.exports=c},11222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){n===void 0&&(n=new f);var e=a.x1,s=a.y1,u=a.x2,i=a.y2,o=(u-e)*(u-e)+(i-s)*(i-s);if(o===0)return n;var h=((r.x-e)*(u-e)+(r.y-s)*(i-s))/o;return n.x=e+h*(u-e),n.y=s+h*(i-s),n};p.exports=c},7377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(50599),a=t(79967),r=function(n,e){e===void 0&&(e=new a);var s=c(n)-f.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};p.exports=r},66464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){return n===void 0&&(n=new f),n.x=a.x1+(a.x2-a.x1)*r,n.y=a.y1+(a.y2-a.y1)*r,n};p.exports=c},8570:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(79967),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=f(r)/e);for(var u=r.x1,i=r.y1,o=r.x2,h=r.y2,l=0;l<n;l++){var d=l/n,v=u+(o-u)*d,m=i+(h-i)*d;s.push(new c(v,m))}return s};p.exports=a},65269:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x1,a=t.y1,r=t.x2,n=t.y2,e=(r-c)*(r-c)+(n-a)*(n-a);if(e===0)return!1;var s=((a-f.y)*(r-c)-(c-f.x)*(n-a))/e;return Math.abs(s)*Math.sqrt(e)};p.exports=S},82996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},16028:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},88829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(66464),a=t(8570),r=t(52394),n=t(74077),e=t(93736),s=new f({initialize:function(i,o,h,l){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),this.type=r.LINE,this.x1=i,this.y1=o,this.x2=h,this.y2=l},getPoint:function(u,i){return c(this,u,i)},getPoints:function(u,i,o){return a(this,u,i,o)},getRandomPoint:function(u){return n(this,u)},setTo:function(u,i,o,h){return u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),this.x1=u,this.y1=i,this.x2=o,this.y2=h,this},setFromObjects:function(u,i){return this.x1=u.x,this.y1=u.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(u){return u===void 0&&(u=new e),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new e),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});p.exports=s},73273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(1071),a=t(50599),r=function(n){var e=a(n)-f.TAU;return c(e,-Math.PI,Math.PI)};p.exports=r},96936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(50599),a=function(r){return Math.cos(c(r)-f.TAU)};p.exports=a},43581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(50599),a=function(r){return Math.sin(c(r)-f.TAU)};p.exports=a},13990:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x1+=f,t.y1+=c,t.x2+=f,t.y2+=c,t};p.exports=S},1298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},74077:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=Math.random();return r.x=a.x1+n*(a.x2-a.x1),r.y=a.y1+n*(a.y2-a.y1),r};p.exports=c},30473:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50599),c=t(73273),a=function(r,n){return 2*c(n)-Math.PI-f(r)};p.exports=a},25968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1809),c=function(a,r){var n=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return f(a,n,e,r)};p.exports=c},24296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1809),c=function(a,r,n){return f(a,r.x,r.y,n)};p.exports=c},1809:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-f,s=t.y1-c;return t.x1=e*r-s*n+f,t.y1=e*n+s*r+c,e=t.x2-f,s=t.y2-c,t.x2=e*r-s*n+f,t.y2=e*n+s*r+c,t};p.exports=S},88171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){return t.x1=f,t.y1=c,t.x2=f+Math.cos(a)*r,t.y2=c+Math.sin(a)*r,t};p.exports=S},82797:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},41067:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},28482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88829);f.Angle=t(50599),f.BresenhamPoints=t(58813),f.CenterOn=t(88513),f.Clone=t(26718),f.CopyFrom=t(88930),f.Equals=t(90656),f.Extend=t(30897),f.GetEasedPoints=t(30684),f.GetMidPoint=t(20487),f.GetNearestPoint=t(11222),f.GetNormal=t(7377),f.GetPoint=t(66464),f.GetPoints=t(8570),f.GetShortestDistance=t(65269),f.Height=t(82996),f.Length=t(16028),f.NormalAngle=t(73273),f.NormalX=t(96936),f.NormalY=t(43581),f.Offset=t(13990),f.PerpSlope=t(1298),f.Random=t(74077),f.ReflectAngle=t(30473),f.Rotate=t(25968),f.RotateAroundPoint=t(24296),f.RotateAroundXY=t(1809),f.SetToAngle=t(88171),f.Slope=t(82797),f.Width=t(41067),p.exports=f},18693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74118),a=t(93736);function r(e,s,u,i){var o=e-u,h=s-i,l=o*o+h*h;return Math.sqrt(l)}var n=new f({initialize:function(s,u,i){this.vertex1=s,this.vertex2=u,this.vertex3=i,this.bounds=new c,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,u=this.vertex2,i=this.vertex3,o,h,l,d,v,m;e?(o=s.x,h=s.y,l=u.x,d=u.y,v=i.x,m=i.y):(o=s.vx,h=s.vy,l=u.vx,d=u.vy,v=i.vx,m=i.vy);var x=r(v,m,l,d),g=r(o,h,v,m),y=r(l,d,o,h),T=x+g+y;return this._inCenter.set((o*x+l*g+v*y)/T,(h*x+d*g+m*y)/T)},contains:function(e,s,u){var i=this.vertex1,o=this.vertex2,h=this.vertex3,l=i.vx,d=i.vy,v=o.vx,m=o.vy,x=h.vx,g=h.vy;if(u){var y=u.a,T=u.b,E=u.c,C=u.d,A=u.e,P=u.f;l=i.vx*y+i.vy*E+A,d=i.vx*T+i.vy*C+P,v=o.vx*y+o.vy*E+A,m=o.vx*T+o.vy*C+P,x=h.vx*y+h.vy*E+A,g=h.vx*T+h.vy*C+P}var F=x-l,O=g-d,I=v-l,G=m-d,z=e-l,X=s-d,H=F*F+O*O,N=F*I+O*G,U=F*z+O*X,R=I*I+G*G,D=I*z+G*X,B=H*R-N*N,V=B===0?0:1/B,Y=(R*U-N*D)*V,K=(H*D-N*U)*V;return Y>=0&&K>=0&&Y+K<1},isCounterClockwise:function(e){var s=this.vertex1,u=this.vertex2,i=this.vertex3,o=(u.vx-s.vx)*(i.vy-s.vy)-(u.vy-s.vy)*(i.vx-s.vx);return e<=0?o>=0:o<0},load:function(e,s,u,i,o){return u=this.vertex1.load(e,s,u,i,o),u=this.vertex2.load(e,s,u,i,o),u=this.vertex3.load(e,s,u,i,o),u},transformCoordinatesLocal:function(e,s,u,i){return this.vertex1.transformCoordinatesLocal(e,s,u,i),this.vertex2.transformCoordinatesLocal(e,s,u,i),this.vertex3.transformCoordinatesLocal(e,s,u,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,u=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,u.vx),i.y=Math.min(e.vy,s.vy,u.vy),i.width=Math.max(e.vx,s.vx,u.vx)-i.x,i.height=Math.max(e.vy,s.vy,u.vy)-i.y,this},isInView:function(e,s,u,i,o,h,l,d,v,m,x){this.update(i,o,h,l,d,v,m,x);var g=this.vertex1,y=this.vertex2,T=this.vertex3;if(g.ta<=0&&y.ta<=0&&T.ta<=0||s&&!this.isCounterClockwise(u))return!1;var E=this.bounds;E.x=Math.min(g.tx,y.tx,T.tx),E.y=Math.min(g.ty,y.ty,T.ty),E.width=Math.max(g.tx,y.tx,T.tx)-E.x,E.height=Math.max(g.ty,y.ty,T.ty)-E.y;var C=e.x+e.width,A=e.y+e.height;return E.width<=0||E.height<=0||e.width<=0||e.height<=0?!1:!(E.right<e.x||E.bottom<e.y||E.x>C||E.y>A)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,u,i,o,h,l,d){return this.vertex1.update(s,u,i,o,h,l,d,e),this.vertex2.update(s,u,i,o,h,l,d,e),this.vertex3.update(s,u,i,o,h,l,d,e),this},translate:function(e,s){s===void 0&&(s=0);var u=this.vertex1,i=this.vertex2,o=this.vertex3;return u.x+=e,u.y+=s,i.x+=e,i.y+=s,o.x+=e,o.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,u=this.vertex3;return(e.alpha+s.alpha+u.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,u=this.vertex3;return(e.vz+s.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=n},99425:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18693),c=t(72632),a=t(16650),r=t(70015),n=t(85769),e=new r,s=new r,u=new a,i=function(o){var h=c(o,"mesh"),l=c(o,"texture",null),d=c(o,"frame"),v=c(o,"width",1),m=c(o,"height",v),x=c(o,"widthSegments",1),g=c(o,"heightSegments",x),y=c(o,"x",0),T=c(o,"y",0),E=c(o,"z",0),C=c(o,"rotateX",0),A=c(o,"rotateY",0),P=c(o,"rotateZ",0),F=c(o,"zIsUp",!0),O=c(o,"isOrtho",h?h.dirtyCache[11]:!1),I=c(o,"colors",[16777215]),G=c(o,"alphas",[1]),z=c(o,"tile",!1),X=c(o,"flipY",!1),H=c(o,"width",null),N={faces:[],verts:[]};e.set(y,T,E),s.set(C,A,P),u.fromRotationXYTranslation(s,e,F);var U;if(!l&&h)l=h.texture,d||(U=h.frame);else if(h&&typeof l=="string")l=h.scene.sys.textures.get(l);else if(!l)return N;U||(U=l.get(d)),!H&&O&&l&&h&&(v=U.width/h.height,m=U.height/h.height);var R=v/2,D=m/2,B=Math.floor(x),V=Math.floor(g),Y=B+1,K=V+1,$=v/B,J=m/V,Q=[],k=[],q,tt,_=0,it=1,st=0,ht=1;U&&(_=U.u0,it=U.u1,X?(st=U.v1,ht=U.v0):(st=U.v0,ht=U.v1));var ut=it-_,et=ht-st;for(tt=0;tt<K;tt++){var rt=tt*J-D;for(q=0;q<Y;q++){var nt=q*$-R;k.push(nt,-rt);var pt=_+ut*(q/B),gt=st+et*(tt/V);Q.push(pt,gt)}}Array.isArray(I)||(I=[I]),Array.isArray(G)||(G=[G]);var Tt=0,lt=0;for(tt=0;tt<V;tt++)for(q=0;q<B;q++){var ot=(q+Y*tt)*2,at=(q+Y*(tt+1))*2,dt=(q+1+Y*(tt+1))*2,ft=(q+1+Y*tt)*2,ct=I[lt],mt=G[Tt],Et=new n(k[ot],k[ot+1],0,Q[ot],Q[ot+1],ct,mt).transformMat4(u),Pt=new n(k[at],k[at+1],0,Q[at],Q[at+1],ct,mt).transformMat4(u),Ft=new n(k[ft],k[ft+1],0,Q[ft],Q[ft+1],ct,mt).transformMat4(u),Yt=new n(k[at],k[at+1],0,Q[at],Q[at+1],ct,mt).transformMat4(u),Vt=new n(k[dt],k[dt+1],0,Q[dt],Q[dt+1],ct,mt).transformMat4(u),$t=new n(k[ft],k[ft+1],0,Q[ft],Q[ft+1],ct,mt).transformMat4(u);z&&(Et.setUVs(_,ht),Pt.setUVs(_,st),Ft.setUVs(it,ht),Yt.setUVs(_,st),Vt.setUVs(it,st),$t.setUVs(it,ht)),lt++,lt===I.length&&(lt=0),Tt++,Tt===G.length&&(Tt=0),N.verts.push(Et,Pt,Ft,Yt,Vt,$t),N.faces.push(new f(Et,Pt,Ft),new f(Yt,Vt,$t))}return h&&(h.faces=h.faces.concat(N.faces),h.vertices=h.vertices.concat(N.verts)),N};p.exports=i},53267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18693),c=t(16650),a=t(70015),r=t(85769),n=new a,e=new a,s=new c,u=function(i,o,h,l,d,v,m,x,g,y){h===void 0&&(h=1),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=0),y===void 0&&(y=!0);var T={faces:[],verts:[]},E=i.materials;n.set(l,d,v),e.set(m,x,g),s.fromRotationXYTranslation(e,n,y);for(var C=0;C<i.models.length;C++)for(var A=i.models[C],P=A.vertices,F=A.textureCoords,O=A.faces,I=0;I<O.length;I++){var G=O[I],z=G.vertices[0],X=G.vertices[1],H=G.vertices[2],N=P[z.vertexIndex],U=P[X.vertexIndex],R=P[H.vertexIndex],D=z.textureCoordsIndex,B=X.textureCoordsIndex,V=H.textureCoordsIndex,Y=D===-1?{u:0,v:1}:F[D],K=B===-1?{u:0,v:0}:F[B],$=V===-1?{u:1,v:1}:F[V],J=16777215;G.material!==""&&E[G.material]&&(J=E[G.material]);var Q=new r(N.x*h,N.y*h,N.z*h,Y.u,Y.v,J).transformMat4(s),k=new r(U.x*h,U.y*h,U.z*h,K.u,K.v,J).transformMat4(s),q=new r(R.x*h,R.y*h,R.z*h,$.u,$.v,J).transformMat4(s);T.verts.push(Q,k,q),T.faces.push(new f(Q,k,q))}return o&&(o.faces=o.faces.concat(T.faces),o.vertices=o.vertices.concat(T.verts)),T};p.exports=u},67623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18693),c=t(85769),a=function(r,n,e,s,u,i,o,h){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),o===void 0&&(o=1),h===void 0&&(h=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var l={faces:[],vertices:[]},d,v,m,x,g,y,T,E,C,A,P,F=s?3:2,O=Array.isArray(i),I=Array.isArray(o);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var G=e[d],z=e[d]*2,X=e[d]*F;v=r[X],m=r[X+1],x=s?r[X+2]:0,g=n[z],y=n[z+1],h&&(y=1-y),T=O?i[G]:i,E=I?o[G]:o,C=0,A=0,P=0,u&&(C=u[X],A=u[X+1],P=s?u[X+2]:0),l.vertices.push(new c(v,m,x,g,y,T,E,C,A,P))}else{var H=0,N=0;for(d=0;d<r.length;d+=F)v=r[d],m=r[d+1],x=s?r[d+2]:0,g=n[H],y=n[H+1],T=O?i[N]:i,E=I?o[N]:o,C=0,A=0,P=0,u&&(C=u[d],A=u[d+1],P=s?u[d+2]:0),l.vertices.push(new c(v,m,x,g,y,T,E,C,A,P)),H+=2,N++}for(d=0;d<l.vertices.length;d+=3){var U=l.vertices[d],R=l.vertices[d+1],D=l.vertices[d+2];l.faces.push(new f(U,R,D))}return l};p.exports=a},27291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",f="",c="";function a(v){var m=v.indexOf("#");return m>-1?v.substring(0,m):v}function r(v){return v.models.length===0&&v.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),f="",v.models[v.models.length-1]}function n(v,m){var x=v.length>=2?v[1]:t;m.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),f=""}function e(v){v.length===2&&(f=v[1])}function s(v,m){var x=v.length,g=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;r(m).vertices.push({x:g,y,z:T})}function u(v,m){var x=v.length,g=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;isNaN(g)&&(g=0),isNaN(y)&&(y=0),isNaN(T)&&(T=0),S&&(y=1-y),r(m).textureCoords.push({u:g,v:y,w:T})}function i(v,m){var x=v.length,g=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;r(m).vertexNormals.push({x:g,y,z:T})}function o(v,m){var x=v.length-1;if(!(x<3)){for(var g={group:f,material:c,vertices:[]},y=0;y<x;y++){var T=v[y+1],E=T.split("/"),C=E.length;if(!(C<1||C>3)){var A=0,P=0,F=0;A=parseInt(E[0],10),C>1&&E[1]!==""&&(P=parseInt(E[1],10)),C>2&&(F=parseInt(E[2],10)),A!==0&&(A<0&&(A=r(m).vertices.length+1+A),P-=1,A-=1,F-=1,g.vertices.push({textureCoordsIndex:P,vertexIndex:A,vertexNormalIndex:F}))}}r(m).faces.push(g)}}function h(v,m){v.length>=2&&m.materialLibraries.push(v[1])}function l(v){v.length>=2&&(c=v[1])}var d=function(v,m){m===void 0&&(m=!0),S=m;var x={materials:{},materialLibraries:[],models:[]};f="",c="";for(var g=v.split(`
`),y=0;y<g.length;y++){var T=a(g[y]),E=T.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":n(E,x);break;case"g":e(E);break;case"v":s(E,x);break;case"vt":u(E,x);break;case"vn":i(E,x);break;case"f":o(E,x);break;case"mtllib":h(E,x);break;case"usemtl":l(E);break}}return x};p.exports=d},76799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22946),c=function(a){for(var r={},n=a.split(`
`),e="",s=0;s<n.length;s++){var u=n[s].trim();if(!(u.indexOf("#")===0||u==="")){var i=u.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var o=Math.floor(i[1]*255),h=i.length>=2?Math.floor(i[2]*255):o,l=i.length>=3?Math.floor(i[3]*255):o;r[e]=f(o,h,l);break}}}}return r};p.exports=c},15313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r,n;if(c===void 0&&a===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(f),u=Math.sin(f),i=t.vertex1,o=t.vertex2,h=t.vertex3,l=i.x-r,d=i.y-n;i.set(l*s-d*u+r,l*u+d*s+n),l=o.x-r,d=o.y-n,o.set(l*s-d*u+r,l*u+d*s+n),l=h.x-r,d=h.y-n,h.set(l*s-d*u+r,l*u+d*s+n)};p.exports=S},85769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(75512),a=t(70015),r=new f({Extends:a,initialize:function(e,s,u,i,o,h,l,d,v,m){h===void 0&&(h=16777215),l===void 0&&(l=1),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),a.call(this,e,s,u),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=v,this.nz=m,this.u=i,this.v=o,this.color=h,this.alpha=l,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=o},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,u){var i=this.x,o=this.y,h=this.z,l=n.val,d=i*l[0]+o*l[4]+h*l[8]+l[12],v=i*l[1]+o*l[5]+h*l[9]+l[13],m=i*l[2]+o*l[6]+h*l[10]+l[14],x=i*l[3]+o*l[7]+h*l[11]+l[15];this.vx=d/x*e,this.vy=-(v/x)*s,u<=0?this.vz=m/x:this.vz=-(m/x)},resize:function(n,e,s,u,i,o){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*u,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),o<.5?this.vy+=u*(.5-o):o>.5&&(this.vy-=u*(o-.5)),this},update:function(n,e,s,u,i,o,h,l){var d=this.vx*n+this.vy*s+i,v=this.vx*e+this.vy*u+o;return h&&(d=Math.round(d),v=Math.round(v)),this.tx=d,this.ty=v,this.ta=this.alpha*l,this},load:function(n,e,s,u,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=u,n[++s]=i,e[++s]=c.getTintAppendFloatAlpha(this.color,this.ta),s}});p.exports=r},14293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};p.exports=f},77601:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},38933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a){return new f(a.x,a.y)};p.exports=c},47103:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y)};p.exports=S},13625:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y};p.exports=S},12536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){if(r===void 0&&(r=new f),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var n=a.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<n;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=n,r.y/=n}return r};p.exports=c},50083:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},82712:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){r===void 0&&(r=new f);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var o=a[i];o.x>n&&(n=o.x),o.x<e&&(e=o.x),o.y>s&&(s=o.y),o.y<u&&(u=o.y)}return r.x=e,r.y=u,r.width=n-e,r.height=s-u,r};p.exports=c},77154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new f),e.x=a.x+(r.x-a.x)*n,e.y=a.y+(r.y-a.y)*n,e};p.exports=c},42397:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},59464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.setTo(-a.x,-a.y)};p.exports=c},79967:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(52394),a=new f({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=c.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});p.exports=a},53581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(82712),a=function(r,n,e){e===void 0&&(e=new f);var s=r.x*n.x+r.y*n.y,u=s/c(n);return u!==0&&(e.x=u*n.x,e.y=u*n.y),e};p.exports=a},50817:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){n===void 0&&(n=new f);var e=a.x*r.x+a.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};p.exports=c},40525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50083),c=function(a,r){if(a.x!==0||a.y!==0){var n=f(a);a.x/=n,a.y/=n}return a.x*=r,a.y*=r,a};p.exports=c},63472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967);f.Ceil=t(77601),f.Clone=t(38933),f.CopyFrom=t(47103),f.Equals=t(13625),f.Floor=t(12536),f.GetCentroid=t(54205),f.GetMagnitude=t(50083),f.GetMagnitudeSq=t(82712),f.GetRectangleFromPoints=t(20052),f.Interpolate=t(77154),f.Invert=t(42397),f.Negative=t(59464),f.Project=t(53581),f.ProjectUnit=t(50817),f.SetMagnitude=t(40525),p.exports=f},19631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8580),c=function(a){return new f(a.points)};p.exports=c},45604:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,u=t.points[n].x,i=t.points[n].y;(s<=c&&c<i||i<=c&&c<s)&&f<(u-e)*(c-s)/(i-s)+e&&(a=!a)}return a};p.exports=S},87289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45604),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},11117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(N,U,R){R=R||2;var D=U&&U.length,B=D?U[0]*R:N.length,V=t(N,0,B,R,!0),Y=[];if(!V||V.next===V.prev)return Y;var K,$,J,Q,k,q,tt;if(D&&(V=s(N,U,V,R)),N.length>80*R){K=J=N[0],$=Q=N[1];for(var _=R;_<B;_+=R)k=N[_],q=N[_+1],k<K&&(K=k),q<$&&($=q),k>J&&(J=k),q>Q&&(Q=q);tt=Math.max(J-K,Q-$),tt=tt!==0?32767/tt:0}return c(V,Y,R,K,$,tt,0),Y}function t(N,U,R,D,B){var V,Y;if(B===H(N,U,R,D)>0)for(V=U;V<R;V+=D)Y=G(V,N[V],N[V+1],Y);else for(V=R-D;V>=U;V-=D)Y=G(V,N[V],N[V+1],Y);return Y&&T(Y,Y.next)&&(z(Y),Y=Y.next),Y}function f(N,U){if(!N)return N;U||(U=N);var R=N,D;do if(D=!1,!R.steiner&&(T(R,R.next)||y(R.prev,R,R.next)===0)){if(z(R),R=U=R.prev,R===R.next)break;D=!0}else R=R.next;while(D||R!==U);return U}function c(N,U,R,D,B,V,Y){if(!!N){!Y&&V&&l(N,D,B,V);for(var K=N,$,J;N.prev!==N.next;){if($=N.prev,J=N.next,V?r(N,D,B,V):a(N)){U.push($.i/R|0),U.push(N.i/R|0),U.push(J.i/R|0),z(N),N=J.next,K=J.next;continue}if(N=J,N===K){Y?Y===1?(N=n(f(N),U,R),c(N,U,R,D,B,V,2)):Y===2&&e(N,U,R,D,B,V):c(f(N),U,R,D,B,V,1);break}}}}function a(N){var U=N.prev,R=N,D=N.next;if(y(U,R,D)>=0)return!1;for(var B=U.x,V=R.x,Y=D.x,K=U.y,$=R.y,J=D.y,Q=B<V?B<Y?B:Y:V<Y?V:Y,k=K<$?K<J?K:J:$<J?$:J,q=B>V?B>Y?B:Y:V>Y?V:Y,tt=K>$?K>J?K:J:$>J?$:J,_=D.next;_!==U;){if(_.x>=Q&&_.x<=q&&_.y>=k&&_.y<=tt&&x(B,K,V,$,Y,J,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function r(N,U,R,D){var B=N.prev,V=N,Y=N.next;if(y(B,V,Y)>=0)return!1;for(var K=B.x,$=V.x,J=Y.x,Q=B.y,k=V.y,q=Y.y,tt=K<$?K<J?K:J:$<J?$:J,_=Q<k?Q<q?Q:q:k<q?k:q,it=K>$?K>J?K:J:$>J?$:J,st=Q>k?Q>q?Q:q:k>q?k:q,ht=v(tt,_,U,R,D),ut=v(it,st,U,R,D),et=N.prevZ,rt=N.nextZ;et&&et.z>=ht&&rt&&rt.z<=ut;){if(et.x>=tt&&et.x<=it&&et.y>=_&&et.y<=st&&et!==B&&et!==Y&&x(K,Q,$,k,J,q,et.x,et.y)&&y(et.prev,et,et.next)>=0||(et=et.prevZ,rt.x>=tt&&rt.x<=it&&rt.y>=_&&rt.y<=st&&rt!==B&&rt!==Y&&x(K,Q,$,k,J,q,rt.x,rt.y)&&y(rt.prev,rt,rt.next)>=0))return!1;rt=rt.nextZ}for(;et&&et.z>=ht;){if(et.x>=tt&&et.x<=it&&et.y>=_&&et.y<=st&&et!==B&&et!==Y&&x(K,Q,$,k,J,q,et.x,et.y)&&y(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;rt&&rt.z<=ut;){if(rt.x>=tt&&rt.x<=it&&rt.y>=_&&rt.y<=st&&rt!==B&&rt!==Y&&x(K,Q,$,k,J,q,rt.x,rt.y)&&y(rt.prev,rt,rt.next)>=0)return!1;rt=rt.nextZ}return!0}function n(N,U,R){var D=N;do{var B=D.prev,V=D.next.next;!T(B,V)&&E(B,D,D.next,V)&&F(B,V)&&F(V,B)&&(U.push(B.i/R|0),U.push(D.i/R|0),U.push(V.i/R|0),z(D),z(D.next),D=N=V),D=D.next}while(D!==N);return f(D)}function e(N,U,R,D,B,V){var Y=N;do{for(var K=Y.next.next;K!==Y.prev;){if(Y.i!==K.i&&g(Y,K)){var $=I(Y,K);Y=f(Y,Y.next),$=f($,$.next),c(Y,U,R,D,B,V,0),c($,U,R,D,B,V,0);return}K=K.next}Y=Y.next}while(Y!==N)}function s(N,U,R,D){var B=[],V,Y,K,$,J;for(V=0,Y=U.length;V<Y;V++)K=U[V]*D,$=V<Y-1?U[V+1]*D:N.length,J=t(N,K,$,D,!1),J===J.next&&(J.steiner=!0),B.push(m(J));for(B.sort(u),V=0;V<B.length;V++)R=i(B[V],R);return R}function u(N,U){return N.x-U.x}function i(N,U){var R=o(N,U);if(!R)return U;var D=I(R,N);return f(D,D.next),f(R,R.next)}function o(N,U){var R=U,D=N.x,B=N.y,V=-1/0,Y;do{if(B<=R.y&&B>=R.next.y&&R.next.y!==R.y){var K=R.x+(B-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(K<=D&&K>V&&(V=K,Y=R.x<R.next.x?R:R.next,K===D))return Y}R=R.next}while(R!==U);if(!Y)return null;var $=Y,J=Y.x,Q=Y.y,k=1/0,q;R=Y;do D>=R.x&&R.x>=J&&D!==R.x&&x(B<Q?D:V,B,J,Q,B<Q?V:D,B,R.x,R.y)&&(q=Math.abs(B-R.y)/(D-R.x),F(R,N)&&(q<k||q===k&&(R.x>Y.x||R.x===Y.x&&h(Y,R)))&&(Y=R,k=q)),R=R.next;while(R!==$);return Y}function h(N,U){return y(N.prev,N,U.prev)<0&&y(U.next,N,N.next)<0}function l(N,U,R,D){var B=N;do B.z===0&&(B.z=v(B.x,B.y,U,R,D)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==N);B.prevZ.nextZ=null,B.prevZ=null,d(B)}function d(N){var U,R,D,B,V,Y,K,$,J=1;do{for(R=N,N=null,V=null,Y=0;R;){for(Y++,D=R,K=0,U=0;U<J&&(K++,D=D.nextZ,!!D);U++);for($=J;K>0||$>0&&D;)K!==0&&($===0||!D||R.z<=D.z)?(B=R,R=R.nextZ,K--):(B=D,D=D.nextZ,$--),V?V.nextZ=B:N=B,B.prevZ=V,V=B;R=D}V.nextZ=null,J*=2}while(Y>1);return N}function v(N,U,R,D,B){return N=(N-R)*B|0,U=(U-D)*B|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,N|U<<1}function m(N){var U=N,R=N;do(U.x<R.x||U.x===R.x&&U.y<R.y)&&(R=U),U=U.next;while(U!==N);return R}function x(N,U,R,D,B,V,Y,K){return(B-Y)*(U-K)>=(N-Y)*(V-K)&&(N-Y)*(D-K)>=(R-Y)*(U-K)&&(R-Y)*(V-K)>=(B-Y)*(D-K)}function g(N,U){return N.next.i!==U.i&&N.prev.i!==U.i&&!P(N,U)&&(F(N,U)&&F(U,N)&&O(N,U)&&(y(N.prev,N,U.prev)||y(N,U.prev,U))||T(N,U)&&y(N.prev,N,N.next)>0&&y(U.prev,U,U.next)>0)}function y(N,U,R){return(U.y-N.y)*(R.x-U.x)-(U.x-N.x)*(R.y-U.y)}function T(N,U){return N.x===U.x&&N.y===U.y}function E(N,U,R,D){var B=A(y(N,U,R)),V=A(y(N,U,D)),Y=A(y(R,D,N)),K=A(y(R,D,U));return!!(B!==V&&Y!==K||B===0&&C(N,R,U)||V===0&&C(N,D,U)||Y===0&&C(R,N,D)||K===0&&C(R,U,D))}function C(N,U,R){return U.x<=Math.max(N.x,R.x)&&U.x>=Math.min(N.x,R.x)&&U.y<=Math.max(N.y,R.y)&&U.y>=Math.min(N.y,R.y)}function A(N){return N>0?1:N<0?-1:0}function P(N,U){var R=N;do{if(R.i!==N.i&&R.next.i!==N.i&&R.i!==U.i&&R.next.i!==U.i&&E(R,R.next,N,U))return!0;R=R.next}while(R!==N);return!1}function F(N,U){return y(N.prev,N,N.next)<0?y(N,U,N.next)>=0&&y(N,N.prev,U)>=0:y(N,U,N.prev)<0||y(N,N.next,U)<0}function O(N,U){var R=N,D=!1,B=(N.x+U.x)/2,V=(N.y+U.y)/2;do R.y>V!=R.next.y>V&&R.next.y!==R.y&&B<(R.next.x-R.x)*(V-R.y)/(R.next.y-R.y)+R.x&&(D=!D),R=R.next;while(R!==N);return D}function I(N,U){var R=new X(N.i,N.x,N.y),D=new X(U.i,U.x,U.y),B=N.next,V=U.prev;return N.next=U,U.prev=N,R.next=B,B.prev=R,D.next=R,R.prev=D,V.next=D,D.prev=V,D}function G(N,U,R,D){var B=new X(N,U,R);return D?(B.next=D.next,B.prev=D,D.next.prev=B,D.next=B):(B.prev=B,B.next=B),B}function z(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function X(N,U,R){this.i=N,this.x=U,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(N,U,R,D){var B=U&&U.length,V=B?U[0]*R:N.length,Y=Math.abs(H(N,0,V,R));if(B)for(var K=0,$=U.length;K<$;K++){var J=U[K]*R,Q=K<$-1?U[K+1]*R:N.length;Y-=Math.abs(H(N,J,Q,R))}var k=0;for(K=0;K<D.length;K+=3){var q=D[K]*R,tt=D[K+1]*R,_=D[K+2]*R;k+=Math.abs((N[q]-N[_])*(N[tt+1]-N[q+1])-(N[q]-N[tt])*(N[_+1]-N[q+1]))}return Y===0&&k===0?0:Math.abs((k-Y)/Y)};function H(N,U,R,D){for(var B=0,V=U,Y=R-D;V<R;V+=D)B+=(N[Y]-N[V])*(N[V+1]+N[Y+1]),Y=V;return B}S.flatten=function(N){for(var U=N[0][0].length,R={vertices:[],holes:[],dimensions:U},D=0,B=0;B<N.length;B++){for(var V=0;V<N[B].length;V++)for(var Y=0;Y<U;Y++)R.vertices.push(N[B][V][Y]);B>0&&(D+=N[B-1].length,R.holes.push(D))}return R},p.exports=S},14045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){r===void 0&&(r=new f);for(var n=1/0,e=1/0,s=-n,u=-e,i,o=0;o<a.points.length;o++)i=a.points[o],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),u=Math.max(u,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=u-e,r};p.exports=c},98286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=[]);for(var c=0;c<t.points.length;c++)f.push(t.points[c].x),f.push(t.points[c].y);return f};p.exports=S},89294:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(88829),a=t(5159),r=function(n,e,s,u){u===void 0&&(u=[]);var i=n.points,o=a(n);!e&&s>0&&(e=o/s);for(var h=0;h<e;h++)for(var l=o*(h/e),d=0,v=0;v<i.length;v++){var m=i[v],x=i[(v+1)%i.length],g=new c(m.x,m.y,x.x,x.y),y=f(g);if(l<d||l>d+y){d+=y;continue}var T=g.getPoint((l-d)/y);u.push(T);break}return u};p.exports=r},5159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(88829),a=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var u=n[s],i=n[(s+1)%n.length],o=new c(u.x,u.y,i.x,i.y);e+=f(o)}return e};p.exports=a},8580:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(45604),a=t(89294),r=t(52394),n=new f({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return c(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,u=0;u<e.length;u++)s={x:0,y:0},typeof e[u]=="number"||typeof e[u]=="string"?(s.x=parseFloat(e[u]),s.y=parseFloat(e[u+1]),u++):Array.isArray(e[u])?(s.x=e[u][0],s.y=e[u][1]):(s.x=e[u].x,s.y=e[u].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,u,i=0;i<this.points.length-1;i++)s=this.points[i],u=this.points[i+1],e+=(u.x-s.x)*(s.y+u.y);return s=this.points[0],u=this.points[this.points.length-1],e+=(s.x-u.x)*(u.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,u){return a(this,e,s,u)}});p.exports=n},32244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},95874:p=>{function S(n,e){var s=n.x-e.x,u=n.y-e.y;return s*s+u*u}function t(n,e,s){var u=e.x,i=e.y,o=s.x-u,h=s.y-i;if(o!==0||h!==0){var l=((n.x-u)*o+(n.y-i)*h)/(o*o+h*h);l>1?(u=s.x,i=s.y):l>0&&(u+=o*l,i+=h*l)}return o=n.x-u,h=n.y-i,o*o+h*h}function f(n,e){for(var s=n[0],u=[s],i,o=1,h=n.length;o<h;o++)i=n[o],S(i,s)>e&&(u.push(i),s=i);return s!==i&&u.push(i),u}function c(n,e,s,u,i){for(var o=u,h,l=e+1;l<s;l++){var d=t(n[l],n[e],n[s]);d>o&&(h=l,o=d)}o>u&&(h-e>1&&c(n,e,h,u,i),i.push(n[h]),s-h>1&&c(n,h,s,u,i))}function a(n,e){var s=n.length-1,u=[n[0]];return c(n,0,s,e,u),u.push(n[s]),u}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var u=n.points;if(u.length>2){var i=e*e;s||(u=f(u,i)),n.setTo(a(u,i))}return n};p.exports=r},18974:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(f,c){return f[0]=c[0],f[1]=c[1],f},t=function(f){var c,a=[],r=f.points;for(c=0;c<r.length;c++)a.push([r[c].x,r[c].y]);var n=[];for(a.length>0&&n.push(S([0,0],a[0])),c=0;c<a.length-1;c++){var e=a[c],s=a[c+1],u=e[0],i=e[1],o=s[0],h=s[1];n.push([.85*u+.15*o,.85*i+.15*h]),n.push([.15*u+.85*o,.15*i+.85*h])}return a.length>1&&n.push(S([0,0],a[a.length-1])),f.setTo(n)};p.exports=t},23490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=f,a[r].y+=c;return t};p.exports=S},44359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8580);f.Clone=t(19631),f.Contains=t(45604),f.ContainsPoint=t(87289),f.Earcut=t(11117),f.GetAABB=t(14045),f.GetNumberArray=t(98286),f.GetPoints=t(89294),f.Perimeter=t(5159),f.Reverse=t(32244),f.Simplify=t(95874),f.Smooth=t(18974),f.Translate=t(23490),p.exports=f},1653:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},33943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},58662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},79993:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x=f-t.width/2,t.y=c-t.height/2,t};p.exports=S},81572:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a){return new f(a.x,a.y,a.width,a.height)};p.exports=c},94287:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.width<=0||t.height<=0?!1:t.x<=f&&t.x+t.width>=f&&t.y<=c&&t.y+t.height>=c};p.exports=S},28687:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(94287),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},73222:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.width*f.height>t.width*t.height?!1:f.x>t.x&&f.x<t.right&&f.right>t.x&&f.right<t.right&&f.y>t.y&&f.y<t.bottom&&f.bottom>t.y&&f.bottom<t.bottom};p.exports=S},29538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y,t.width,t.height)};p.exports=S},87279:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=[]),f.push({x:t.x,y:t.y}),f.push({x:t.right,y:t.y}),f.push({x:t.right,y:t.bottom}),f.push({x:t.x,y:t.bottom}),f};p.exports=S},19989:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y&&t.width===f.width&&t.height===f.height};p.exports=S},92628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6700),c=function(a,r){var n=f(a);return n<f(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=c},85028:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6700),c=function(a,r){var n=f(a);return n>f(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=c},71356:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},21687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},80222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(83392),a=function(r,n){if(n===void 0&&(n=new f),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,u=c.MIN_SAFE_INTEGER,i=c.MIN_SAFE_INTEGER,o,h,l,d=0;d<r.length;d++)o=r[d],Array.isArray(o)?(h=o[0],l=o[1]):(h=o.x,l=o.y),e=Math.min(e,h),s=Math.min(s,l),u=Math.max(u,h),i=Math.max(i,l);return n.x=e,n.y=s,n.width=u-e,n.height=i-s,n};p.exports=a},75785:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r,n,e,s){return s===void 0&&(s=new f),s.setTo(Math.min(a,n),Math.min(r,e),Math.abs(a-n),Math.abs(r-e))};p.exports=c},6700:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},35242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=a.centerX,r.y=a.centerY,r};p.exports=c},47698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85876),c=t(79967),a=function(r,n,e){if(e===void 0&&(e=new c),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=f(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};p.exports=a},54932:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47698),c=t(85876),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=c(r)/e);for(var u=0;u<n;u++){var i=u/n;s.push(f(r,i))}return s};p.exports=a},31591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=a.width,r.y=a.height,r};p.exports=c},7782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79993),c=function(a,r,n){var e=a.centerX,s=a.centerY;return a.setSize(a.width+r*2,a.height+n*2),f(a,e,s)};p.exports=c},66217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(90205),a=function(r,n,e){return e===void 0&&(e=new f),c(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};p.exports=a},40053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85876),c=t(79967),a=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(f(r)/n):n=f(r)/e;for(var u=r.x,i=r.y,o=0,h=0;h<e;h++)switch(s.push(new c(u,i)),o){case 0:u+=n,u>=r.right&&(o=1,i+=u-r.right,u=r.right);break;case 1:i+=n,i>=r.bottom&&(o=2,u-=i-r.bottom,i=r.bottom);break;case 2:u-=n,u<=r.left&&(o=3,i-=r.left-u,u=r.left);break;case 3:i-=n,i<=r.top&&(o=0,i=r.top);break}return s};p.exports=a},86673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=t.x,a=t.right,r=t.y,n=t.bottom,e=0;e<f.length;e++)c=Math.min(c,f[e].x),a=Math.max(a,f[e].x),r=Math.min(r,f[e].y),n=Math.max(n,f[e].y);return t.x=c,t.y=r,t.width=a-c,t.height=n-r,t};p.exports=S},14655:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=Math.min(t.x,f.x),a=Math.max(t.right,f.right);t.x=c,t.width=a-c;var r=Math.min(t.y,f.y),n=Math.max(t.bottom,f.bottom);return t.y=r,t.height=n-r,t};p.exports=S},44755:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=Math.min(t.x,f),r=Math.max(t.right,f);t.x=a,t.width=r-a;var n=Math.min(t.y,c),e=Math.max(t.bottom,c);return t.y=n,t.height=e-n,t};p.exports=S},74466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x+=f,t.y+=c,t};p.exports=S},55946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x+=f.x,t.y+=f.y,t};p.exports=S},97474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x<f.right&&t.right>f.x&&t.y<f.bottom&&t.bottom>f.y};p.exports=S},85876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},20243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(75606),a=function(r,n,e){e===void 0&&(e=new f),n=c(n);var s=Math.sin(n),u=Math.cos(n),i=u>0?r.width/2:r.width/-2,o=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(o*u)?o=i*s/u:i=o*u/s,e.x=i+r.centerX,e.y=o+r.centerY,e};p.exports=a},30001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};p.exports=c},97691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(73222),a=t(79967),r=function(n,e,s){if(s===void 0&&(s=new a),c(n,e))switch(f(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};p.exports=r},74118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(94287),a=t(47698),r=t(54932),n=t(52394),e=t(88829),s=t(30001),u=new f({initialize:function(o,h,l,d){o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),this.type=n.RECTANGLE,this.x=o,this.y=h,this.width=l,this.height=d},contains:function(i,o){return c(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,h){return r(this,i,o,h)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,o,h,l){return this.x=i,this.y=o,this.width=h,this.height=l,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,o){return o===void 0&&(o=i),this.x=i,this.y=o,this},setSize:function(i,o){return o===void 0&&(o=i),this.width=i,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});p.exports=u},51828:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.width===f.width&&t.height===f.height};p.exports=S},5691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=f),t.width*=f,t.height*=c,t};p.exports=S},58795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r,n){n===void 0&&(n=new f);var e=Math.min(a.x,r.x),s=Math.min(a.y,r.y),u=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-s;return n.setTo(e,s,u,i)};p.exports=c},66658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118);f.Area=t(1653),f.Ceil=t(33943),f.CeilAll=t(58662),f.CenterOn=t(79993),f.Clone=t(81572),f.Contains=t(94287),f.ContainsPoint=t(28687),f.ContainsRect=t(73222),f.CopyFrom=t(29538),f.Decompose=t(87279),f.Equals=t(19989),f.FitInside=t(92628),f.FitOutside=t(85028),f.Floor=t(71356),f.FloorAll=t(21687),f.FromPoints=t(80222),f.FromXY=t(75785),f.GetAspectRatio=t(6700),f.GetCenter=t(35242),f.GetPoint=t(47698),f.GetPoints=t(54932),f.GetSize=t(31591),f.Inflate=t(7782),f.Intersection=t(66217),f.MarchingAnts=t(40053),f.MergePoints=t(86673),f.MergeRect=t(14655),f.MergeXY=t(44755),f.Offset=t(74466),f.OffsetPoint=t(55946),f.Overlaps=t(97474),f.Perimeter=t(85876),f.PerimeterPoint=t(20243),f.Random=t(30001),f.RandomOutside=t(97691),f.SameDimensions=t(51828),f.Scale=t(5691),f.Union=t(58795),p.exports=f},19108:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.x1,c=t.y1,a=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-f)*(r-c)-(a-f)*(e-c))/2)};p.exports=S},41199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349),c=function(a,r,n){var e=n*(Math.sqrt(3)/2),s=a,u=r,i=a+n/2,o=r+e,h=a-n/2,l=r+e;return new f(s,u,i,o,h,l)};p.exports=c},88730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(11117),c=t(66349),a=function(r,n,e,s,u){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),u===void 0&&(u=[]);for(var i=f(r,n),o,h,l,d,v,m,x,g,y,T=0;T<i.length;T+=3)o=i[T],h=i[T+1],l=i[T+2],d=r[o*2]*e,v=r[o*2+1]*s,m=r[h*2]*e,x=r[h*2+1]*s,g=r[l*2]*e,y=r[l*2+1]*s,u.push(new c(d,v,m,x,g,y));return u};p.exports=a},3635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349),c=function(a,r,n,e){e===void 0&&(e=n);var s=a,u=r,i=a,o=r-e,h=a+n,l=r;return new f(s,u,i,o,h,l)};p.exports=c},1882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56595),c=t(9640),a=function(r,n,e,s){s===void 0&&(s=f);var u=s(r),i=n-u.x,o=e-u.y;return c(r,i,o)};p.exports=a},56595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};p.exports=c},91835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736);function c(r,n,e,s){return r*s-n*e}var a=function(r,n){n===void 0&&(n=new f);var e=r.x3,s=r.y3,u=r.x1-e,i=r.y1-s,o=r.x2-e,h=r.y2-s,l=2*c(u,i,o,h),d=c(i,u*u+i*i,h,o*o+h*h),v=c(u,u*u+i*i,o,o*o+h*h);return n.x=e-d/l,n.y=s+v/l,n};p.exports=a},97073:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=function(a,r){r===void 0&&(r=new f);var n=a.x1,e=a.y1,s=a.x2,u=a.y2,i=a.x3,o=a.y3,h=s-n,l=u-e,d=i-n,v=o-e,m=h*(n+s)+l*(e+u),x=d*(n+i)+v*(e+o),g=2*(h*(o-u)-l*(i-s)),y,T;if(Math.abs(g)<1e-6){var E=Math.min(n,s,i),C=Math.min(e,u,o);y=(Math.max(n,s,i)-E)*.5,T=(Math.max(e,u,o)-C)*.5,r.x=E+y,r.y=C+T,r.radius=Math.sqrt(y*y+T*T)}else r.x=(v*m-l*x)/g,r.y=(h*x-d*m)/g,y=r.x-n,T=r.y-e,r.radius=Math.sqrt(y*y+T*T);return r};p.exports=c},75974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349),c=function(a){return new f(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};p.exports=c},60689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=f-t.x1,u=c-t.y1,i=a*a+r*r,o=a*n+r*e,h=a*s+r*u,l=n*n+e*e,d=n*s+e*u,v=i*l-o*o,m=v===0?0:1/v,x=(l*h-o*d)*m,g=(i*d-o*h)*m;return x>=0&&g>=0&&x+g<1};p.exports=S},86875:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,u=r*r+n*n,i=r*e+n*s,o=e*e+s*s,h=u*o-i*i,l=h===0?0:1/h,d,v,m,x,g,y,T=t.x1,E=t.y1,C=0;C<f.length&&(m=f[C].x-T,x=f[C].y-E,g=r*m+n*x,y=e*m+s*x,d=(o*g-i*y)*l,v=(u*y-i*g)*l,!(d>=0&&v>=0&&d+v<1&&(a.push({x:f[C].x,y:f[C].y}),c)));C++);return a};p.exports=S},51532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60689),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},42538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},18680:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=[]),f.push({x:t.x1,y:t.y1}),f.push({x:t.x2,y:t.y2}),f.push({x:t.x3,y:t.y3}),f};p.exports=S},29977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x1===f.x1&&t.y1===f.y1&&t.x2===f.x2&&t.y2===f.y2&&t.x3===f.x3&&t.y3===f.y3};p.exports=S},56088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(16028),a=function(r,n,e){e===void 0&&(e=new f);var s=r.getLineA(),u=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var o=c(s),h=c(u),l=c(i),d=o+h+l,v=d*n,m=0;return v<o?(m=v/o,e.x=s.x1+(s.x2-s.x1)*m,e.y=s.y1+(s.y2-s.y1)*m):v>o+h?(v-=o+h,m=v/l,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):(v-=o,m=v/h,e.x=u.x1+(u.x2-u.x1)*m,e.y=u.y1+(u.y2-u.y1)*m),e};p.exports=a},24402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(79967),a=function(r,n,e,s){s===void 0&&(s=[]);var u=r.getLineA(),i=r.getLineB(),o=r.getLineC(),h=f(u),l=f(i),d=f(o),v=h+l+d;!n&&e>0&&(n=v/e);for(var m=0;m<n;m++){var x=v*(m/n),g=0,y=new c;x<h?(g=x/h,y.x=u.x1+(u.x2-u.x1)*g,y.y=u.y1+(u.y2-u.y1)*g):x>h+l?(x-=h+l,g=x/d,y.x=o.x1+(o.x2-o.x1)*g,y.y=o.y1+(o.y2-o.y1)*g):(x-=h,g=x/l,y.x=i.x1+(i.x2-i.x1)*g,y.y=i.y1+(i.y2-i.y1)*g),s.push(y)}return s};p.exports=a},83648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967);function c(r,n,e,s){var u=r-e,i=n-s,o=u*u+i*i;return Math.sqrt(o)}var a=function(r,n){n===void 0&&(n=new f);var e=r.x1,s=r.y1,u=r.x2,i=r.y2,o=r.x3,h=r.y3,l=c(o,h,u,i),d=c(e,s,o,h),v=c(u,i,e,s),m=l+d+v;return n.x=(e*l+u*d+o*v)/m,n.y=(s*l+i*d+h*v)/m,n};p.exports=a},9640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x1+=f,t.y1+=c,t.x2+=f,t.y2+=c,t.x3+=f,t.y3+=c,t};p.exports=S},95290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=function(a){var r=a.getLineA(),n=a.getLineB(),e=a.getLineC();return f(r)+f(n)+f(e)};p.exports=c},99761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,u=a.y3-a.y1,i=Math.random(),o=Math.random();return i+o>=1&&(i=1-i,o=1-o),r.x=a.x1+(n*i+s*o),r.y=a.y1+(e*i+u*o),r};p.exports=c},21934:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19211),c=t(83648),a=function(r,n){var e=c(r);return f(r,e.x,e.y,n)};p.exports=a},68454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19211),c=function(a,r,n){return f(a,r.x,r.y,n)};p.exports=c},19211:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-f,s=t.y1-c;return t.x1=e*r-s*n+f,t.y1=e*n+s*r+c,e=t.x2-f,s=t.y2-c,t.x2=e*r-s*n+f,t.y2=e*n+s*r+c,e=t.x3-f,s=t.y3-c,t.x3=e*r-s*n+f,t.y3=e*n+s*r+c,t};p.exports=S},66349:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(60689),a=t(56088),r=t(24402),n=t(52394),e=t(88829),s=t(99761),u=new f({initialize:function(o,h,l,d,v,m){o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=n.TRIANGLE,this.x1=o,this.y1=h,this.x2=l,this.y2=d,this.x3=v,this.y3=m},contains:function(i,o){return c(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,h){return r(this,i,o,h)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,o,h,l,d,v){return i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),this.x1=i,this.y1=o,this.x2=h,this.y2=l,this.x3=d,this.y3=v,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}}});p.exports=u},87619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349);f.Area=t(19108),f.BuildEquilateral=t(41199),f.BuildFromPolygon=t(88730),f.BuildRight=t(3635),f.CenterOn=t(1882),f.Centroid=t(56595),f.CircumCenter=t(91835),f.CircumCircle=t(97073),f.Clone=t(75974),f.Contains=t(60689),f.ContainsArray=t(86875),f.ContainsPoint=t(51532),f.CopyFrom=t(42538),f.Decompose=t(18680),f.Equals=t(29977),f.GetPoint=t(56088),f.GetPoints=t(24402),f.InCenter=t(83648),f.Perimeter=t(95290),f.Offset=t(9640),f.Random=t(99761),f.Rotate=t(21934),f.RotateAroundPoint=t(68454),f.RotateAroundXY=t(19211),p.exports=f},27395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:c,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=S},18104:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return function(c,a,r,n){var e=t.getPixelAlpha(a,r,n.texture.key,n.frame.name);return e&&e>=f}};p.exports=S},69898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72687),a=t(6659),r=t(33963),n=t(97081),e=t(71064),s=t(7905),u=t(40398),i=t(37579),o=t(69360),h=t(64462),l=new f({initialize:function(v,m){this.game=v,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new s(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers,m.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var x=0;x<=this.pointersTotal;x++){var g=new u(this,x);g.smoothFactor=m.inputSmoothFactor,this.pointers.push(g)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(n.BOOT,this.boot,this)},boot:function(){var d=this.game,v=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),v.on(n.PRE_RENDER,this.preRender,this),v.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,v=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input&&g.sys.input.updatePoll(d,v)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var v=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var m=0;m<d;m++){var x=this.pointers.length,g=new u(this,x);g.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(g),this.pointersTotal++,v.push(g)}return v},updateInputPlugins:function(d,v){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input){var y=g.sys.input.update(d,v);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(!T.active){T.touchstart(g,d),this.activePointer=T,m.push(T);break}}this.updateInputPlugins(c.TOUCH_START,m)},onTouchMove:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===g.identifier){var E=document.elementFromPoint(g.pageX,g.pageY),C=E===this.canvas;!this.isOver&&C?this.setCanvasOver(d):this.isOver&&!C&&this.setCanvasOut(d),this.isOver&&(T.touchmove(g,d),this.activePointer=T,m.push(T));break}}this.updateInputPlugins(c.TOUCH_MOVE,m)},onTouchEnd:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===g.identifier){T.touchend(g,d),m.push(T);break}}this.updateInputPlugins(c.TOUCH_END,m)},onTouchCancel:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===g.identifier){T.touchcancel(g,d),m.push(T);break}}this.updateInputPlugins(c.TOUCH_CANCEL,m)},onMouseDown:function(d){var v=this.mousePointer;v.down(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var v=this.mousePointer;v.move(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var v=this.mousePointer;v.up(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var v=this.mousePointer;v.wheel(d),this.activePointer=v,this.updateInputPlugins(c.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(r.POINTERLOCK_CHANGE,d,v)},inputCandidate:function(d,v){var m=d.input;if(!m||!m.enabled||!d.willRender(v))return!1;var x=!0,g=d.parentContainer;if(g)do{if(!g.willRender(v)){x=!1;break}g=g.parentContainer}while(g);return x},hitTest:function(d,v,m,x){x===void 0&&(x=this._tempHitTest);var g=this._tempPoint,y=m.scrollX,T=m.scrollY;x.length=0;var E=d.x,C=d.y;m.getWorldPoint(E,C,g),d.worldX=g.x,d.worldY=g.y;for(var A={x:0,y:0},P=this._tempMatrix,F=this._tempMatrix2,O=0;O<v.length;O++){var I=v[O];if(!!this.inputCandidate(I,m)){var G=g.x+y*I.scrollFactorX-y,z=g.y+T*I.scrollFactorY-T;I.parentContainer?(I.getWorldTransformMatrix(P,F),P.applyInverse(G,z,A)):h(G,z,I.x,I.y,I.rotation,I.scaleX,I.scaleY,A),this.pointWithinHitArea(I,A.x,A.y)&&x.push(I)}}return x},pointWithinHitArea:function(d,v,m){v+=d.displayOriginX,m+=d.displayOriginY;var x=d.input;return x&&x.hitAreaCallback(x.hitArea,v,m,d)?(x.localX=v,x.localY=m,!0):!1},pointWithinInteractiveObject:function(d,v,m){return d.hitArea?(v+=d.gameObject.displayOriginX,m+=d.gameObject.displayOriginY,d.localX=v,d.localY=m,d.hitAreaCallback(d.hitArea,v,m,d)):!1},transformPointer:function(d,v,m,x){var g=d.position,y=d.prevPosition;y.x=g.x,y.y=g.y;var T=this.scaleManager.transformX(v),E=this.scaleManager.transformY(m),C=d.smoothFactor;!x||C===0?(g.x=T,g.y=E):(g.x=T*C+y.x*(1-C),g.y=E*C+y.y*(1-C))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=l},12499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=t(65650),a=t(56694),r=t(72687),n=t(27395),e=t(18104),s=t(53996),u=t(95669),i=t(72313),o=t(33963),h=t(6659),l=t(72632),d=t(52394),v=t(63399),m=t(42911),x=t(91963),g=t(74118),y=t(94287),T=t(7599),E=t(66349),C=t(60689),A=new a({Extends:h,initialize:function(F){h.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new h,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(T.BOOT,this.boot,this),F.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var P=this.systems.events;P.on(T.TRANSITION_START,this.transitionIn,this),P.on(T.TRANSITION_OUT,this.transitionOut,this),P.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),P.on(T.PRE_UPDATE,this.preUpdate,this),P.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(P){this.isActive()&&this.emit(o.GAME_OVER,P.timeStamp,P)},onGameOut:function(P){this.isActive()&&this.emit(o.GAME_OUT,P.timeStamp,P)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var P=this._pendingRemoval,F=this._pendingInsertion,O=P.length,I=F.length;if(!(O===0&&I===0)){for(var G=this._list,z=0;z<O;z++){var X=P[z],H=G.indexOf(X);H>-1&&(G.splice(H,1),this.clear(X,!0))}this._pendingRemoval.length=0,this._list=G.concat(F.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(P,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,P,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,I=this.manager,G=I.pointers,z=I.pointersTotal;for(O=0;O<z;O++)G[O].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(O=0;O<z;O++){var N=0,U=G[O];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),N+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,P),N>0&&(H=!0)}return H},update:function(P,F){if(!this.isActive())return!1;for(var O=F.length,I=!1,G=0;G<O;G++){var z=0,X=F[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),P){case r.MOUSE_DOWN:z+=this.processDragDownEvent(X),z+=this.processDownEvents(X),z+=this.processOverOutEvents(X);break;case r.MOUSE_UP:z+=this.processDragUpEvent(X),z+=this.processUpEvents(X),z+=this.processOverOutEvents(X);break;case r.TOUCH_START:z+=this.processDragDownEvent(X),z+=this.processDownEvents(X),z+=this.processOverEvents(X);break;case r.TOUCH_END:case r.TOUCH_CANCEL:z+=this.processDragUpEvent(X),z+=this.processUpEvents(X),z+=this.processOutEvents(X);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:z+=this.processDragMoveEvent(X),z+=this.processMoveEvents(X),z+=this.processOverOutEvents(X);break;case r.MOUSE_WHEEL:z+=this.processWheelEvent(X);break}z>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(P,F){F===void 0&&(F=!1),this.disable(P);var O=P.input;O&&(this.removeDebug(P),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,P.input=null),F||this.queueForRemoval(P);var I=this._draggable.indexOf(P);return I>-1&&this._draggable.splice(I,1),P},disable:function(P){var F=P.input;F&&(F.enabled=!1,F.dragState=0);var O=this._temp,I=this._drag,G=this._over,z=this.manager,X=O.indexOf(P);X>-1&&O.splice(X,1);for(var H=0;H<z.pointersTotal;H++)X=I[H].indexOf(P),X>-1&&I[H].splice(X,1),X=G[H].indexOf(P),X>-1&&(G[H].splice(X,1),z.resetCursor(F));return this},enable:function(P,F,O,I){return I===void 0&&(I=!1),P.input?P.input.enabled=!0:this.setHitArea(P,F,O),P.input&&I&&!P.input.dropZone&&(P.input.dropZone=I),this},hitTestPointer:function(P){for(var F=this.cameras.getCamerasBelowPointer(P),O=0;O<F.length;O++){for(var I=F[O],G=this.manager.hitTest(P,this._list,I),z=0;z<G.length;z++){var X=G[z];X.input.dropZone&&this._tempZones.push(X)}if(G.length>0)return P.camera=I,G}return P.camera=F[0],[]},processDownEvents:function(P){var F=0,O=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var z=!1,X=0;X<O.length;X++){var H=O[X];if(!(!H.input||!H.input.enabled)){if(F++,H.emit(o.GAMEOBJECT_POINTER_DOWN,P,H.input.localX,H.input.localY,G),I.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,P,H,G),I.cancelled||!H.input){z=!0;break}}}return!z&&this.manager&&(P.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,P,O):this.emit(o.POINTER_DOWN_OUTSIDE,P)),F},getDragState:function(P){return this._dragState[P.id]},setDragState:function(P,F){this._dragState[P.id]=F},processDragThresholdEvent:function(P,F){var O=!1,I=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&s(P.x,P.y,P.downX,P.downY)>=G||I>0&&F>=P.downTime+I)&&(O=!0),O)return this.setDragState(P,3),this.processDragStartList(P)},processDragStartList:function(P){if(this.getDragState(P)!==3)return 0;for(var F=this._drag[P.id],O=0;O<F.length;O++){var I=F[O],G=I.input;G.dragState=2,G.dragStartX=I.x,G.dragStartY=I.y,G.dragStartXGlobal=P.worldX,G.dragStartYGlobal=P.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,I.emit(o.GAMEOBJECT_DRAG_START,P,G.dragX,G.dragY),this.emit(o.DRAG_START,P,I)}return this.setDragState(P,4),F.length},processDragDownEvent:function(P){var F=this._temp;if(this._draggable.length===0||F.length===0||!P.primaryDown||this.getDragState(P)!==0)return 0;this.setDragState(P,1);for(var O=[],I=0;I<F.length;I++){var G=F[I];G.input.draggable&&G.input.dragState===0&&O.push(G)}return O.length===0?(this.setDragState(P,0),0):(O.length>1&&(this.sortGameObjects(O,P),this.topOnly&&O.splice(1)),this._drag[P.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(P,3),this.processDragStartList(P)):(this.setDragState(P,2),0))},processDragMoveEvent:function(P){if(this.getDragState(P)===2&&this.processDragThresholdEvent(P,this.manager.game.loop.now),this.getDragState(P)!==4)return 0;for(var F=this._tempZones,O=this._drag[P.id],I=0;I<O.length;I++){var G=O[I],z=G.input,X=z.target;if(X){var H=F.indexOf(X);H===0?(G.emit(o.GAMEOBJECT_DRAG_OVER,P,X),this.emit(o.DRAG_OVER,P,G,X)):H>0?(G.emit(o.GAMEOBJECT_DRAG_LEAVE,P,X),this.emit(o.DRAG_LEAVE,P,G,X),z.target=F[0],X=z.target,G.emit(o.GAMEOBJECT_DRAG_ENTER,P,X),this.emit(o.DRAG_ENTER,P,G,X)):(G.emit(o.GAMEOBJECT_DRAG_LEAVE,P,X),this.emit(o.DRAG_LEAVE,P,G,X),F[0]?(z.target=F[0],X=z.target,G.emit(o.GAMEOBJECT_DRAG_ENTER,P,X),this.emit(o.DRAG_ENTER,P,G,X)):z.target=null)}else!X&&F[0]&&(z.target=F[0],X=z.target,G.emit(o.GAMEOBJECT_DRAG_ENTER,P,X),this.emit(o.DRAG_ENTER,P,G,X));var N,U;if(!G.parentContainer)N=P.worldX-z.dragX,U=P.worldY-z.dragY;else{var R=P.worldX-z.dragStartXGlobal,D=P.worldY-z.dragStartYGlobal,B=G.getParentRotation(),V=R*Math.cos(B)+D*Math.sin(B),Y=D*Math.cos(B)-R*Math.sin(B);V*=1/G.parentContainer.scaleX,Y*=1/G.parentContainer.scaleY,N=V+z.dragStartX,U=Y+z.dragStartY}G.emit(o.GAMEOBJECT_DRAG,P,N,U),this.emit(o.DRAG,P,G,N,U)}return O.length},processDragUpEvent:function(P){for(var F=this._drag[P.id],O=0;O<F.length;O++){var I=F[O],G=I.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-I.displayOriginX,G.dragY=G.localY-I.displayOriginY;var z=!1,X=G.target;X&&(I.emit(o.GAMEOBJECT_DROP,P,X),this.emit(o.DROP,P,I,X),G.target=null,z=!0),I.input&&I.input.enabled&&(I.emit(o.GAMEOBJECT_DRAG_END,P,G.dragX,G.dragY,z),this.emit(o.DRAG_END,P,I,z))}}return this.setDragState(P,0),F.splice(0),0},processMoveEvents:function(P){var F=0,O=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var z=!1,X=0;X<O.length;X++){var H=O[X];if(!(!H.input||!H.input.enabled)){if(F++,H.emit(o.GAMEOBJECT_POINTER_MOVE,P,H.input.localX,H.input.localY,G),I.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,P,H,G),I.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.topOnly)break}}return z||this.emit(o.POINTER_MOVE,P,O),F},processWheelEvent:function(P){var F=0,O=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var z=!1,X=P.deltaX,H=P.deltaY,N=P.deltaZ,U=0;U<O.length;U++){var R=O[U];if(!(!R.input||!R.input.enabled)){if(F++,R.emit(o.GAMEOBJECT_POINTER_WHEEL,P,X,H,N,G),I.cancelled||!R.input||!R.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,P,R,X,H,N,G),I.cancelled||!R.input||!R.input.enabled){z=!0;break}}}return z||this.emit(o.POINTER_WHEEL,P,O,X,H,N),F},processOverEvents:function(P){var F=this._temp,O=0,I=F.length,G=[];if(I>0){var z=this.manager,X=this._eventData,H=this._eventContainer;X.cancelled=!1;for(var N=!1,U=0;U<I;U++){var R=F[U];if(!(!R.input||!R.input.enabled)){if(G.push(R),z.setCursor(R.input),R.emit(o.GAMEOBJECT_POINTER_OVER,P,R.input.localX,R.input.localY,H),O++,X.cancelled||!R.input||!R.input.enabled){N=!0;break}if(this.emit(o.GAMEOBJECT_OVER,P,R,H),X.cancelled||!R.input||!R.input.enabled){N=!0;break}}}N||this.emit(o.POINTER_OVER,P,G)}return this._over[P.id]=G,O},processOutEvents:function(P){var F=this._over[P.id],O=0,I=F.length;if(I>0){var G=this.manager,z=this._eventData,X=this._eventContainer;z.cancelled=!1;var H=!1;this.sortGameObjects(F,P);for(var N=0;N<I;N++){var U=F[N];if(U=F[N],!(!U.input||!U.input.enabled)){if(G.resetCursor(U.input),U.emit(o.GAMEOBJECT_POINTER_OUT,P,X),O++,z.cancelled||!U.input||!U.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_OUT,P,U,X),z.cancelled||!U.input||!U.input.enabled){H=!0;break}H||this.emit(o.POINTER_OUT,P,F)}}this._over[P.id]=[]}return O},processOverOutEvents:function(P){var F=this._temp,O,I,G=[],z=[],X=[],H=this._over[P.id],N=this._drag[P.id],U=this.manager;for(O=0;O<H.length;O++)I=H[O],F.indexOf(I)===-1&&N.indexOf(I)===-1?G.push(I):X.push(I);for(O=0;O<F.length;O++)I=F[O],H.indexOf(I)===-1&&z.push(I);var R=G.length,D=0,B=this._eventData,V=this._eventContainer;B.cancelled=!1;var Y=!1;if(R>0){for(this.sortGameObjects(G,P),O=0;O<R;O++)if(I=G[O],!(!I.input||!I.input.enabled)){if(U.resetCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OUT,P,V),D++,B.cancelled||!I.input||!I.input.enabled){Y=!0;break}if(this.emit(o.GAMEOBJECT_OUT,P,I,V),B.cancelled||!I.input||!I.input.enabled){Y=!0;break}}Y||this.emit(o.POINTER_OUT,P,G)}if(R=z.length,B.cancelled=!1,Y=!1,R>0){for(this.sortGameObjects(z,P),O=0;O<R;O++)if(I=z[O],!(!I.input||!I.input.enabled)){if(U.setCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OVER,P,I.input.localX,I.input.localY,V),D++,B.cancelled||!I.input||!I.input.enabled){Y=!0;break}if(this.emit(o.GAMEOBJECT_OVER,P,I,V),B.cancelled||!I.input||!I.input.enabled){Y=!0;break}}Y||this.emit(o.POINTER_OVER,P,z)}return H=X.concat(z),this._over[P.id]=this.sortGameObjects(H,P),D},processUpEvents:function(P){var F=this._temp,O=this._eventData,I=this._eventContainer;O.cancelled=!1;for(var G=!1,z=0;z<F.length;z++){var X=F[z];if(!(!X.input||!X.input.enabled)){if(X.emit(o.GAMEOBJECT_POINTER_UP,P,X.input.localX,X.input.localY,I),O.cancelled||!X.input||!X.input.enabled){G=!0;break}if(this.emit(o.GAMEOBJECT_UP,P,X,I),O.cancelled||!X.input||!X.input.enabled){G=!0;break}}}return!G&&this.manager&&(P.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,P,F):this.emit(o.POINTER_UP_OUTSIDE,P)),F.length},queueForInsertion:function(P){return this._pendingInsertion.indexOf(P)===-1&&this._list.indexOf(P)===-1&&this._pendingInsertion.push(P),this},queueForRemoval:function(P){return this._pendingRemoval.push(P),this},setDraggable:function(P,F){F===void 0&&(F=!0),Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var I=P[O];I.input.draggable=F;var G=this._draggable.indexOf(I);F&&G===-1?this._draggable.push(I):!F&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(P){P===void 0&&(P=1);var F=this.systems.textures;return e(F,P)},setHitArea:function(P,F,O){if(F===void 0)return this.setHitAreaFromTexture(P);Array.isArray(P)||(P=[P]);var I=!1,G=!1,z=!1,X=!1,H=!1,N=!0;if(m(F)){var U=F;F=l(U,"hitArea",null),O=l(U,"hitAreaCallback",null),I=l(U,"draggable",!1),G=l(U,"dropZone",!1),z=l(U,"cursor",!1),X=l(U,"useHandCursor",!1),H=l(U,"pixelPerfect",!1);var R=l(U,"alphaTolerance",1);H&&(F={},O=this.makePixelPerfect(R)),(!F||!O)&&(this.setHitAreaFromTexture(P),N=!1)}else typeof F=="function"&&!O&&(O=F,F={});for(var D=0;D<P.length;D++){var B=P[D];if(H&&B.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var V=B.input?B.input:n(B,F,O);V.customHitArea=N,V.dropZone=G,V.cursor=X?"pointer":z,B.input=V,I&&this.setDraggable(B),this.queueForInsertion(B)}return this},setHitAreaCircle:function(P,F,O,I,G){G===void 0&&(G=c);var z=new f(F,O,I);return this.setHitArea(P,z,G)},setHitAreaEllipse:function(P,F,O,I,G,z){z===void 0&&(z=i);var X=new u(F,O,I,G);return this.setHitArea(P,X,z)},setHitAreaFromTexture:function(P,F){F===void 0&&(F=y),Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var I=P[O],G=I.frame,z=0,X=0;if(I.width?(z=I.width,X=I.height):G&&(z=G.realWidth,X=G.realHeight),I.type==="Container"&&(z===0||X===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&X!==0&&(I.input=n(I,new g(0,0,z,X),F),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(P,F,O,I,G,z){z===void 0&&(z=y);var X=new g(F,O,I,G);return this.setHitArea(P,X,z)},setHitAreaTriangle:function(P,F,O,I,G,z,X,H){H===void 0&&(H=C);var N=new E(F,O,I,G,z,X);return this.setHitArea(P,N,H)},enableDebug:function(P,F){F===void 0&&(F=65280);var O=P.input;if(!O||!O.hitArea)return this;var I=O.hitArea,G=I.type,z=O.hitAreaDebug,X=this.systems.add,H=this.systems.updateList;z&&(H.remove(z),z.destroy(),z=null);var N=0,U=0;switch(G){case d.CIRCLE:z=X.arc(0,0,I.radius),N=I.x-I.radius,U=I.y-I.radius;break;case d.ELLIPSE:z=X.ellipse(0,0,I.width,I.height),N=I.x-I.width/2,U=I.y-I.height/2;break;case d.LINE:z=X.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case d.POLYGON:z=X.polygon(0,0,I.points);break;case d.RECTANGLE:z=X.rectangle(0,0,I.width,I.height),N=I.x,U=I.y;break;case d.TRIANGLE:z=X.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return z&&(z.isFilled=!1,z.strokeColor=F,z.preUpdate=function(){z.setStrokeStyle(1/P.scale,z.strokeColor),z.setDisplayOrigin(P.displayOriginX,P.displayOriginY);var R=P.x,D=P.y,B=P.rotation,V=P.scaleX,Y=P.scaleY;if(P.parentContainer){var K=P.getWorldTransformMatrix();R=K.tx,D=K.ty,B=K.rotation,V=K.scaleX,Y=K.scaleY}z.setRotation(B),z.setScale(V,Y),z.setPosition(R+N*V,D+U*Y),z.setScrollFactor(P.scrollFactorX,P.scrollFactorY),z.setDepth(P.depth)},H.add(z),O.hitAreaDebug=z),this},removeDebug:function(P){var F=P.input;if(F&&F.hitAreaDebug){var O=F.hitAreaDebug;this.systems.updateList.remove(O),O.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(P){return this.pollRate=P,this._pollTimer=0,this},setGlobalTopOnly:function(P){return this.manager.globalTopOnly=P,this},setTopOnly:function(P){return this.topOnly=P,this},sortGameObjects:function(P,F){if(P.length<2||!F.camera)return P;var O=F.camera.renderList;return P.sort(function(I,G){var z=Math.max(O.indexOf(I),0),X=Math.max(O.indexOf(G),0);return X-z})},sortDropZones:function(P){return P.length<2?P:(this.scene.sys.depthSort(),P.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(P,F){if(!P.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(P);if(P.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-P.parentContainer.getIndex(P);if(P.parentContainer===F)return-1;if(F.parentContainer===P)return 1;for(var O=P.getIndexList(),I=F.getIndexList(),G=Math.min(O.length,I.length),z=0;z<G;z++){var X=O[z],H=I[z];if(X!==H)return H-X}return I.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(P){return this.manager.addPointer(P)},setDefaultCursor:function(P){return this.manager.setDefaultCursor(P),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var P=0;P<10;P++)this._drag[P]=[],this._over[P]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var O=this.systems.events;O.off(T.TRANSITION_START,this.transitionIn,this),O.off(T.TRANSITION_OUT,this.transitionOut,this),O.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(T.PRE_UPDATE,this.preUpdate,this),F.events.off(o.GAME_OUT,this.onGameOut,this),F.events.off(o.GAME_OVER,this.onGameOver,this),O.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var P=this.manager.pointers,F=0;F<P.length;F++)P[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",A,"input"),p.exports=A},63399:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c={},a={};a.register=function(r,n,e,s,u){c[r]={plugin:n,mapping:e,settingsKey:s,configKey:u}},a.getPlugin=function(r){return c[r]},a.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var u in c){var i=c[u].plugin,o=c[u].mapping,h=c[u].settingsKey,l=c[u].configKey;f(e,h,s[l])&&(r[o]=new i(r))}},a.remove=function(r){c.hasOwnProperty(r)&&delete c[r]},p.exports=a},40398:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(90447),c=t(56694),a=t(53996),r=t(88456),n=t(44521),e=t(93736),s=t(36580),u=new c({initialize:function(o,h){this.manager=o,this.id=h,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=h===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var o=i.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(i,o){return i.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var i=this.position.x,o=this.position.y,h=this.midPoint.x,l=this.midPoint.y;if(!(i===h&&o===l)){var d=n(this.motionFactor,h,i),v=n(this.motionFactor,l,o);r(d,i,.1)&&(d=i),r(v,o,.1)&&(v=o),this.midPoint.set(d,v);var m=i-d,x=o-v;this.velocity.set(m,x),this.angle=f(d,v,i,o),this.distance=Math.sqrt(m*m+x*x)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,o){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,o){this.event=o,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,o){i===void 0&&(i=10),o===void 0&&(o=[]);for(var h=this.prevPosition.x,l=this.prevPosition.y,d=this.position.x,v=this.position.y,m=0;m<i;m++){var x=1/i*m;o[m]={x:n(x,h,d),y:n(x,l,v)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=u},72687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},14874:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},54168:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},526:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},81623:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},94472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},9304:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},34265:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},50151:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},98134:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},56773:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},45824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},39578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},72072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},82569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},70833:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},81442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},32936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},99658:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},60515:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},55254:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},34782:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},41769:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},65588:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},61640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},49342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},82662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},13058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},52426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},78072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},1545:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},67137:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},27678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},22257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},90379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},88909:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},36548:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},18483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},22355:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},7997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},66318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},94812:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},37310:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},24196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},27053:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},29413:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},25165:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=c},21274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(43200),a=new f({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(c.BUTTON_DOWN,n,this,r),this.pad.emit(c.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(c.BUTTON_UP,n,this,r),this.pad.emit(c.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=a},75956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70848),c=t(21274),a=t(56694),r=t(6659),n=t(93736),e=new a({Extends:r,initialize:function(u,i){r.call(this),this.manager=u,this.pad=i,this.id=i.id,this.index=i.index;for(var o=[],h=0;h<i.buttons.length;h++)o.push(new c(this,h));this.buttons=o;var l=[];for(h=0;h<i.axes.length;h++)l.push(new f(this,h));this.axes=l,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var v={value:0};this._HAxisLeft=l[0]?l[0]:v,this._VAxisLeft=l[1]?l[1]:v,this._HAxisRight=l[2]?l[2]:v,this._VAxisRight=l[3]?l[3]:v,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var u,i=this.buttons,o=s.buttons,h=i.length;for(u=0;u<h;u++)i[u].update(o[u].value);var l=this.axes,d=s.axes;for(h=l.length,u=0;u<h;u++)l[u].update(d[u]);h>=2&&(this.leftStick.set(l[0].getValue(),l[1].getValue()),h>=4&&this.rightStick.set(l[2].getValue(),l[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},1379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(43200),r=t(75956),n=t(10850),e=t(63399),s=t(33963),u=new f({Extends:c,initialize:function(o){c.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(s.BOOT,this.boot,this),o.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,o=this.settings.input,h=i.config;this.enabled=n(o,"gamepad",h.inputGamepad)&&i.device.input.gamepads,this.target=n(o,"gamepad.target",h.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,o=this.target,h=function(l){l.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(l))};this.onGamepadHandler=h,o.addEventListener("gamepadconnected",h,!1),o.addEventListener("gamepaddisconnected",h,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var o=this.gamepads,h=0;h<i.length;h++){var l=i[h];if(!!l){var d=l.id,v=l.index,m=o[v];if(m)m.id!==d?(m.destroy(),o[v]=new r(this,l)):m.update(l);else{var x=new r(this,l);o[v]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var i=[],o=this.gamepads,h=0;h<o.length;h++)o[h]&&i.push(o[h]);return i},getPad:function(i){for(var o=this.gamepads,h=0;h<o.length;h++)if(o[h]&&o[h].index===i)return o[h]},update:function(){if(!!this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var o=this.queue.splice(0,i),h=0;h<i;h++){var l=o[h],d=this.getPad(l.gamepad.index);l.type==="gamepadconnected"?this.emit(a.CONNECTED,d,l):l.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,l)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),p.exports=u},33171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},36635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},85724:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},55832:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},772:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},33608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},43200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72687),c=t(98611),a={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};a=c(!1,a,f),p.exports=a},71064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(56694),a=t(97081),r=t(33963),n=t(11873),e=t(72283),s=new c({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(o),u.manager.events.emit(r.MANAGER_PROCESS);var h=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;u.preventDefault&&!h&&u.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(o),u.manager.events.emit(r.MANAGER_PROCESS);var h=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;u.preventDefault&&!h&&u.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var i=this.captures,o=0;o<u.length;o++){var h=u[o];typeof h=="string"&&(h=n[h.trim().toUpperCase()]),i.indexOf(h)===-1&&i.push(h)}this.preventDefault=i.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var i=this.captures,o=0;o<u.length;o++){var h=u[o];typeof h=="string"&&(h=n[h.toUpperCase()]),f(i,h)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},89666:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(94030),r=t(97081),n=t(10850),e=t(33963),s=t(63399),u=t(50165),i=t(11873),o=t(95625),h=t(48044),l=t(7599),d=t(84314),v=new f({Extends:c,initialize:function(x){c.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=n(m,"keyboard",!0);var x=n(m,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(l.PAUSE,this.resetKeys,this),this.scene.sys.events.on(l.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var y={};if(typeof m=="string"){m=m.split(",");for(var T=0;T<m.length;T++){var E=m[T].trim();E&&(y[E]=this.addKey(E,x,g))}}else for(var C in m)y[C]=this.addKey(m[C],x,g);return y},addKey:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var y=this.keys;if(m instanceof u){var T=y.indexOf(m);return T>-1?y[T]=m:y[m.keyCode]=m,x&&this.addCapture(m.keyCode),m.setEmitOnRepeat(g),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),y[m]||(y[m]=new u(this,m),x&&this.addCapture(m),y[m].setEmitOnRepeat(g)),y[m]},removeKey:function(m,x,g){x===void 0&&(x=!1),g===void 0&&(g=!1);var y=this.keys,T;if(m instanceof u){var E=y.indexOf(m);E>-1&&(T=this.keys[E],this.keys[E]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return y[m]&&(T=y[m],y[m]=void 0),T&&(T.plugin=null,g&&this.removeCapture(T.keyCode),x&&T.destroy()),this},removeAllKeys:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1);for(var g=this.keys,y=0;y<g.length;y++){var T=g[y];T&&(g[y]=void 0,x&&this.removeCapture(T.keyCode),m&&T.destroy())}return this},createCombo:function(m,x){return new o(this,m,x)},checkDown:function(m,x){if(x===void 0&&(x=0),this.enabled&&m.isDown){var g=d(this.time-m.timeDown,x);if(g>m._tick)return m._tick=g,!0}return!1},update:function(){var m=this.manager.queue,x=m.length;if(!(!this.isActive()||x===0))for(var g=this.keys,y=0;y<x;y++){var T=m[y],E=T.keyCode,C=g[E],A=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(E===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=E,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(C&&(A=C.isDown,C.onDown(T)),!T.cancelled&&(!C||!A)&&(h[E]&&this.emit(a.KEY_DOWN+h[E],T),T.cancelled||this.emit(a.ANY_KEY_DOWN,T))):(C&&C.onUp(T),T.cancelled||(h[E]&&this.emit(a.KEY_UP+h[E],T),T.cancelled||this.emit(a.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(l.PAUSE,this.resetKeys,this),this.scene.sys.events.off(l.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),p.exports=v},60258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.timeLastMatched=t.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)};p.exports=S},95625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(94030),a=t(72632),r=t(2544),n=t(88754),e=new f({initialize:function(u,i,o){if(o===void 0&&(o={}),i.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var h=0;h<i.length;h++){var l=i[h];typeof l=="string"?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):typeof l=="number"?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(o,"resetOnWrongKey",!0),this.maxKeyDelay=a(o,"maxKeyDelay",0),this.resetOnMatch=a(o,"resetOnMatch",!1),this.deleteOnMatch=a(o,"deleteOnMatch",!1);var d=this,v=function(m){if(!(d.matched||!d.enabled)){var x=r(m,d);x&&(d.manager.emit(c.COMBO_MATCH,d,m),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=v,this.manager.on(c.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(c.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},2544:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60258),c=function(a,r){if(r.matched)return!0;var n=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=s&&(e=!0,n=f(a,r))}else e=!0,n=f(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),n};p.exports=c},88754:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},5044:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},40813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},89319:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},43267:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},78595:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},30056:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},81939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},94030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=50);var c=t.plugin.game.loop.time-t.timeDown;return t.isDown&&c<f};p.exports=S},42460:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},53162:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},50165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(94030),r=new f({Extends:c,initialize:function(e,s){c.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},11873:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},48044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(11873),c={};for(var a in f)c[f[a]]=a;p.exports=c},70331:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=50);var c=t.plugin.game.loop.time-t.timeUp;return t.isUp&&c<f};p.exports=S},7905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(90185),a=t(33963),r=t(72283),n=new f({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(c.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){c.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(!!e){var s=this,u=this.manager,i=u.canvas,o=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseMove(l),s.preventDefaultMove&&l.preventDefault())},this.onMouseDown=function(l){o&&window.focus(),!l.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseDown(l),s.preventDefaultDown&&l.target===i&&l.preventDefault())},this.onMouseDownWindow=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&l.target!==i&&u.onMouseDown(l)},this.onMouseUp=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseUp(l),s.preventDefaultUp&&l.target===i&&l.preventDefault())},this.onMouseUpWindow=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&l.target!==i&&u.onMouseUp(l)},this.onMouseOver=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&u.setCanvasOver(l)},this.onMouseOut=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&u.setCanvasOut(l)},this.onMouseWheel=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&u.onMouseWheel(l),s.preventDefaultWheel&&l.target===i&&l.preventDefault()};var h={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,h),e.addEventListener("mouseout",this.onMouseOut,h),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,h),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,h),window.top.addEventListener("mouseup",this.onMouseUpWindow,h)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,h),window.addEventListener("mouseup",this.onMouseUpWindow,h),this.isTop=!1}c.pointerLock&&(this.pointerLockChange=function(l){var d=s.target;s.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,u.onPointerLockChange(l)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),c.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=n},11343:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(7905)}},37579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(33963),a=t(72283),r=new f({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(!!n){var e=this,s=this.manager,u=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(d),e.capture&&d.cancelable&&d.target===u&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==u&&s.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(d),e.capture&&d.cancelable&&d.target===u&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==u&&s.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(d)};var o=this.capture,h={passive:!0},l={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,o?l:h),n.addEventListener("touchmove",this.onTouchMove,o?l:h),n.addEventListener("touchend",this.onTouchEnd,o?l:h),n.addEventListener("touchcancel",this.onTouchCancel,o?l:h),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,l),window.top.addEventListener("touchend",this.onTouchEndWindow,l),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,l)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,l),window.addEventListener("touchend",this.onTouchEndWindow,l),window.addEventListener("touchcancel",this.onTouchCancelWindow,l),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},77423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(37579)}},98035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(683),r=t(72632),n=t(30750),e=t(43531),s=t(88490),u=t(33868),i=new f({initialize:function(h,l){if(this.loader=h,this.cache=r(l,"cache",!1),this.type=r(l,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(l,"key",!1);var d=this.key;if(h.prefix&&h.prefix!==""&&(this.key=h.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var v=r(l,"url");v===void 0?v=h.path+d+"."+r(l,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=h.path+v),this.url=v,this.src="",this.xhrSettings=u(r(l,"responseType",void 0)),r(l,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(l,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?c.FILE_POPULATED:c.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(l,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===c.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=c.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(o,h){var l=o.responseURL&&this.loader.localSchemes.some(function(m){return o.responseURL.indexOf(m)===0}),d=l&&h.target.status===0,v=!(h.target&&h.target.status!==200)||d;o.readyState===4&&o.status>=400&&o.status<=599&&(v=!1),this.state=c.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=c.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=c.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=c.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==c.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var h=this.key,l=this.type;this.loader.emit(a.FILE_COMPLETE,h,l,o),this.loader.emit(a.FILE_KEY_COMPLETE+l+"-"+h,h,l,o),this.loader.flagForRemoval(this),this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(o,h,l){if(typeof URL=="function")o.src=URL.createObjectURL(h);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(h.type||l)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(h)}},i.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},p.exports=i},76846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(f){for(var c in S)f[c]=S[c]},register:function(f,c){S[f]=c},destroy:function(){S={}}};p.exports=t},30750:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:f+t.url:!1};p.exports=S},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(58403),r=t(6659),n=t(683),e=t(76846),s=t(72632),u=t(10850),i=t(91963),o=t(7599),h=t(33868),l=new f({Extends:r,initialize:function(v){r.call(this);var m=v.sys.game.config,x=v.sys.settings.loader;this.scene=v,this.systems=v.sys,this.cacheManager=v.sys.cache,this.textureManager=v.sys.textures,this.sceneManager=v.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(x,"baseURL",m.loaderBaseURL)),this.setPath(s(x,"path",m.loaderPath)),this.setPrefix(s(x,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(x,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=h(s(x,"responseType",m.loaderResponseType),s(x,"async",m.loaderAsync),s(x,"user",m.loaderUser),s(x,"password",m.loaderPassword),s(x,"timeout",m.loaderTimeout),s(x,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(x,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=s(x,"imageLoadType",m.loaderImageLoadType),this.localSchemes=s(x,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=c.LOADER_IDLE,this.multiKeyIndex=0,v.sys.events.once(o.BOOT,this.boot,this),v.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var m=d[v];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var v=d.hasCacheConflict();return v||this.list.iterate(function(m){if(m.type===d.type&&m.key===d.key)return v=!0,!1}),!v&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===d.type&&m.key===d.key)return v=!0,!1}),this.queue.iterate(function(m){if(m.type===d.type&&m.key===d.key)return v=!0,!1})),v},addPack:function(d,v){if(typeof v=="string"){var m=u(d,v);m&&(d={packKey:m})}var x=0,g=this.baseURL,y=this.path,T=this.prefix;for(var E in d)if(!!Object.prototype.hasOwnProperty.call(d,E)){var C=d[E],A=s(C,"baseURL",g),P=s(C,"path",y),F=s(C,"prefix",T),O=s(C,"files",null),I=s(C,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(A),this.setPath(P),this.setPrefix(F);for(var G=0;G<O.length;G++){var z=O[G],X=z.hasOwnProperty("type")?z.type:I;this[X]&&(this[X](z),x++)}}}return this.setBaseURL(g),this.setPath(y),this.setPrefix(T),x>0},isLoading:function(){return this.state===c.LOADER_LOADING||this.state===c.LOADER_PROCESSING},isReady:function(){return this.state===c.LOADER_IDLE||this.state===c.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=c.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===c.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===c.FILE_POPULATED||d.state===c.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,v){!this.inflight||(this.inflight.delete(d),this.updateProgress(),v?(this.totalComplete++,this.queue.set(d),this.emit(n.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(n.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===c.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===c.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=c.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,v){return this.save(JSON.stringify(d),v)},save:function(d,v,m){v===void 0&&(v="file.json"),m===void 0&&(m="application/json");var x=new Blob([d],{type:m}),g=URL.createObjectURL(x),y=document.createElement("a");return y.download=v,y.textContent="Download "+v,y.href=g,y.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,v=this.systems.settings.loader;this.setBaseURL(s(v,"baseURL",d.loaderBaseURL)),this.setPath(s(v,"path",d.loaderPath)),this.setPrefix(s(v,"prefix",d.loaderPrefix)),this.state=c.LOADER_IDLE},shutdown:function(){this.reset(),this.state=c.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=c.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});i.register("Loader",l,"load"),p.exports=l},43531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(33868),a=function(r,n){var e=r===void 0?c():f({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};p.exports=a},45176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(683),r=new f({initialize:function(e,s,u,i){var o=[];i.forEach(function(d){d&&o.push(d)}),this.loader=e,this.type=s,this.key=u;var h=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+h),this.multiKeyIndex=e.multiKeyIndex++,this.files=o,this.state=c.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var l=0;l<o.length;l++)o[l].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==c.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,n,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},88490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(43531),c=function(a,r){var n=f(r,a.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",a.src,n.async,n.user,n.password),e.responseType=a.xhrSettings.responseType,e.timeout=n.timeout,n.headers)for(var s in n.headers)e.setRequestHeader(s,n.headers[s]);return n.header&&n.headerValue&&e.setRequestHeader(n.header,n.headerValue),n.requestedWith&&e.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&e.overrideMimeType(n.overrideMimeType),n.withCredentials&&(e.withCredentials=!0),e.onload=a.onLoad.bind(a,e),e.onerror=a.onError.bind(a,e),e.onprogress=a.onProgress.bind(a),e.send(),e};p.exports=c},33868:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){return t===void 0&&(t=""),f===void 0&&(f=!0),c===void 0&&(c=""),a===void 0&&(a=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:f,user:c,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};p.exports=S},12117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},7398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},52187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},36627:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},81925:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},29774:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},20943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},74693:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},71176:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},88984:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},72753:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(70806),r=t(683),n=new f({Extends:a,initialize:function(s,u,i,o,h){a.call(this,s,u,i,o,h),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});c.register("animation",function(e,s,u,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new n(this,e[o]));else this.addFile(new n(this,e,s,i,u));return this}),p.exports=n},31648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),u=new f({Extends:s,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new e(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","json"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new e(o,h,d,m);x.linkFile?s.call(this,o,"atlasjson",h,[x,g,x.linkFile]):s.call(this,o,"atlasjson",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,h),o.addToCache(),this.complete=!0}}});c.register("aseprite",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},73152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),u=new f({Extends:s,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new e(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","json"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new e(o,h,d,m);x.linkFile?s.call(this,o,"atlasjson",h,[x,g,x.linkFile]):s.call(this,o,"atlasjson",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,h),this.complete=!0}}});c.register("atlas",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},24616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(15297),u=new f({Extends:e,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new s(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","xml"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new s(o,h,d,m);x.linkFile?e.call(this,o,"atlasxml",h,[x,g,x.linkFile]):e.call(this,o,"atlasxml",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,o.data,h),this.complete=!0}}});c.register("atlasXML",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},67448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(30929),s=t(42911),u=new f({Extends:a,initialize:function(o,h,l,d,v){if(s(h)){var m=h;h=n(m,"key"),d=n(m,"xhrSettings"),v=n(m,"context",v)}var x={type:"audio",cache:o.cacheManager.audio,extension:l.type,responseType:"arraybuffer",key:h,url:l.url,xhrSettings:d,config:{context:v}};a.call(this,o,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){i.data=o,i.onProcessComplete()},function(o){console.error("Error decoding audio: "+i.key+" - ",o?o.message:null),i.onProcessError()}),this.config.context=null}});u.create=function(i,o,h,l,d){var v=i.systems.game,m=v.config.audio,x=v.device.audio;s(o)&&(h=n(o,"url",[]),l=n(o,"config",{}));var g=u.getAudioURL(v,h);return g?x.webAudio&&!m.disableWebAudio?new u(i,o,g,d,v.sound.context):new e(i,o,g,l):(console.warn('No audio URLs for "%s" matched this device',o),null)},u.getAudioURL=function(i,o){Array.isArray(o)||(o=[o]);for(var h=0;h<o.length;h++){var l=n(o[h],"url",o[h]);if(l.indexOf("blob:")===0||l.indexOf("data:")===0)return{url:l,type:""};var d=l.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=n(o[h],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:l,type:d}}return null},r.register("audio",function(i,o,h,l){var d=this.systems.game,v=d.config.audio,m=d.device.audio;if(v.noAudio||!m.webAudio&&!m.audioData)return this;var x;if(Array.isArray(i))for(var g=0;g<i.length;g++)x=u.create(this,i[g]),x&&this.addFile(x);else x=u.create(this,i,o,h,l),x&&this.addFile(x);return this}),p.exports=u},66109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(67448),c=t(56694),a=t(76846),r=t(72632),n=t(42911),e=t(70806),s=t(45176),u=new c({Extends:s,initialize:function(o,h,l,d,v,m,x){if(n(h)){var g=h;h=r(g,"key"),l=r(g,"jsonURL"),d=r(g,"audioURL"),v=r(g,"audioConfig"),m=r(g,"audioXhrSettings"),x=r(g,"jsonXhrSettings")}var y;if(!d)y=new e(o,h,l,x),s.call(this,o,"audiosprite",h,[y]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=m;else{var T=f.create(o,h,d,v,m);T&&(y=new e(o,h,l,x),s.call(this,o,"audiosprite",h,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var h=i.data.resources,l=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),v=f.create(this.loader,i.key,h,l,d);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1];i.addToCache(),o.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,o,h,l,d,v){var m=this.systems.game,x=m.config.audio,g=m.device.audio;if(x&&x.noAudio||!g.webAudio&&!g.audioData)return this;var y;if(Array.isArray(i))for(var T=0;T<i.length;T++)y=new u(this,i[T]),y.files&&this.addFile(y.files);else y=new u(this,i,o,h,l,d,v),y.files&&this.addFile(y.files);return this})},40612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d){var v="bin";if(e(o)){var m=o;o=n(m,"key"),h=n(m,"url"),l=n(m,"xhrSettings"),v=n(m,"extension",v),d=n(m,"dataType",d)}var x={type:"binary",cache:i.cacheManager.binary,extension:v,responseType:"arraybuffer",key:o,url:h,xhrSettings:l,config:{dataType:d}};a.call(this,i,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(u,i,o,h){if(Array.isArray(u))for(var l=0;l<u.length;l++)this.addFile(new s(this,u[l]));else this.addFile(new s(this,u,i,h,o));return this}),p.exports=s},54565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(31476),u=t(15297),i=new f({Extends:e,initialize:function(h,l,d,v,m,x){var g,y;if(n(l)){var T=l;l=a(T,"key"),g=new r(h,{key:l,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new u(h,{key:l,url:a(T,"fontDataURL"),extension:a(T,"fontDataExtension","xml"),xhrSettings:a(T,"fontDataXhrSettings")})}else g=new r(h,l,d,m),y=new u(h,l,v,x);g.linkFile?e.call(this,h,"bitmapfont",l,[g,y,g.linkFile]):e.call(this,h,"bitmapfont",l,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1];o.addToCache();var l=o.cache.get(o.key),d=s(h.data,o.cache.getFrame(o.key),0,0,l);this.loader.cacheManager.bitmapFont.add(o.key,{data:d,texture:o.key,frame:null}),this.complete=!0}}});c.register("bitmapFont",function(o,h,l,d,v){var m;if(Array.isArray(o))for(var x=0;x<o.length;x++)m=new i(this,o[x]),this.addFile(m.files);else m=new i(this,o,h,l,d,v),this.addFile(m.files);return this}),p.exports=i},99898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="css";if(e(o)){var v=o;o=n(v,"key"),h=n(v,"url"),l=n(v,"xhrSettings"),d=n(v,"extension",d)}var m={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},47375:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73152),c=t(40612),a=t(56694),r=t(76846),n=t(72632),e=t(42927),s=t(42911),u=t(70806),i=t(67409),o=t(30657),h=t(80802),l=t(45176),d=t(24904),v=new a({Extends:l,initialize:function(x,g,y,T){if(y.multiAtlasURL){var E=new u(x,{key:g,url:y.multiAtlasURL,xhrSettings:T,config:y});l.call(this,x,"texture",g,[E])}else{var C=y.textureURL.substr(y.textureURL.length-3);y.type||(y.type=C.toLowerCase()==="ktx"?"KTX":"PVR");var A=new c(x,{key:g,url:y.textureURL,extension:C,xhrSettings:T,config:y});if(y.atlasURL){var P=new u(x,{key:g,url:y.atlasURL,xhrSettings:T,config:y});l.call(this,x,"texture",g,[A,P])}else l.call(this,x,"texture",g,[A])}this.config=y},onFileComplete:function(m){var x=this.files.indexOf(m);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var g=m.data.textures,y=this.config,T=this.loader,E=T.baseURL,C=T.path,A=T.prefix,P=n(y,"multiBaseURL",this.baseURL),F=n(y,"multiPath",this.path),O=n(y,"prefix",this.prefix),I=n(y,"textureXhrSettings");P&&T.setBaseURL(P),F&&T.setPath(F),O&&T.setPrefix(O);for(var G=0;G<g.length;G++){var z=g[G].image,X="CMA"+this.multiKeyIndex+"_"+z,H=new c(T,X,z,I);if(this.addToMultiFile(H),T.addFile(H),g[G].normalMap){var N=new c(T,X,g[G].normalMap,I);N.type="normalMap",H.setLink(N),this.addToMultiFile(N),T.addFile(N)}}T.setBaseURL(E),T.setPath(C),T.setPrefix(A)}}},addToCache:function(){if(this.isReadyToProcess()){var m=this.config;if(m.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,g=this.loader.textureManager,y,T=this.files[0],E=this.files[1];if(m.type==="PVR"?y=d(T.data):m.type==="KTX"&&(y=i(T.data)),y&&x.supportsCompressedTexture(m.format,y.internalFormat)){y.format=x.getCompressedTextureName(m.format,y.internalFormat);var C=E&&E.data?E.data:null;g.addCompressedTexture(T.key,y,C)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,x=this.files[0],g=[],y=[],T=[],E=this.loader.systems.renderer,C=this.loader.textureManager,A,P=1;P<this.files.length;P++){var F=this.files[P];if(F.type!=="normalMap")for(var O=F.key.indexOf("_"),I=F.key.substr(O+1),G=F.data,z=0;z<x.data.textures.length;z++){var X=x.data.textures[z];if(X.image===I){m.type==="PVR"?A=d(G):m.type==="KTX"&&(A=i(G)),A&&E.supportsCompressedTexture(m.format,A.internalFormat)&&(A.format=E.getCompressedTextureName(m.format,A.internalFormat),y.push(A),g.push(X),F.linkFile&&T.push(F.linkFile.data));break}}}T.length===0&&(T=void 0),C.addAtlasJSONArray(this.key,y,g,T),this.complete=!0}});r.register("texture",function(m,x,g){var y=this.systems.renderer,T=function(C,A,P,F){var O={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(A)){var I=A;A=n(I,"key"),P=n(I,"url"),F=n(I,"xhrSettings")}var G=!1;for(var z in P)if(y.supportsCompressedTexture(z)){var X=P[z];typeof X=="string"?O.textureURL=X:O=o(X,O),O.format=z.toUpperCase(),G=!0;break}if(!G)console.warn("No supported compressed texture format or IMG fallback",A);else if(O.format==="IMG"){var H,N;O.multiAtlasURL?(N=new h(C,A,O.multiAtlasURL,O.multiPath,O.multiBaseURL,F),H=N.files):O.atlasURL?(N=new f(C,A,O.textureURL,O.atlasURL,F),H=N.files):H=new e(C,A,O.textureURL,F),C.addFile(H)}else{var U=new v(C,A,O,F);C.addFile(U.files)}};if(Array.isArray(m))for(var E=0;E<m.length;E++)T(this,m[E]);else T(this,m,x,g);return this}),p.exports=v},46568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(31053),u=new f({Extends:a,initialize:function(o,h,l,d,v){var m="glsl";if(e(h)){var x=h;h=n(x,"key"),l=n(x,"url"),d=n(x,"shaderType","fragment"),v=n(x,"xhrSettings"),m=n(x,"extension",m)}else d===void 0&&(d="fragment");var g={type:"glsl",cache:o.cacheManager.shader,extension:m,responseType:"text",key:h,url:l,config:{shaderType:d},xhrSettings:v};a.call(this,o,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),o=this.extractBlock(i,0);if(o)for(;o;){var h=this.getShaderName(o.header),l=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),v=o.shader;if(this.cache.has(h)){var m=this.cache.get(h);l==="fragment"?m.fragmentSrc=v:m.vertexSrc=v,m.uniforms||(m.uniforms=d)}else l==="fragment"?this.cache.add(h,new s(h,v,"",d)):this.cache.add(h,new s(h,"",v,d));o=this.extractBlock(i,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var o=0;o<i.length;o++){var h=i[o].trim();if(h.substring(0,5)==="name:")return h.substring(5).trim()}return this.key},getShaderType:function(i){for(var o=0;o<i.length;o++){var h=i[o].trim();if(h.substring(0,5)==="type:")return h.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var o={},h=0;h<i.length;h++){var l=i[h].trim();if(l.substring(0,8)==="uniform."){var d=l.indexOf(":");if(d){var v=l.substring(8,d);try{o[v]=JSON.parse(l.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return o},extractBlock:function(i,o){for(var h=-1,l=-1,d=-1,v=!1,m=!1,x=[],g=[],y=o;y<i.length;y++){var T=i[y].trim();if(T==="---")if(h===-1)h=y,v=!0;else if(v)l=y,v=!1,m=!0;else{m=!1;break}else v?x.push(T):m&&(g.push(T),d=y)}return!v&&l!==-1?{header:x,shader:g.join(`
`),offset:d}:null}});r.register("glsl",function(i,o,h,l){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new u(this,i[d]));else this.addFile(new u(this,i,o,h,l));return this}),p.exports=u},30929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(683),a=t(98035),r=t(72632),n=t(30750),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){if(e(o)){var d=o;o=r(d,"key"),l=r(d,"config",l)}var v={type:"audio",cache:i.cacheManager.audio,extension:h.type,key:o,url:h.url,config:l};a.call(this,i,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var i=this.data[u];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var i=u.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<u;i++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+i).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(i=0;i<this.data.length;i++)o=this.data[i],o.src=n(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=s},77459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="html";if(e(o)){var v=o;o=n(v,"key"),h=n(v,"url"),l=n(v,"xhrSettings"),d=n(v,"extension",d)}var m={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},9755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d,v){l===void 0&&(l=512),d===void 0&&(d=512);var m="html";if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),v=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"width",l),d=n(x,"height",d)}var g={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:o,url:h,xhrSettings:v,config:{width:l,height:d}};a.call(this,i,g)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this.config.width,i=this.config.height,o=[];o.push('<svg width="'+u+'px" height="'+i+'px" viewBox="0 0 '+u+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var h=[o.join(`
`)],l=this;try{var d=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{l.state=c.FILE_ERRORED,l.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(l.data),l.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(u,i,o,h,l){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,i,o,h,l));return this}),p.exports=s},42927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(30750),u=new f({Extends:a,initialize:function i(o,h,l,d,v){var m="png",x;if(e(h)){var g=h;h=n(g,"key"),l=n(g,"url"),x=n(g,"normalMap"),d=n(g,"xhrSettings"),m=n(g,"extension",m),v=n(g,"frameConfig")}Array.isArray(l)&&(x=l[1],l=l[0]);var y={type:"image",cache:o.textureManager,extension:m,responseType:"blob",key:h,url:l,xhrSettings:d,config:v};if(a.call(this,o,y),x){var T=new i(o,this.key,x,d,v);T.type="normalMap",this.setLink(T),o.addFile(T)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=c.FILE_PROCESSING,i===c.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=c.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=c.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src}},addToCache:function(){var i=this.linkFile;i?i.state>=c.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},70806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(10850),s=t(42911),u=new f({Extends:a,initialize:function(o,h,l,d,v){var m="json";if(s(h)){var x=h;h=n(x,"key"),l=n(x,"url"),d=n(x,"xhrSettings"),m=n(x,"extension",m),v=n(x,"dataKey",v)}var g={type:"json",cache:o.cacheManager.json,extension:m,responseType:"text",key:h,url:l,xhrSettings:d,config:v};a.call(this,o,g),s(l)&&(v?this.data=e(l,v):this.data=l,this.state=c.FILE_POPULATED)},onProcess:function(){if(this.state!==c.FILE_POPULATED){this.state=c.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(h){throw this.onProcessError(),h}var o=this.config;typeof o=="string"?this.data=e(i,o,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,o,h,l){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new u(this,i[d]));else this.addFile(new u(this,i,o,l,h));return this}),p.exports=u},80802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),u=new f({Extends:s,initialize:function(o,h,l,d,v,m,x){if(n(h)){var g=h;h=a(g,"key"),a(g,"url",!1)?l=a(g,"url"):l=a(g,"atlasURL"),m=a(g,"xhrSettings"),d=a(g,"path"),v=a(g,"baseURL"),x=a(g,"textureXhrSettings")}var y=new e(o,h,l,m);s.call(this,o,"multiatlas",h,[y]),this.config.path=d,this.config.baseURL=v,this.config.textureXhrSettings=x},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var h=i.data.textures,l=this.config,d=this.loader,v=d.baseURL,m=d.path,x=d.prefix,g=a(l,"baseURL",this.baseURL),y=a(l,"path",this.path),T=a(l,"prefix",this.prefix),E=a(l,"textureXhrSettings");d.setBaseURL(g),d.setPath(y),d.setPrefix(T);for(var C=0;C<h.length;C++){var A=h[C].image,P="MA"+this.multiKeyIndex+"_"+A,F=new r(d,P,A,E);if(this.addToMultiFile(F),d.addFile(F),h[C].normalMap){var O=new r(d,P,h[C].normalMap,E);O.type="normalMap",F.setLink(O),this.addToMultiFile(O),d.addFile(O)}}d.setBaseURL(v),d.setPath(m),d.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],o=[],h=[],l=[],d=1;d<this.files.length;d++){var v=this.files[d];if(v.type!=="normalMap")for(var m=v.key.indexOf("_"),x=v.key.substr(m+1),g=v.data,y=0;y<i.data.textures.length;y++){var T=i.data.textures[y];if(T.image===x){h.push(g),o.push(T),v.linkFile&&l.push(v.linkFile.data);break}}}l.length===0&&(l=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,h,o,l),this.complete=!0}}});c.register("multiatlas",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},39034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42911),n=t(45176),e=t(55188),s=new f({Extends:n,initialize:function(i,o,h,l){var d="js",v=[];if(r(o)){var m=o;o=a(m,"key"),h=a(m,"url"),l=a(m,"xhrSettings"),d=a(m,"extension",d)}Array.isArray(h)||(h=[h]);for(var x=0;x<h.length;x++){var g=new e(i,{key:o+"_"+x.toString(),url:h[x],extension:d,xhrSettings:l});g.onProcess=function(){this.onProcessComplete()},v.push(g)}n.call(this,i,"scripts",o,v)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var i=this.files[u];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});c.register("scripts",function(u,i,o){var h;if(Array.isArray(u))for(var l=0;l<u.length;l++)h=new s(this,u[l]),this.addFile(h.files);else h=new s(this,u,i,o),this.addFile(h.files);return this}),p.exports=s},85527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42911),n=t(45176),e=t(27291),s=t(76799),u=t(86897),i=new f({Extends:n,initialize:function(h,l,d,v,m,x){var g,y,T=h.cacheManager.obj;if(r(l)){var E=l;l=a(E,"key"),g=new u(h,{key:l,type:"obj",cache:T,url:a(E,"url"),extension:a(E,"extension","obj"),xhrSettings:a(E,"xhrSettings"),config:{flipUV:a(E,"flipUV",m)}}),v=a(E,"matURL"),v&&(y=new u(h,{key:l,type:"mat",cache:T,url:v,extension:a(E,"matExtension","mat"),xhrSettings:a(E,"xhrSettings")}))}else g=new u(h,{key:l,url:d,type:"obj",cache:T,extension:"obj",xhrSettings:x,config:{flipUV:m}}),v&&(y=new u(h,{key:l,url:v,type:"mat",cache:T,extension:"mat",xhrSettings:x}));n.call(this,h,"obj",l,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],l=e(o.data,o.config.flipUV);h&&(l.materials=s(h.data)),o.cache.add(o.key,l),this.complete=!0}}});c.register("obj",function(o,h,l,d,v){var m;if(Array.isArray(o))for(var x=0;x<o.length;x++)m=new i(this,o[x]),this.addFile(m.files);else m=new i(this,o,h,l,d,v),this.addFile(m.files);return this}),p.exports=i},3616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(76846),r=t(70806),n=new f({Extends:r,initialize:function(s,u,i,o,h){r.call(this,s,u,i,o,h),this.type="packfile"},onProcess:function(){if(this.state!==c.FILE_POPULATED&&(this.state=c.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,u,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new n(this,e[o]));else this.addFile(new n(this,e,s,i,u));return this}),p.exports=n},12217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d,v){var m="js";if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),v=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"start"),d=n(x,"mapping")}var g={type:"plugin",cache:!1,extension:m,responseType:"text",key:o,url:h,xhrSettings:v,config:{start:l,mapping:d}};a.call(this,i,g),typeof h=="function"&&(this.data=h,this.state=c.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,i=this.config,o=n(i,"start",!1),h=n(i,"mapping",null);if(this.state===c.FILE_POPULATED)u.install(this.key,this.data,o,h);else{this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var l=u.install(this.key,window[this.key],o,h);(o||h)&&(this.loader.systems[h]=l,this.loader.scene[h]=l)}this.onProcessComplete()}});r.register("plugin",function(u,i,o,h,l){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,i,o,h,l));return this}),p.exports=s},4474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d){var v="svg";if(e(o)){var m=o;o=n(m,"key"),h=n(m,"url"),l=n(m,"svgConfig",{}),d=n(m,"xhrSettings"),v=n(m,"extension",v)}var x={type:"svg",cache:i.textureManager,extension:v,responseType:"text",key:o,url:h,xhrSettings:d,config:{width:n(l,"width"),height:n(l,"height"),scale:n(l,"scale")}};a.call(this,i,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this.xhrLoader.responseText,i=[u],o=this.config.width,h=this.config.height,l=this.config.scale;t:if(o&&h||l){var d=null,v=new DOMParser;d=v.parseFromString(u,"text/xml");var m=d.getElementsByTagName("svg")[0],x=m.hasAttribute("viewBox"),g=parseFloat(m.getAttribute("width")),y=parseFloat(m.getAttribute("height"));if(!x&&g&&y)m.setAttribute("viewBox","0  0 "+g+" "+y);else if(x&&!g&&!y){var T=m.getAttribute("viewBox").split(/\s+|,/);g=T[2],y=T[3]}if(l)if(g&&y)o=g*l,h=y*l;else break t;m.setAttribute("width",o.toString()+"px"),m.setAttribute("height",h.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var E=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var C=this,A=!1;this.data.onload=function(){A||a.revokeObjectURL(C.data),C.onProcessComplete()},this.data.onerror=function(){A?C.onProcessError():(A=!0,a.revokeObjectURL(C.data),C.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(u,i,o,h){if(Array.isArray(u))for(var l=0;l<u.length;l++)this.addFile(new s(this,u[l]));else this.addFile(new s(this,u,i,o,h));return this}),p.exports=s},95171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="js";if(e(o)){var v=o;o=n(v,"key"),h=n(v,"url"),l=n(v,"xhrSettings"),d=n(v,"extension",d)}var m={type:"text",extension:d,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(u)),this.complete=!0}});r.register("sceneFile",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},82458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d,v){var m="js";if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),v=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"systemKey"),d=n(x,"sceneKey")}var g={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:o,url:h,xhrSettings:v,config:{systemKey:l,sceneKey:d}};a.call(this,i,g),typeof h=="function"&&(this.data=h,this.state=c.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,i=this.config,o=this.key,h=n(i,"systemKey",o),l=n(i,"sceneKey",o);this.state===c.FILE_POPULATED?u.installScenePlugin(h,this.data,l,this.loader.scene,!0):(this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(h,window[this.key],l,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(u,i,o,h,l){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,i,o,h,l));return this}),p.exports=s},55188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d){var v="js";if(e(o)){var m=o;o=n(m,"key"),h=n(m,"url"),l=n(m,"type","script"),d=n(m,"xhrSettings"),v=n(m,"extension",v)}else l===void 0&&(l="script");var x={type:l,cache:!1,extension:v,responseType:"text",key:o,url:h,xhrSettings:d};a.call(this,i,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(u,i,o,h){if(Array.isArray(u))for(var l=0;l<u.length;l++)this.addFile(new s(this,u[l]));else this.addFile(new s(this,u,i,o,h));return this}),p.exports=s},33536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(76846),r=t(42927),n=new f({Extends:r,initialize:function(s,u,i,o,h){r.call(this,s,u,i,h,o),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,u,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new n(this,e[o]));else this.addFile(new n(this,e,s,u,i));return this}),p.exports=n},86897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="text",v="txt",m=i.cacheManager.text;if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),l=n(x,"xhrSettings"),v=n(x,"extension",v),d=n(x,"type",d),m=n(x,"cache",m)}var g={type:d,cache:m,extension:v,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},58673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(93560),u=new f({Extends:a,initialize:function(o,h,l,d){var v="csv";if(e(h)){var m=h;h=n(m,"key"),l=n(m,"url"),d=n(m,"xhrSettings"),v=n(m,"extension",v)}var x={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:v,responseType:"text",key:h,url:l,xhrSettings:d};a.call(this,o,x),this.tilemapFormat=s.CSV},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},98896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(70806),r=t(93560),n=new f({Extends:a,initialize:function(s,u,i,o){a.call(this,s,u,i,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapImpact",function(e,s,u){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,u));return this}),p.exports=n},50563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(70806),r=t(93560),n=new f({Extends:a,initialize:function(s,u,i,o){a.call(this,s,u,i,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapTiledJSON",function(e,s,u){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,u));return this}),p.exports=n},82857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(86897),u=new f({Extends:e,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new s(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","txt"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new s(o,h,d,m);x.linkFile?e.call(this,o,"unityatlas",h,[x,g,x.linkFile]):e.call(this,o,"unityatlas",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,o.data,h),this.complete=!0}}});c.register("unityAtlas",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},22833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(30750),e=t(72632),s=t(42911),u=new f({Extends:a,initialize:function(o,h,l,d){if(d===void 0&&(d=!1),s(h)){var v=h;h=e(v,"key"),l=e(v,"url",[]),d=e(v,"noAudio",!1)}var m=o.systems.game.device.video.getVideoURL(l);m||console.warn("VideoFile: No supported format for "+h);var x={type:"video",cache:o.cacheManager.video,extension:m.type,key:h,url:m.url,config:{noAudio:d}};a.call(this,o,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=c.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},15297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(89200),u=new f({Extends:a,initialize:function(o,h,l,d){var v="xml";if(e(h)){var m=h;h=n(m,"key"),l=n(m,"url"),d=n(m,"xhrSettings"),v=n(m,"extension",v)}var x={type:"xml",cache:o.cacheManager.xml,extension:v,responseType:"text",key:h,url:l,xhrSettings:d};a.call(this,o,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},34034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12117),c=t(98611),a={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};a=c(!1,a,f),p.exports=a},26042:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=0,c=0;c<t.length;c++)f+=+t[c];return f/t.length};p.exports=S},22824:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8034),c=function(a,r){return f(a)/f(r)/f(a-r)};p.exports=c},17489:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.floor(Math.random()*(f-t+1)+t)};p.exports=S},14976:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){var n=(a-f)*.5,e=(r-c)*.5,s=t*t,u=t*s;return(2*c-2*a+n+e)*u+(-3*c+3*a-2*n-e)*s+n*t+c};p.exports=S},89129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var a=Math.pow(c,-f);return Math.ceil(t*a)/a};p.exports=S},82897:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.max(f,Math.min(c,t))};p.exports=S},75606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a){return a*f.DEG_TO_RAD};p.exports=c},767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.abs(t-f)};p.exports=S},9849:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(16650),r=t(72283),n=new a,e=new c({initialize:function s(u,i,o,h){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=s.DefaultOrder),this._x=u,this._y=i,this._z=o,this._order=h,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,u,i,o){return o===void 0&&(o=this._order),this._x=s,this._y=u,this._z=i,this._order=o,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,u,i){return u===void 0&&(u=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,u,i)},setFromRotationMatrix:function(s,u,i){u===void 0&&(u=this._order),i===void 0&&(i=!1);var o=s.val,h=o[0],l=o[4],d=o[8],v=o[1],m=o[5],x=o[9],g=o[2],y=o[6],T=o[10],E=0,C=0,A=0,P=.99999;switch(u){case"XYZ":{C=Math.asin(f(d,-1,1)),Math.abs(d)<P?(E=Math.atan2(-x,T),A=Math.atan2(-l,h)):E=Math.atan2(y,m);break}case"YXZ":{E=Math.asin(-f(x,-1,1)),Math.abs(x)<P?(C=Math.atan2(d,T),A=Math.atan2(v,m)):C=Math.atan2(-g,h);break}case"ZXY":{E=Math.asin(f(y,-1,1)),Math.abs(y)<P?(C=Math.atan2(-g,T),A=Math.atan2(-l,m)):A=Math.atan2(v,h);break}case"ZYX":{C=Math.asin(-f(g,-1,1)),Math.abs(g)<P?(E=Math.atan2(y,T),A=Math.atan2(v,h)):A=Math.atan2(-l,m);break}case"YZX":{A=Math.asin(f(v,-1,1)),Math.abs(v)<P?(E=Math.atan2(-x,m),C=Math.atan2(-g,h)):C=Math.atan2(d,T);break}case"XZY":{A=Math.asin(-f(l,-1,1)),Math.abs(l)<P?(E=Math.atan2(y,m),C=Math.atan2(d,h)):E=Math.atan2(-x,T);break}}return this._x=E,this._y=C,this._z=A,this._order=u,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},8034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var f=t;--t;)f*=t;return f};p.exports=S},61616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.random()*(f-t)+t};p.exports=S},60679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var a=Math.pow(c,-f);return Math.floor(t*a)/a};p.exports=S},91806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=function(a,r,n){return a=f(a,0,1),(n-r)*a+r};p.exports=c},79366:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t/f/1e3};p.exports=S},43776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},58442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},42798:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return(f-t)*c+t};p.exports=S},61072:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=0),t.clone().lerp(f,c)};p.exports=S},5341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new c(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,n=a.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(a){var r=a.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],n=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=n,a[7]=e,this},invert:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],u=a[4],i=a[5],o=a[6],h=a[7],l=a[8],d=l*u-i*h,v=-l*s+i*o,m=h*s-u*o,x=r*d+n*v+e*m;return x?(x=1/x,a[0]=d*x,a[1]=(-l*n+e*h)*x,a[2]=(i*n-e*u)*x,a[3]=v*x,a[4]=(l*r-e*o)*x,a[5]=(-i*r+e*s)*x,a[6]=m*x,a[7]=(-h*r+n*o)*x,a[8]=(u*r-n*s)*x,this):null},adjoint:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],u=a[4],i=a[5],o=a[6],h=a[7],l=a[8];return a[0]=u*l-i*h,a[1]=e*h-n*l,a[2]=n*i-e*u,a[3]=i*o-s*l,a[4]=r*l-e*o,a[5]=e*s-r*i,a[6]=s*h-u*o,a[7]=n*o-r*h,a[8]=r*u-n*s,this},determinant:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],u=a[4],i=a[5],o=a[6],h=a[7],l=a[8];return r*(l*u-i*h)+n*(-l*s+i*o)+e*(h*s-u*o)},multiply:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],u=r[3],i=r[4],o=r[5],h=r[6],l=r[7],d=r[8],v=a.val,m=v[0],x=v[1],g=v[2],y=v[3],T=v[4],E=v[5],C=v[6],A=v[7],P=v[8];return r[0]=m*n+x*u+g*h,r[1]=m*e+x*i+g*l,r[2]=m*s+x*o+g*d,r[3]=y*n+T*u+E*h,r[4]=y*e+T*i+E*l,r[5]=y*s+T*o+E*d,r[6]=C*n+A*u+P*h,r[7]=C*e+A*i+P*l,r[8]=C*s+A*o+P*d,this},translate:function(a){var r=this.val,n=a.x,e=a.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],u=r[3],i=r[4],o=r[5],h=Math.sin(a),l=Math.cos(a);return r[0]=l*n+h*u,r[1]=l*e+h*i,r[2]=l*s+h*o,r[3]=l*u-h*n,r[4]=l*i-h*e,r[5]=l*o-h*s,this},scale:function(a){var r=this.val,n=a.x,e=a.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,n=a.y,e=a.z,s=a.w,u=r+r,i=n+n,o=e+e,h=r*u,l=r*i,d=r*o,v=n*i,m=n*o,x=e*o,g=s*u,y=s*i,T=s*o,E=this.val;return E[0]=1-(v+x),E[3]=l+T,E[6]=d-y,E[1]=l-T,E[4]=1-(h+x),E[7]=m+g,E[2]=d+y,E[5]=m-g,E[8]=1-(h+v),this},normalFromMat4:function(a){var r=a.val,n=this.val,e=r[0],s=r[1],u=r[2],i=r[3],o=r[4],h=r[5],l=r[6],d=r[7],v=r[8],m=r[9],x=r[10],g=r[11],y=r[12],T=r[13],E=r[14],C=r[15],A=e*h-s*o,P=e*l-u*o,F=e*d-i*o,O=s*l-u*h,I=s*d-i*h,G=u*d-i*l,z=v*T-m*y,X=v*E-x*y,H=v*C-g*y,N=m*E-x*T,U=m*C-g*T,R=x*C-g*E,D=A*R-P*U+F*N+O*H-I*X+G*z;return D?(D=1/D,n[0]=(h*R-l*U+d*N)*D,n[1]=(l*H-o*R-d*X)*D,n[2]=(o*U-h*H+d*z)*D,n[3]=(u*U-s*R-i*N)*D,n[4]=(e*R-u*H+i*X)*D,n[5]=(s*H-e*U-i*z)*D,n[6]=(T*G-E*I+C*O)*D,n[7]=(E*F-y*G-C*P)*D,n[8]=(y*I-T*F+C*A)*D,this):null}});p.exports=c},16650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(70015),a=1e-6,r=new f({initialize:function(h){this.val=new Float32Array(16),h?this.copy(h):this.identity()},clone:function(){return new r(this)},set:function(o){return this.copy(o)},setValues:function(o,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O){var I=this.val;return I[0]=o,I[1]=h,I[2]=l,I[3]=d,I[4]=v,I[5]=m,I[6]=x,I[7]=g,I[8]=y,I[9]=T,I[10]=E,I[11]=C,I[12]=A,I[13]=P,I[14]=F,I[15]=O,this},copy:function(o){var h=o.val;return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,h,l){var d=n.fromQuat(l),v=d.val,m=h.x,x=h.y,g=h.z;return this.setValues(v[0]*m,v[1]*m,v[2]*m,0,v[4]*x,v[5]*x,v[6]*x,0,v[8]*g,v[9]*g,v[10]*g,0,o.x,o.y,o.z,1)},xyz:function(o,h,l){this.identity();var d=this.val;return d[12]=o,d[13]=h,d[14]=l,this},scaling:function(o,h,l){this.zero();var d=this.val;return d[0]=o,d[5]=h,d[10]=l,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,h=o[1],l=o[2],d=o[3],v=o[6],m=o[7],x=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=h,o[6]=o[9],o[7]=o[13],o[8]=l,o[9]=v,o[11]=o[14],o[12]=d,o[13]=m,o[14]=x,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,h=o[0],l=o[1],d=o[2],v=o[3],m=o[4],x=o[5],g=o[6],y=o[7],T=o[8],E=o[9],C=o[10],A=o[11],P=o[12],F=o[13],O=o[14],I=o[15],G=h*x-l*m,z=h*g-d*m,X=h*y-v*m,H=l*g-d*x,N=l*y-v*x,U=d*y-v*g,R=T*F-E*P,D=T*O-C*P,B=T*I-A*P,V=E*O-C*F,Y=E*I-A*F,K=C*I-A*O,$=G*K-z*Y+X*V+H*B-N*D+U*R;return $?($=1/$,this.setValues((x*K-g*Y+y*V)*$,(d*Y-l*K-v*V)*$,(F*U-O*N+I*H)*$,(C*N-E*U-A*H)*$,(g*B-m*K-y*D)*$,(h*K-d*B+v*D)*$,(O*X-P*U-I*z)*$,(T*U-C*X+A*z)*$,(m*Y-x*B+y*R)*$,(l*B-h*Y-v*R)*$,(P*N-F*X+I*G)*$,(E*X-T*N-A*G)*$,(x*D-m*V-g*R)*$,(h*V-l*D+d*R)*$,(F*z-P*H-O*G)*$,(T*H-E*z+C*G)*$)):this},adjoint:function(){var o=this.val,h=o[0],l=o[1],d=o[2],v=o[3],m=o[4],x=o[5],g=o[6],y=o[7],T=o[8],E=o[9],C=o[10],A=o[11],P=o[12],F=o[13],O=o[14],I=o[15];return this.setValues(x*(C*I-A*O)-E*(g*I-y*O)+F*(g*A-y*C),-(l*(C*I-A*O)-E*(d*I-v*O)+F*(d*A-v*C)),l*(g*I-y*O)-x*(d*I-v*O)+F*(d*y-v*g),-(l*(g*A-y*C)-x*(d*A-v*C)+E*(d*y-v*g)),-(m*(C*I-A*O)-T*(g*I-y*O)+P*(g*A-y*C)),h*(C*I-A*O)-T*(d*I-v*O)+P*(d*A-v*C),-(h*(g*I-y*O)-m*(d*I-v*O)+P*(d*y-v*g)),h*(g*A-y*C)-m*(d*A-v*C)+T*(d*y-v*g),m*(E*I-A*F)-T*(x*I-y*F)+P*(x*A-y*E),-(h*(E*I-A*F)-T*(l*I-v*F)+P*(l*A-v*E)),h*(x*I-y*F)-m*(l*I-v*F)+P*(l*y-v*x),-(h*(x*A-y*E)-m*(l*A-v*E)+T*(l*y-v*x)),-(m*(E*O-C*F)-T*(x*O-g*F)+P*(x*C-g*E)),h*(E*O-C*F)-T*(l*O-d*F)+P*(l*C-d*E),-(h*(x*O-g*F)-m*(l*O-d*F)+P*(l*g-d*x)),h*(x*C-g*E)-m*(l*C-d*E)+T*(l*g-d*x))},determinant:function(){var o=this.val,h=o[0],l=o[1],d=o[2],v=o[3],m=o[4],x=o[5],g=o[6],y=o[7],T=o[8],E=o[9],C=o[10],A=o[11],P=o[12],F=o[13],O=o[14],I=o[15],G=h*x-l*m,z=h*g-d*m,X=h*y-v*m,H=l*g-d*x,N=l*y-v*x,U=d*y-v*g,R=T*F-E*P,D=T*O-C*P,B=T*I-A*P,V=E*O-C*F,Y=E*I-A*F,K=C*I-A*O;return G*K-z*Y+X*V+H*B-N*D+U*R},multiply:function(o){var h=this.val,l=h[0],d=h[1],v=h[2],m=h[3],x=h[4],g=h[5],y=h[6],T=h[7],E=h[8],C=h[9],A=h[10],P=h[11],F=h[12],O=h[13],I=h[14],G=h[15],z=o.val,X=z[0],H=z[1],N=z[2],U=z[3];return h[0]=X*l+H*x+N*E+U*F,h[1]=X*d+H*g+N*C+U*O,h[2]=X*v+H*y+N*A+U*I,h[3]=X*m+H*T+N*P+U*G,X=z[4],H=z[5],N=z[6],U=z[7],h[4]=X*l+H*x+N*E+U*F,h[5]=X*d+H*g+N*C+U*O,h[6]=X*v+H*y+N*A+U*I,h[7]=X*m+H*T+N*P+U*G,X=z[8],H=z[9],N=z[10],U=z[11],h[8]=X*l+H*x+N*E+U*F,h[9]=X*d+H*g+N*C+U*O,h[10]=X*v+H*y+N*A+U*I,h[11]=X*m+H*T+N*P+U*G,X=z[12],H=z[13],N=z[14],U=z[15],h[12]=X*l+H*x+N*E+U*F,h[13]=X*d+H*g+N*C+U*O,h[14]=X*v+H*y+N*A+U*I,h[15]=X*m+H*T+N*P+U*G,this},multiplyLocal:function(o){var h=this.val,l=o.val;return this.setValues(h[0]*l[0]+h[1]*l[4]+h[2]*l[8]+h[3]*l[12],h[0]*l[1]+h[1]*l[5]+h[2]*l[9]+h[3]*l[13],h[0]*l[2]+h[1]*l[6]+h[2]*l[10]+h[3]*l[14],h[0]*l[3]+h[1]*l[7]+h[2]*l[11]+h[3]*l[15],h[4]*l[0]+h[5]*l[4]+h[6]*l[8]+h[7]*l[12],h[4]*l[1]+h[5]*l[5]+h[6]*l[9]+h[7]*l[13],h[4]*l[2]+h[5]*l[6]+h[6]*l[10]+h[7]*l[14],h[4]*l[3]+h[5]*l[7]+h[6]*l[11]+h[7]*l[15],h[8]*l[0]+h[9]*l[4]+h[10]*l[8]+h[11]*l[12],h[8]*l[1]+h[9]*l[5]+h[10]*l[9]+h[11]*l[13],h[8]*l[2]+h[9]*l[6]+h[10]*l[10]+h[11]*l[14],h[8]*l[3]+h[9]*l[7]+h[10]*l[11]+h[11]*l[15],h[12]*l[0]+h[13]*l[4]+h[14]*l[8]+h[15]*l[12],h[12]*l[1]+h[13]*l[5]+h[14]*l[9]+h[15]*l[13],h[12]*l[2]+h[13]*l[6]+h[14]*l[10]+h[15]*l[14],h[12]*l[3]+h[13]*l[7]+h[14]*l[11]+h[15]*l[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,h){var l=o.val,d=h.val,v=l[0],m=l[4],x=l[8],g=l[12],y=l[1],T=l[5],E=l[9],C=l[13],A=l[2],P=l[6],F=l[10],O=l[14],I=l[3],G=l[7],z=l[11],X=l[15],H=d[0],N=d[4],U=d[8],R=d[12],D=d[1],B=d[5],V=d[9],Y=d[13],K=d[2],$=d[6],J=d[10],Q=d[14],k=d[3],q=d[7],tt=d[11],_=d[15];return this.setValues(v*H+m*D+x*K+g*k,y*H+T*D+E*K+C*k,A*H+P*D+F*K+O*k,I*H+G*D+z*K+X*k,v*N+m*B+x*$+g*q,y*N+T*B+E*$+C*q,A*N+P*B+F*$+O*q,I*N+G*B+z*$+X*q,v*U+m*V+x*J+g*tt,y*U+T*V+E*J+C*tt,A*U+P*V+F*J+O*tt,I*U+G*V+z*J+X*tt,v*R+m*Y+x*Q+g*_,y*R+T*Y+E*Q+C*_,A*R+P*Y+F*Q+O*_,I*R+G*Y+z*Q+X*_)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,h,l){var d=this.val;return d[12]=d[0]*o+d[4]*h+d[8]*l+d[12],d[13]=d[1]*o+d[5]*h+d[9]*l+d[13],d[14]=d[2]*o+d[6]*h+d[10]*l+d[14],d[15]=d[3]*o+d[7]*h+d[11]*l+d[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,h,l){var d=this.val;return d[0]=d[0]*o,d[1]=d[1]*o,d[2]=d[2]*o,d[3]=d[3]*o,d[4]=d[4]*h,d[5]=d[5]*h,d[6]=d[6]*h,d[7]=d[7]*h,d[8]=d[8]*l,d[9]=d[9]*l,d[10]=d[10]*l,d[11]=d[11]*l,this},makeRotationAxis:function(o,h){var l=Math.cos(h),d=Math.sin(h),v=1-l,m=o.x,x=o.y,g=o.z,y=v*m,T=v*x;return this.setValues(y*m+l,y*x-d*g,y*g+d*x,0,y*x+d*g,T*x+l,T*g-d*m,0,y*g-d*x,T*g+d*m,v*g*g+l,0,0,0,0,1)},rotate:function(o,h){var l=this.val,d=h.x,v=h.y,m=h.z,x=Math.sqrt(d*d+v*v+m*m);if(Math.abs(x)<a)return this;x=1/x,d*=x,v*=x,m*=x;var g=Math.sin(o),y=Math.cos(o),T=1-y,E=l[0],C=l[1],A=l[2],P=l[3],F=l[4],O=l[5],I=l[6],G=l[7],z=l[8],X=l[9],H=l[10],N=l[11],U=l[12],R=l[13],D=l[14],B=l[15],V=d*d*T+y,Y=v*d*T+m*g,K=m*d*T-v*g,$=d*v*T-m*g,J=v*v*T+y,Q=m*v*T+d*g,k=d*m*T+v*g,q=v*m*T-d*g,tt=m*m*T+y;return this.setValues(E*V+F*Y+z*K,C*V+O*Y+X*K,A*V+I*Y+H*K,P*V+G*Y+N*K,E*$+F*J+z*Q,C*$+O*J+X*Q,A*$+I*J+H*Q,P*$+G*J+N*Q,E*k+F*q+z*tt,C*k+O*q+X*tt,A*k+I*q+H*tt,P*k+G*q+N*tt,U,R,D,B)},rotateX:function(o){var h=this.val,l=Math.sin(o),d=Math.cos(o),v=h[4],m=h[5],x=h[6],g=h[7],y=h[8],T=h[9],E=h[10],C=h[11];return h[4]=v*d+y*l,h[5]=m*d+T*l,h[6]=x*d+E*l,h[7]=g*d+C*l,h[8]=y*d-v*l,h[9]=T*d-m*l,h[10]=E*d-x*l,h[11]=C*d-g*l,this},rotateY:function(o){var h=this.val,l=Math.sin(o),d=Math.cos(o),v=h[0],m=h[1],x=h[2],g=h[3],y=h[8],T=h[9],E=h[10],C=h[11];return h[0]=v*d-y*l,h[1]=m*d-T*l,h[2]=x*d-E*l,h[3]=g*d-C*l,h[8]=v*l+y*d,h[9]=m*l+T*d,h[10]=x*l+E*d,h[11]=g*l+C*d,this},rotateZ:function(o){var h=this.val,l=Math.sin(o),d=Math.cos(o),v=h[0],m=h[1],x=h[2],g=h[3],y=h[4],T=h[5],E=h[6],C=h[7];return h[0]=v*d+y*l,h[1]=m*d+T*l,h[2]=x*d+E*l,h[3]=g*d+C*l,h[4]=y*d-v*l,h[5]=T*d-m*l,h[6]=E*d-x*l,h[7]=C*d-g*l,this},fromRotationTranslation:function(o,h){var l=o.x,d=o.y,v=o.z,m=o.w,x=l+l,g=d+d,y=v+v,T=l*x,E=l*g,C=l*y,A=d*g,P=d*y,F=v*y,O=m*x,I=m*g,G=m*y;return this.setValues(1-(A+F),E+G,C-I,0,E-G,1-(T+F),P+O,0,C+I,P-O,1-(T+A),0,h.x,h.y,h.z,1)},fromQuat:function(o){var h=o.x,l=o.y,d=o.z,v=o.w,m=h+h,x=l+l,g=d+d,y=h*m,T=h*x,E=h*g,C=l*x,A=l*g,P=d*g,F=v*m,O=v*x,I=v*g;return this.setValues(1-(C+P),T+I,E-O,0,T-I,1-(y+P),A+F,0,E+O,A-F,1-(y+C),0,0,0,0,1)},frustum:function(o,h,l,d,v,m){var x=1/(h-o),g=1/(d-l),y=1/(v-m);return this.setValues(v*2*x,0,0,0,0,v*2*g,0,0,(h+o)*x,(d+l)*g,(m+v)*y,-1,0,0,m*v*2*y,0)},perspective:function(o,h,l,d){var v=1/Math.tan(o/2),m=1/(l-d);return this.setValues(v/h,0,0,0,0,v,0,0,0,0,(d+l)*m,-1,0,0,2*d*l*m,0)},perspectiveLH:function(o,h,l,d){return this.setValues(2*l/o,0,0,0,0,2*l/h,0,0,0,0,-d/(l-d),1,0,0,l*d/(l-d),0)},ortho:function(o,h,l,d,v,m){var x=o-h,g=l-d,y=v-m;return x=x===0?x:1/x,g=g===0?g:1/g,y=y===0?y:1/y,this.setValues(-2*x,0,0,0,0,-2*g,0,0,0,0,2*y,0,(o+h)*x,(d+l)*g,(m+v)*y,1)},lookAtRH:function(o,h,l){var d=this.val;return i.subVectors(o,h),i.getLengthSquared()===0&&(i.z=1),i.normalize(),s.crossVectors(l,i),s.getLengthSquared()===0&&(Math.abs(l.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(l,i)),s.normalize(),u.crossVectors(i,s),d[0]=s.x,d[1]=s.y,d[2]=s.z,d[4]=u.x,d[5]=u.y,d[6]=u.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(o,h,l){var d=o.x,v=o.y,m=o.z,x=l.x,g=l.y,y=l.z,T=h.x,E=h.y,C=h.z;if(Math.abs(d-T)<a&&Math.abs(v-E)<a&&Math.abs(m-C)<a)return this.identity();var A=d-T,P=v-E,F=m-C,O=1/Math.sqrt(A*A+P*P+F*F);A*=O,P*=O,F*=O;var I=g*F-y*P,G=y*A-x*F,z=x*P-g*A;O=Math.sqrt(I*I+G*G+z*z),O?(O=1/O,I*=O,G*=O,z*=O):(I=0,G=0,z=0);var X=P*z-F*G,H=F*I-A*z,N=A*G-P*I;return O=Math.sqrt(X*X+H*H+N*N),O?(O=1/O,X*=O,H*=O,N*=O):(X=0,H=0,N=0),this.setValues(I,X,A,0,G,H,P,0,z,N,F,0,-(I*d+G*v+z*m),-(X*d+H*v+N*m),-(A*d+P*v+F*m),1)},yawPitchRoll:function(o,h,l){this.zero(),n.zero(),e.zero();var d=this.val,v=n.val,m=e.val,x=Math.sin(l),g=Math.cos(l);return d[10]=1,d[15]=1,d[0]=g,d[1]=x,d[4]=-x,d[5]=g,x=Math.sin(h),g=Math.cos(h),v[0]=1,v[15]=1,v[5]=g,v[10]=g,v[9]=-x,v[6]=x,x=Math.sin(o),g=Math.cos(o),m[5]=1,m[15]=1,m[0]=g,m[2]=-x,m[8]=x,m[10]=g,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(o,h,l,d,v){return this.yawPitchRoll(o.y,o.x,o.z),n.scaling(l.x,l.y,l.z),e.xyz(h.x,h.y,h.z),this.multiplyLocal(n),this.multiplyLocal(e),d&&this.multiplyLocal(d),v&&this.multiplyLocal(v),this},multiplyToMat4:function(o,h){var l=this.val,d=o.val,v=l[0],m=l[1],x=l[2],g=l[3],y=l[4],T=l[5],E=l[6],C=l[7],A=l[8],P=l[9],F=l[10],O=l[11],I=l[12],G=l[13],z=l[14],X=l[15],H=d[0],N=d[1],U=d[2],R=d[3],D=d[4],B=d[5],V=d[6],Y=d[7],K=d[8],$=d[9],J=d[10],Q=d[11],k=d[12],q=d[13],tt=d[14],_=d[15];return h.setValues(H*v+N*y+U*A+R*I,N*m+N*T+U*P+R*G,U*x+N*E+U*F+R*z,R*g+N*C+U*O+R*X,D*v+B*y+V*A+Y*I,D*m+B*T+V*P+Y*G,D*x+B*E+V*F+Y*z,D*g+B*C+V*O+Y*X,K*v+$*y+J*A+Q*I,K*m+$*T+J*P+Q*G,K*x+$*E+J*F+Q*z,K*g+$*C+J*O+Q*X,k*v+q*y+tt*A+_*I,k*m+q*T+tt*P+_*G,k*x+q*E+tt*F+_*z,k*g+q*C+tt*O+_*X)},fromRotationXYTranslation:function(o,h,l){var d=h.x,v=h.y,m=h.z,x=Math.sin(o.x),g=Math.cos(o.x),y=Math.sin(o.y),T=Math.cos(o.y),E=d,C=v,A=m,P=-x,F=0-P*y,O=0-g*y,I=P*T,G=g*T;return l||(E=T*d+y*m,C=F*d+g*v+I*m,A=O*d+x*v+G*m),this.setValues(T,F,O,0,0,g,x,0,y,I,G,0,E,C,A,1)},getMaxScaleOnAxis:function(){var o=this.val,h=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],l=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],d=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(h,l,d))}}),n=new r,e=new r,s=new c,u=new c,i=new c;p.exports=r},69635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.min(t+f,c)};p.exports=S},37394:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.length;if(f===0)return 0;t.sort(function(a,r){return a-r});var c=Math.floor(f/2);return f%2===0?(t[c]+t[c-1])/2:t[c]};p.exports=S},17259:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.max(t-f,c)};p.exports=S},61820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=f+1);var r=(t-f)/(c-f);return r>1?a!==void 0?(r=(a-t)/(a-c),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=S},75003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(5341),a=t(72283),r=t(70015),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),u=new r(1,0,0),i=new r(0,1,0),o=new r,h=new c,l=new f({initialize:function(v,m,x,g){this.onChangeCallback=a,this.set(v,m,x,g)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,v,m,x,g){return g===void 0&&(g=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=v||0,this._z=m||0,this._w=x||0),g&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,v=this.y,m=this.z,x=this.w;return Math.sqrt(d*d+v*v+m*m+x*x)},lengthSq:function(){var d=this.x,v=this.y,m=this.z,x=this.w;return d*d+v*v+m*m+x*x},normalize:function(){var d=this.x,v=this.y,m=this.z,x=this.w,g=d*d+v*v+m*m+x*x;return g>0&&(g=1/Math.sqrt(g),this._x=d*g,this._y=v*g,this._z=m*g,this._w=x*g),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,v){v===void 0&&(v=0);var m=this.x,x=this.y,g=this.z,y=this.w;return this.set(m+v*(d.x-m),x+v*(d.y-x),g+v*(d.z-g),y+v*(d.w-y))},rotationTo:function(d,v){var m=d.x*v.x+d.y*v.y+d.z*v.z;return m<-.999999?(o.copy(u).cross(d).length()<n&&o.copy(i).cross(d),o.normalize(),this.setAxisAngle(o,Math.PI)):m>.999999?this.set(0,0,0,1):(o.copy(d).cross(v),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+m,this.normalize())},setAxes:function(d,v,m){var x=h.val;return x[0]=v.x,x[3]=v.y,x[6]=v.z,x[1]=m.x,x[4]=m.y,x[7]=m.z,x[2]=-d.x,x[5]=-d.y,x[8]=-d.z,this.fromMat3(h).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,v){v=v*.5;var m=Math.sin(v);return this.set(m*d.x,m*d.y,m*d.z,Math.cos(v))},multiply:function(d){var v=this.x,m=this.y,x=this.z,g=this.w,y=d.x,T=d.y,E=d.z,C=d.w;return this.set(v*C+g*y+m*E-x*T,m*C+g*T+x*y-v*E,x*C+g*E+v*T-m*y,g*C-v*y-m*T-x*E)},slerp:function(d,v){var m=this.x,x=this.y,g=this.z,y=this.w,T=d.x,E=d.y,C=d.z,A=d.w,P=m*T+x*E+g*C+y*A;P<0&&(P=-P,T=-T,E=-E,C=-C,A=-A);var F=1-v,O=v;if(1-P>n){var I=Math.acos(P),G=Math.sin(I);F=Math.sin((1-v)*I)/G,O=Math.sin(v*I)/G}return this.set(F*m+O*T,F*x+O*E,F*g+O*C,F*y+O*A)},invert:function(){var d=this.x,v=this.y,m=this.z,x=this.w,g=d*d+v*v+m*m+x*x,y=g?1/g:0;return this.set(-d*y,-v*y,-m*y,x*y)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var v=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T+g*y,m*T+x*y,x*T-m*y,g*T-v*y)},rotateY:function(d){d*=.5;var v=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T-x*y,m*T+g*y,x*T+v*y,g*T-m*y)},rotateZ:function(d){d*=.5;var v=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T+m*y,m*T-v*y,x*T+g*y,g*T-x*y)},calculateW:function(){var d=this.x,v=this.y,m=this.z;return this.w=-Math.sqrt(1-d*d-v*v-m*m),this},setFromEuler:function(d,v){var m=d.x/2,x=d.y/2,g=d.z/2,y=Math.cos(m),T=Math.cos(x),E=Math.cos(g),C=Math.sin(m),A=Math.sin(x),P=Math.sin(g);switch(d.order){case"XYZ":{this.set(C*T*E+y*A*P,y*A*E-C*T*P,y*T*P+C*A*E,y*T*E-C*A*P,v);break}case"YXZ":{this.set(C*T*E+y*A*P,y*A*E-C*T*P,y*T*P-C*A*E,y*T*E+C*A*P,v);break}case"ZXY":{this.set(C*T*E-y*A*P,y*A*E+C*T*P,y*T*P+C*A*E,y*T*E-C*A*P,v);break}case"ZYX":{this.set(C*T*E-y*A*P,y*A*E+C*T*P,y*T*P-C*A*E,y*T*E+C*A*P,v);break}case"YZX":{this.set(C*T*E+y*A*P,y*A*E+C*T*P,y*T*P-C*A*E,y*T*E-C*A*P,v);break}case"XZY":{this.set(C*T*E-y*A*P,y*A*E-C*T*P,y*T*P+C*A*E,y*T*E+C*A*P,v);break}}return this},setFromRotationMatrix:function(d){var v=d.val,m=v[0],x=v[4],g=v[8],y=v[1],T=v[5],E=v[9],C=v[2],A=v[6],P=v[10],F=m+T+P,O;return F>0?(O=.5/Math.sqrt(F+1),this.set((A-E)*O,(g-C)*O,(y-x)*O,.25/O)):m>T&&m>P?(O=2*Math.sqrt(1+m-T-P),this.set(.25*O,(x+y)/O,(g+C)/O,(A-E)/O)):T>P?(O=2*Math.sqrt(1+T-m-P),this.set((x+y)/O,.25*O,(E+A)/O,(g-C)/O)):(O=2*Math.sqrt(1+P-m-T),this.set((g+C)/O,(E+A)/O,.25*O,(y-x)/O)),this},fromMat3:function(d){var v=d.val,m=v[0]+v[4]+v[8],x;if(m>0)x=Math.sqrt(m+1),this.w=.5*x,x=.5/x,this._x=(v[7]-v[5])*x,this._y=(v[2]-v[6])*x,this._z=(v[3]-v[1])*x;else{var g=0;v[4]>v[0]&&(g=1),v[8]>v[g*3+g]&&(g=2);var y=e[g],T=e[y];x=Math.sqrt(v[g*3+g]-v[y*3+y]-v[T*3+T]+1),s[g]=.5*x,x=.5/x,s[y]=(v[y*3+g]+v[g*3+y])*x,s[T]=(v[T*3+g]+v[g*3+T])*x,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(v[T*3+y]-v[y*3+T])*x}return this.onChangeCallback(this),this}});p.exports=l},23701:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a){return a*f.RAD_TO_DEG};p.exports=c},16906:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);var c=Math.random()*2*Math.PI;return t.x=Math.cos(c)*f,t.y=Math.sin(c)*f,t};p.exports=S},52417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);var c=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*f;return t.x=Math.cos(c)*r,t.y=Math.sin(c)*r,t.z=a*f,t};p.exports=S},17915:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1),t.x=(Math.random()*2-1)*f,t.y=(Math.random()*2-1)*f,t.z=(Math.random()*2-1)*f,t.w=(Math.random()*2-1)*f,t};p.exports=S},52257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x,a=t.y;return t.x=c*Math.cos(f)-a*Math.sin(f),t.y=c*Math.sin(f)+a*Math.cos(f),t};p.exports=S},2386:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=Math.cos(a),n=Math.sin(a),e=t.x-f,s=t.y-c;return t.x=e*r-s*n+f,t.y=e*n+s*r+c,t};p.exports=S},72395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){var n=a+Math.atan2(t.y-c,t.x-f);return t.x=f+r*Math.cos(n),t.y=c+r*Math.sin(n),t};p.exports=S},41061:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){return t.x=f+r*Math.cos(a),t.y=c+r*Math.sin(a),t};p.exports=S},93709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70015),c=t(16650),a=t(75003),r=new c,n=new a,e=new f,s=function(u,i,o){return n.setAxisAngle(i,o),r.fromRotationTranslation(n,e.set(0,0,0)),u.transformMat4(r)};p.exports=s},67233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},64333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var a=Math.pow(c,-f);return Math.round(t*a)/a};p.exports=S},59533:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f===void 0&&(f=1),c===void 0&&(c=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)c-=f*a,f+=c*a,r[e]=c,n[e]=f;return{sin:n,cos:r,length:t}};p.exports=S},5514:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t<=f?0:t>=c?1:(t=(t-f)/(c-f),t*t*(3-2*t))};p.exports=S},87736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t=Math.max(0,Math.min(1,(t-f)/(c-f))),t*t*t*(t*(t*6-15)+10)};p.exports=S},55805:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e){e===void 0&&(e=new f);var s=0,u=0,i=r*n;return a>0&&a<=i&&(a>r-1?(u=Math.floor(a/r),s=a-u*r):s=a),e.set(s,u)};p.exports=c},64462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u,i,o){o===void 0&&(o=new f);var h=Math.sin(s),l=Math.cos(s),d=l*u,v=h*u,m=-h*i,x=l*i,g=1/(d*x+m*-v);return o.x=x*g*a+-m*g*r+(e*m-n*x)*g,o.y=d*g*r+-v*g*a+(-e*d+n*v)*g,o};p.exports=c},93736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(88456),a=new f({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return c(this.x,r.x,n)&&c(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),p.exports=a},70015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new c(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},crossVectors:function(a,r){var n=a.x,e=a.y,s=a.z,u=r.x,i=r.y,o=r.z;return this.x=e*o-s*i,this.y=s*u-n*o,this.z=n*i-e*u,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,n){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return r*r+n*n+e*e},length:function(){var a=this.x,r=this.y,n=this.z;return Math.sqrt(a*a+r*r+n*n)},lengthSq:function(){var a=this.x,r=this.y,n=this.z;return a*a+r*r+n*n},normalize:function(){var a=this.x,r=this.y,n=this.z,e=a*a+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=n*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,u=a.y,i=a.z;return this.x=n*i-e*u,this.y=e*s-r*i,this.z=r*u-n*s,this},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this},applyMatrix3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,u=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*u,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*u,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*u,this},transformMat3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,u=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],o=r*s[2]+n*s[6]+e*s[10]+s[14],h=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=u/h,this.y=i/h,this.z=o/h,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,u=a.y,i=a.z,o=a.w,h=o*r+u*e-i*n,l=o*n+i*r-s*e,d=o*e+s*n-u*r,v=-s*r-u*n-i*e;return this.x=h*o+v*-s+l*-i-d*-u,this.y=l*o+v*-u+d*-s-h*-i,this.z=d*o+v*-i+h*-u-l*-s,this},project:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,u=s[0],i=s[1],o=s[2],h=s[3],l=s[4],d=s[5],v=s[6],m=s[7],x=s[8],g=s[9],y=s[10],T=s[11],E=s[12],C=s[13],A=s[14],P=s[15],F=1/(r*h+n*m+e*T+P);return this.x=(r*u+n*l+e*x+E)*F,this.y=(r*i+n*d+e*g+C)*F,this.z=(r*o+n*v+e*y+A)*F,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var n=a.x,e=a.y,s=a.z,u=a.w,i=this.x-n,o=u-this.y-1-e,h=this.z;return this.x=2*i/s-1,this.y=2*o/u-1,this.z=2*h-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});c.ZERO=new c,c.RIGHT=new c(1,0,0),c.LEFT=new c(-1,0,0),c.UP=new c(0,-1,0),c.DOWN=new c(0,1,0),c.FORWARD=new c(0,0,1),c.BACK=new c(0,0,-1),c.ONE=new c(1,1,1),p.exports=c},51729:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new c(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,n,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(a*a+r*r+n*n+e*e)},lengthSq:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return a*a+r*r+n*n+e*e},normalize:function(){var a=this.x,r=this.y,n=this.z,e=this.w,s=a*a+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,u=this.w;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this.w=u+r*(a.w-u),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=this.w,u=a.val;return this.x=u[0]*r+u[4]*n+u[8]*e+u[12]*s,this.y=u[1]*r+u[5]*n+u[9]*e+u[13]*s,this.z=u[2]*r+u[6]*n+u[10]*e+u[14]*s,this.w=u[3]*r+u[7]*n+u[11]*e+u[15]*s,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,u=a.y,i=a.z,o=a.w,h=o*r+u*e-i*n,l=o*n+i*r-s*e,d=o*e+s*n-u*r,v=-s*r-u*n-i*e;return this.x=h*o+v*-s+l*-i-d*-u,this.y=l*o+v*-u+d*-s-h*-i,this.z=d*o+v*-i+h*-u-l*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});c.prototype.sub=c.prototype.subtract,c.prototype.mul=c.prototype.multiply,c.prototype.div=c.prototype.divide,c.prototype.dist=c.prototype.distance,c.prototype.distSq=c.prototype.distanceSq,c.prototype.len=c.prototype.length,c.prototype.lenSq=c.prototype.lengthSq,p.exports=c},9557:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.abs(t-f)<=c};p.exports=S},1071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c-f;return f+((t-f)%a+a)%a};p.exports=S},90447:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.atan2(a-f,c-t)};p.exports=S},94240:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.atan2(f.y-t.y,f.x-t.x)};p.exports=S},84066:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.atan2(f.x-t.x,f.y-t.y)};p.exports=S},9678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.atan2(c-t,a-f)};p.exports=S},76861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a){return a>Math.PI&&(a-=f.PI2),Math.abs(((a+f.TAU)%f.PI2-f.PI2)%f.PI2)};p.exports=c},37570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},87597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61616),c=function(){return f(-Math.PI,Math.PI)};p.exports=c},74493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61616),c=function(){return f(-180,180)};p.exports=c},19049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(37570),c=function(a){return f(a+Math.PI)};p.exports=c},90612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a,r,n){return n===void 0&&(n=.05),a===r||(Math.abs(r-a)<=n||Math.abs(r-a)>=f.PI2-n?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=f.PI2:r-=f.PI2),r>a?a+=n:r<a&&(a-=n))),a};p.exports=c},93954:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=f-t;if(c===0)return 0;var a=Math.floor((c- -180)/360);return c-a*360};p.exports=S},35786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1071),c=function(a){return f(a,-Math.PI,Math.PI)};p.exports=c},62138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1071),c=function(a){return f(a,-180,180)};p.exports=c},22153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},53996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t-c,n=f-a;return Math.sqrt(r*r+n*n)};p.exports=S},92951:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x-f.x,a=t.y-f.y;return Math.sqrt(c*c+a*a)};p.exports=S},12161:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x-f.x,a=t.y-f.y;return c*c+a*a};p.exports=S},38057:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.max(Math.abs(t-c),Math.abs(f-a))};p.exports=S},33297:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(c-t,r)+Math.pow(a-f,r))};p.exports=S},90366:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.abs(t-c)+Math.abs(f-a)};p.exports=S},35032:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t-c,n=f-a;return r*r+n*n};p.exports=S},10130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25265),c=t(57428),a=t(73214),r=t(71778),n=t(36468),e=t(88258),s=t(52910),u=t(67799),i=t(74083),o=t(92284),h=t(28035),l=t(8754);p.exports={Power0:s,Power1:u.Out,Power2:r.Out,Power3:i.Out,Power4:o.Out,Linear:s,Quad:u.Out,Cubic:r.Out,Quart:i.Out,Quint:o.Out,Sine:h.Out,Expo:e.Out,Circ:a.Out,Elastic:n.Out,Back:f.Out,Bounce:c.Out,Stepped:l,"Quad.easeIn":u.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":o.In,"Sine.easeIn":h.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":n.In,"Back.easeIn":f.In,"Bounce.easeIn":c.In,"Quad.easeOut":u.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":o.Out,"Sine.easeOut":h.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":n.Out,"Back.easeOut":f.Out,"Bounce.easeOut":c.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":h.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":f.InOut,"Bounce.easeInOut":c.InOut}},25860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1.70158),t*t*((f+1)*t-f)};p.exports=S},45264:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1.70158);var c=f*1.525;return(t*=2)<1?.5*(t*t*((c+1)*t-c)):.5*((t-=2)*t*((c+1)*t+c)+2)};p.exports=S},36699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1.70158),--t*t*((f+1)*t+f)+1};p.exports=S},25265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},24799:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=!1;return t<.5?(t=1-t*2,f=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,f?(1-t)*.5:t*.5+.5};p.exports=S},60819:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},57428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},7280:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},18058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},73214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},63180:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},16518:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},71778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return f<1?f=1:a=c*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c))};p.exports=S},50325:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return f<1?f=1:a=c*Math.asin(1/f)/(2*Math.PI),(t*=2)<1?-.5*(f*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)):f*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)*.5+1};p.exports=S},84074:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return f<1?f=1:a=c*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/c)+1};p.exports=S},36468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},10357:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},14894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},88258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},52910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(43927)},77471:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},83863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},44383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},67799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},55248:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},23135:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},74083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},98759:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},26670:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},92284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},66333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},37255:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},28035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1),t<=0?0:t>=1?1:((f*t|0)+1)*(1/f)};p.exports=S},8754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(52770)},17247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1e-4),Math.ceil(t-f)};p.exports=S},88456:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=1e-4),Math.abs(t-f)<c};p.exports=S},61824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1e-4),Math.floor(t+f)};p.exports=S},41935:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=1e-4),t>f-c};p.exports=S},54726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=1e-4),t<f+c};p.exports=S},52778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(98611),a={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};a=c(!1,a,f),p.exports=a},63210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22824),c=function(a,r){for(var n=0,e=a.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*a[s]*f(e,s);return n};p.exports=c},88332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14976),c=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return a[0]===a[n]?(r<0&&(s=Math.floor(e=n*(1+r))),f(e-s,a[(s-1+n)%n],a[s],a[(s+1)%n],a[(s+2)%n])):r<0?a[0]-(f(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[n]-(f(e-n,a[n],a[n],a[n-1],a[n-1])-a[n]):f(e-s,a[s?s-1:0],a[s],a[n<s+1?n:s+1],a[n<s+2?n:s+2])};p.exports=c},34631:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function f(r,n){return 3*(1-r)*r*r*n}function c(r,n){return r*r*r*n}var a=function(r,n,e,s,u){return S(r,n)+t(r,e)+f(r,s)+c(r,u)};p.exports=a},47614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(42798),c=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return r<0?f(a[0],a[1],e):r>1?f(a[n],a[n-1],n-e):f(a[s],a[s+1>n?n:s+1],e-s)};p.exports=c},16252:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var n=1-a;return n*n*r}function t(a,r){return 2*(1-a)*a*r}function f(a,r){return a*a*r}var c=function(a,r,n,e){return S(a,r)+t(a,n)+f(a,e)};p.exports=c},44521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(5514),c=function(a,r,n){return r+(n-r)*f(a,0,1)};p.exports=c},45507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(87736),c=function(a,r,n){return r+(n-r)*f(a,0,1)};p.exports=c},48528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=Math.log(t)/.6931471805599453;return 1<<Math.ceil(f)};p.exports=S},28621:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t>0&&(t&t-1)===0&&f>0&&(f&f-1)===0};p.exports=S},2018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},73773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,n=this.n;a=a.toString();for(var e=0;e<a.length;e++)n+=a.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var n=a[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*a.length+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=a[e];a[e]=a[n],a[n]=s}return a}});p.exports=c},82127:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return c===void 0&&(c=0),f===0?t:(t-=c,t=f*Math.ceil(t/f),a?(c+t)/f:c+t)};p.exports=S},84314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return c===void 0&&(c=0),f===0?t:(t-=c,t=f*Math.floor(t/f),a?(c+t)/f:c+t)};p.exports=S},88462:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return c===void 0&&(c=0),f===0?t:(t-=c,t=f*Math.round(t/f),a?(c+t)/f:c+t)};p.exports=S},23679:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var f=t(86459),c=t(98611),a={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};a.Sound=t(56751),a=c(!1,a,f),p.exports=a,t.g.Phaser=a},62832:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(7864),a=t(1539),r=new f({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Collision,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,s,u,i,o){a.call(this,e,s,u,i,o),this.body=null}});p.exports=r},66150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(75606),a=t(53996),r=t(35032),n=t(99523),e=t(72632),s=t(30657),u=t(2732),i=t(15147),o=t(91963),h=t(7599),l=t(93736),d=t(85233),v=new f({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,x.sys.events.once(h.BOOT,this.boot,this),x.sys.events.on(h.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new n(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(h.UPDATE,this.world.update,this.world),m.on(h.POST_UPDATE,this.world.postUpdate,this.world),m.once(h.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(h.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(h.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,x=this.systems.settings.physics,g=s(e(x,"arcade",{}),e(m,"arcade",{}));return g},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,x,g,y,T){return g===void 0&&(g=null),y===void 0&&(y=null),T===void 0&&(T=g),this.world.collideObjects(m,x,g,y,T,!0)},collide:function(m,x,g,y,T){return g===void 0&&(g=null),y===void 0&&(y=null),T===void 0&&(T=g),this.world.collideObjects(m,x,g,y,T,!1)},collideTiles:function(m,x,g,y,T){return this.world.collideTiles(m,x,g,y,T)},overlapTiles:function(m,x,g,y,T){return this.world.overlapTiles(m,x,g,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,x,g,y,T,E){y===void 0&&(y=60);var C=Math.atan2(g-m.y,x-m.x);return m.body.acceleration.setToPolar(C,y),T!==void 0&&E!==void 0&&m.body.maxVelocity.set(T,E),C},accelerateToObject:function(m,x,g,y,T){return this.accelerateTo(m,x.x,x.y,g,y,T)},closest:function(m,x){x||(x=this.world.bodies.entries);for(var g=Number.MAX_VALUE,y=null,T=m.x,E=m.y,C=x.length,A=0;A<C;A++){var P=x[A],F=P.body||P;if(!(m===P||m===F||m===F.gameObject||m===F.center)){var O=r(T,E,F.center.x,F.center.y);O<g&&(y=P,g=O)}}return y},furthest:function(m,x){x||(x=this.world.bodies.entries);for(var g=-1,y=null,T=m.x,E=m.y,C=x.length,A=0;A<C;A++){var P=x[A],F=P.body||P;if(!(m===P||m===F||m===F.gameObject||m===F.center)){var O=r(T,E,F.center.x,F.center.y);O>g&&(y=P,g=O)}}return y},moveTo:function(m,x,g,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var E=Math.atan2(g-m.y,x-m.x);return T>0&&(y=a(m.x,m.y,x,g)/(T/1e3)),m.body.velocity.setToPolar(E,y),E},moveToObject:function(m,x,g,y){return this.moveTo(m,x.x,x.y,g,y)},velocityFromAngle:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new l),g.setToPolar(c(m),x)},velocityFromRotation:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new l),g.setToPolar(m,x)},overlapRect:function(m,x,g,y,T,E){return i(this.world,m,x,g,y,T,E)},overlapCirc:function(m,x,g,y,T){return u(this.world,m,x,g,y,T)},shutdown:function(){if(!!this.world){var m=this.systems.events;m.off(h.UPDATE,this.world.update,this.world),m.off(h.POST_UPDATE,this.world.postUpdate,this.world),m.off(h.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",v,"arcadePhysics"),p.exports=v},25084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(7864),a=t(13747),r=new f({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Collision,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,s,u,i,o){a.call(this,e,s,u,i,o),this.body=null}});p.exports=r},97602:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(95239),a=t(47401),r=t(27037),n=t(23701),e=t(74118),s=t(94287),u=t(15084),i=t(93736),o=new f({Mixins:[c],initialize:function(l,d){var v=64,m=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=d!==void 0;g&&d.displayWidth&&(v=d.displayWidth,m=d.displayHeight),g||(d=x),this.world=l,this.gameObject=g?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=l.defaults.debugShowBody,this.debugShowVelocity=l.defaults.debugShowVelocity,this.debugBodyColor=l.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=v,this.height=m,this.sourceWidth=v,this.sourceHeight=m,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=l.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=u(!1),this.touching=u(!0),this.wasTouching=u(!0),this.blocked=u(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var h=this.gameObject,l=this.transform;if(h.parentContainer){var d=h.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);l.x=d.tx,l.y=d.ty,l.rotation=n(d.rotation),l.scaleX=d.scaleX,l.scaleY=d.scaleY,l.displayOriginX=h.displayOriginX,l.displayOriginY=h.displayOriginY}else l.x=h.x,l.y=h.y,l.rotation=h.angle,l.scaleX=h.scaleX,l.scaleY=h.scaleY,l.displayOriginX=h.displayOriginX,l.displayOriginY=h.displayOriginY;var v=!1;if(this.syncBounds){var m=h.getBounds(this._bounds);this.width=m.width,this.height=m.height,v=!0}else{var x=Math.abs(l.scaleX),g=Math.abs(l.scaleY);(this._sx!==x||this._sy!==g)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*g,this._sx=x,this._sy=g,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var h=this.transform;this.position.x=h.x+h.scaleX*(this.offset.x-h.displayOriginX),this.position.y=h.y+h.scaleY*(this.offset.y-h.displayOriginY),this.updateCenter()},resetFlags:function(h){h===void 0&&(h=!1);var l=this.wasTouching,d=this.touching,v=this.blocked;h?u(!0,l):(l.none=d.none,l.up=d.up,l.down=d.down,l.left=d.left,l.right=d.right),u(!0,d),u(!0,v),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(h,l){if(h&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}h&&this.update(l)},update:function(h){var l=this.prev,d=this.position,v=this.velocity;if(l.set(d.x,d.y),!this.moves){this._dx=d.x-l.x,this._dy=d.y-l.y;return}if(this.directControl){var m=this.autoFrame;v.set((d.x-m.x)/h,(d.y-m.y)/h),this.world.updateMotion(this,h),this._dx=d.x-m.x,this._dy=d.y-m.y}else this.world.updateMotion(this,h),this.newVelocity.set(v.x*h,v.y*h),d.add(this.newVelocity),this._dx=d.x-l.x,this._dy=d.y-l.y;var x=v.x,g=v.y;if(this.updateCenter(),this.angle=Math.atan2(g,x),this.speed=Math.sqrt(x*x+g*g),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var y=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,y.up,y.down,y.left,y.right)}},postUpdate:function(){var h=this.position,l=h.x-this.prevFrame.x,d=h.y-this.prevFrame.y,v=this.gameObject;if(this.moves){var m=this.deltaMax.x,x=this.deltaMax.y;m!==0&&l!==0&&(l<0&&l<-m?l=-m:l>0&&l>m&&(l=m)),x!==0&&d!==0&&(d<0&&d<-x?d=-x:d>0&&d>x&&(d=x)),v&&(v.x+=l,v.y+=d)}l<0?this.facing=a.FACING_LEFT:l>0&&(this.facing=a.FACING_RIGHT),d<0?this.facing=a.FACING_UP:d>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&v&&(v.angle+=this.deltaZ()),this._tx=l,this._ty=d,this.autoFrame.set(h.x,h.y)},setBoundsRectangle:function(h){return this.customBoundsRectangle=h||this.world.bounds,this},checkWorldBounds:function(){var h=this.position,l=this.velocity,d=this.blocked,v=this.customBoundsRectangle,m=this.world.checkCollision,x=this.worldBounce?-this.worldBounce.x:-this.bounce.x,g=this.worldBounce?-this.worldBounce.y:-this.bounce.y,y=!1;return h.x<v.x&&m.left?(h.x=v.x,l.x*=x,d.left=!0,y=!0):this.right>v.right&&m.right&&(h.x=v.right-this.width,l.x*=x,d.right=!0,y=!0),h.y<v.y&&m.up?(h.y=v.y,l.y*=g,d.up=!0,y=!0):this.bottom>v.bottom&&m.down&&(h.y=v.bottom-this.height,l.y*=g,d.down=!0,y=!0),y&&(this.blocked.none=!1,this.updateCenter()),y},setOffset:function(h,l){return l===void 0&&(l=h),this.offset.set(h,l),this},setGameObject:function(h,l){return l===void 0&&(l=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=h,h.body&&(h.body=this),this.setSize(),this.world.add(this),this.enable=l,this},setSize:function(h,l,d){d===void 0&&(d=!0);var v=this.gameObject;if(v&&(!h&&v.frame&&(h=v.frame.realWidth),!l&&v.frame&&(l=v.frame.realHeight)),this.sourceWidth=h,this.sourceHeight=l,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&v&&v.getCenter){var m=(v.width-h)/2,x=(v.height-l)/2;this.offset.set(m,x)}return this.isCircle=!1,this.radius=0,this},setCircle:function(h,l,d){return l===void 0&&(l=this.offset.x),d===void 0&&(d=this.offset.y),h>0?(this.isCircle=!0,this.radius=h,this.sourceWidth=h*2,this.sourceHeight=h*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,d),this.updateCenter()):this.isCircle=!1,this},reset:function(h,l){this.stop();var d=this.gameObject;d&&(d.setPosition(h,l),this.rotation=d.angle,this.preRotation=d.angle);var v=this.position;d&&d.getTopLeft?d.getTopLeft(v):v.set(h,l),this.prev.copy(v),this.prevFrame.copy(v),this.autoFrame.copy(v),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,l){if(!this.isCircle)return s(this,h,l);if(this.radius>0&&h>=this.left&&h<=this.right&&l>=this.top&&l<=this.bottom){var d=(this.center.x-h)*(this.center.x-h),v=(this.center.y-l)*(this.center.y-l);return d+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(h){var l=this.position,d=l.x+this.halfWidth,v=l.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor),this.isCircle?h.strokeCircle(d,v,this.width/2):(this.checkCollision.up&&h.lineBetween(l.x,l.y,l.x+this.width,l.y),this.checkCollision.right&&h.lineBetween(l.x+this.width,l.y,l.x+this.width,l.y+this.height),this.checkCollision.down&&h.lineBetween(l.x,l.y+this.height,l.x+this.width,l.y+this.height),this.checkCollision.left&&h.lineBetween(l.x,l.y,l.x,l.y+this.height))),this.debugShowVelocity&&(h.lineStyle(h.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),h.lineBetween(d,v,d+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(h){return h===void 0&&(h=!0),this.directControl=h,this},setCollideWorldBounds:function(h,l,d,v){h===void 0&&(h=!0),this.collideWorldBounds=h;var m=l!==void 0,x=d!==void 0;return(m||x)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=l),x&&(this.worldBounce.y=d)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(h,l){return this.velocity.set(h,l),h=this.velocity.x,l=this.velocity.y,this.speed=Math.sqrt(h*h+l*l),this},setVelocityX:function(h){return this.setVelocity(h,this.velocity.y)},setVelocityY:function(h){return this.setVelocity(this.velocity.x,h)},setMaxVelocity:function(h,l){return this.maxVelocity.set(h,l),this},setMaxVelocityX:function(h){return this.maxVelocity.x=h,this},setMaxVelocityY:function(h){return this.maxVelocity.y=h,this},setMaxSpeed:function(h){return this.maxSpeed=h,this},setSlideFactor:function(h,l){return this.slideFactor.set(h,l),this},setBounce:function(h,l){return this.bounce.set(h,l),this},setBounceX:function(h){return this.bounce.x=h,this},setBounceY:function(h){return this.bounce.y=h,this},setAcceleration:function(h,l){return this.acceleration.set(h,l),this},setAccelerationX:function(h){return this.acceleration.x=h,this},setAccelerationY:function(h){return this.acceleration.y=h,this},setAllowDrag:function(h){return h===void 0&&(h=!0),this.allowDrag=h,this},setAllowGravity:function(h){return h===void 0&&(h=!0),this.allowGravity=h,this},setAllowRotation:function(h){return h===void 0&&(h=!0),this.allowRotation=h,this},setDrag:function(h,l){return this.drag.set(h,l),this},setDamping:function(h){return this.useDamping=h,this},setDragX:function(h){return this.drag.x=h,this},setDragY:function(h){return this.drag.y=h,this},setGravity:function(h,l){return this.gravity.set(h,l),this},setGravityX:function(h){return this.gravity.x=h,this},setGravityY:function(h){return this.gravity.y=h,this},setFriction:function(h,l){return this.friction.set(h,l),this},setFrictionX:function(h){return this.friction.x=h,this},setFrictionY:function(h){return this.friction.y=h,this},setAngularVelocity:function(h){return this.angularVelocity=h,this},setAngularAcceleration:function(h){return this.angularAcceleration=h,this},setAngularDrag:function(h){return this.angularDrag=h,this},setMass:function(h){return this.mass=h,this},setImmovable:function(h){return h===void 0&&(h=!0),this.immovable=h,this},setEnable:function(h){return h===void 0&&(h=!0),this.enable=h,this},processX:function(h,l,d,v){this.x+=h,this.updateCenter(),l!==null&&(this.velocity.x=l*this.slideFactor.x);var m=this.blocked;d&&(m.left=!0,m.none=!1),v&&(m.right=!0,m.none=!1)},processY:function(h,l,d,v){this.y+=h,this.updateCenter(),l!==null&&(this.velocity.y=l*this.slideFactor.y);var m=this.blocked;d&&(m.up=!0,m.none=!1),v&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=o},3909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u,i,o){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=u,this.processCallback=i,this.callbackContext=o},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=c},99523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(62832),c=t(25084),a=t(97602),r=t(56694),n=t(47401),e=t(10481),s=t(66634),u=t(46346),i=new r({initialize:function(h){this.world=h,this.scene=h.scene,this.sys=h.scene.sys},collider:function(o,h,l,d,v){return this.world.addCollider(o,h,l,d,v)},overlap:function(o,h,l,d,v){return this.world.addOverlap(o,h,l,d,v)},existing:function(o,h){var l=h?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(o,l),o},staticImage:function(o,h,l,d){var v=new f(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.world.enableBody(v,n.STATIC_BODY),v},image:function(o,h,l,d){var v=new f(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.world.enableBody(v,n.DYNAMIC_BODY),v},staticSprite:function(o,h,l,d){var v=new c(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,n.STATIC_BODY),v},sprite:function(o,h,l,d){var v=new c(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,n.DYNAMIC_BODY),v},staticGroup:function(o,h){return this.sys.updateList.add(new u(this.world,this.world.scene,o,h))},group:function(o,h){return this.sys.updateList.add(new e(this.world,this.world.scene,o,h))},body:function(o,h,l,d){var v=new a(this.world);return v.position.set(o,h),l&&d&&v.setSize(l,d),this.world.add(v,n.DYNAMIC_BODY),v},staticBody:function(o,h,l,d){var v=new s(this.world);return v.position.set(o,h),l&&d&&v.setSize(l,d),this.world.add(v,n.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=i},44880:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=0;if(!Array.isArray(t))f=t;else for(var c=0;c<t.length;c++)f|=t[c];return f};p.exports=S},75671:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47401),c=function(a,r,n,e){var s=0,u=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(s=a.right-r.x,s>u&&!n||a.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(s=a.x-r.width-r.x,-s>u&&!n||a.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=s,r.overlapX=s,s};p.exports=c},66185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47401),c=function(a,r,n,e){var s=0,u=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(s=a.bottom-r.y,s>u&&!n||a.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(s=a.y-r.bottom,-s>u&&!n||a.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=s,r.overlapY=s,s};p.exports=c},10481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25084),c=t(56694),a=t(95239),r=t(47401),n=t(72632),e=t(59192),s=t(42911),u=new c({Extends:e,Mixins:[a],initialize:function(o,h,l,d){if(!l&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(l))d=l,l=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(l)&&s(l[0])){var v=this;l.forEach(function(m){m.internalCreateCallback=v.createCallbackHandler,m.internalRemoveCallback=v.removeCallbackHandler,m.classType=n(m,"classType",f)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,d&&(d.classType=n(d,"classType",f)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:n(d,"collideWorldBounds",!1),setBoundsRectangle:n(d,"customBoundsRectangle",null),setAccelerationX:n(d,"accelerationX",0),setAccelerationY:n(d,"accelerationY",0),setAllowDrag:n(d,"allowDrag",!0),setAllowGravity:n(d,"allowGravity",!0),setAllowRotation:n(d,"allowRotation",!0),setDamping:n(d,"useDamping",!1),setBounceX:n(d,"bounceX",0),setBounceY:n(d,"bounceY",0),setDragX:n(d,"dragX",0),setDragY:n(d,"dragY",0),setEnable:n(d,"enable",!0),setGravityX:n(d,"gravityX",0),setGravityY:n(d,"gravityY",0),setFrictionX:n(d,"frictionX",0),setFrictionY:n(d,"frictionY",0),setMaxSpeed:n(d,"maxSpeed",-1),setMaxVelocityX:n(d,"maxVelocityX",1e4),setMaxVelocityY:n(d,"maxVelocityY",1e4),setVelocityX:n(d,"velocityX",0),setVelocityY:n(d,"velocityY",0),setAngularVelocity:n(d,"angularVelocity",0),setAngularAcceleration:n(d,"angularAcceleration",0),setAngularDrag:n(d,"angularDrag",0),setMass:n(d,"mass",1),setImmovable:n(d,"immovable",!1)},e.call(this,h,l,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var o=i.body;for(var h in this.defaults)o[h](this.defaults[h])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,o,h){h===void 0&&(h=0);for(var l=this.getChildren(),d=0;d<l.length;d++)l[d].body.velocity.set(i+d*h,o+d*h);return this},setVelocityX:function(i,o){o===void 0&&(o=0);for(var h=this.getChildren(),l=0;l<h.length;l++)h[l].body.velocity.x=i+l*o;return this},setVelocityY:function(i,o){o===void 0&&(o=0);for(var h=this.getChildren(),l=0;l<h.length;l++)h[l].body.velocity.y=i+l*o;return this}});p.exports=u},22916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,f,c,a,r,n,e,s,u,i,o,h,l,d,v,m,x=function(A,P,F){S=A,t=P;var O=S.velocity.x,I=t.velocity.x;return f=S.pushable,s=S._dx<0,u=S._dx>0,i=S._dx===0,d=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),n=I-O*S.bounce.x,c=t.pushable,o=t._dx<0,h=t._dx>0,l=t._dx===0,v=!d,e=O-I*t.bounce.x,m=Math.abs(F),g()},g=function(){return u&&d&&t.blocked.right?(S.processX(-m,n,!1,!0),1):s&&v&&t.blocked.left?(S.processX(m,n,!0),1):h&&v&&S.blocked.right?(t.processX(-m,e,!1,!0),2):o&&d&&S.blocked.left?(t.processX(m,e,!0),2):0},y=function(){var A=S.velocity.x,P=t.velocity.x,F=Math.sqrt(P*P*t.mass/S.mass)*(P>0?1:-1),O=Math.sqrt(A*A*S.mass/t.mass)*(A>0?1:-1),I=(F+O)*.5;return F-=I,O-=I,a=I+F*S.bounce.x,r=I+O*t.bounce.x,s&&v?T(0):o&&d?T(1):u&&d?T(2):h&&v?T(3):!1},T=function(A){if(f&&c)m*=.5,A===0||A===3?(S.processX(m,a),t.processX(-m,r)):(S.processX(-m,a),t.processX(m,r));else if(f&&!c)A===0||A===3?S.processX(m,n,!0):S.processX(-m,n,!1,!0);else if(!f&&c)A===0||A===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var P=m*.5;A===0?l?(S.processX(m,0,!0),t.processX(0,null,!1,!0)):h?(S.processX(P,0,!0),t.processX(-P,0,!1,!0)):(S.processX(P,t.velocity.x,!0),t.processX(-P,null,!1,!0)):A===1?i?(S.processX(0,null,!1,!0),t.processX(m,0,!0)):u?(S.processX(-P,0,!1,!0),t.processX(P,0,!0)):(S.processX(-P,null,!1,!0),t.processX(P,S.velocity.x,!0)):A===2?l?(S.processX(-m,0,!1,!0),t.processX(0,null,!0)):o?(S.processX(-P,0,!1,!0),t.processX(P,0,!0)):(S.processX(-P,t.velocity.x,!1,!0),t.processX(P,null,!0)):A===3&&(i?(S.processX(0,null,!0),t.processX(-m,0,!1,!0)):s?(S.processX(P,0,!0),t.processX(-P,0,!1,!0)):(S.processX(P,t.velocity.y,!0),t.processX(-P,null,!1,!0)))}return!0},E=function(A){A===1?t.velocity.x=0:d?t.processX(m,e,!0):t.processX(-m,e,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},C=function(A){A===2?S.velocity.x=0:v?S.processX(m,n,!0):S.processX(-m,n,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};p.exports={BlockCheck:g,Check:y,Set:x,Run:T,RunImmovableBody1:E,RunImmovableBody2:C}},67050:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,f,c,a,r,n,e,s,u,i,o,h,l,d,v,m,x=function(A,P,F){S=A,t=P;var O=S.velocity.y,I=t.velocity.y;return f=S.pushable,s=S._dy<0,u=S._dy>0,i=S._dy===0,d=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),n=I-O*S.bounce.y,c=t.pushable,o=t._dy<0,h=t._dy>0,l=t._dy===0,v=!d,e=O-I*t.bounce.y,m=Math.abs(F),g()},g=function(){return u&&d&&t.blocked.down?(S.processY(-m,n,!1,!0),1):s&&v&&t.blocked.up?(S.processY(m,n,!0),1):h&&v&&S.blocked.down?(t.processY(-m,e,!1,!0),2):o&&d&&S.blocked.up?(t.processY(m,e,!0),2):0},y=function(){var A=S.velocity.y,P=t.velocity.y,F=Math.sqrt(P*P*t.mass/S.mass)*(P>0?1:-1),O=Math.sqrt(A*A*S.mass/t.mass)*(A>0?1:-1),I=(F+O)*.5;return F-=I,O-=I,a=I+F*S.bounce.y,r=I+O*t.bounce.y,s&&v?T(0):o&&d?T(1):u&&d?T(2):h&&v?T(3):!1},T=function(A){if(f&&c)m*=.5,A===0||A===3?(S.processY(m,a),t.processY(-m,r)):(S.processY(-m,a),t.processY(m,r));else if(f&&!c)A===0||A===3?S.processY(m,n,!0):S.processY(-m,n,!1,!0);else if(!f&&c)A===0||A===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var P=m*.5;A===0?l?(S.processY(m,0,!0),t.processY(0,null,!1,!0)):h?(S.processY(P,0,!0),t.processY(-P,0,!1,!0)):(S.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)):A===1?i?(S.processY(0,null,!1,!0),t.processY(m,0,!0)):u?(S.processY(-P,0,!1,!0),t.processY(P,0,!0)):(S.processY(-P,null,!1,!0),t.processY(P,S.velocity.y,!0)):A===2?l?(S.processY(-m,0,!1,!0),t.processY(0,null,!0)):o?(S.processY(-P,0,!1,!0),t.processY(P,0,!0)):(S.processY(-P,t.velocity.y,!1,!0),t.processY(P,null,!0)):A===3&&(i?(S.processY(0,null,!0),t.processY(-m,0,!1,!0)):s?(S.processY(P,0,!0),t.processY(-P,0,!1,!0)):(S.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)))}return!0},E=function(A){A===1?t.velocity.y=0:d?t.processY(m,e,!0):t.processY(-m,e,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},C=function(A){A===2?S.velocity.y=0:v?S.processY(m,n,!0):S.processY(-m,n,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};p.exports={BlockCheck:g,Check:y,Set:x,Run:T,RunImmovableBody1:E,RunImmovableBody2:C}},61777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75671),c=t(22916),a=function(r,n,e,s,u){u===void 0&&(u=f(r,n,e,s));var i=r.immovable,o=n.immovable;if(e||u===0||i&&o||r.customSeparateX||n.customSeparateX)return u!==0||r.embedded&&n.embedded;var h=c.Set(r,n,u);return!i&&!o?h>0?!0:c.Check():(i?c.RunImmovableBody1(h):o&&c.RunImmovableBody2(h),!0)};p.exports=a},25299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66185),c=t(67050),a=function(r,n,e,s,u){u===void 0&&(u=f(r,n,e,s));var i=r.immovable,o=n.immovable;if(e||u===0||i&&o||r.customSeparateY||n.customSeparateY)return u!==0||r.embedded&&n.embedded;var h=c.Set(r,n,u);return!i&&!o?h>0?!0:c.Check():(i?c.RunImmovableBody1(h):o&&c.RunImmovableBody2(h),!0)};p.exports=a},15084:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f={}),f.none=t,f.up=!1,f.down=!1,f.left=!1,f.right=!1,t||(f.up=!0,f.down=!0,f.left=!0,f.right=!0),f};p.exports=S},66634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=t(56694),a=t(95239),r=t(47401),n=t(94287),e=t(15084),s=t(93736),u=new c({Mixins:[a],initialize:function(o,h){var l=64,d=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=h!==void 0;m&&h.displayWidth&&(l=h.displayWidth,d=h.displayHeight),m||(h=v),this.world=o,this.gameObject=m?h:void 0,this.isBody=!0,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(h.x-l*h.originX,h.y-d*h.originY),this.width=l,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,o){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),o&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,o){return o===void 0&&(o=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,o),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,o,h){h===void 0&&(h=!0);var l=this.gameObject;if(l&&l.frame&&(i||(i=l.frame.realWidth),o||(o=l.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=o,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(o/2),h&&l&&l.getCenter){var d=l.displayWidth/2,v=l.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,o,h){return o===void 0&&(o=this.offset.x),h===void 0&&(h=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,h),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,o){var h=this.gameObject;i===void 0&&(i=h.x),o===void 0&&(o=h.y),this.world.staticTree.remove(this),h.setPosition(i,o),h.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,o){return this.isCircle?f(this,i,o):n(this,i,o)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var o=this.position,h=o.x+this.halfWidth,l=o.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(h,l,this.width/2):i.strokeRect(o.x,o.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=u},46346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25084),c=t(56694),a=t(95239),r=t(47401),n=t(72632),e=t(59192),s=t(42911),u=new c({Extends:e,Mixins:[a],initialize:function(o,h,l,d){!l&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:f}:s(l)?(d=l,l=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=n(d,"classType",f)):Array.isArray(l)&&s(l[0])?(d=l,l=null,d.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=n(v,"classType",f)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,h,l,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,o=0;o<i.length;o++)i[o].body.reset();return this}});p.exports=u},85233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(94240),c=t(97602),a=t(82897),r=t(56694),n=t(3909),e=t(47401),s=t(53996),u=t(92951),i=t(6659),o=t(27037),h=t(88456),l=t(41935),d=t(54726),v=t(75671),m=t(66185),x=t(44662),g=t(10850),y=t(83392),T=t(74623),E=t(25163),C=t(74118),A=t(68687),P=t(27354),F=t(61777),O=t(25299),I=t(58403),G=t(66634),z=t(28808),X=t(69360),H=t(93736),N=t(1071),U=new r({Extends:i,initialize:function(D,B){i.call(this),this.scene=D,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new T,this.gravity=new H(g(B,"gravity.x",0),g(B,"gravity.y",0)),this.bounds=new C(g(B,"x",0),g(B,"y",0),g(B,"width",D.sys.scale.width),g(B,"height",D.sys.scale.height)),this.checkCollision={up:g(B,"checkCollision.up",!0),down:g(B,"checkCollision.down",!0),left:g(B,"checkCollision.left",!0),right:g(B,"checkCollision.right",!0)},this.fps=g(B,"fps",60),this.fixedStep=g(B,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(B,"timeScale",1),this.OVERLAP_BIAS=g(B,"overlapBias",4),this.TILE_BIAS=g(B,"tileBias",16),this.forceX=g(B,"forceX",!1),this.isPaused=g(B,"isPaused",!1),this._total=0,this.drawDebug=g(B,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(B,"debugShowBody",!0),debugShowStaticBody:g(B,"debugShowStaticBody",!0),debugShowVelocity:g(B,"debugShowVelocity",!0),bodyDebugColor:g(B,"debugBodyColor",16711935),staticBodyDebugColor:g(B,"debugStaticBodyColor",255),velocityDebugColor:g(B,"debugVelocityColor",65280)},this.maxEntries=g(B,"maxEntries",16),this.useTree=g(B,"useTree",!0),this.tree=new A(this.maxEntries),this.staticTree=new A(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new X,this._tempMatrix2=new X,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(R,D){D===void 0&&(D=e.DYNAMIC_BODY),Array.isArray(R)||(R=[R]);for(var B=0;B<R.length;B++){var V=R[B];if(V.isParent)for(var Y=V.getChildren(),K=0;K<Y.length;K++){var $=Y[K];$.isParent?this.enable($,D):this.enableBody($,D)}else this.enableBody(V,D)}},enableBody:function(R,D){return D===void 0&&(D=e.DYNAMIC_BODY),R.hasTransformComponent&&(R.body||(D===e.DYNAMIC_BODY?R.body=new c(this,R):D===e.STATIC_BODY&&(R.body=new G(this,R))),this.add(R.body)),R},add:function(R){return R.physicsType===e.DYNAMIC_BODY?this.bodies.set(R):R.physicsType===e.STATIC_BODY&&(this.staticBodies.set(R),this.staticTree.insert(R)),R.enable=!0,R},disable:function(R){Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var B=R[D];if(B.isParent)for(var V=B.getChildren(),Y=0;Y<V.length;Y++){var K=V[Y];K.isParent?this.disable(K):this.disableBody(K.body)}else this.disableBody(B.body)}},disableBody:function(R){this.remove(R),R.enable=!1},remove:function(R){R.physicsType===e.DYNAMIC_BODY?(this.tree.remove(R),this.bodies.delete(R)):R.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(R),this.staticTree.remove(R))},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},setBounds:function(R,D,B,V,Y,K,$,J){return this.bounds.setTo(R,D,B,V),Y!==void 0&&this.setBoundsCollision(Y,K,$,J),this},setBoundsCollision:function(R,D,B,V){return R===void 0&&(R=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),V===void 0&&(V=!0),this.checkCollision.left=R,this.checkCollision.right=D,this.checkCollision.up=B,this.checkCollision.down=V,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(R,D,B,V,Y){B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B);var K=new n(this,!1,R,D,B,V,Y);return this.colliders.add(K),K},addOverlap:function(R,D,B,V,Y){B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B);var K=new n(this,!0,R,D,B,V,Y);return this.colliders.add(K),K},removeCollider:function(R){return this.colliders.remove(R),this},setFPS:function(R){return this.fps=R,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(R,D){if(!(this.isPaused||this.bodies.size===0)){var B,V=this._frameTime,Y=this._frameTimeMS*this.timeScale;this._elapsed+=D;var K,$=this.bodies.entries,J=this._elapsed>=Y;for(this.fixedStep||(V=D*.001,J=!0,this._elapsed=0),B=0;B<$.length;B++)K=$[B],K.enable&&K.preUpdate(J,V);if(J){this._elapsed-=Y,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load($));var Q=this.colliders.update();for(B=0;B<Q.length;B++){var k=Q[B];k.active&&k.update()}this.emit(o.WORLD_STEP,V)}for(;this._elapsed>=Y;)this._elapsed-=Y,this.step(V)}},step:function(R){var D,B,V=this.bodies.entries,Y=V.length;for(D=0;D<Y;D++)B=V[D],B.enable&&B.update(R);this.useTree&&(this.tree.clear(),this.tree.load(V));var K=this.colliders.update();for(D=0;D<K.length;D++){var $=K[D];$.active&&$.update()}this.emit(o.WORLD_STEP,R),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var R,D,B=this.bodies.entries,V=B.length,Y=this.bodies,K=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,R=0;R<V;R++)D=B[R],D.enable&&D.postUpdate();if(this.drawDebug){var $=this.debugGraphic;for($.clear(),R=0;R<V;R++)D=B[R],D.willDrawDebug()&&D.drawDebug($);for(B=K.entries,V=B.length,R=0;R<V;R++)D=B[R],D.willDrawDebug()&&D.drawDebug($)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,k=this.staticTree;for(B=J.entries,V=B.length,R=0;R<V;R++)D=B[R],D.physicsType===e.DYNAMIC_BODY?(Q.remove(D),Y.delete(D)):D.physicsType===e.STATIC_BODY&&(k.remove(D),K.delete(D)),D.world=void 0,D.gameObject=void 0;J.clear()}},updateMotion:function(R,D){R.allowRotation&&this.computeAngularVelocity(R,D),this.computeVelocity(R,D)},computeAngularVelocity:function(R,D){var B=R.angularVelocity,V=R.angularAcceleration,Y=R.angularDrag,K=R.maxAngular;V?B+=V*D:R.allowDrag&&Y&&(Y*=D,l(B-Y,0,.1)?B-=Y:d(B+Y,0,.1)?B+=Y:B=0),B=a(B,-K,K);var $=B-R.angularVelocity;R.angularVelocity+=$,R.rotation+=R.angularVelocity*D},computeVelocity:function(R,D){var B=R.velocity.x,V=R.acceleration.x,Y=R.drag.x,K=R.maxVelocity.x,$=R.velocity.y,J=R.acceleration.y,Q=R.drag.y,k=R.maxVelocity.y,q=R.speed,tt=R.maxSpeed,_=R.allowDrag,it=R.useDamping;R.allowGravity&&(B+=(this.gravity.x+R.gravity.x)*D,$+=(this.gravity.y+R.gravity.y)*D),V?B+=V*D:_&&Y&&(it?(Y=Math.pow(Y,D),B*=Y,q=Math.sqrt(B*B+$*$),h(q,0,.001)&&(B=0)):(Y*=D,l(B-Y,0,.01)?B-=Y:d(B+Y,0,.01)?B+=Y:B=0)),J?$+=J*D:_&&Q&&(it?(Q=Math.pow(Q,D),$*=Q,q=Math.sqrt(B*B+$*$),h(q,0,.001)&&($=0)):(Q*=D,l($-Q,0,.01)?$-=Q:d($+Q,0,.01)?$+=Q:$=0)),B=a(B,-K,K),$=a($,-k,k),R.velocity.set(B,$),tt>-1&&R.velocity.length()>tt&&(R.velocity.normalize().scale(tt),q=tt),R.speed=q},separate:function(R,D,B,V,Y){var K,$,J=!1,Q=!0;if(!R.enable||!D.enable||R.checkCollision.none||D.checkCollision.none||!this.intersects(R,D)||B&&B.call(V,R.gameObject,D.gameObject)===!1)return J;if(R.isCircle||D.isCircle){var k=this.separateCircle(R,D,Y);k.result?(J=!0,Q=!1):(K=k.x,$=k.y,Q=!0)}if(Q){var q=!1,tt=!1,_=this.OVERLAP_BIAS;Y?(q=F(R,D,Y,_,K),tt=O(R,D,Y,_,$)):this.forceX||Math.abs(this.gravity.y+R.gravity.y)<Math.abs(this.gravity.x+R.gravity.x)?(q=F(R,D,Y,_,K),this.intersects(R,D)&&(tt=O(R,D,Y,_,$))):(tt=O(R,D,Y,_,$),this.intersects(R,D)&&(q=F(R,D,Y,_,K))),J=q||tt}return J&&(Y?(R.onOverlap||D.onOverlap)&&this.emit(o.OVERLAP,R.gameObject,D.gameObject,R,D):(R.onCollide||D.onCollide)&&this.emit(o.COLLIDE,R.gameObject,D.gameObject,R,D)),J},separateCircle:function(R,D,B){v(R,D,!1,0),m(R,D,!1,0);var V=R.isCircle,Y=D.isCircle,K=R.center,$=D.center,J=R.immovable,Q=D.immovable,k=R.velocity,q=D.velocity,tt=0,_=!0;if(V!==Y){_=!1;var it=K.x,st=K.y,ht=R.halfWidth,ut=D.position.x,et=D.position.y,rt=D.right,nt=D.bottom;Y&&(it=$.x,st=$.y,ht=D.halfWidth,ut=R.position.x,et=R.position.y,rt=R.right,nt=R.bottom),st<et?it<ut?tt=s(it,st,ut,et)-ht:it>rt&&(tt=s(it,st,rt,et)-ht):st>nt&&(it<ut?tt=s(it,st,ut,nt)-ht:it>rt&&(tt=s(it,st,rt,nt)-ht)),tt*=-1}else tt=R.halfWidth+D.halfWidth-u(K,$);R.overlapR=tt,D.overlapR=tt;var pt=f(K,$),gt=(tt+y.EPSILON)*Math.cos(pt),Tt=(tt+y.EPSILON)*Math.sin(pt),lt={overlap:tt,result:!1,x:gt,y:Tt};if(B&&(!_||_&&tt!==0))return lt.result=!0,lt;if(!_&&tt===0||J&&Q||R.customSeparateX||D.customSeparateX)return lt.x=void 0,lt.y=void 0,lt;var ot=!R.pushable&&!D.pushable;if(_){var at=K.x-$.x,dt=K.y-$.y,ft=Math.sqrt(Math.pow(at,2)+Math.pow(dt,2)),ct=($.x-K.x)/ft||0,mt=($.y-K.y)/ft||0,Et=2*(k.x*ct+k.y*mt-q.x*ct-q.y*mt)/(R.mass+D.mass);(J||Q)&&(Et*=2),J||(k.x=k.x-Et/R.mass*ct,k.y=k.y-Et/R.mass*mt,k.multiply(R.bounce)),Q||(q.x=q.x+Et/D.mass*ct,q.y=q.y+Et/D.mass*mt,q.multiply(D.bounce)),!J&&!Q&&(gt*=.5,Tt*=.5),J||(R.x-=gt,R.y-=Tt,R.updateCenter()),Q||(D.x+=gt,D.y+=Tt,D.updateCenter()),lt.result=!0}else!J||R.pushable||ot?(R.x-=gt,R.y-=Tt,R.updateCenter()):(!Q||D.pushable||ot)&&(D.x+=gt,D.y+=Tt,D.updateCenter()),lt.x=void 0,lt.y=void 0;return lt},intersects:function(R,D){return R===D?!1:!R.isCircle&&!D.isCircle?!(R.right<=D.left||R.bottom<=D.top||R.left>=D.right||R.top>=D.bottom):R.isCircle?D.isCircle?u(R.center,D.center)<=R.halfWidth+D.halfWidth:this.circleBodyIntersects(R,D):this.circleBodyIntersects(D,R)},circleBodyIntersects:function(R,D){var B=a(R.center.x,D.left,D.right),V=a(R.center.y,D.top,D.bottom),Y=(R.center.x-B)*(R.center.x-B),K=(R.center.y-V)*(R.center.y-V);return Y+K<=R.halfWidth*R.halfWidth},overlap:function(R,D,B,V,Y){return B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B),this.collideObjects(R,D,B,V,Y,!0)},collide:function(R,D,B,V,Y){return B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B),this.collideObjects(R,D,B,V,Y,!1)},collideObjects:function(R,D,B,V,Y,K){var $,J;R.isParent&&(R.physicsType===void 0||D===void 0||R===D)&&(R=R.children.entries),D&&D.isParent&&D.physicsType===void 0&&(D=D.children.entries);var Q=Array.isArray(R),k=Array.isArray(D);if(this._total=0,!Q&&!k)this.collideHandler(R,D,B,V,Y,K);else if(!Q&&k)for($=0;$<D.length;$++)this.collideHandler(R,D[$],B,V,Y,K);else if(Q&&!k)if(D)for($=0;$<R.length;$++)this.collideHandler(R[$],D,B,V,Y,K);else for($=0;$<R.length;$++){var q=R[$];for(J=$+1;J<R.length;J++)$!==J&&this.collideHandler(q,R[J],B,V,Y,K)}else for($=0;$<R.length;$++)for(J=0;J<D.length;J++)this.collideHandler(R[$],D[J],B,V,Y,K);return this._total>0},collideHandler:function(R,D,B,V,Y,K){if(D===void 0&&R.isParent)return this.collideGroupVsGroup(R,R,B,V,Y,K);if(!R||!D)return!1;if(R.body||R.isBody){if(D.body||D.isBody)return this.collideSpriteVsSprite(R,D,B,V,Y,K);if(D.isParent)return this.collideSpriteVsGroup(R,D,B,V,Y,K);if(D.isTilemap)return this.collideSpriteVsTilemapLayer(R,D,B,V,Y,K)}else if(R.isParent){if(D.body||D.isBody)return this.collideSpriteVsGroup(D,R,B,V,Y,K);if(D.isParent)return this.collideGroupVsGroup(R,D,B,V,Y,K);if(D.isTilemap)return this.collideGroupVsTilemapLayer(R,D,B,V,Y,K)}else if(R.isTilemap){if(D.body||D.isBody)return this.collideSpriteVsTilemapLayer(D,R,B,V,Y,K);if(D.isParent)return this.collideGroupVsTilemapLayer(D,R,B,V,Y,K)}},canCollide:function(R,D){return R&&D&&(R.collisionMask&D.collisionCategory)!==0&&(D.collisionMask&R.collisionCategory)!==0},collideSpriteVsSprite:function(R,D,B,V,Y,K){var $=R.isBody?R:R.body,J=D.isBody?D:D.body;return this.canCollide($,J)?(this.separate($,J,V,Y,K)&&(B&&B.call(Y,R,D),this._total++),!0):!1},collideSpriteVsGroup:function(R,D,B,V,Y,K){var $=R.isBody?R:R.body;if(!(D.length===0||!$||!$.enable||$.checkCollision.none||!this.canCollide($,D))){var J,Q,k;if(this.useTree||D.physicsType===e.STATIC_BODY){var q=this.treeMinMax;q.minX=$.left,q.minY=$.top,q.maxX=$.right,q.maxY=$.bottom;var tt=D.physicsType===e.DYNAMIC_BODY?this.tree.search(q):this.staticTree.search(q);for(Q=tt.length,J=0;J<Q;J++)k=tt[J],!($===k||!k.enable||k.checkCollision.none||!D.contains(k.gameObject))&&this.separate($,k,V,Y,K)&&(B&&B.call(Y,$.gameObject,k.gameObject),this._total++)}else{var _=D.getChildren(),it=D.children.entries.indexOf(R);for(Q=_.length,J=0;J<Q;J++)k=_[J].body,!(!k||J===it||!k.enable)&&this.separate($,k,V,Y,K)&&(B&&B.call(Y,$.gameObject,k.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(R,D,B,V,Y,K){if(!this.canCollide(R,D))return!1;var $=R.getChildren();if($.length===0)return!1;for(var J=!1,Q=0;Q<$.length;Q++)($[Q].body||$[Q].isBody)&&this.collideSpriteVsTilemapLayer($[Q],D,B,V,Y,K)&&(J=!0);return J},collideTiles:function(R,D,B,V,Y){return D.length===0||R.body&&!R.body.enable||R.isBody&&!R.enable?!1:this.collideSpriteVsTilesHandler(R,D,B,V,Y,!1,!1)},overlapTiles:function(R,D,B,V,Y){return D.length===0||R.body&&!R.body.enable||R.isBody&&!R.enable?!1:this.collideSpriteVsTilesHandler(R,D,B,V,Y,!0,!1)},collideSpriteVsTilemapLayer:function(R,D,B,V,Y,K){var $=R.isBody?R:R.body;if(!$.enable||$.checkCollision.none||!this.canCollide($,D))return!1;var J=$.x,Q=$.y,k=$.width,q=$.height,tt=D.layer;if(tt.tileWidth>tt.baseTileWidth){var _=(tt.tileWidth-tt.baseTileWidth)*D.scaleX;J-=_,k+=_}if(tt.tileHeight>tt.baseTileHeight){var it=(tt.tileHeight-tt.baseTileHeight)*D.scaleY;q+=it}var st=K?null:this.tileFilterOptions,ht=x(J,Q,k,q,st,D.scene.cameras.main,D.layer);return ht.length===0?!1:this.collideSpriteVsTilesHandler(R,ht,B,V,Y,K,!0)},collideSpriteVsTilesHandler:function(R,D,B,V,Y,K,$){for(var J=R.isBody?R:R.body,Q,k={left:0,right:0,top:0,bottom:0},q,tt=!1,_=0;_<D.length;_++){Q=D[_],q=Q.tilemapLayer;var it=q.tileToWorldXY(Q.x,Q.y);k.left=it.x,k.top=it.y,Q.baseHeight!==Q.height&&(k.top-=(Q.height-Q.baseHeight)*q.scaleY),k.right=k.left+Q.width*q.scaleX,k.bottom=k.top+Q.height*q.scaleY,z(k,J)&&(!V||V.call(Y,R,Q))&&E(Q,R)&&(K||P(_,J,Q,k,q,this.TILE_BIAS,$))&&(this._total++,tt=!0,B&&B.call(Y,R,Q),K&&J.onOverlap?this.emit(o.TILE_OVERLAP,R,Q,J):J.onCollide&&this.emit(o.TILE_COLLIDE,R,Q,J))}return tt},collideGroupVsGroup:function(R,D,B,V,Y,K){if(!(R.length===0||D.length===0||!this.canCollide(R,D)))for(var $=R.getChildren(),J=0;J<$.length;J++)this.collideSpriteVsGroup($[J],D,B,V,Y,K)},wrap:function(R,D){R.body?this.wrapObject(R,D):R.getChildren?this.wrapArray(R.getChildren(),D):Array.isArray(R)?this.wrapArray(R,D):this.wrapObject(R,D)},wrapArray:function(R,D){for(var B=0;B<R.length;B++)this.wrapObject(R[B],D)},wrapObject:function(R,D){D===void 0&&(D=0),R.x=N(R.x,this.bounds.left-D,this.bounds.right+D),R.y=N(R.y,this.bounds.top-D,this.bounds.bottom+D)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=U},5321:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,f){return this.body.acceleration.set(t,f),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},29257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62122:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,f){return this.body.bounce.set(t,f),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,f,c,a){return this.body.setCollideWorldBounds(t,f,c,a),this}};p.exports=S},95239:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44880),c={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=f(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=1,this}};p.exports=c},99803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,f,c){return this.debugShowBody=t,this.debugShowVelocity=f,this.debugBodyColor=c,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},87145:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,f){return this.body.drag.set(t,f),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},96174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,f,c,a,r){return t&&this.body.reset(f,c),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,f){return t===void 0&&(t=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},51702:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,f){return this.body.friction.set(t,f),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},25578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,f){return this.body.gravity.set(t,f),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},72029:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},34566:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},2732:(p,S,t)=>{var f=t(15147),c=t(26673),a=t(22184),r=t(26535),n=function(e,s,u,i,o,h){var l=f(e,s-i,u-i,2*i,2*i,o,h);if(l.length===0)return l;for(var d=new c(s,u,i),v=new c,m=[],x=0;x<l.length;x++){var g=l[x];g.isCircle?(v.setTo(g.center.x,g.center.y,g.halfWidth),a(d,v)&&m.push(g)):r(d,g)&&m.push(g)}return m};p.exports=n},15147:p=>{var S=function(t,f,c,a,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],u=[],i=t.treeMinMax;if(i.minX=f,i.minY=c,i.maxX=f+a,i.maxY=c+r,e&&(u=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var o=t.bodies,h={position:{x:f,y:c},left:f,top:c,right:f+a,bottom:c+r,isCircle:!1},l=t.intersects;o.iterate(function(d){l(d,h)&&s.push(d)})}return u.concat(s)};p.exports=S},57527:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},77687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,f){return this.body.setOffset(t,f),this},setSize:function(t,f,c){return this.body.setSize(t,f,c),this},setBodySize:function(t,f,c){return this.body.setSize(t,f,c),this},setCircle:function(t,f,c){return this.body.setCircle(t,f,c),this}};p.exports=S},66536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,f){return this.body.setVelocity(t,f),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,f){return this.body.maxVelocity.set(t,f),this}};p.exports=S},7864:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Collision:t(95239),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},22346:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},95092:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},15775:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},74142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22825:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},10851:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},7543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},1487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},27037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47401),c=t(98611),a={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetCollidesWith:t(44880),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};a=c(!1,a,f),p.exports=a},25163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,f,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,f,t):!0};p.exports=S},98209:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f<0?(t.blocked.none=!1,t.blocked.left=!0):f>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=f,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},72792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f<0?(t.blocked.none=!1,t.blocked.up=!0):f>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=f,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},27354:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14405),c=t(52926),a=t(28808),r=function(n,e,s,u,i,o,h){var l=u.left,d=u.top,v=u.right,m=u.bottom,x=s.faceLeft||s.faceRight,g=s.faceTop||s.faceBottom;if(h||(x=!0,g=!0),!x&&!g)return!1;var y=0,T=0,E=0,C=1;if(e.deltaAbsX()>e.deltaAbsY()?E=-1:e.deltaAbsX()<e.deltaAbsY()&&(C=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&g&&(E=Math.min(Math.abs(e.position.x-v),Math.abs(e.right-l)),C=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-d))),E<C){if(x&&(y=f(e,s,l,v,o,h),y!==0&&!a(u,e)))return!0;g&&(T=c(e,s,d,m,o,h))}else{if(g&&(T=c(e,s,d,m,o,h),T!==0&&!a(u,e)))return!0;x&&(y=f(e,s,l,v,o,h))}return y!==0||T!==0};p.exports=r},14405:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98209),c=function(a,r,n,e,s,u){var i=0,o=r.faceLeft,h=r.faceRight,l=r.collideLeft,d=r.collideRight;return u||(o=!0,h=!0,l=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?h&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&l&&a.checkCollision.right&&o&&a.right>n&&(i=a.right-n,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:f(a,i)),i};p.exports=c},52926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72792),c=function(a,r,n,e,s,u){var i=0,o=r.faceTop,h=r.faceBottom,l=r.collideUp,d=r.collideDown;return u||(o=!0,h=!0,l=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?h&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&l&&a.checkCollision.down&&o&&a.bottom>n&&(i=a.bottom-n,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:f(a,i)),i};p.exports=c},28808:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return!(f.right<=t.left||f.bottom<=t.top||f.position.x>=t.right||f.position.y>=t.bottom)};p.exports=S},8413:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};p.exports=f},53954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(39977),Matter:t(45949)}},63568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(){this.boundsCenter=new c,this.centerDiff=new c},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,u=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,o=u*r.centerOfMass.y;return n.set(s/2,u/2),e.set(i-n.x,o-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+s.x+u.x,e+s.y+u.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+u.x,e+s.y+u.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n-(s.x-u.x),e+s.y+u.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+s.x+u.x,e+u.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new c(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n-(s.x-u.x),e+u.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+s.x+u.x,e-(s.y-u.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+u.x,e-(s.y-u.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n-(s.x-u.x),e-(s.y-u.y))}return!1}});p.exports=a},18171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16929);f.Body=t(84125),f.Composite=t(11299),f.World=t(72005),f.Collision=t(63454),f.Detector=t(13657),f.Pairs=t(91327),f.Pair=t(70584),f.Query=t(13390),f.Resolver=t(44272),f.Constraint=t(52838),f.Common=t(68758),f.Engine=t(45775),f.Events=t(39073),f.Sleeping=t(22806),f.Plugin=t(84474),f.Bodies=t(68516),f.Composites=t(56643),f.Axes=t(50658),f.Bounds=t(84091),f.Svg=t(92765),f.Vector=t(10438),f.Vertices=t(39745),f.World.add=f.Composite.add,f.World.remove=f.Composite.remove,f.World.addComposite=f.Composite.addComposite,f.World.addBody=f.Composite.addBody,f.World.addConstraint=f.Composite.addConstraint,f.World.clear=f.Composite.clear,p.exports=f},72653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(56694),a=t(56643),r=t(52838),n=t(92765),e=t(3860),s=t(7030),u=t(73658),i=t(84720),o=t(10998),h=t(72829),l=t(88596),d=t(39745),v=new c({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(m,x,g,y,T){var E=f.rectangle(m,x,g,y,T);return this.world.add(E),E},trapezoid:function(m,x,g,y,T,E){var C=f.trapezoid(m,x,g,y,T,E);return this.world.add(C),C},circle:function(m,x,g,y,T){var E=f.circle(m,x,g,y,T);return this.world.add(E),E},polygon:function(m,x,g,y,T){var E=f.polygon(m,x,g,y,T);return this.world.add(E),E},fromVertices:function(m,x,g,y,T,E,C){typeof g=="string"&&(g=d.fromPath(g));var A=f.fromVertices(m,x,g,y,T,E,C);return this.world.add(A),A},fromPhysicsEditor:function(m,x,g,y,T){T===void 0&&(T=!0);var E=o.parseBody(m,x,g,y);return T&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(m,x,g,y,T,E){y===void 0&&(y=1),T===void 0&&(T={}),E===void 0&&(E=!0);for(var C=g.getElementsByTagName("path"),A=[],P=0;P<C.length;P++){var F=n.pathToVertices(C[P],30);y!==1&&d.scale(F,y,y),A.push(F)}var O=f.fromVertices(m,x,A,T);return E&&this.world.add(O),O},fromJSON:function(m,x,g,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var E=h.parseBody(m,x,g,y);return E&&T&&this.world.add(E),E},imageStack:function(m,x,g,y,T,E,C,A,P){C===void 0&&(C=0),A===void 0&&(A=0),P===void 0&&(P={});var F=this.world,O=this.sys.displayList;P.addToWorld=!1;var I=a.stack(g,y,T,E,C,A,function(G,z){var X=new s(F,G,z,m,x,P);return O.add(X),X.body});return F.add(I),I},stack:function(m,x,g,y,T,E,C){var A=a.stack(m,x,g,y,T,E,C);return this.world.add(A),A},pyramid:function(m,x,g,y,T,E,C){var A=a.pyramid(m,x,g,y,T,E,C);return this.world.add(A),A},chain:function(m,x,g,y,T,E){return a.chain(m,x,g,y,T,E)},mesh:function(m,x,g,y,T){return a.mesh(m,x,g,y,T)},newtonsCradle:function(m,x,g,y,T){var E=a.newtonsCradle(m,x,g,y,T);return this.world.add(E),E},car:function(m,x,g,y,T){var E=a.car(m,x,g,y,T);return this.world.add(E),E},softBody:function(m,x,g,y,T,E,C,A,P,F){var O=a.softBody(m,x,g,y,T,E,C,A,P,F);return this.world.add(O),O},joint:function(m,x,g,y,T){return this.constraint(m,x,g,y,T)},spring:function(m,x,g,y,T){return this.constraint(m,x,g,y,T)},constraint:function(m,x,g,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=m.type==="body"?m:m.body,T.bodyB=x.type==="body"?x:x.body,isNaN(g)||(T.length=g),T.stiffness=y;var E=r.create(T);return this.world.add(E),E},worldConstraint:function(m,x,g,y){g===void 0&&(g=1),y===void 0&&(y={}),y.bodyB=m.type==="body"?m:m.body,isNaN(x)||(y.length=x),y.stiffness=g;var T=r.create(y);return this.world.add(T),T},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var x=new l(this.scene,this.world,m);return this.world.add(x.constraint),x},image:function(m,x,g,y,T){var E=new s(this.world,m,x,g,y,T);return this.sys.displayList.add(E),E},tileBody:function(m,x){return new i(this.world,m,x)},sprite:function(m,x,g,y,T){var E=new u(this.world,m,x,g,y,T);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(m,x,g){return e(this.world,m,x,g)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=v},3860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74527),c=t(72632),a=t(93736);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,u,i){u===void 0&&(u={}),i===void 0&&(i=!0);var o=s.x,h=s.y;s.body={temp:!0,position:{x:o,y:h}};var l=[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity];if(l.forEach(function(v){for(var m in v)r(v[m])?Object.defineProperty(s,m,{get:v[m].get,set:v[m].set}):Object.defineProperty(s,m,{value:v[m]})}),s.world=e,s._tempVec2=new a(o,h),u.hasOwnProperty("type")&&u.type==="body")s.setExistingBody(u,i);else{var d=c(u,"shape",null);d||(d="rectangle"),u.addToWorld=i,s.setBody(d,u)}return s};p.exports=n},7030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74527),a=t(89980),r=t(72632),n=t(1539),e=t(58210),s=t(93736),u=new f({Extends:n,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,e],initialize:function(o,h,l,d,v,m){a.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,v),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new s(h,l);var x=r(m,"shape",null);x?this.setBody(x,m):this.setRectangle(this.width,this.height,m),this.setPosition(h,l),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=u},50583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=t(50658),a=t(68516),r=t(84125),n=t(63568),e=t(84091),s=t(56694),u=t(63454),i=t(68758),o=t(11299),h=t(56643),l=t(52838),d=t(13657),v=t(53996),m=t(72653),x=t(72632),g=t(10850),y=t(1675),T=t(80391),E=t(16929),C=t(44097),A=t(30657),P=t(70584),F=t(91327),O=t(84474),I=t(91963),G=t(13390),z=t(44272),X=t(7599),H=t(92765),N=t(10438),U=t(39745),R=t(31468);i.setDecomp(t(81084));var D=new s({initialize:function(V){this.scene=V,this.systems=V.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=o,this.collision=u,this.detector=d,this.pair=P,this.pairs=F,this.query=G,this.resolver=z,this.constraint=l,this.bodies=a,this.composites=h,this.axes=c,this.bounds=e,this.svg=H,this.vector=N,this.vertices=U,this.verts=U,this._tempVec2=N.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),z._restingThresh=g(this.config,"restingThresh",4),z._restingThreshTangent=g(this.config,"restingThreshTangent",6),z._positionDampen=g(this.config,"positionDampen",.9),z._positionWarming=g(this.config,"positionWarming",.8),z._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),V.sys.events.once(X.BOOT,this.boot,this),V.sys.events.on(X.START,this.start,this)},boot:function(){this.world=new R(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new n,this.systems.events.once(X.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new R(this.scene,this.config),this.add=new m(this.world));var B=this.systems.events;B.on(X.UPDATE,this.world.update,this.world),B.on(X.POST_UPDATE,this.world.postUpdate,this.world),B.once(X.SHUTDOWN,this.shutdown,this)},getConfig:function(){var B=this.systems.game.config.physics,V=this.systems.settings.physics,Y=A(x(V,"matter",{}),x(B,"matter",{}));return Y},enableAttractorPlugin:function(){return O.register(y),O.use(E,y),this},enableWrapPlugin:function(){return O.register(C),O.use(E,C),this},enableCollisionEventsPlugin:function(){return O.register(T),O.use(E,T),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(B,V){this.world.step(B,V)},containsPoint:function(B,V,Y){B=this.getMatterBodies(B);var K=N.create(V,Y),$=G.point(B,K);return $.length>0},intersectPoint:function(B,V,Y){Y=this.getMatterBodies(Y);var K=N.create(B,V),$=[],J=G.point(Y,K);return J.forEach(function(Q){$.indexOf(Q)===-1&&$.push(Q)}),$},intersectRect:function(B,V,Y,K,$,J){$===void 0&&($=!1),J=this.getMatterBodies(J);var Q={min:{x:B,y:V},max:{x:B+Y,y:V+K}},k=[],q=G.region(J,Q,$);return q.forEach(function(tt){k.indexOf(tt)===-1&&k.push(tt)}),k},intersectRay:function(B,V,Y,K,$,J){$===void 0&&($=1),J=this.getMatterBodies(J);for(var Q=[],k=G.ray(J,N.create(B,V),N.create(Y,K),$),q=0;q<k.length;q++)Q.push(k[q].body);return Q},intersectBody:function(B,V){V=this.getMatterBodies(V);for(var Y=[],K=G.collides(B,V),$=0;$<K.length;$++){var J=K[$];J.bodyA===B?Y.push(J.bodyB):Y.push(J.bodyA)}return Y},overlap:function(B,V,Y,K,$){Y===void 0&&(Y=null),K===void 0&&(K=null),$===void 0&&($=Y),Array.isArray(B)||(B=[B]),B=this.getMatterBodies(B),V=this.getMatterBodies(V);for(var J=!1,Q=0;Q<B.length;Q++)for(var k=B[Q],q=G.collides(k,V),tt=0;tt<q.length;tt++){var _=q[tt],it=_.bodyA.id===k.id?_.bodyB:_.bodyA;if(!K||K.call($,k,it,_)){if(J=!0,Y)Y.call($,k,it,_);else if(!K)return!0}}return J},setCollisionCategory:function(B,V){return B=this.getMatterBodies(B),B.forEach(function(Y){Y.collisionFilter.category=V}),this},setCollisionGroup:function(B,V){return B=this.getMatterBodies(B),B.forEach(function(Y){Y.collisionFilter.group=V}),this},setCollidesWith:function(B,V){B=this.getMatterBodies(B);var Y=0;if(!Array.isArray(V))Y=V;else for(var K=0;K<V.length;K++)Y|=V[K];return B.forEach(function($){$.collisionFilter.mask=Y}),this},getMatterBodies:function(B){if(!B)return this.world.getAllBodies();Array.isArray(B)||(B=[B]);for(var V=[],Y=0;Y<B.length;Y++){var K=B[Y].hasOwnProperty("body")?B[Y].body:B[Y];V.push(K)}return V},setVelocity:function(B,V,Y){B=this.getMatterBodies(B);var K=this._tempVec2;return K.x=V,K.y=Y,B.forEach(function($){r.setVelocity($,K)}),this},setVelocityX:function(B,V){B=this.getMatterBodies(B);var Y=this._tempVec2;return Y.x=V,B.forEach(function(K){Y.y=K.velocity.y,r.setVelocity(K,Y)}),this},setVelocityY:function(B,V){B=this.getMatterBodies(B);var Y=this._tempVec2;return Y.y=V,B.forEach(function(K){Y.x=K.velocity.x,r.setVelocity(K,Y)}),this},setAngularVelocity:function(B,V){return B=this.getMatterBodies(B),B.forEach(function(Y){r.setAngularVelocity(Y,V)}),this},applyForce:function(B,V){B=this.getMatterBodies(B);var Y=this._tempVec2;return B.forEach(function(K){Y.x=K.position.x,Y.y=K.position.y,r.applyForce(K,Y,V)}),this},applyForceFromPosition:function(B,V,Y,K){B=this.getMatterBodies(B);var $=this._tempVec2;return B.forEach(function(J){K===void 0&&(K=J.angle),$.x=Y*Math.cos(K),$.y=Y*Math.sin(K),r.applyForce(J,V,$)}),this},applyForceFromAngle:function(B,V,Y){B=this.getMatterBodies(B);var K=this._tempVec2;return B.forEach(function($){Y===void 0&&(Y=$.angle),K.x=V*Math.cos(Y),K.y=V*Math.sin(Y),r.applyForce($,{x:$.position.x,y:$.position.y},K)}),this},getConstraintLength:function(B){var V=B.pointA.x,Y=B.pointA.y,K=B.pointB.x,$=B.pointB.y;return B.bodyA&&(V+=B.bodyA.position.x,Y+=B.bodyA.position.y),B.bodyB&&(K+=B.bodyB.position.x,$+=B.bodyB.position.y),v(V,Y,K,$)},alignBody:function(B,V,Y,K){B=B.hasOwnProperty("body")?B.body:B;var $;switch(K){case f.TOP_LEFT:case f.LEFT_TOP:$=this.bodyBounds.getTopLeft(B,V,Y);break;case f.TOP_CENTER:$=this.bodyBounds.getTopCenter(B,V,Y);break;case f.TOP_RIGHT:case f.RIGHT_TOP:$=this.bodyBounds.getTopRight(B,V,Y);break;case f.LEFT_CENTER:$=this.bodyBounds.getLeftCenter(B,V,Y);break;case f.CENTER:$=this.bodyBounds.getCenter(B,V,Y);break;case f.RIGHT_CENTER:$=this.bodyBounds.getRightCenter(B,V,Y);break;case f.LEFT_BOTTOM:case f.BOTTOM_LEFT:$=this.bodyBounds.getBottomLeft(B,V,Y);break;case f.BOTTOM_CENTER:$=this.bodyBounds.getBottomCenter(B,V,Y);break;case f.BOTTOM_RIGHT:case f.RIGHT_BOTTOM:$=this.bodyBounds.getBottomRight(B,V,Y);break}return $&&r.setPosition(B,$),this},shutdown:function(){var B=this.systems.events;this.world&&(B.off(X.UPDATE,this.world.update,this.world),B.off(X.POST_UPDATE,this.world.postUpdate,this.world)),B.off(X.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(X.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",D,"matterPhysics"),p.exports=D},73658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(74527),r=t(89980),n=t(72632),e=t(58210),s=t(13747),u=t(93736),i=new c({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(h,l,d,v,m,x){r.call(this,h.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new u(l,d);var g=n(x,"shape",null);g?this.setBody(g,x):this.setRectangle(this.width,this.height,x),this.setPosition(l,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=i},84720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(56694),r=t(74527),n=t(28699),e=t(6659),s=t(72632),u=t(19256),i=t(39745),o=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(l,d,v){e.call(this),this.tile=d,this.world=l,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var m=s(v,"body",null),x=s(v,"addToWorld",!0);if(m)this.setBody(m,x);else{var g=d.getCollisionGroup(),y=s(g,"objects",[]);y.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(d.flipX||d.flipY){var T={x:d.getCenterX(),y:d.getCenterY()},E=d.flipX?-1:1,C=d.flipY?-1:1;c.scale(m,E,C,T)}},setFromTileRectangle:function(h){h===void 0&&(h={}),u(h,"isStatic")||(h.isStatic=!0),u(h,"addToWorld")||(h.addToWorld=!0);var l=this.tile.getBounds(),d=l.x+l.width/2,v=l.y+l.height/2,m=f.rectangle(d,v,l.width,l.height,h);return this.setBody(m,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),u(h,"isStatic")||(h.isStatic=!0),u(h,"addToWorld")||(h.addToWorld=!0);for(var l=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),m=this.tile.getTop(),x=this.tile.getCollisionGroup(),g=s(x,"objects",[]),y=[],T=0;T<g.length;T++){var E=g[T],C=v+E.x*l,A=m+E.y*d,P=E.width*l,F=E.height*d,O=null;if(E.rectangle)O=f.rectangle(C+P/2,A+F/2,P,F,h);else if(E.ellipse)O=f.circle(C+P/2,A+F/2,P/2,h);else if(E.polygon||E.polyline){var I=E.polygon?E.polygon:E.polyline,G=I.map(function(N){return{x:N.x*l,y:N.y*d}}),z=i.create(G),X=i.centre(z);C+=X.x,A+=X.y,O=f.fromVertices(C,A,z,h)}O&&y.push(O)}if(y.length===1)this.setBody(y[0],h.addToWorld);else if(y.length>1){var H=n(h);H.parts=y,this.setBody(c.create(H),H.addToWorld)}return this},setBody:function(h,l){return l===void 0&&(l=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,l&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=o},10998:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(68758),r=t(72632),n=t(39745),e={parseBody:function(s,u,i,o){o===void 0&&(o={});for(var h=r(i,"fixtures",[]),l=[],d=0;d<h.length;d++)for(var v=this.parseFixture(h[d]),m=0;m<v.length;m++)l.push(v[m]);var x=a.clone(i,!0);a.extend(x,o,!0),delete x.fixtures,delete x.type;var g=c.create(x);return c.setParts(g,l),c.setPosition(g,{x:s,y:u}),g},parseFixture:function(s){var u=a.extend({},!1,s);delete u.circle,delete u.vertices;var i;if(s.circle){var o=r(s.circle,"x"),h=r(s.circle,"y"),l=r(s.circle,"radius");i=[f.circle(o,h,l,u)]}else s.vertices&&(i=this.parseVertices(s.vertices,u));return i},parseVertices:function(s,u){u===void 0&&(u={});for(var i=[],o=0;o<s.length;o++)n.clockwiseSort(s[o]),i.push(c.create(a.extend({position:n.centre(s[o]),vertices:s[o]},u)));return f.flagCoincidentParts(i)}};p.exports=e},72829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a={parseBody:function(r,n,e,s){s===void 0&&(s={});var u,i=e.vertices;if(i.length===1)s.vertices=i[0],u=c.create(s),f.flagCoincidentParts(u.parts);else{for(var o=[],h=0;h<i.length;h++){var l=c.create({vertices:i[h]});o.push(l)}f.flagCoincidentParts(o),s.parts=o,u=c.create(s)}return u.label=e.label,c.setPosition(u,{x:r,y:n}),u}};p.exports=a},88596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84091),c=t(56694),a=t(11299),r=t(52838),n=t(13657),e=t(35416),s=t(33963),u=t(30657),i=t(22806),o=t(93736),h=t(39745),l=new c({initialize:function(v,m,x){x===void 0&&(x={});var g={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=r.create(u(x,g)),this.world.on(e.BEFORE_UPDATE,this.update,this),v.sys.input.on(s.POINTER_DOWN,this.onDown,this),v.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var v=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,v);for(var x=a.allBodies(this.world.localWorld),g=0;g<x.length;g++){var y=x[g];if(!y.ignorePointer&&f.contains(y.bounds,v)&&n.canCollide(y.collisionFilter,m.collisionFilter)&&this.hitTestBody(y,v))return this.world.emit(e.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(d,v){for(var m=this.constraint,x=d.parts.length,g=x>1?1:0,y=g;y<x;y++){var T=d.parts[y];if(h.contains(T.vertices,v))return m.pointA=v,m.pointB={x:v.x-d.position.x,y:v.y-d.position.y},m.bodyB=d,m.angleB=d.angle,i.set(d,!1),this.part=T,this.body=d,!0}return!1},update:function(){var d=this.pointer,v=this.body;if(!this.active||!d){v&&this.stopDrag();return}if(!d.isDown&&v){this.stopDrag();return}else if(d.isDown){if(!v&&!this.getBody(d))return;v=this.body;var m=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,m),x.pointA.x=m.x,x.pointA.y=m.y,i.set(v,!1),this.world.emit(e.DRAG,v,this)}},stopDrag:function(){var d=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});p.exports=l},31468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(56694),r=t(68758),n=t(11299),e=t(45775),s=t(6659),u=t(35416),i=t(72632),o=t(10850),h=t(84125),l=t(39073),d=t(84720),v=t(72005),m=t(10438),x=new a({Extends:s,initialize:function(y,T){s.call(this),this.scene=y,this.engine=e.create(T),this.localWorld=this.engine.world;var E=o(T,"gravity",null);E?this.setGravity(E.x,E.y,E.scale):E===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(T,"enabled",!0),this.getDelta=o(T,"getDelta",this.update60Hz);var C=i(T,"runner",{}),A=i(C,"fps",!1),P=i(C,"fps",60),F=i(C,"delta",1e3/P),O=i(C,"deltaMin",1e3/P),I=i(C,"deltaMax",1e3/(P*.5));A||(P=1e3/F),this.runner={fps:P,deltaSampleSize:i(C,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:i(C,"isFixed",!1),delta:F,deltaMin:O,deltaMax:I},this.autoUpdate=o(T,"autoUpdate",!0);var G=o(T,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:i(G,"showAxes",!1),showAngleIndicator:i(G,"showAngleIndicator",!1),angleColor:i(G,"angleColor",15208787),showBroadphase:i(G,"showBroadphase",!1),broadphaseColor:i(G,"broadphaseColor",16757760),showBounds:i(G,"showBounds",!1),boundsColor:i(G,"boundsColor",16777215),showVelocity:i(G,"showVelocity",!1),velocityColor:i(G,"velocityColor",44783),showCollisions:i(G,"showCollisions",!1),collisionColor:i(G,"collisionColor",16094476),showSeparations:i(G,"showSeparations",!1),separationColor:i(G,"separationColor",16753920),showBody:i(G,"showBody",!0),showStaticBody:i(G,"showStaticBody",!0),showInternalEdges:i(G,"showInternalEdges",!1),renderFill:i(G,"renderFill",!1),renderLine:i(G,"renderLine",!0),fillColor:i(G,"fillColor",1075465),fillOpacity:i(G,"fillOpacity",1),lineColor:i(G,"lineColor",2678297),lineOpacity:i(G,"lineOpacity",1),lineThickness:i(G,"lineThickness",1),staticFillColor:i(G,"staticFillColor",857979),staticLineColor:i(G,"staticLineColor",1255396),showSleeping:i(G,"showSleeping",!1),staticBodySleepOpacity:i(G,"staticBodySleepOpacity",.7),sleepFillColor:i(G,"sleepFillColor",4605510),sleepLineColor:i(G,"sleepLineColor",10066585),showSensors:i(G,"showSensors",!0),sensorFillColor:i(G,"sensorFillColor",857979),sensorLineColor:i(G,"sensorLineColor",1255396),showPositions:i(G,"showPositions",!0),positionSize:i(G,"positionSize",4),positionColor:i(G,"positionColor",14697178),showJoint:i(G,"showJoint",!0),jointColor:i(G,"jointColor",14737474),jointLineOpacity:i(G,"jointLineOpacity",1),jointLineThickness:i(G,"jointLineThickness",2),pinSize:i(G,"pinSize",4),pinColor:i(G,"pinColor",4382944),springColor:i(G,"springColor",14697184),anchorColor:i(G,"anchorColor",15724527),anchorSize:i(G,"anchorSize",4),showConvexHulls:i(G,"showConvexHulls",!1),hullColor:i(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(T,"setBounds",!1)){var z=T.setBounds;if(typeof z=="boolean")this.setBounds();else{var X=i(z,"x",0),H=i(z,"y",0),N=i(z,"width",y.sys.scale.width),U=i(z,"height",y.sys.scale.height),R=i(z,"thickness",64),D=i(z,"left",!0),B=i(z,"right",!0),V=i(z,"top",!0),Y=i(z,"bottom",!0);this.setBounds(X,H,N,U,R,D,B,V,Y)}}},setCompositeRenderStyle:function(g){var y=g.bodies,T=g.constraints,E=g.composites,C,A,P;for(C=0;C<y.length;C++)A=y[C],P=A.render,this.setBodyRenderStyle(A,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity);for(C=0;C<T.length;C++)A=T[C],P=A.render,this.setConstraintRenderStyle(A,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize);for(C=0;C<E.length;C++)A=E[C],this.setCompositeRenderStyle(A);return this},setBodyRenderStyle:function(g,y,T,E,C,A){var P=g.render,F=this.debugConfig;return P?(y==null&&(y=g.isStatic?F.staticLineColor:F.lineColor),T==null&&(T=F.lineOpacity),E==null&&(E=F.lineThickness),C==null&&(C=g.isStatic?F.staticFillColor:F.fillColor),A==null&&(A=F.fillOpacity),y!==!1&&(P.lineColor=y),T!==!1&&(P.lineOpacity=T),E!==!1&&(P.lineThickness=E),C!==!1&&(P.fillColor=C),A!==!1&&(P.fillOpacity=A),this):this},setConstraintRenderStyle:function(g,y,T,E,C,A,P){var F=g.render,O=this.debugConfig;if(!F)return this;if(y==null){var I=F.type;I==="line"?y=O.jointColor:I==="pin"?y=O.pinColor:I==="spring"&&(y=O.springColor)}return T==null&&(T=O.jointLineOpacity),E==null&&(E=O.jointLineThickness),C==null&&(C=O.pinSize),A==null&&(A=O.anchorColor),P==null&&(P=O.anchorSize),y!==!1&&(F.lineColor=y),T!==!1&&(F.lineOpacity=T),E!==!1&&(F.lineThickness=E),C!==!1&&(F.pinSize=C),A!==!1&&(F.anchorColor=A),P!==!1&&(F.anchorSize=P),this},setEventsProxy:function(){var g=this,y=this.engine,T=this.localWorld;this.drawDebug&&(l.on(T,"compositeModified",function(E){g.setCompositeRenderStyle(E)}),l.on(T,"beforeAdd",function(E){for(var C=[].concat(E.object),A=0;A<C.length;A++){var P=C[A],F=P.render;P.type==="body"?g.setBodyRenderStyle(P,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity):P.type==="composite"?g.setCompositeRenderStyle(P):P.type==="constraint"&&g.setConstraintRenderStyle(P,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize)}})),l.on(T,"beforeAdd",function(E){g.emit(u.BEFORE_ADD,E)}),l.on(T,"afterAdd",function(E){g.emit(u.AFTER_ADD,E)}),l.on(T,"beforeRemove",function(E){g.emit(u.BEFORE_REMOVE,E)}),l.on(T,"afterRemove",function(E){g.emit(u.AFTER_REMOVE,E)}),l.on(y,"beforeUpdate",function(E){g.emit(u.BEFORE_UPDATE,E)}),l.on(y,"afterUpdate",function(E){g.emit(u.AFTER_UPDATE,E)}),l.on(y,"collisionStart",function(E){var C=E.pairs,A,P;C.length>0&&(A=C[0].bodyA,P=C[0].bodyB),g.emit(u.COLLISION_START,E,A,P)}),l.on(y,"collisionActive",function(E){var C=E.pairs,A,P;C.length>0&&(A=C[0].bodyA,P=C[0].bodyB),g.emit(u.COLLISION_ACTIVE,E,A,P)}),l.on(y,"collisionEnd",function(E){var C=E.pairs,A,P;C.length>0&&(A=C[0].bodyA,P=C[0].bodyB),g.emit(u.COLLISION_END,E,A,P)})},setBounds:function(g,y,T,E,C,A,P,F,O){return g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),E===void 0&&(E=this.scene.sys.scale.height),C===void 0&&(C=64),A===void 0&&(A=!0),P===void 0&&(P=!0),F===void 0&&(F=!0),O===void 0&&(O=!0),this.updateWall(A,"left",g-C,y-C,C,E+C*2),this.updateWall(P,"right",g+T,y-C,C,E+C*2),this.updateWall(F,"top",g,y-C,T,C),this.updateWall(O,"bottom",g,y+E,T,C),this},updateWall:function(g,y,T,E,C,A){var P=this.walls[y];g?(P&&v.remove(this.localWorld,P),T+=C/2,E+=A/2,this.walls[y]=this.create(T,E,C,A,{isStatic:!0,friction:0,frictionStatic:0})):(P&&v.remove(this.localWorld,P),this.walls[y]=null)},createDebugGraphic:function(){var g=this.scene.sys.add.graphics({x:0,y:0});return g.setDepth(Number.MAX_VALUE),this.debugGraphic=g,this.drawDebug=!0,g},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(g,y,T){return g===void 0&&(g=0),y===void 0&&(y=1),T===void 0&&(T=.001),this.localWorld.gravity.x=g,this.localWorld.gravity.y=y,this.localWorld.gravity.scale=T,this},create:function(g,y,T,E,C){var A=f.rectangle(g,y,T,E,C);return v.add(this.localWorld,A),A},add:function(g){return v.add(this.localWorld,g),this},remove:function(g,y){Array.isArray(g)||(g=[g]);for(var T=0;T<g.length;T++){var E=g[T],C=E.body?E.body:E;n.remove(this.localWorld,C,y)}return this},removeConstraint:function(g,y){return n.remove(this.localWorld,g,y),this},convertTilemapLayer:function(g,y){var T=g.layer,E=g.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(E,y),this},convertTiles:function(g,y){if(g.length===0)return this;for(var T=0;T<g.length;T++)new d(this,g[T],y);return this},nextGroup:function(g){return h.nextGroup(g)},nextCategory:function(){return h.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(g,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,E=this.runner,C=T.timing;E.isFixed?y=this.getDelta(g,y):(y=g-E.timePrev||E.delta,E.timePrev=g,E.deltaHistory.push(y),E.deltaHistory=E.deltaHistory.slice(-E.deltaSampleSize),y=Math.min.apply(null,E.deltaHistory),y=y<E.deltaMin?E.deltaMin:y,y=y>E.deltaMax?E.deltaMax:y,E.delta=y),E.timeScalePrev=C.timeScale,E.frameCounter+=1,g-E.counterTimestamp>=1e3&&(E.fps=E.frameCounter*((g-E.counterTimestamp)/1e3),E.counterTimestamp=g,E.frameCounter=0),e.update(T,y)}},step:function(g){e.update(this.engine,g)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(g){var y=g.hasOwnProperty("body")?g.body:g;return n.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var g=this.debugConfig,y=this.engine,T=this.debugGraphic,E=n.allBodies(this.localWorld);this.debugGraphic.clear(),g.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,g.broadphaseColor,.5),g.showBounds&&this.renderBodyBounds(E,T,g.boundsColor,.5),(g.showBody||g.showStaticBody)&&this.renderBodies(E),g.showJoint&&this.renderJoints(),(g.showAxes||g.showAngleIndicator)&&this.renderBodyAxes(E,T,g.showAxes,g.angleColor,.5),g.showVelocity&&this.renderBodyVelocity(E,T,g.velocityColor,1,2),g.showSeparations&&this.renderSeparations(y.pairs.list,T,g.separationColor),g.showCollisions&&this.renderCollisions(y.pairs.list,T,g.collisionColor)}},renderGrid:function(g,y,T,E){y.lineStyle(1,T,E);for(var C=r.keys(g.buckets),A=0;A<C.length;A++){var P=C[A];if(!(g.buckets[P].length<2)){var F=P.split(/C|R/);y.strokeRect(parseInt(F[1],10)*g.bucketWidth,parseInt(F[2],10)*g.bucketHeight,g.bucketWidth,g.bucketHeight)}}return this},renderSeparations:function(g,y,T){y.lineStyle(1,T,1);for(var E=0;E<g.length;E++){var C=g[E];if(!!C.isActive){var A=C.collision,P=A.bodyA,F=A.bodyB,O=P.position,I=F.position,G=A.penetration,z=!P.isStatic&&!F.isStatic?4:1;F.isStatic&&(z=0),y.lineBetween(I.x,I.y,I.x-G.x*z,I.y-G.y*z),z=!P.isStatic&&!F.isStatic?4:1,P.isStatic&&(z=0),y.lineBetween(O.x,O.y,O.x-G.x*z,O.y-G.y*z)}}return this},renderCollisions:function(g,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var E,C;for(E=0;E<g.length;E++)if(C=g[E],!!C.isActive)for(var A=0;A<C.activeContacts.length;A++){var P=C.activeContacts[A],F=P.vertex;y.fillRect(F.x-2,F.y-2,5,5)}for(E=0;E<g.length;E++)if(C=g[E],!!C.isActive){var O=C.collision,I=C.activeContacts;if(I.length>0){var G=I[0].vertex.x,z=I[0].vertex.y;I.length===2&&(G=(I[0].vertex.x+I[1].vertex.x)/2,z=(I[0].vertex.y+I[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?y.lineBetween(G-O.normal.x*8,z-O.normal.y*8,G,z):y.lineBetween(G+O.normal.x*8,z+O.normal.y*8,G,z)}}return this},renderBodyBounds:function(g,y,T,E){y.lineStyle(1,T,E);for(var C=0;C<g.length;C++){var A=g[C];if(!!A.render.visible){var P=A.bounds;if(P)y.strokeRect(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y);else for(var F=A.parts,O=F.length>1?1:0;O<F.length;O++){var I=F[O];y.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(g,y,T,E,C){y.lineStyle(1,E,C);for(var A=0;A<g.length;A++){var P=g[A],F=P.parts;if(!!P.render.visible){var O,I,G;if(T)for(I=F.length>1?1:0;I<F.length;I++)for(O=F[I],G=0;G<O.axes.length;G++){var z=O.axes[G];y.lineBetween(O.position.x,O.position.y,O.position.x+z.x*20,O.position.y+z.y*20)}else for(I=F.length>1?1:0;I<F.length;I++)for(O=F[I],G=0;G<O.axes.length;G++)y.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(g,y,T,E,C){y.lineStyle(C,T,E);for(var A=0;A<g.length;A++){var P=g[A];!P.render.visible||y.lineBetween(P.position.x,P.position.y,P.position.x+(P.position.x-P.positionPrev.x)*2,P.position.y+(P.position.y-P.positionPrev.y)*2)}return this},renderBodies:function(g){for(var y=this.debugGraphic,T=this.debugConfig,E=T.showBody,C=T.showStaticBody,A=T.showSleeping,P=T.showInternalEdges,F=T.showConvexHulls,O=T.renderFill,I=T.renderLine,G=T.staticBodySleepOpacity,z=T.sleepFillColor,X=T.sleepLineColor,H=T.hullColor,N=0;N<g.length;N++){var U=g[N];if(!!U.render.visible&&!(!C&&U.isStatic||!E&&!U.isStatic)){var R=U.render.lineColor,D=U.render.lineOpacity,B=U.render.lineThickness,V=U.render.fillColor,Y=U.render.fillOpacity;A&&U.isSleeping&&(U.isStatic?(D*=G,Y*=G):(R=X,V=z)),O||(V=null),I||(R=null),this.renderBody(U,y,P,R,D,B,V,Y);var K=U.parts.length;F&&K>1&&this.renderConvexHull(U,y,H,B)}}},renderBody:function(g,y,T,E,C,A,P,F){E===void 0&&(E=null),C===void 0&&(C=null),A===void 0&&(A=1),P===void 0&&(P=null),F===void 0&&(F=null);for(var O=this.debugConfig,I=O.sensorFillColor,G=O.sensorLineColor,z=g.parts,X=z.length,H=X>1?1:0;H<X;H++){var N=z[H],U=N.render,R=U.opacity;if(!(!U.visible||R===0||N.isSensor&&!O.showSensors)){var D=N.circleRadius;if(y.beginPath(),N.isSensor?(P!==null&&y.fillStyle(I,F*R),E!==null&&y.lineStyle(A,G,C*R)):(P!==null&&y.fillStyle(P,F*R),E!==null&&y.lineStyle(A,E,C*R)),D)y.arc(N.position.x,N.position.y,D,0,2*Math.PI);else{var B=N.vertices,V=B.length;y.moveTo(B[0].x,B[0].y);for(var Y=1;Y<V;Y++){var K=B[Y];if(!B[Y-1].isInternal||T?y.lineTo(K.x,K.y):y.moveTo(K.x,K.y),Y<V&&K.isInternal&&!T){var $=(Y+1)%V;y.moveTo(B[$].x,B[$].y)}}y.closePath()}P!==null&&y.fillPath(),E!==null&&y.strokePath()}}if(O.showPositions&&!g.isStatic){var J=g.position.x,Q=g.position.y,k=Math.ceil(O.positionSize/2);y.fillStyle(O.positionColor,1),y.fillRect(J-k,Q-k,O.positionSize,O.positionSize)}return this},renderConvexHull:function(g,y,T,E){E===void 0&&(E=1);var C=g.parts,A=C.length;if(A>1){var P=g.vertices;y.lineStyle(E,T),y.beginPath(),y.moveTo(P[0].x,P[0].y);for(var F=1;F<P.length;F++)y.lineTo(P[F].x,P[F].y);y.lineTo(P[0].x,P[0].y),y.strokePath()}return this},renderJoints:function(){for(var g=this.debugGraphic,y=n.allConstraints(this.localWorld),T=0;T<y.length;T++){var E=y[T].render,C=E.lineColor,A=E.lineOpacity,P=E.lineThickness,F=E.pinSize,O=E.anchorColor,I=E.anchorSize;this.renderConstraint(y[T],g,C,A,P,F,O,I)}},renderConstraint:function(g,y,T,E,C,A,P,F){var O=g.render;if(!O.visible||!g.pointA||!g.pointB)return this;y.lineStyle(C,T,E);var I=g.bodyA,G=g.bodyB,z,X;if(I?z=m.add(I.position,g.pointA):z=g.pointA,O.type==="pin")y.strokeCircle(z.x,z.y,A);else{if(G?X=m.add(G.position,g.pointB):X=g.pointB,y.beginPath(),y.moveTo(z.x,z.y),O.type==="spring")for(var H=m.sub(X,z),N=m.perp(m.normalise(H)),U=Math.ceil(r.clamp(g.length/5,12,20)),R,D=1;D<U;D+=1)R=D%2===0?1:-1,y.lineTo(z.x+H.x*(D/U)+N.x*R*4,z.y+H.y*(D/U)+N.y*R*4);y.lineTo(X.x,X.y)}return y.strokePath(),O.anchors&&F>0&&(y.fillStyle(P),y.fillCircle(z.x,z.y,F),y.fillCircle(X.x,X.y,F)),this},resetCollisionIDs:function(){return c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,this},shutdown:function(){l.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=x},95349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},70679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var f=0;if(!Array.isArray(t))f=t;else for(var c=0;c<t.length;c++)f|=t[c];return this.body.collisionFilter.mask=f,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,f){Array.isArray(t)||(t=[t]);for(var c=0;c<t.length;c++){var a=t[c].hasOwnProperty("body")?t[c].body:t[c];this.body.setOnCollideWith(a,f)}return this}};p.exports=S},77178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),f.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return f.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=c},74015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,f,c){return this.body.friction=t,f!==void 0&&(this.body.frictionAir=f),c!==void 0&&(this.body.frictionStatic=c),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},11535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},74497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c=t(93736),a={setMass:function(r){return f.setMass(this.body,r),this},setDensity:function(r){return f.setDensity(this.body,r),this},centerOfMass:{get:function(){return new c(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=a},75529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},64024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(88456),r=t(72632),n=t(10998),e=t(72829),s=t(39745),u={setRectangle:function(i,o,h){return this.setBody({type:"rectangle",width:i,height:o},h)},setCircle:function(i,o){return this.setBody({type:"circle",radius:i},o)},setPolygon:function(i,o,h){return this.setBody({type:"polygon",sides:o,radius:i},h)},setTrapezoid:function(i,o,h,l){return this.setBody({type:"trapezoid",width:i,height:o,slope:h},l)},setExistingBody:function(i,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var h=0;h<i.parts.length;h++)i.parts[h].gameObject=this;var l=this;if(i.destroy=function(){l.world.remove(l.body,!0),l.body.gameObject=null},o&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,v=i.render.sprite.yOffset,m=i.centerOfMass.x,x=i.centerOfMass.y;if(a(m,.5)&&a(x,.5))this.setOrigin(d+.5,v+.5);else{var g=i.centerOffset.x,y=i.centerOffset.y;this.setOrigin(d+g/this.displayWidth,v+y/this.displayHeight)}}return this},setBody:function(i,o){if(!i)return this;var h;typeof i=="string"&&(i={type:i});var l=r(i,"type","rectangle"),d=r(i,"x",this._tempVec2.x),v=r(i,"y",this._tempVec2.y),m=r(i,"width",this.width),x=r(i,"height",this.height);switch(l){case"rectangle":h=f.rectangle(d,v,m,x,o);break;case"circle":var g=r(i,"radius",Math.max(m,x)/2),y=r(i,"maxSides",25);h=f.circle(d,v,g,o,y);break;case"trapezoid":var T=r(i,"slope",.5);h=f.trapezoid(d,v,m,x,T,o);break;case"polygon":var E=r(i,"sides",5),C=r(i,"radius",Math.max(m,x)/2);h=f.polygon(d,v,E,C,o);break;case"fromVertices":case"fromVerts":var A=r(i,"verts",null);if(A)if(typeof A=="string"&&(A=s.fromPath(A)),this.body&&!this.body.hasOwnProperty("temp"))c.setVertices(this.body,A),h=this.body;else{var P=r(i,"flagInternal",!1),F=r(i,"removeCollinear",.01),O=r(i,"minimumArea",10);h=f.fromVertices(d,v,A,o,P,F,O)}break;case"fromPhysicsEditor":h=n.parseBody(d,v,i,o);break;case"fromPhysicsTracer":h=e.parseBody(d,v,i,o);break}return h&&this.setExistingBody(h,i.addToWorld),this}};p.exports=u},25106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(35416),c=t(22806),a=t(39073),r={setToSleep:function(){return c.set(this.body,!0),this},setAwake:function(){return c.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(f.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(f.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};p.exports=r},82884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c={setStatic:function(a){return f.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};p.exports=c},4753:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c=t(83392),a=t(35786),r=t(62138),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),f.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),f.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var u=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~n:this.renderFlags|=n,f.scale(this.body,u,i),f.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var u=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~n:this.renderFlags|=n,f.scale(this.body,u,i),f.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*c.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*c.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),f.setAngle(this.body,this._rotation)}},setPosition:function(s,u){return s===void 0&&(s=0),u===void 0&&(u=s),this._tempVec2.set(s,u),f.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),f.setAngle(this.body,s),this},setFixedRotation:function(){return f.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,f.setAngle(this.body,this.rotation),this},setScale:function(s,u,i){s===void 0&&(s=1),u===void 0&&(u=s);var o=1/this._scaleX,h=1/this._scaleY;return this._scaleX=s,this._scaleY=u,f.scale(this.body,o,h,i),f.scale(this.body,s,u,i),this}};p.exports=e},37268:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),f.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),f.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),f.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return f.getVelocity(this.body)},setAngularVelocity:function(a){return f.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return f.getAngularVelocity(this.body)},setAngularSpeed:function(a){return f.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return f.getAngularSpeed(this.body)}};p.exports=c},74527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},30474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},44822:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},88820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},94849:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},6391:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},96738:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},7916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},59529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},10219:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},183:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},39143:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},16483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},35806:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22106:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},5803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},35416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(10438),r=t(22806),n=t(68758),e=t(84091),s=t(50658);(function(){f._timeCorrection=!0,f._inertiaScale=4,f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,f._baseDelta=16.666666666666668,f.create=function(i){var o={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=c.centre(i.vertices):i.hasOwnProperty("vertices")||(o.vertices=c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var h=n.extend(o,i);return u(h,i),h.setOnCollideWith=function(l,d){return d?this.onCollideWith[l.id]=d:delete this.onCollideWith[l.id],this},h},f.nextGroup=function(i){return i?f._nextNonCollidingGroupId--:f._nextCollidingGroupId++},f.nextCategory=function(){return f._nextCategory=f._nextCategory<<1,f._nextCategory};var u=function(i,o){if(o=o||{},f.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),c.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),f.set(i,{axes:o.axes||i.axes,area:o.area||i.area,mass:o.mass||i.mass,inertia:o.inertia||i.inertia}),i.parts.length===1){var h=i.bounds,l=i.centerOfMass,d=i.centerOffset,v=h.max.x-h.min.x,m=h.max.y-h.min.y;l.x=-(h.min.x-i.position.x)/v,l.y=-(h.min.y-i.position.y)/m,d.x=v*l.x,d.y=m*l.y}};f.set=function(i,o,h){var l;typeof o=="string"&&(l=o,o={},o[l]=h);for(l in o)if(!!Object.prototype.hasOwnProperty.call(o,l))switch(h=o[l],l){case"isStatic":f.setStatic(i,h);break;case"isSleeping":r.set(i,h);break;case"mass":f.setMass(i,h);break;case"density":f.setDensity(i,h);break;case"inertia":f.setInertia(i,h);break;case"vertices":f.setVertices(i,h);break;case"position":f.setPosition(i,h);break;case"angle":f.setAngle(i,h);break;case"velocity":f.setVelocity(i,h);break;case"angularVelocity":f.setAngularVelocity(i,h);break;case"speed":f.setSpeed(i,h);break;case"angularSpeed":f.setAngularSpeed(i,h);break;case"parts":f.setParts(i,h);break;case"centre":f.setCentre(i,h);break;default:i[l]=h}},f.setStatic=function(i,o){for(var h=0;h<i.parts.length;h++){var l=i.parts[h];o?(l.isStatic||(l._original={restitution:l.restitution,friction:l.friction,mass:l.mass,inertia:l.inertia,density:l.density,inverseMass:l.inverseMass,inverseInertia:l.inverseInertia}),l.restitution=0,l.friction=1,l.mass=l.inertia=l.density=1/0,l.inverseMass=l.inverseInertia=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.angularVelocity=0,l.speed=0,l.angularSpeed=0,l.motion=0):l._original&&(l.restitution=l._original.restitution,l.friction=l._original.friction,l.mass=l._original.mass,l.inertia=l._original.inertia,l.density=l._original.density,l.inverseMass=l._original.inverseMass,l.inverseInertia=l._original.inverseInertia,l._original=null),l.isStatic=o}},f.setMass=function(i,o){var h=i.inertia/(i.mass/6);i.inertia=h*(o/6),i.inverseInertia=1/i.inertia,i.mass=o,i.inverseMass=1/i.mass,i.density=i.mass/i.area},f.setDensity=function(i,o){f.setMass(i,o*i.area),i.density=o},f.setInertia=function(i,o){i.inertia=o,i.inverseInertia=1/i.inertia},f.setVertices=function(i,o){o[0].body===i?i.vertices=o:i.vertices=c.create(o,i),i.axes=s.fromVertices(i.vertices),i.area=c.area(i.vertices),f.setMass(i,i.density*i.area);var h=c.centre(i.vertices);c.translate(i.vertices,h,-1),f.setInertia(i,f._inertiaScale*c.inertia(i.vertices,i.mass)),c.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},f.setParts=function(i,o,h){var l;for(o=o.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,l=0;l<o.length;l++){var d=o[l];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(h=typeof h<"u"?h:!0,h){var v=[];for(l=0;l<o.length;l++)v=v.concat(o[l].vertices);c.clockwiseSort(v);var m=c.hull(v),x=c.centre(m);f.setVertices(i,m),c.translate(i.vertices,x)}var g=f._totalProperties(i),y=g.centre.x,T=g.centre.y,E=i.bounds,C=i.centerOfMass,A=i.centerOffset;e.update(E,i.vertices,i.velocity),C.x=-(E.min.x-y)/(E.max.x-E.min.x),C.y=-(E.min.y-T)/(E.max.y-E.min.y),A.x=y,A.y=T,i.area=g.area,i.parent=i,i.position.x=y,i.position.y=T,i.positionPrev.x=y,i.positionPrev.y=T,f.setMass(i,g.mass),f.setInertia(i,g.inertia),f.setPosition(i,g.centre)}},f.setCentre=function(i,o,h){h?(i.positionPrev.x+=o.x,i.positionPrev.y+=o.y,i.position.x+=o.x,i.position.y+=o.y):(i.positionPrev.x=o.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=o.y-(i.position.y-i.positionPrev.y),i.position.x=o.x,i.position.y=o.y)},f.setPosition=function(i,o,h){var l=a.sub(o,i.position);h?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=l.x,i.velocity.y=l.y,i.speed=a.magnitude(l)):(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y);for(var d=0;d<i.parts.length;d++){var v=i.parts[d];v.position.x+=l.x,v.position.y+=l.y,c.translate(v.vertices,l),e.update(v.bounds,v.vertices,i.velocity)}},f.setAngle=function(i,o,h){var l=o-i.angle;h?(i.anglePrev=i.angle,i.angularVelocity=l,i.angularSpeed=Math.abs(l)):i.anglePrev+=l;for(var d=0;d<i.parts.length;d++){var v=i.parts[d];v.angle+=l,c.rotate(v.vertices,l,i.position),s.rotate(v.axes,l),e.update(v.bounds,v.vertices,i.velocity),d>0&&a.rotateAbout(v.position,l,i.position,v.position)}},f.setVelocity=function(i,o){var h=i.deltaTime/f._baseDelta;i.positionPrev.x=i.position.x-o.x*h,i.positionPrev.y=i.position.y-o.y*h,i.velocity.x=(i.position.x-i.positionPrev.x)/h,i.velocity.y=(i.position.y-i.positionPrev.y)/h,i.speed=a.magnitude(i.velocity)},f.getVelocity=function(i){var o=f._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*o,y:(i.position.y-i.positionPrev.y)*o}},f.getSpeed=function(i){return a.magnitude(f.getVelocity(i))},f.setSpeed=function(i,o){f.setVelocity(i,a.mult(a.normalise(f.getVelocity(i)),o))},f.setAngularVelocity=function(i,o){var h=i.deltaTime/f._baseDelta;i.anglePrev=i.angle-o*h,i.angularVelocity=(i.angle-i.anglePrev)/h,i.angularSpeed=Math.abs(i.angularVelocity)},f.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*f._baseDelta/i.deltaTime},f.getAngularSpeed=function(i){return Math.abs(f.getAngularVelocity(i))},f.setAngularSpeed=function(i,o){f.setAngularVelocity(i,n.sign(f.getAngularVelocity(i))*o)},f.translate=function(i,o,h){f.setPosition(i,a.add(i.position,o),h)},f.rotate=function(i,o,h,l){if(!h)f.setAngle(i,i.angle+o,l);else{var d=Math.cos(o),v=Math.sin(o),m=i.position.x-h.x,x=i.position.y-h.y;f.setPosition(i,{x:h.x+(m*d-x*v),y:h.y+(m*v+x*d)},l),f.setAngle(i,i.angle+o,l)}},f.scale=function(i,o,h,l){var d=0,v=0;l=l||i.position;for(var m=0;m<i.parts.length;m++){var x=i.parts[m];x.scale.x=o,x.scale.y=h,c.scale(x.vertices,o,h,l),x.axes=s.fromVertices(x.vertices),x.area=c.area(x.vertices),f.setMass(x,i.density*x.area),c.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),f.setInertia(x,f._inertiaScale*c.inertia(x.vertices,x.mass)),c.translate(x.vertices,{x:x.position.x,y:x.position.y}),m>0&&(d+=x.area,v+=x.inertia),x.position.x=l.x+(x.position.x-l.x)*o,x.position.y=l.y+(x.position.y-l.y)*h,e.update(x.bounds,x.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(f.setMass(i,i.density*d),f.setInertia(i,v))),i.circleRadius&&(o===h?i.circleRadius*=o:i.circleRadius=null)},f.update=function(i,o){o=(typeof o<"u"?o:16.666666666666668)*i.timeScale;var h=o*o,l=f._timeCorrection?o/(i.deltaTime||o):1,d=1-i.frictionAir*(o/n._baseDelta),v=(i.position.x-i.positionPrev.x)*l,m=(i.position.y-i.positionPrev.y)*l;i.velocity.x=v*d+i.force.x/i.mass*h,i.velocity.y=m*d+i.force.y/i.mass*h,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=o,i.angularVelocity=(i.angle-i.anglePrev)*d*l+i.torque/i.inertia*h,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var x=0;x<i.parts.length;x++){var g=i.parts[x];c.translate(g.vertices,i.velocity),x>0&&(g.position.x+=i.velocity.x,g.position.y+=i.velocity.y),i.angularVelocity!==0&&(c.rotate(g.vertices,i.angularVelocity,i.position),s.rotate(g.axes,i.angularVelocity),x>0&&a.rotateAbout(g.position,i.angularVelocity,i.position,g.position)),e.update(g.bounds,g.vertices,i.velocity)}},f.updateVelocities=function(i){var o=f._baseDelta/i.deltaTime,h=i.velocity;h.x=(i.position.x-i.positionPrev.x)*o,h.y=(i.position.y-i.positionPrev.y)*o,i.speed=Math.sqrt(h.x*h.x+h.y*h.y),i.angularVelocity=(i.angle-i.anglePrev)*o,i.angularSpeed=Math.abs(i.angularVelocity)},f.applyForce=function(i,o,h){var l={x:o.x-i.position.x,y:o.y-i.position.y};i.force.x+=h.x,i.force.y+=h.y,i.torque+=l.x*h.y-l.y*h.x},f._totalProperties=function(i){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},h=i.parts.length===1?0:1;h<i.parts.length;h++){var l=i.parts[h],d=l.mass!==1/0?l.mass:1;o.mass+=d,o.area+=l.area,o.inertia+=l.inertia,o.centre=a.add(o.centre,a.mult(l.position,d))}return o.centre=a.div(o.centre,o.mass),o}})()},11299:(p,S,t)=>{var f={};p.exports=f;var c=t(39073),a=t(68758),r=t(84091),n=t(84125);(function(){f.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},f.setModified=function(e,s,u,i){if(c.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),u&&e.parent&&f.setModified(e.parent,s,u,i),i)for(var o=0;o<e.composites.length;o++){var h=e.composites[o];f.setModified(h,s,u,i)}},f.add=function(e,s){var u=[].concat(s);c.trigger(e,"beforeAdd",{object:s});for(var i=0;i<u.length;i++){var o=u[i];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(e,o);break;case"constraint":f.addConstraint(e,o);break;case"composite":f.addComposite(e,o);break;case"mouseConstraint":f.addConstraint(e,o.constraint);break}}return c.trigger(e,"afterAdd",{object:s}),e},f.remove=function(e,s,u){var i=[].concat(s);c.trigger(e,"beforeRemove",{object:s});for(var o=0;o<i.length;o++){var h=i[o];switch(h.type){case"body":f.removeBody(e,h,u);break;case"constraint":f.removeConstraint(e,h,u);break;case"composite":f.removeComposite(e,h,u);break;case"mouseConstraint":f.removeConstraint(e,h.constraint);break}}return c.trigger(e,"afterRemove",{object:s}),e},f.addComposite=function(e,s){return e.composites.push(s),s.parent=e,f.setModified(e,!0,!0,!1),e},f.removeComposite=function(e,s,u){var i=a.indexOf(e.composites,s);if(i!==-1&&f.removeCompositeAt(e,i),u)for(var o=0;o<e.composites.length;o++)f.removeComposite(e.composites[o],s,!0);return e},f.removeCompositeAt=function(e,s){return e.composites.splice(s,1),f.setModified(e,!0,!0,!1),e},f.addBody=function(e,s){return e.bodies.push(s),f.setModified(e,!0,!0,!1),e},f.removeBody=function(e,s,u){var i=a.indexOf(e.bodies,s);if(i!==-1&&f.removeBodyAt(e,i),u)for(var o=0;o<e.composites.length;o++)f.removeBody(e.composites[o],s,!0);return e},f.removeBodyAt=function(e,s){return e.bodies.splice(s,1),f.setModified(e,!0,!0,!1),e},f.addConstraint=function(e,s){return e.constraints.push(s),f.setModified(e,!0,!0,!1),e},f.removeConstraint=function(e,s,u){var i=a.indexOf(e.constraints,s);if(i!==-1&&f.removeConstraintAt(e,i),u)for(var o=0;o<e.composites.length;o++)f.removeConstraint(e.composites[o],s,!0);return e},f.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),f.setModified(e,!0,!0,!1),e},f.clear=function(e,s,u){if(u)for(var i=0;i<e.composites.length;i++)f.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(o){return o.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,f.setModified(e,!0,!0,!1),e},f.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),u=0;u<e.composites.length;u++)s=s.concat(f.allBodies(e.composites[u]));return e.cache&&(e.cache.allBodies=s),s},f.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),u=0;u<e.composites.length;u++)s=s.concat(f.allConstraints(e.composites[u]));return e.cache&&(e.cache.allConstraints=s),s},f.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),u=0;u<e.composites.length;u++)s=s.concat(f.allComposites(e.composites[u]));return e.cache&&(e.cache.allComposites=s),s},f.get=function(e,s,u){var i,o;switch(u){case"body":i=f.allBodies(e);break;case"constraint":i=f.allConstraints(e);break;case"composite":i=f.allComposites(e).concat(e);break}return i?(o=i.filter(function(h){return h.id.toString()===s.toString()}),o.length===0?null:o[0]):null},f.move=function(e,s,u){return f.remove(e,s),f.add(u,s),e},f.rebase=function(e){for(var s=f.allBodies(e).concat(f.allConstraints(e)).concat(f.allComposites(e)),u=0;u<s.length;u++)s[u].id=a.nextId();return e},f.translate=function(e,s,u){for(var i=u?f.allBodies(e):e.bodies,o=0;o<i.length;o++)n.translate(i[o],s);return e},f.rotate=function(e,s,u,i){for(var o=Math.cos(s),h=Math.sin(s),l=i?f.allBodies(e):e.bodies,d=0;d<l.length;d++){var v=l[d],m=v.position.x-u.x,x=v.position.y-u.y;n.setPosition(v,{x:u.x+(m*o-x*h),y:u.y+(m*h+x*o)}),n.rotate(v,s)}return e},f.scale=function(e,s,u,i,o){for(var h=o?f.allBodies(e):e.bodies,l=0;l<h.length;l++){var d=h[l],v=d.position.x-i.x,m=d.position.y-i.y;n.setPosition(d,{x:i.x+v*s,y:i.y+m*u}),n.scale(d,s,u)}return e},f.bounds=function(e){for(var s=f.allBodies(e),u=[],i=0;i<s.length;i+=1){var o=s[i];u.push(o.bounds.min,o.bounds.max)}return r.create(u)}})()},72005:(p,S,t)=>{var f={};p.exports=f;var c=t(11299);(function(){f.create=c.create,f.add=c.add,f.remove=c.remove,f.clear=c.clear,f.addComposite=c.addComposite,f.addBody=c.addBody,f.addConstraint=c.addConstraint})()},63454:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(70584);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};f.create=function(s,u){return{pair:null,collided:!1,bodyA:s,bodyB:u,parentA:s.parent,parentB:u.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},f.collides=function(s,u,i){if(f._overlapAxes(n,s.vertices,u.vertices,s.axes),n.overlap<=0||(f._overlapAxes(e,u.vertices,s.vertices,u.axes),e.overlap<=0))return null;var o=i&&i.table[a.id(s,u)],h;o?h=o.collision:(h=f.create(s,u),h.collided=!0,h.bodyA=s.id<u.id?s:u,h.bodyB=s.id<u.id?u:s,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent),s=h.bodyA,u=h.bodyB;var l;n.overlap<e.overlap?l=n:l=e;var d=h.normal,v=h.supports,m=l.axis,x=m.x,g=m.y;x*(u.position.x-s.position.x)+g*(u.position.y-s.position.y)<0?(d.x=x,d.y=g):(d.x=-x,d.y=-g),h.tangent.x=-d.y,h.tangent.y=d.x,h.depth=l.overlap,h.penetration.x=d.x*h.depth,h.penetration.y=d.y*h.depth;var y=f._findSupports(s,u,d,1),T=0;if(c.contains(s.vertices,y[0])&&(v[T++]=y[0]),c.contains(s.vertices,y[1])&&(v[T++]=y[1]),T<2){var E=f._findSupports(u,s,d,-1);c.contains(u.vertices,E[0])&&(v[T++]=E[0]),T<2&&c.contains(u.vertices,E[1])&&(v[T++]=E[1])}return T===0&&(v[T++]=y[0]),v.length=T,h},f._overlapAxes=function(s,u,i,o){var h=u.length,l=i.length,d=u[0].x,v=u[0].y,m=i[0].x,x=i[0].y,g=o.length,y=Number.MAX_VALUE,T=0,E,C,A,P,F,O;for(F=0;F<g;F++){var I=o[F],G=I.x,z=I.y,X=d*G+v*z,H=m*G+x*z,N=X,U=H;for(O=1;O<h;O+=1)P=u[O].x*G+u[O].y*z,P>N?N=P:P<X&&(X=P);for(O=1;O<l;O+=1)P=i[O].x*G+i[O].y*z,P>U?U=P:P<H&&(H=P);if(C=N-H,A=U-X,E=C<A?C:A,E<y&&(y=E,T=F,E<=0))break}s.axis=o[T],s.overlap=y},f._projectToAxis=function(s,u,i){for(var o=u[0].x*i.x+u[0].y*i.y,h=o,l=1;l<u.length;l+=1){var d=u[l].x*i.x+u[l].y*i.y;d>h?h=d:d<o&&(o=d)}s.min=o,s.max=h},f._findSupports=function(s,u,i,o){var h=u.vertices,l=h.length,d=s.position.x,v=s.position.y,m=i.x*o,x=i.y*o,g=Number.MAX_VALUE,y,T,E,C,A;for(A=0;A<l;A+=1)T=h[A],C=m*(d-T.x)+x*(v-T.y),C<g&&(g=C,y=T);return E=h[(l+y.index-1)%l],g=m*(d-E.x)+x*(v-E.y),T=h[(y.index+1)%l],m*(d-T.x)+x*(v-T.y)<g?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=E,r)}})()},17319:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(p,S,t)=>{var f={};p.exports=f;var c=t(68758),a=t(63454);(function(){f.create=function(r){var n={bodies:[],pairs:null};return c.extend(n,r)},f.setBodies=function(r,n){r.bodies=n.slice(0)},f.clear=function(r){r.bodies=[]},f.collisions=function(r){var n=[],e=r.pairs,s=r.bodies,u=s.length,i=f.canCollide,o=a.collides,h,l;for(s.sort(f._compareBoundsX),h=0;h<u;h++){var d=s[h],v=d.bounds,m=d.bounds.max.x,x=d.bounds.max.y,g=d.bounds.min.y,y=d.isStatic||d.isSleeping,T=d.parts.length,E=T===1;for(l=h+1;l<u;l++){var C=s[l],A=C.bounds;if(A.min.x>m)break;if(!(x<A.min.y||g>A.max.y)&&!(y&&(C.isStatic||C.isSleeping))&&!!i(d.collisionFilter,C.collisionFilter)){var P=C.parts.length;if(E&&P===1){var F=o(d,C,e);F&&n.push(F)}else for(var O=T>1?1:0,I=P>1?1:0,G=O;G<T;G++)for(var z=d.parts[G],v=z.bounds,X=I;X<P;X++){var H=C.parts[X],A=H.bounds;if(!(v.min.x>A.max.x||v.max.x<A.min.x||v.max.y<A.min.y||v.min.y>A.max.y)){var F=o(z,H,e);F&&n.push(F)}}}}}return n},f.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},f._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},70584:(p,S,t)=>{var f={};p.exports=f;var c=t(17319);(function(){f.create=function(a,r){var n=a.bodyA,e=a.bodyB,s={id:f.id(n,e),bodyA:n,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return f.update(s,a,r),s},f.update=function(a,r,n){var e=a.contacts,s=r.supports,u=a.activeContacts,i=r.parentA,o=r.parentB,h=i.vertices.length;a.isActive=!0,a.timeUpdated=n,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+o.inverseMass,a.friction=i.friction<o.friction?i.friction:o.friction,a.frictionStatic=i.frictionStatic>o.frictionStatic?i.frictionStatic:o.frictionStatic,a.restitution=i.restitution>o.restitution?i.restitution:o.restitution,a.slop=i.slop>o.slop?i.slop:o.slop,r.pair=a,u.length=0;for(var l=0;l<s.length;l++){var d=s[l],v=d.body===i?d.index:h+d.index,m=e[v];m?u.push(m):u.push(e[v]=c.create(d))}},f.setActive=function(a,r,n){r?(a.isActive=!0,a.timeUpdated=n):(a.isActive=!1,a.activeContacts.length=0)},f.id=function(a,r){return a.id<r.id?"A"+a.id+"B"+r.id:"A"+r.id+"B"+a.id}})()},91327:(p,S,t)=>{var f={};p.exports=f;var c=t(70584),a=t(68758);(function(){f.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},f.update=function(r,n,e){var s=r.list,u=s.length,i=r.table,o=n.length,h=r.collisionStart,l=r.collisionEnd,d=r.collisionActive,v,m,x,g;for(h.length=0,l.length=0,d.length=0,g=0;g<u;g++)s[g].confirmedActive=!1;for(g=0;g<o;g++)v=n[g],x=v.pair,x?(x.isActive?d.push(x):h.push(x),c.update(x,v,e),x.confirmedActive=!0):(x=c.create(v,e),i[x.id]=x,h.push(x),s.push(x));var y=[];for(u=s.length,g=0;g<u;g++)x=s[g],x.confirmedActive||(c.setActive(x,!1,e),l.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&y.push(g));for(g=0;g<y.length;g++)m=y[g]-g,x=s[m],s.splice(m,1),delete i[x.id]},f.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},13390:(p,S,t)=>{var f={};p.exports=f;var c=t(10438),a=t(63454),r=t(84091),n=t(68516),e=t(39745);(function(){f.collides=function(s,u){for(var i=[],o=u.length,h=s.bounds,l=a.collides,d=r.overlaps,v=0;v<o;v++){var m=u[v],x=m.parts.length,g=x===1?0:1;if(s!==m&&d(m.bounds,h))for(var y=g;y<x;y++){var T=m.parts[y];if(d(T.bounds,h)){var E=l(T,s);if(E){i.push(E);break}}}}return i},f.ray=function(s,u,i,o){o=o||1e-100;for(var h=c.angle(u,i),l=c.magnitude(c.sub(u,i)),d=(i.x+u.x)*.5,v=(i.y+u.y)*.5,m=n.rectangle(d,v,l,o,{angle:h}),x=f.collides(m,s),g=0;g<x.length;g+=1){var y=x[g];y.body=y.bodyB=y.bodyA}return x},f.region=function(s,u,i){for(var o=[],h=0;h<s.length;h++){var l=s[h],d=r.overlaps(l.bounds,u);(d&&!i||!d&&i)&&o.push(l)}return o},f.point=function(s,u){for(var i=[],o=0;o<s.length;o++){var h=s[o];if(r.contains(h.bounds,u))for(var l=h.parts.length===1?0:1;l<h.parts.length;l++){var d=h.parts[l];if(r.contains(d.bounds,u)&&e.contains(d.vertices,u)){i.push(h);break}}}return i}})()},44272:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(68758),r=t(84091);(function(){f._restingThresh=2,f._restingThreshTangent=Math.sqrt(6),f._positionDampen=.9,f._positionWarming=.8,f._frictionNormalMultiplier=5,f._frictionMaxStatic=Number.MAX_VALUE,f.preSolvePosition=function(n){var e,s,u,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(u=s.activeContacts.length,s.collision.parentA.totalContacts+=u,s.collision.parentB.totalContacts+=u)},f.solvePosition=function(n,e,s){var u,i,o,h,l,d,v,m,x=f._positionDampen*(s||1),g=a.clamp(e/a._baseDelta,0,1),y=n.length;for(u=0;u<y;u++)i=n[u],!(!i.isActive||i.isSensor)&&(o=i.collision,h=o.parentA,l=o.parentB,d=o.normal,i.separation=d.x*(l.positionImpulse.x+o.penetration.x-h.positionImpulse.x)+d.y*(l.positionImpulse.y+o.penetration.y-h.positionImpulse.y));for(u=0;u<y;u++)i=n[u],!(!i.isActive||i.isSensor)&&(o=i.collision,h=o.parentA,l=o.parentB,d=o.normal,m=i.separation-i.slop*g,(h.isStatic||l.isStatic)&&(m*=2),h.isStatic||h.isSleeping||(v=x/h.totalContacts,h.positionImpulse.x+=d.x*m*v,h.positionImpulse.y+=d.y*m*v),l.isStatic||l.isSleeping||(v=x/l.totalContacts,l.positionImpulse.x-=d.x*m*v,l.positionImpulse.y-=d.y*m*v))},f.postSolvePosition=function(n){for(var e=f._positionWarming,s=n.length,u=c.translate,i=r.update,o=0;o<s;o++){var h=n[o],l=h.positionImpulse,d=l.x,v=l.y,m=h.velocity;if(h.totalContacts=0,d!==0||v!==0){for(var x=0;x<h.parts.length;x++){var g=h.parts[x];u(g.vertices,l),i(g.bounds,g.vertices,m),g.position.x+=d,g.position.y+=v}h.positionPrev.x+=d,h.positionPrev.y+=v,d*m.x+v*m.y<0?(l.x=0,l.y=0):(l.x*=e,l.y*=e)}}},f.preSolveVelocity=function(n){var e=n.length,s,u;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var o=i.activeContacts,h=o.length,l=i.collision,d=l.parentA,v=l.parentB,m=l.normal,x=l.tangent;for(u=0;u<h;u++){var g=o[u],y=g.vertex,T=g.normalImpulse,E=g.tangentImpulse;if(T!==0||E!==0){var C=m.x*T+x.x*E,A=m.y*T+x.y*E;d.isStatic||d.isSleeping||(d.positionPrev.x+=C*d.inverseMass,d.positionPrev.y+=A*d.inverseMass,d.anglePrev+=d.inverseInertia*((y.x-d.position.x)*A-(y.y-d.position.y)*C)),v.isStatic||v.isSleeping||(v.positionPrev.x-=C*v.inverseMass,v.positionPrev.y-=A*v.inverseMass,v.anglePrev-=v.inverseInertia*((y.x-v.position.x)*A-(y.y-v.position.y)*C))}}}}},f.solveVelocity=function(n,e){var s=e/a._baseDelta,u=s*s,i=u*s,o=-f._restingThresh*s,h=f._restingThreshTangent,l=f._frictionNormalMultiplier*s,d=f._frictionMaxStatic,v=n.length,m,x,g,y;for(g=0;g<v;g++){var T=n[g];if(!(!T.isActive||T.isSensor)){var E=T.collision,C=E.parentA,A=E.parentB,P=C.velocity,F=A.velocity,O=E.normal.x,I=E.normal.y,G=E.tangent.x,z=E.tangent.y,X=T.activeContacts,H=X.length,N=1/H,U=C.inverseMass+A.inverseMass,R=T.friction*T.frictionStatic*l;for(P.x=C.position.x-C.positionPrev.x,P.y=C.position.y-C.positionPrev.y,F.x=A.position.x-A.positionPrev.x,F.y=A.position.y-A.positionPrev.y,C.angularVelocity=C.angle-C.anglePrev,A.angularVelocity=A.angle-A.anglePrev,y=0;y<H;y++){var D=X[y],B=D.vertex,V=B.x-C.position.x,Y=B.y-C.position.y,K=B.x-A.position.x,$=B.y-A.position.y,J=P.x-Y*C.angularVelocity,Q=P.y+V*C.angularVelocity,k=F.x-$*A.angularVelocity,q=F.y+K*A.angularVelocity,tt=J-k,_=Q-q,it=O*tt+I*_,st=G*tt+z*_,ht=T.separation+it,ut=Math.min(ht,1);ut=ht<0?0:ut;var et=ut*R;st<-et||st>et?(x=st>0?st:-st,m=T.friction*(st>0?1:-1)*i,m<-x?m=-x:m>x&&(m=x)):(m=st,x=d);var rt=V*I-Y*O,nt=K*I-$*O,pt=N/(U+C.inverseInertia*rt*rt+A.inverseInertia*nt*nt),gt=(1+T.restitution)*it*pt;if(m*=pt,it<o)D.normalImpulse=0;else{var Tt=D.normalImpulse;D.normalImpulse+=gt,D.normalImpulse>0&&(D.normalImpulse=0),gt=D.normalImpulse-Tt}if(st<-h||st>h)D.tangentImpulse=0;else{var lt=D.tangentImpulse;D.tangentImpulse+=m,D.tangentImpulse<-x&&(D.tangentImpulse=-x),D.tangentImpulse>x&&(D.tangentImpulse=x),m=D.tangentImpulse-lt}var ot=O*gt+G*m,at=I*gt+z*m;C.isStatic||C.isSleeping||(C.positionPrev.x+=ot*C.inverseMass,C.positionPrev.y+=at*C.inverseMass,C.anglePrev+=(V*at-Y*ot)*C.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=ot*A.inverseMass,A.positionPrev.y-=at*A.inverseMass,A.anglePrev-=(K*at-$*ot)*A.inverseInertia)}}}}})()},52838:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(10438),r=t(22806),n=t(84091),e=t(50658),s=t(68758);(function(){f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(u){var i=u;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var o=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,h=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,l=a.magnitude(a.sub(o,h));i.length=typeof i.length<"u"?i.length:l,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=s.extend(d,i.render),i},f.preSolveAll=function(u){for(var i=0;i<u.length;i+=1){var o=u[i],h=o.constraintImpulse;o.isStatic||h.x===0&&h.y===0&&h.angle===0||(o.position.x+=h.x,o.position.y+=h.y,o.angle+=h.angle)}},f.solveAll=function(u,i){for(var o=s.clamp(i/s._baseDelta,0,1),h=0;h<u.length;h+=1){var l=u[h],d=!l.bodyA||l.bodyA&&l.bodyA.isStatic,v=!l.bodyB||l.bodyB&&l.bodyB.isStatic;(d||v)&&f.solve(u[h],o)}for(h=0;h<u.length;h+=1)l=u[h],d=!l.bodyA||l.bodyA&&l.bodyA.isStatic,v=!l.bodyB||l.bodyB&&l.bodyB.isStatic,!d&&!v&&f.solve(u[h],o)},f.solve=function(u,i){var o=u.bodyA,h=u.bodyB,l=u.pointA,d=u.pointB;if(!(!o&&!h)){o&&!o.isStatic&&(a.rotate(l,o.angle-u.angleA,l),u.angleA=o.angle),h&&!h.isStatic&&(a.rotate(d,h.angle-u.angleB,d),u.angleB=h.angle);var v=l,m=d;if(o&&(v=a.add(o.position,l)),h&&(m=a.add(h.position,d)),!(!v||!m)){var x=a.sub(v,m),g=a.magnitude(x);g<f._minLength&&(g=f._minLength);var y=(g-u.length)/g,T=u.stiffness>=1||u.length===0,E=T?u.stiffness*i:u.stiffness*i*i,C=u.damping*i,A=a.mult(x,y*E),P=(o?o.inverseMass:0)+(h?h.inverseMass:0),F=(o?o.inverseInertia:0)+(h?h.inverseInertia:0),O=P+F,I,G,z,X,H;if(C>0){var N=a.create();z=a.div(x,g),H=a.sub(h&&a.sub(h.position,h.positionPrev)||N,o&&a.sub(o.position,o.positionPrev)||N),X=a.dot(z,H)}o&&!o.isStatic&&(G=o.inverseMass/P,o.constraintImpulse.x-=A.x*G,o.constraintImpulse.y-=A.y*G,o.position.x-=A.x*G,o.position.y-=A.y*G,C>0&&(o.positionPrev.x-=C*z.x*X*G,o.positionPrev.y-=C*z.y*X*G),I=a.cross(l,A)/O*f._torqueDampen*o.inverseInertia*(1-u.angularStiffness),o.constraintImpulse.angle-=I,o.angle-=I),h&&!h.isStatic&&(G=h.inverseMass/P,h.constraintImpulse.x+=A.x*G,h.constraintImpulse.y+=A.y*G,h.position.x+=A.x*G,h.position.y+=A.y*G,C>0&&(h.positionPrev.x+=C*z.x*X*G,h.positionPrev.y+=C*z.y*X*G),I=a.cross(d,A)/O*f._torqueDampen*h.inverseInertia*(1-u.angularStiffness),h.constraintImpulse.angle+=I,h.angle+=I)}}},f.postSolveAll=function(u){for(var i=0;i<u.length;i++){var o=u[i],h=o.constraintImpulse;if(!(o.isStatic||h.x===0&&h.y===0&&h.angle===0)){r.set(o,!1);for(var l=0;l<o.parts.length;l++){var d=o.parts[l];c.translate(d.vertices,h),l>0&&(d.position.x+=h.x,d.position.y+=h.y),h.angle!==0&&(c.rotate(d.vertices,h.angle,o.position),e.rotate(d.axes,h.angle),l>0&&a.rotateAbout(d.position,h.angle,o.position,d.position)),n.update(d.bounds,d.vertices,o.velocity)}h.angle*=f._warming,h.x*=f._warming,h.y*=f._warming}}},f.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),y:(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0)}},f.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),y:(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0)}},f.currentLength=function(u){var i=(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),o=(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0),h=(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),l=(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0),d=i-h,v=o-l;return Math.sqrt(d*d+v*v)}})()},68758:(p,S,t)=>{var f={};p.exports=f,function(){f._baseDelta=16.666666666666668,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(a,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var u=arguments[s];if(u)for(var i in u)e&&u[i]&&u[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},f.extend(a[i],e,u[i])):a[i]=u[i]}return a},f.clone=function(a,r){return f.extend({},r,a)},f.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var n in a)r.push(n);return r},f.values=function(a){var r=[];if(Object.keys){for(var n=Object.keys(a),e=0;e<n.length;e++)r.push(a[n[e]]);return r}for(var s in a)r.push(a[s]);return r},f.get=function(a,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)a=a[r[s]];return a},f.set=function(a,r,n,e,s){var u=r.split(".").slice(e,s);return f.get(a,r,0,-1)[u[u.length-1]]=n,n},f.shuffle=function(a){for(var r=a.length-1;r>0;r--){var n=Math.floor(f.random()*(r+1)),e=a[r];a[r]=a[n],a[n]=e}return a},f.choose=function(a){return a[Math.floor(f.random()*a.length)]},f.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},f.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},f.isFunction=function(a){return typeof a=="function"},f.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},f.isString=function(a){return toString.call(a)==="[object String]"},f.clamp=function(a,r,n){return a<r?r:a>n?n:a},f.sign=function(a){return a<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+c()*(r-a)};var c=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[a]||(f.warn(a),f._warnedOnce[a]=!0)},f.deprecated=function(a,r,n){a[r]=f.chain(function(){f.warnOnce("\u{1F505} deprecated \u{1F505}",n)},a[r])},f.nextId=function(){return f._nextId++},f.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var n=0;n<a.length;n++)if(a[n]===r)return n;return-1},f.map=function(a,r){if(a.map)return a.map(r);for(var n=[],e=0;e<a.length;e+=1)n.push(r(a[e]));return n},f.topologicalSort=function(a){var r=[],n=[],e=[];for(var s in a)!n[s]&&!e[s]&&f._topologicalSort(s,n,e,a,r);return r},f._topologicalSort=function(a,r,n,e,s){var u=e[a]||[];n[a]=!0;for(var i=0;i<u.length;i+=1){var o=u[i];n[o]||r[o]||f._topologicalSort(o,r,n,e,s)}n[a]=!1,r[a]=!0,s.push(a)},f.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?a.push.apply(a,n._chained):a.push(n)}var e=function(){for(var s,u=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)u[i]=arguments[i];for(i=0;i<a.length;i+=1){var h=a[i].apply(s,u);typeof h<"u"&&(s=h)}return s};return e._chained=a,e},f.chainPathBefore=function(a,r,n){return f.set(a,r,f.chain(n,f.get(a,r)))},f.chainPathAfter=function(a,r,n){return f.set(a,r,f.chain(f.get(a,r),n))},f.setDecomp=function(a){f._decomp=a},f.getDecomp=function(){var a=f._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},45775:(p,S,t)=>{var f={};p.exports=f;var c=t(22806),a=t(44272),r=t(13657),n=t(91327),e=t(39073),s=t(11299),u=t(52838),i=t(68758),o=t(84125);(function(){f.create=function(h){h=h||{};var l={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=i.extend(l,h);return d.world=h.world||s.create({label:"World"}),d.pairs=h.pairs||n.create(),d.detector=h.detector||r.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},f.update=function(h,l){var d=i.now(),v=h.world,m=h.detector,x=h.pairs,g=h.timing,y=g.timestamp,T;l=typeof l<"u"?l:i._baseDelta,l*=g.timeScale,g.timestamp+=l,g.lastDelta=l;var E={timestamp:g.timestamp,delta:l};e.trigger(h,"beforeUpdate",E);var C=s.allBodies(v),A=s.allConstraints(v);for(v.isModified&&(r.setBodies(m,C),s.setModified(v,!1,!1,!0)),h.enableSleeping&&c.update(C,l),f._bodiesApplyGravity(C,h.gravity),l>0&&f._bodiesUpdate(C,l),e.trigger(h,"beforeSolve",E),u.preSolveAll(C),T=0;T<h.constraintIterations;T++)u.solveAll(A,l);u.postSolveAll(C),m.pairs=h.pairs;var P=r.collisions(m);n.update(x,P,y),h.enableSleeping&&c.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(h,"collisionStart",{pairs:x.collisionStart,timestamp:g.timestamp,delta:l});var F=i.clamp(20/h.positionIterations,0,1);for(a.preSolvePosition(x.list),T=0;T<h.positionIterations;T++)a.solvePosition(x.list,l,F);for(a.postSolvePosition(C),u.preSolveAll(C),T=0;T<h.constraintIterations;T++)u.solveAll(A,l);for(u.postSolveAll(C),a.preSolveVelocity(x.list),T=0;T<h.velocityIterations;T++)a.solveVelocity(x.list,l);return f._bodiesUpdateVelocities(C),x.collisionActive.length>0&&e.trigger(h,"collisionActive",{pairs:x.collisionActive,timestamp:g.timestamp,delta:l}),x.collisionEnd.length>0&&e.trigger(h,"collisionEnd",{pairs:x.collisionEnd,timestamp:g.timestamp,delta:l}),f._bodiesClearForces(C),e.trigger(h,"afterUpdate",E),h.timing.lastElapsed=i.now()-d,h},f.merge=function(h,l){if(i.extend(h,l),l.world){h.world=l.world,f.clear(h);for(var d=s.allBodies(h.world),v=0;v<d.length;v++){var m=d[v];c.set(m,!1),m.id=i.nextId()}}},f.clear=function(h){n.clear(h.pairs),r.clear(h.detector)},f._bodiesClearForces=function(h){for(var l=h.length,d=0;d<l;d++){var v=h[d];v.force.x=0,v.force.y=0,v.torque=0}},f._bodiesApplyGravity=function(h,l){var d=typeof l.scale<"u"?l.scale:.001,v=h.length;if(!(l.x===0&&l.y===0||d===0))for(var m=0;m<v;m++){var x=h[m];x.ignoreGravity||x.isStatic||x.isSleeping||(x.force.y+=x.mass*l.y*d,x.force.x+=x.mass*l.x*d)}},f._bodiesUpdate=function(h,l){for(var d=h.length,v=0;v<d;v++){var m=h[v];m.isStatic||m.isSleeping||o.update(m,l)}},f._bodiesUpdateVelocities=function(h){for(var l=h.length,d=0;d<l;d++)o.updateVelocities(h[d])}})()},39073:(p,S,t)=>{var f={};p.exports=f;var c=t(68758);(function(){f.on=function(a,r,n){for(var e=r.split(" "),s,u=0;u<e.length;u++)s=e[u],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(n);return n},f.off=function(a,r,n){if(!r){a.events={};return}typeof r=="function"&&(n=r,r=c.keys(a.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var u=a.events[e[s]],i=[];if(n&&u)for(var o=0;o<u.length;o++)u[o]!==n&&i.push(u[o]);a.events[e[s]]=i}},f.trigger=function(a,r,n){var e,s,u,i,o=a.events;if(o&&c.keys(o).length>0){n||(n={}),e=r.split(" ");for(var h=0;h<e.length;h++)if(s=e[h],u=o[s],u){i=c.clone(n,!1),i.name=s,i.source=a;for(var l=0;l<u.length;l++)u[l].apply(a,[i])}}}})()},16929:(p,S,t)=>{var f={};p.exports=f;var c=t(84474),a=t(68758);(function(){f.name="matter-js",f.version="0.19.0",f.uses=[],f.used=[],f.use=function(){c.use(f,Array.prototype.slice.call(arguments))},f.before=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathBefore(f,r,n)},f.after=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathAfter(f,r,n)}})()},84474:(p,S,t)=>{var f={};p.exports=f;var c=t(68758);(function(){f._registry={},f.register=function(a){if(f.isPlugin(a)||c.warn("Plugin.register:",f.toString(a),"does not implement all required fields."),a.name in f._registry){var r=f._registry[a.name],n=f.versionParse(a.version).number,e=f.versionParse(r.version).number;n>e?(c.warn("Plugin.register:",f.toString(r),"was upgraded to",f.toString(a)),f._registry[a.name]=a):n<e?c.warn("Plugin.register:",f.toString(r),"can not be downgraded to",f.toString(a)):a!==r&&c.warn("Plugin.register:",f.toString(a),"is already registered to different plugin object")}else f._registry[a.name]=a;return a},f.resolve=function(a){return f._registry[f.dependencyParse(a).name]},f.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},f.isPlugin=function(a){return a&&a.name&&a.version&&a.install},f.isUsed=function(a,r){return a.used.indexOf(r)>-1},f.isFor=function(a,r){var n=a.for&&f.dependencyParse(a.for);return!a.for||r.name===n.name&&f.versionSatisfies(r.version,n.range)},f.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){c.warn("Plugin.use:",f.toString(a),"does not specify any dependencies to install.");return}for(var n=f.dependencies(a),e=c.topologicalSort(n),s=[],u=0;u<e.length;u+=1)if(e[u]!==a.name){var i=f.resolve(e[u]);if(!i){s.push("\u274C "+e[u]);continue}f.isUsed(a,i.name)||(f.isFor(i,a)||(c.warn("Plugin.use:",f.toString(i),"is for",i.for,"but installed on",f.toString(a)+"."),i._warned=!0),i.install?i.install(a):(c.warn("Plugin.use:",f.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push("\u{1F536} "+f.toString(i)),delete i._warned):s.push("\u2705 "+f.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&c.info(s.join("  "))},f.dependencies=function(a,r){var n=f.dependencyParse(a),e=n.name;if(r=r||{},!(e in r)){a=f.resolve(a)||a,r[e]=c.map(a.uses||[],function(u){f.isPlugin(u)&&f.register(u);var i=f.dependencyParse(u),o=f.resolve(u);return o&&!f.versionSatisfies(o.version,i.range)?(c.warn("Plugin.dependencies:",f.toString(o),"does not satisfy",f.toString(i),"used by",f.toString(n)+"."),o._warned=!0,a._warned=!0):o||(c.warn("Plugin.dependencies:",f.toString(u),"used by",f.toString(n),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)f.dependencies(r[e][s],r);return r}},f.dependencyParse=function(a){if(c.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||c.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},f.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||c.warn("Plugin.versionParse:",a,"is not a valid version or range.");var n=r.exec(a),e=Number(n[4]),s=Number(n[5]),u=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:a,operator:n[1]||n[2]||"",major:e,minor:s,patch:u,parts:[e,s,u],prerelease:n[7],number:e*1e8+s*1e4+u}},f.versionSatisfies=function(a,r){r=r||"*";var n=f.versionParse(r),e=f.versionParse(a);if(n.isRange){if(n.operator==="*"||a==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return a===r||a==="*"}})()},22806:(p,S,t)=>{var f={};p.exports=f;var c=t(84125),a=t(39073),r=t(68758);(function(){f._motionWakeThreshold=.18,f._motionSleepThreshold=.08,f._minBias=.9,f.update=function(n,e){for(var s=e/r._baseDelta,u=f._motionSleepThreshold,i=0;i<n.length;i++){var o=n[i],h=c.getSpeed(o),l=c.getAngularSpeed(o),d=h*h+l*l;if(o.force.x!==0||o.force.y!==0){f.set(o,!1);continue}var v=Math.min(o.motion,d),m=Math.max(o.motion,d);o.motion=f._minBias*v+(1-f._minBias)*m,o.sleepThreshold>0&&o.motion<u?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/s&&f.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},f.afterCollisions=function(n){for(var e=f._motionSleepThreshold,s=0;s<n.length;s++){var u=n[s];if(!!u.isActive){var i=u.collision,o=i.bodyA.parent,h=i.bodyB.parent;if(!(o.isSleeping&&h.isSleeping||o.isStatic||h.isStatic)&&(o.isSleeping||h.isSleeping)){var l=o.isSleeping&&!o.isStatic?o:h,d=l===o?h:o;!l.isStatic&&d.motion>e&&f.set(l,!1)}}}},f.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||a.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&a.trigger(n,"sleepEnd"))}})()},68516:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(68758),r=t(84125),n=t(84091),e=t(10438);(function(){f.rectangle=function(s,u,i,o,h){h=h||{};var l={label:"Rectangle Body",position:{x:s,y:u},vertices:c.fromPath("L 0 0 L "+i+" 0 L "+i+" "+o+" L 0 "+o)};if(h.chamfer){var d=h.chamfer;l.vertices=c.chamfer(l.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete h.chamfer}return r.create(a.extend({},l,h))},f.trapezoid=function(s,u,i,o,h,l){l=l||{},h*=.5;var d=(1-h*2)*i,v=i*h,m=v+d,x=m+v,g;h<.5?g="L 0 0 L "+v+" "+-o+" L "+m+" "+-o+" L "+x+" 0":g="L 0 0 L "+m+" "+-o+" L "+x+" 0";var y={label:"Trapezoid Body",position:{x:s,y:u},vertices:c.fromPath(g)};if(l.chamfer){var T=l.chamfer;y.vertices=c.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete l.chamfer}return r.create(a.extend({},y,l))},f.circle=function(s,u,i,o,h){o=o||{};var l={label:"Circle Body",circleRadius:i};h=h||25;var d=Math.ceil(Math.max(10,Math.min(h,i)));return d%2===1&&(d+=1),f.polygon(s,u,d,i,a.extend({},l,o))},f.polygon=function(s,u,i,o,h){if(h=h||{},i<3)return f.circle(s,u,o,h);for(var l=2*Math.PI/i,d="",v=l*.5,m=0;m<i;m+=1){var x=v+m*l,g=Math.cos(x)*o,y=Math.sin(x)*o;d+="L "+g.toFixed(3)+" "+y.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:s,y:u},vertices:c.fromPath(d)};if(h.chamfer){var E=h.chamfer;T.vertices=c.chamfer(T.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete h.chamfer}return r.create(a.extend({},T,h))},f.fromVertices=function(s,u,i,o,h,l,d,v){var m=a.getDecomp(),x,g,y,T,E,C,A,P,F,O,I;for(x=Boolean(m&&m.quickDecomp),o=o||{},y=[],h=typeof h<"u"?h:!1,l=typeof l<"u"?l:.01,d=typeof d<"u"?d:10,v=typeof v<"u"?v:.01,a.isArray(i[0])||(i=[i]),O=0;O<i.length;O+=1)if(C=i[O],T=c.isConvex(C),E=!T,E&&!x&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!x)T?C=c.clockwiseSort(C):C=c.hull(C),y.push({position:{x:s,y:u},vertices:C});else{var G=C.map(function(K){return[K.x,K.y]});m.makeCCW(G),l!==!1&&m.removeCollinearPoints(G,l),v!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(G,v);var z=m.quickDecomp(G);for(A=0;A<z.length;A++){var X=z[A],H=X.map(function(K){return{x:K[0],y:K[1]}});d>0&&c.area(H)<d||y.push({position:c.centre(H),vertices:H})}}for(A=0;A<y.length;A++)y[A]=r.create(a.extend(y[A],o));if(h){var N=5;for(A=0;A<y.length;A++){var U=y[A];for(P=A+1;P<y.length;P++){var R=y[P];if(n.overlaps(U.bounds,R.bounds)){var D=U.vertices,B=R.vertices;for(F=0;F<U.vertices.length;F++)for(I=0;I<R.vertices.length;I++){var V=e.magnitudeSquared(e.sub(D[(F+1)%D.length],B[I])),Y=e.magnitudeSquared(e.sub(D[F],B[(I+1)%B.length]));V<N&&Y<N&&(D[F].isInternal=!0,B[I].isInternal=!0)}}}}}return y.length>1?(g=r.create(a.extend({parts:y.slice(0)},o)),r.setPosition(g,{x:s,y:u}),g):y[0]},f.flagCoincidentParts=function(s,u){u===void 0&&(u=5);for(var i=0;i<s.length;i++)for(var o=s[i],h=i+1;h<s.length;h++){var l=s[h];if(n.overlaps(o.bounds,l.bounds))for(var d=o.vertices,v=l.vertices,m=0;m<o.vertices.length;m++)for(var x=0;x<l.vertices.length;x++){var g=e.magnitudeSquared(e.sub(d[(m+1)%d.length],v[x])),y=e.magnitudeSquared(e.sub(d[m],v[(x+1)%v.length]));g<u&&y<u&&(d[m].isInternal=!0,v[x].isInternal=!0)}}return s}})()},56643:(p,S,t)=>{var f={};p.exports=f;var c=t(11299),a=t(52838),r=t(68758),n=t(84125),e=t(68516);(function(){f.stack=function(s,u,i,o,h,l,d){for(var v=c.create({label:"Stack"}),m=s,x=u,g,y=0,T=0;T<o;T++){for(var E=0,C=0;C<i;C++){var A=d(m,x,C,T,g,y);if(A){var P=A.bounds.max.y-A.bounds.min.y,F=A.bounds.max.x-A.bounds.min.x;P>E&&(E=P),n.translate(A,{x:F*.5,y:P*.5}),m=A.bounds.max.x+h,c.addBody(v,A),g=A,y+=1}else m+=h}x+=E+l,m=s}return v},f.chain=function(s,u,i,o,h,l){for(var d=s.bodies,v=1;v<d.length;v++){var m=d[v-1],x=d[v],g=m.bounds.max.y-m.bounds.min.y,y=m.bounds.max.x-m.bounds.min.x,T=x.bounds.max.y-x.bounds.min.y,E=x.bounds.max.x-x.bounds.min.x,C={bodyA:m,pointA:{x:y*u,y:g*i},bodyB:x,pointB:{x:E*o,y:T*h}},A=r.extend(C,l);c.addConstraint(s,a.create(A))}return s.label+=" Chain",s},f.mesh=function(s,u,i,o,h){var l=s.bodies,d,v,m,x,g;for(d=0;d<i;d++){for(v=1;v<u;v++)m=l[v-1+d*u],x=l[v+d*u],c.addConstraint(s,a.create(r.extend({bodyA:m,bodyB:x},h)));if(d>0)for(v=0;v<u;v++)m=l[v+(d-1)*u],x=l[v+d*u],c.addConstraint(s,a.create(r.extend({bodyA:m,bodyB:x},h))),o&&v>0&&(g=l[v-1+(d-1)*u],c.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:x},h)))),o&&v<u-1&&(g=l[v+1+(d-1)*u],c.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:x},h))))}return s.label+=" Mesh",s},f.pyramid=function(s,u,i,o,h,l,d){return f.stack(s,u,i,o,h,l,function(v,m,x,g,y,T){var E=Math.min(o,Math.ceil(i/2)),C=y?y.bounds.max.x-y.bounds.min.x:0;if(!(g>E)){g=E-g;var A=g,P=i-1-g;if(!(x<A||x>P)){T===1&&n.translate(y,{x:(x+(i%2===1?1:-1))*C,y:0});var F=y?x*C:0;return d(s+F+x*h,m,x,g,y,T)}}})},f.newtonsCradle=function(s,u,i,o,h){for(var l=c.create({label:"Newtons Cradle"}),d=0;d<i;d++){var v=1.9,m=e.circle(s+d*(o*v),u+h,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=a.create({pointA:{x:s+d*(o*v),y:u},bodyB:m});c.addBody(l,m),c.addConstraint(l,x)}return l},f.car=function(s,u,i,o,h){var l=n.nextGroup(!0),d=20,v=-i*.5+d,m=i*.5-d,x=0,g=c.create({label:"Car"}),y=e.rectangle(s,u,i,o,{collisionFilter:{group:l},chamfer:{radius:o*.5},density:2e-4}),T=e.circle(s+v,u+x,h,{collisionFilter:{group:l},friction:.8}),E=e.circle(s+m,u+x,h,{collisionFilter:{group:l},friction:.8}),C=a.create({bodyB:y,pointB:{x:v,y:x},bodyA:T,stiffness:1,length:0}),A=a.create({bodyB:y,pointB:{x:m,y:x},bodyA:E,stiffness:1,length:0});return c.addBody(g,y),c.addBody(g,T),c.addBody(g,E),c.addConstraint(g,C),c.addConstraint(g,A),g},f.softBody=function(s,u,i,o,h,l,d,v,m,x){m=r.extend({inertia:1/0},m),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var g=f.stack(s,u,i,o,h,l,function(y,T){return e.circle(y,T,v,m)});return f.mesh(g,i,o,d,x),g.label="Soft Body",g}})()},50658:(p,S,t)=>{var f={};p.exports=f;var c=t(10438),a=t(68758);(function(){f.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,u=c.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=u.y===0?1/0:u.x/u.y;i=i.toFixed(3).toString(),n[i]=u}return a.values(n)},f.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),u=0;u<r.length;u++){var i=r[u],o;o=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=o}}})()},84091:p=>{var S={};p.exports=S,function(){S.create=function(t){var f={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(f,t),f},S.update=function(t,f,c){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<f.length;a++){var r=f[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}c&&(c.x>0?t.max.x+=c.x:t.min.x+=c.x,c.y>0?t.max.y+=c.y:t.min.y+=c.y)},S.contains=function(t,f){return f.x>=t.min.x&&f.x<=t.max.x&&f.y>=t.min.y&&f.y<=t.max.y},S.overlaps=function(t,f){return t.min.x<=f.max.x&&t.max.x>=f.min.x&&t.max.y>=f.min.y&&t.min.y<=f.max.y},S.translate=function(t,f){t.min.x+=f.x,t.max.x+=f.x,t.min.y+=f.y,t.max.y+=f.y},S.shift=function(t,f){var c=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=f.x,t.max.x=f.x+c,t.min.y=f.y,t.max.y=f.y+a}}()},92765:(p,S,t)=>{var f={};p.exports=f,t(84091);var c=t(68758);(function(){f.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,u,i,o,h,l,d,v,m=[],x,g,y=0,T=0,E=0;r=r||15;var C=function(P,F,O){var I=O%2===1&&O>1;if(!d||P!=d.x||F!=d.y){d&&I?(x=d.x,g=d.y):(x=0,g=0);var G={x:x+P,y:g+F};(I||!d)&&(d=G),m.push(G),T=x+P,E=g+F}},A=function(P){var F=P.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":T=P.x,E=P.y;break;case"H":T=P.x;break;case"V":E=P.y;break}C(T,E,P.pathSegType)}};for(f._svgPathToAbsolute(a),s=a.getTotalLength(),o=[],n=0;n<a.pathSegList.numberOfItems;n+=1)o.push(a.pathSegList.getItem(n));for(h=o.concat();y<s;){if(v=a.getPathSegAtLength(y),i=o[v],i!=l){for(;h.length&&h[0]!=i;)A(h.shift());l=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=a.getPointAtLength(y),C(u.x,u.y,0);break}y+=r}for(n=0,e=h.length;n<e;++n)A(h[n]);return m},f._svgPathToAbsolute=function(a){for(var r,n,e,s,u,i,o=a.pathSegList,h=0,l=0,d=o.numberOfItems,v=0;v<d;++v){var m=o.getItem(v),x=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in m&&(h=m.x),"y"in m&&(l=m.y);else switch("x1"in m&&(e=h+m.x1),"x2"in m&&(u=h+m.x2),"y1"in m&&(s=l+m.y1),"y2"in m&&(i=l+m.y2),"x"in m&&(h+=m.x),"y"in m&&(l+=m.y),x){case"m":o.replaceItem(a.createSVGPathSegMovetoAbs(h,l),v);break;case"l":o.replaceItem(a.createSVGPathSegLinetoAbs(h,l),v);break;case"h":o.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(h),v);break;case"v":o.replaceItem(a.createSVGPathSegLinetoVerticalAbs(l),v);break;case"c":o.replaceItem(a.createSVGPathSegCurvetoCubicAbs(h,l,e,s,u,i),v);break;case"s":o.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(h,l,u,i),v);break;case"q":o.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(h,l,e,s),v);break;case"t":o.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(h,l),v);break;case"a":o.replaceItem(a.createSVGPathSegArcAbs(h,l,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),v);break;case"z":case"Z":h=r,l=n;break}(x=="M"||x=="m")&&(r=h,n=l)}}})()},10438:p=>{var S={};p.exports=S,function(){S.create=function(t,f){return{x:t||0,y:f||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,f,c){var a=Math.cos(f),r=Math.sin(f);c||(c={});var n=t.x*a-t.y*r;return c.y=t.x*r+t.y*a,c.x=n,c},S.rotateAbout=function(t,f,c,a){var r=Math.cos(f),n=Math.sin(f);a||(a={});var e=c.x+((t.x-c.x)*r-(t.y-c.y)*n);return a.y=c.y+((t.x-c.x)*n+(t.y-c.y)*r),a.x=e,a},S.normalise=function(t){var f=S.magnitude(t);return f===0?{x:0,y:0}:{x:t.x/f,y:t.y/f}},S.dot=function(t,f){return t.x*f.x+t.y*f.y},S.cross=function(t,f){return t.x*f.y-t.y*f.x},S.cross3=function(t,f,c){return(f.x-t.x)*(c.y-t.y)-(f.y-t.y)*(c.x-t.x)},S.add=function(t,f,c){return c||(c={}),c.x=t.x+f.x,c.y=t.y+f.y,c},S.sub=function(t,f,c){return c||(c={}),c.x=t.x-f.x,c.y=t.y-f.y,c},S.mult=function(t,f){return{x:t.x*f,y:t.y*f}},S.div=function(t,f){return{x:t.x/f,y:t.y/f}},S.perp=function(t,f){return f=f===!0?-1:1,{x:f*-t.y,y:f*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,f){return Math.atan2(f.y-t.y,f.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(p,S,t)=>{var f={};p.exports=f;var c=t(10438),a=t(68758);(function(){f.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var u=r[s],i={x:u.x,y:u.y,index:s,body:n,isInternal:!1};e.push(i)}return e},f.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(u,i,o){s.push({x:parseFloat(i),y:parseFloat(o)})}),f.create(s,n)},f.centre=function(r){for(var n=f.area(r,!0),e={x:0,y:0},s,u,i,o=0;o<r.length;o++)i=(o+1)%r.length,s=c.cross(r[o],r[i]),u=c.mult(c.add(r[o],r[i]),s),e=c.add(e,u);return c.div(e,6*n)},f.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return c.div(n,r.length)},f.area=function(r,n){for(var e=0,s=r.length-1,u=0;u<r.length;u++)e+=(r[s].x-r[u].x)*(r[s].y+r[u].y),s=u;return n?e/2:Math.abs(e)/2},f.inertia=function(r,n){for(var e=0,s=0,u=r,i,o,h=0;h<u.length;h++)o=(h+1)%u.length,i=Math.abs(c.cross(u[o],u[h])),e+=i*(c.dot(u[o],u[o])+c.dot(u[o],u[h])+c.dot(u[h],u[h])),s+=i;return n/6*(e/s)},f.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,u=n.x*e,i=n.y*e,o;for(o=0;o<s;o++)r[o].x+=u,r[o].y+=i;return r},f.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),u=Math.sin(n),i=e.x,o=e.y,h=r.length,l,d,v,m;for(m=0;m<h;m++)l=r[m],d=l.x-i,v=l.y-o,l.x=i+(d*s-v*u),l.y=o+(d*u+v*s);return r}},f.contains=function(r,n){for(var e=n.x,s=n.y,u=r.length,i=r[u-1],o,h=0;h<u;h++){if(o=r[h],(e-i.x)*(o.y-i.y)+(s-i.y)*(i.x-o.x)>0)return!1;i=o}return!0},f.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||f.centre(r);for(var u,i,o=0;o<r.length;o++)u=r[o],i=c.sub(u,s),r[o].x=s.x+i.x*n,r[o].y=s.y+i.y*e;return r},f.chamfer=function(r,n,e,s,u){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,u=u||14;for(var i=[],o=0;o<r.length;o++){var h=r[o-1>=0?o-1:r.length-1],l=r[o],d=r[(o+1)%r.length],v=n[o<n.length?o:n.length-1];if(v===0){i.push(l);continue}var m=c.normalise({x:l.y-h.y,y:h.x-l.x}),x=c.normalise({x:d.y-l.y,y:l.x-d.x}),g=Math.sqrt(2*Math.pow(v,2)),y=c.mult(a.clone(m),v),T=c.normalise(c.mult(c.add(m,x),.5)),E=c.sub(l,c.mult(T,g)),C=e;e===-1&&(C=Math.pow(v,.32)*1.75),C=a.clamp(C,s,u),C%2===1&&(C+=1);for(var A=Math.acos(c.dot(m,x)),P=A/C,F=0;F<C;F++)i.push(c.add(c.rotate(y,P*F),E))}return i},f.clockwiseSort=function(r){var n=f.mean(r);return r.sort(function(e,s){return c.angle(n,e)-c.angle(n,s)}),r},f.isConvex=function(r){var n=0,e=r.length,s,u,i,o;if(e<3)return null;for(s=0;s<e;s++)if(u=(s+1)%e,i=(s+2)%e,o=(r[u].x-r[s].x)*(r[i].y-r[u].y),o-=(r[u].y-r[s].y)*(r[i].x-r[u].x),o<0?n|=1:o>0&&(n|=2),n===3)return!1;return n!==0?!0:null},f.hull=function(r){var n=[],e=[],s,u;for(r=r.slice(0),r.sort(function(i,o){var h=i.x-o.x;return h!==0?h:i.y-o.y}),u=0;u<r.length;u+=1){for(s=r[u];e.length>=2&&c.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(u=r.length-1;u>=0;u-=1){for(s=r[u];n.length>=2&&c.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},1675:(p,S,t)=>{var f=t(18171),c={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){c.Body.init(this)}),a.before("Engine.update",function(r){c.Engine.update(r)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var r=f.Composite.allBodies(a.world),n=0;n<r.length;n++){var e=r[n],s=e.plugin.attractors;if(s&&s.length>0)for(var u=0;u<r.length;u++){var i=r[u];if(n!==u)for(var o=0;o<s.length;o++){var h=s[o],l=h;f.Common.isFunction(h)&&(l=h(e,i)),l&&f.Body.applyForce(i,i.position,l)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,r){var n=f.Vector.sub(r.position,a.position),e=f.Vector.magnitudeSquared(n)||1e-4,s=f.Vector.normalise(n),u=-c.Attractors.gravityConstant*(a.mass*r.mass/e),i=f.Vector.mult(s,u);f.Body.applyForce(a,a.position,f.Vector.neg(i)),f.Body.applyForce(r,r.position,i)}}};p.exports=c},80391:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(f){f.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collide",a,r,c),r.gameObject&&r.gameObject.emit("collide",r,a,c),t.Events.trigger(a,"onCollide",{pair:c}),t.Events.trigger(r,"onCollide",{pair:c}),a.onCollideCallback&&a.onCollideCallback(c),r.onCollideCallback&&r.onCollideCallback(c),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,c),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,c)})}),t.Events.on(this,"collisionActive",function(f){f.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,r,c),r.gameObject&&r.gameObject.emit("collideActive",r,a,c),t.Events.trigger(a,"onCollideActive",{pair:c}),t.Events.trigger(r,"onCollideActive",{pair:c}),a.onCollideActiveCallback&&a.onCollideActiveCallback(c),r.onCollideActiveCallback&&r.onCollideActiveCallback(c)})}),t.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,r,c),r.gameObject&&r.gameObject.emit("collideEnd",r,a,c),t.Events.trigger(a,"onCollideEnd",{pair:c}),t.Events.trigger(r,"onCollideEnd",{pair:c}),a.onCollideEndCallback&&a.onCollideEndCallback(c),r.onCollideEndCallback&&r.onCollideEndCallback(c)})})})}};p.exports=S},44097:(p,S,t)=>{var f=t(18171),c={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){c.Engine.update(this)})},Engine:{update:function(a){for(var r=a.world,n=f.Composite.allBodies(r),e=f.Composite.allComposites(r),s=0;s<n.length;s+=1){var u=n[s];u.plugin.wrap&&c.Body.wrap(u,u.plugin.wrap)}for(s=0;s<e.length;s+=1){var i=e[s];i.plugin.wrap&&c.Composite.wrap(i,i.plugin.wrap)}}},Bounds:{wrap:function(a,r){var n=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(a.min.x>r.max.x?n=r.min.x-a.max.x:a.max.x<r.min.x&&(n=r.max.x-a.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(a.min.y>r.max.y?e=r.min.y-a.max.y:a.max.y<r.min.y&&(e=r.max.y-a.min.y)),n!==null||e!==null)return{x:n||0,y:e||0}}},Body:{wrap:function(a,r){var n=c.Bounds.wrap(a.bounds,r);return n&&f.Body.translate(a,n),n}},Composite:{bounds:function(a){for(var r=f.Composite.allBodies(a),n=[],e=0;e<r.length;e+=1){var s=r[e];n.push(s.bounds.min,s.bounds.max)}return f.Bounds.create(n)},wrap:function(a,r){var n=c.Bounds.wrap(c.Composite.bounds(a),r);return n&&f.Composite.translate(a,n),n}}};p.exports=c},81084:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:A,quickDecomp:I,isSimple:F,removeCollinearPoints:G,removeDuplicatePoints:z,makeCCW:d};function S(N,U,R){R=R||0;var D=[0,0],B,V,Y,K,$,J,Q;return B=N[1][1]-N[0][1],V=N[0][0]-N[1][0],Y=B*N[0][0]+V*N[0][1],K=U[1][1]-U[0][1],$=U[0][0]-U[1][0],J=K*U[0][0]+$*U[0][1],Q=B*$-K*V,X(Q,0,R)||(D[0]=($*Y-V*J)/Q,D[1]=(B*J-K*Y)/Q),D}function t(N,U,R,D){var B=U[0]-N[0],V=U[1]-N[1],Y=D[0]-R[0],K=D[1]-R[1];if(Y*V-K*B===0)return!1;var $=(B*(R[1]-N[1])+V*(N[0]-R[0]))/(Y*V-K*B),J=(Y*(N[1]-R[1])+K*(R[0]-N[0]))/(K*B-Y*V);return $>=0&&$<=1&&J>=0&&J<=1}function f(N,U,R){return(U[0]-N[0])*(R[1]-N[1])-(R[0]-N[0])*(U[1]-N[1])}function c(N,U,R){return f(N,U,R)>0}function a(N,U,R){return f(N,U,R)>=0}function r(N,U,R){return f(N,U,R)<0}function n(N,U,R){return f(N,U,R)<=0}var e=[],s=[];function u(N,U,R,D){if(D){var B=e,V=s;B[0]=U[0]-N[0],B[1]=U[1]-N[1],V[0]=R[0]-U[0],V[1]=R[1]-U[1];var Y=B[0]*V[0]+B[1]*V[1],K=Math.sqrt(B[0]*B[0]+B[1]*B[1]),$=Math.sqrt(V[0]*V[0]+V[1]*V[1]),J=Math.acos(Y/(K*$));return J<D}else return f(N,U,R)===0}function i(N,U){var R=U[0]-N[0],D=U[1]-N[1];return R*R+D*D}function o(N,U){var R=N.length;return N[U<0?U%R+R:U%R]}function h(N){N.length=0}function l(N,U,R,D){for(var B=R;B<D;B++)N.push(U[B])}function d(N){for(var U=0,R=N,D=1;D<N.length;++D)(R[D][1]<R[U][1]||R[D][1]===R[U][1]&&R[D][0]>R[U][0])&&(U=D);return c(o(N,U-1),o(N,U),o(N,U+1))?!1:(v(N),!0)}function v(N){for(var U=[],R=N.length,D=0;D!==R;D++)U.push(N.pop());for(var D=0;D!==R;D++)N[D]=U[D]}function m(N,U){return r(o(N,U-1),o(N,U),o(N,U+1))}var x=[],g=[];function y(N,U,R){var D,B,V=x,Y=g;if(a(o(N,U+1),o(N,U),o(N,R))&&n(o(N,U-1),o(N,U),o(N,R)))return!1;B=i(o(N,U),o(N,R));for(var K=0;K!==N.length;++K)if(!((K+1)%N.length===U||K===U)&&a(o(N,U),o(N,R),o(N,K+1))&&n(o(N,U),o(N,R),o(N,K))&&(V[0]=o(N,U),V[1]=o(N,R),Y[0]=o(N,K),Y[1]=o(N,K+1),D=S(V,Y),i(o(N,U),D)<B))return!1;return!0}function T(N,U,R){for(var D=0;D!==N.length;++D)if(!(D===U||D===R||(D+1)%N.length===U||(D+1)%N.length===R)&&t(o(N,U),o(N,R),o(N,D),o(N,D+1)))return!1;return!0}function E(N,U,R,D){var B=D||[];if(h(B),U<R)for(var V=U;V<=R;V++)B.push(N[V]);else{for(var V=0;V<=R;V++)B.push(N[V]);for(var V=U;V<N.length;V++)B.push(N[V])}return B}function C(N){for(var U=[],R=[],D=[],B=[],V=Number.MAX_VALUE,Y=0;Y<N.length;++Y)if(m(N,Y)){for(var K=0;K<N.length;++K)if(y(N,Y,K)){R=C(E(N,Y,K,B)),D=C(E(N,K,Y,B));for(var $=0;$<D.length;$++)R.push(D[$]);R.length<V&&(U=R,V=R.length,U.push([o(N,Y),o(N,K)]))}}return U}function A(N){var U=C(N);return U.length>0?P(N,U):[N]}function P(N,U){if(U.length===0)return[N];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var R=[N],D=0;D<U.length;D++)for(var B=U[D],V=0;V<R.length;V++){var Y=R[V],K=P(Y,B);if(K){R.splice(V,1),R.push(K[0],K[1]);break}}return R}else{var B=U,D=N.indexOf(B[0]),V=N.indexOf(B[1]);return D!==-1&&V!==-1?[E(N,D,V),E(N,V,D)]:!1}}function F(N){var U=N,R;for(R=0;R<U.length-1;R++)for(var D=0;D<R-1;D++)if(t(U[R],U[R+1],U[D],U[D+1]))return!1;for(R=1;R<U.length-2;R++)if(t(U[0],U[U.length-1],U[R],U[R+1]))return!1;return!0}function O(N,U,R,D,B){B=B||0;var V=U[1]-N[1],Y=N[0]-U[0],K=V*N[0]+Y*N[1],$=D[1]-R[1],J=R[0]-D[0],Q=$*R[0]+J*R[1],k=V*J-$*Y;return X(k,0,B)?[0,0]:[(J*K-Y*Q)/k,(V*Q-$*K)/k]}function I(N,U,R,D,B,V,Y){V=V||100,Y=Y||0,B=B||25,U=typeof U<"u"?U:[],R=R||[],D=D||[];var K=[0,0],$=[0,0],J=[0,0],Q=0,k=0,q=0,tt=0,_=0,it=0,st=0,ht=[],ut=[],et=N,rt=N;if(rt.length<3)return U;if(Y++,Y>V)return console.warn("quickDecomp: max level ("+V+") reached."),U;for(var nt=0;nt<N.length;++nt)if(m(et,nt)){R.push(et[nt]),Q=k=Number.MAX_VALUE;for(var pt=0;pt<N.length;++pt)c(o(et,nt-1),o(et,nt),o(et,pt))&&n(o(et,nt-1),o(et,nt),o(et,pt-1))&&(J=O(o(et,nt-1),o(et,nt),o(et,pt),o(et,pt-1)),r(o(et,nt+1),o(et,nt),J)&&(q=i(et[nt],J),q<k&&(k=q,$=J,it=pt))),c(o(et,nt+1),o(et,nt),o(et,pt+1))&&n(o(et,nt+1),o(et,nt),o(et,pt))&&(J=O(o(et,nt+1),o(et,nt),o(et,pt),o(et,pt+1)),c(o(et,nt-1),o(et,nt),J)&&(q=i(et[nt],J),q<Q&&(Q=q,K=J,_=pt)));if(it===(_+1)%N.length)J[0]=($[0]+K[0])/2,J[1]=($[1]+K[1])/2,D.push(J),nt<_?(l(ht,et,nt,_+1),ht.push(J),ut.push(J),it!==0&&l(ut,et,it,et.length),l(ut,et,0,nt+1)):(nt!==0&&l(ht,et,nt,et.length),l(ht,et,0,_+1),ht.push(J),ut.push(J),l(ut,et,it,nt+1));else{if(it>_&&(_+=N.length),tt=Number.MAX_VALUE,_<it)return U;for(var pt=it;pt<=_;++pt)a(o(et,nt-1),o(et,nt),o(et,pt))&&n(o(et,nt+1),o(et,nt),o(et,pt))&&(q=i(o(et,nt),o(et,pt)),q<tt&&T(et,nt,pt)&&(tt=q,st=pt%N.length));nt<st?(l(ht,et,nt,st+1),st!==0&&l(ut,et,st,rt.length),l(ut,et,0,nt+1)):(nt!==0&&l(ht,et,nt,rt.length),l(ht,et,0,st+1),l(ut,et,st,nt+1))}return ht.length<ut.length?(I(ht,U,R,D,B,V,Y),I(ut,U,R,D,B,V,Y)):(I(ut,U,R,D,B,V,Y),I(ht,U,R,D,B,V,Y)),U}return U.push(N),U}function G(N,U){for(var R=0,D=N.length-1;N.length>3&&D>=0;--D)u(o(N,D-1),o(N,D),o(N,D+1),U)&&(N.splice(D%N.length,1),R++);return R}function z(N,U){for(var R=N.length-1;R>=1;--R)for(var D=N[R],B=R-1;B>=0;--B)if(H(D,N[B],U)){N.splice(R,1);continue}}function X(N,U,R){return R=R||0,Math.abs(N-U)<=R}function H(N,U,R){return X(N[0],U[0],R)&&X(N[1],U[1],R)}},88257:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=t(56694),c=new f({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=c},18360:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},91963:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},f={};f.register=function(c,a,r,n){n===void 0&&(n=!1),S[c]={plugin:a,mapping:r,custom:n}},f.registerCustom=function(c,a,r,n){t[c]={plugin:a,mapping:r,data:n}},f.hasCore=function(c){return S.hasOwnProperty(c)},f.hasCustom=function(c){return t.hasOwnProperty(c)},f.getCore=function(c){return S[c]},f.getCustom=function(c){return t[c]},f.getCustomClass=function(c){return t.hasOwnProperty(c)?t[c].plugin:null},f.remove=function(c){S.hasOwnProperty(c)&&delete S[c]},f.removeCustom=function(c){t.hasOwnProperty(c)&&delete t[c]},f.destroyCorePlugins=function(){for(var c in S)S.hasOwnProperty(c)&&delete S[c]},f.destroyCustomPlugins=function(){for(var c in t)t.hasOwnProperty(c)&&delete t[c]},p.exports=f},49274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(97081),a=t(6659),r=t(76846),n=t(99325),e=t(61286),s=t(72632),u=t(91963),i=t(66458),o=new f({Extends:a,initialize:function(l){a.call(this),this.game=l,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],l.isBooted?this.boot():l.events.once(c.BOOT,this.boot,this)},boot:function(){var h,l,d,v,m,x,g,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),h=0;h<T.length;h++)l=T[h],d=s(l,"key",null),v=s(l,"plugin",null),m=s(l,"start",!1),x=s(l,"mapping",null),g=s(l,"data",null),d&&(v?this.install(d,v,m,x,g):console.warn("Missing `plugin` for key: "+d));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),h=0;h<T.length;h++)l=T[h],d=s(l,"key",null),v=s(l,"plugin",null),x=s(l,"mapping",null),d&&(v?this.installScenePlugin(d,v,x):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(c.DESTROY,this.destroy,this)},addToScene:function(h,l,d){var v,m,x,g=this.game,y=h.scene,T=h.settings.map,E=h.settings.isBooted;for(v=0;v<l.length;v++)m=l[v],g[m]?(h[m]=g[m],T.hasOwnProperty(m)&&(y[T[m]]=h[m])):m==="game"&&T.hasOwnProperty(m)&&(y[T[m]]=g);for(var C=0;C<d.length;C++)for(x=d[C],v=0;v<x.length;v++)if(m=x[v],!!u.hasCore(m)){var A=u.getCore(m),P=A.mapping,F=new A.plugin(y,this,P);h[P]=F,A.custom?y[P]=F:T.hasOwnProperty(P)&&(y[T[P]]=F),E&&F.boot()}for(x=this.plugins,v=0;v<x.length;v++){var O=x[v];O.mapping&&(y[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var h=this.game.config.defaultPlugins;return h=h.concat(this.scenePlugins),h},installScenePlugin:function(h,l,d,v,m){if(m===void 0&&(m=!1),typeof l!="function"){console.warn("Invalid Scene Plugin: "+h);return}if(u.hasCore(h)||u.register(h,l,d,!0),this.scenePlugins.indexOf(h)===-1)this.scenePlugins.push(h);else if(!m&&u.hasCore(h)){console.warn("Scene Plugin key in use: "+h);return}if(v){var x=new l(v,this,h);v.sys[h]=x,d&&d!==""&&(v[d]=x),x.boot()}},install:function(h,l,d,v,m){if(d===void 0&&(d=!1),v===void 0&&(v=null),m===void 0&&(m=null),typeof l!="function")return console.warn("Invalid Plugin: "+h),null;if(u.hasCustom(h))return console.warn("Plugin key in use: "+h),null;if(v!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:h,plugin:l,start:d,mapping:v,data:m});else if(u.registerCustom(h,l,v,m),d)return this.start(h);return null},getIndex:function(h){for(var l=this.plugins,d=0;d<l.length;d++){var v=l[d];if(v.key===h)return d}return-1},getEntry:function(h){var l=this.getIndex(h);if(l!==-1)return this.plugins[l]},isActive:function(h){var l=this.getEntry(h);return l&&l.active},start:function(h,l){l===void 0&&(l=h);var d=this.getEntry(l);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(h,l)),d?d.plugin:null},createEntry:function(h,l){var d=u.getCustom(h);if(d){var v=new d.plugin(this);d={key:l,plugin:v,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),v.init(d.data),v.start()}return d},stop:function(h){var l=this.getEntry(h);return l&&l.active&&(l.active=!1,l.plugin.stop()),this},get:function(h,l){l===void 0&&(l=!0);var d=this.getEntry(h);if(d)return d.plugin;var v=this.getClass(h);return v&&l?(d=this.createEntry(h,h),d?d.plugin:null):v||null},getClass:function(h){return u.getCustomClass(h)},removeGlobalPlugin:function(h){var l=this.getEntry(h);l&&i(this.plugins,l),u.removeCustom(h)},removeScenePlugin:function(h){i(this.scenePlugins,h),u.remove(h)},registerGameObject:function(h,l,d){return l&&e.register(h,l),d&&n.register(h,d),this},removeGameObject:function(h,l,d){return l===void 0&&(l=!0),d===void 0&&(d=!0),l&&e.remove(h),d&&n.remove(h),this},registerFileType:function(h,l,d){r.register(h,l),d&&d.sys.load&&(d.sys.load[h]=l)},destroy:function(){for(var h=0;h<this.plugins.length;h++)this.plugins[h].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=o},39283:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=t(88257),c=t(56694),a=t(7599),r=new c({Extends:f,initialize:function(e,s,u){f.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=u,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},45615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),f=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,c=(a,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>f){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,u=r-a;p(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+u,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+u/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(s=>c(r,s))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(a=>c(S,a)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},95723:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},91135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(89787),c=t(61840),a=t(56694),r=t(86459),n=t(6659),e=t(81044),s=t(32834),u=t(40444),i=t(38203),o=t(69360),h=new a({Extends:n,initialize:function(d){n.call(this);var v=d.config;this.config={clearBeforeRender:v.clearBeforeRender,backgroundColor:v.backgroundColor,antialias:v.antialias,roundPixels:v.roundPixels},this.game=d,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var m={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=v.context?v.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var l=this.game,d=l.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,l.scale.on(u.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(l,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(l,d){this.width=l,this.height=d,this.emit(e.RESIZE,l,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(l){return this.currentContext.globalCompositeOperation=l,this},setContext:function(l){return this.currentContext=l||this.gameContext,this},setAlpha:function(l){return this.currentContext.globalAlpha=l,this},preRender:function(){var l=this.gameContext,d=this.config,v=this.width,m=this.height;l.globalAlpha=1,l.globalCompositeOperation="source-over",l.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(l.clearRect(0,0,v,m),d.transparent||(l.fillStyle=d.backgroundColor.rgba,l.fillRect(0,0,v,m))),l.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(l,d,v){var m=d.length;this.emit(e.RENDER,l,v);var x=v.x,g=v.y,y=v.width,T=v.height,E=v.renderToTexture?v.context:l.sys.context;E.save(),this.game.scene.customViewports&&(E.beginPath(),E.rect(x,g,y,T),E.clip()),v.emit(f.PRE_RENDER,v),this.currentContext=E;var C=v.mask;C&&C.preRenderCanvas(this,null,v._maskCamera),v.transparent||(E.fillStyle=v.backgroundColor.rgba,E.fillRect(x,g,y,T)),E.globalAlpha=v.alpha,E.globalCompositeOperation="source-over",this.drawCount+=m,v.renderToTexture&&v.emit(f.PRE_RENDER,v),v.matrix.copyToContext(E);for(var A=0;A<m;A++){var P=d[A];P.mask&&P.mask.preRenderCanvas(this,P,v),P.renderCanvas(this,P,v),P.mask&&P.mask.postRenderCanvas(this,P,v)}E.setTransform(1,0,0,1,0,0),E.globalCompositeOperation="source-over",E.globalAlpha=1,v.flashEffect.postRenderCanvas(E),v.fadeEffect.postRenderCanvas(E),v.dirty=!1,C&&C.postRenderCanvas(this),E.restore(),v.renderToTexture&&(v.emit(f.POST_RENDER,v),v.renderToGame&&l.sys.context.drawImage(v.canvas,x,g)),v.emit(f.POST_RENDER,v)},postRender:function(){var l=this.gameContext;l.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(c(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(l,d,v,m,x,g,y,T,E){v===void 0&&(v=!1),this.snapshotArea(m,x,g,y,d,T,E);var C=this.snapshotState;return C.getPixel=v,c(l,C),C.callback=null,this},snapshot:function(l,d,v){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,l,d,v)},snapshotArea:function(l,d,v,m,x,g,y){var T=this.snapshotState;return T.callback=x,T.type=g,T.encoder=y,T.getPixel=!1,T.x=l,T.y=d,T.width=Math.min(v,this.gameCanvas.width),T.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(l,d,v){return this.snapshotArea(l,d,1,1,v),this.snapshotState.getPixel=!0,this},batchSprite:function(l,d,v,m){var x=v.alpha*l.alpha;if(x!==0){var g=this.currentContext,y=this._tempMatrix1,T=this._tempMatrix2,E=d.canvasData,C=E.x,A=E.y,P=d.cutWidth,F=d.cutHeight,O=d.customPivot,I=d.source.resolution,G=l.displayOriginX,z=l.displayOriginY,X=-G+d.x,H=-z+d.y;if(l.isCropped){var N=l._crop;(N.flipX!==l.flipX||N.flipY!==l.flipY)&&d.updateCropUVs(N,l.flipX,l.flipY),P=N.cw,F=N.ch,C=N.cx,A=N.cy,X=-G+N.x,H=-z+N.y,l.flipX&&(X>=0?X=-(X+P):X<0&&(X=Math.abs(X)-P)),l.flipY&&(H>=0?H=-(H+F):H<0&&(H=Math.abs(H)-F))}var U=1,R=1;l.flipX&&(O||(X+=-d.realWidth+G*2),U=-1),l.flipY&&(O||(H+=-d.realHeight+z*2),R=-1);var D=l.x,B=l.y;T.applyITRS(D,B,l.rotation,l.scaleX*U,l.scaleY*R),y.copyFrom(v.matrix),m?(y.multiplyWithOffset(m,-v.scrollX*l.scrollFactorX,-v.scrollY*l.scrollFactorY),T.e=D,T.f=B):(T.e-=v.scrollX*l.scrollFactorX,T.f-=v.scrollY*l.scrollFactorY),y.multiply(T),v.roundPixels&&(y.e=Math.round(y.e),y.f=Math.round(y.f)),g.save(),y.setToContext(g),g.globalCompositeOperation=this.blendModes[l.blendMode],g.globalAlpha=x,g.imageSmoothingEnabled=!d.source.scaleMode,l.mask&&l.mask.preRenderCanvas(this,l,v),P>0&&F>0&&(v.roundPixels?g.drawImage(d.source.image,C,A,P,F,Math.round(X),Math.round(H),Math.round(P/I),Math.round(F/I)):g.drawImage(d.source.image,C,A,P,F,X,H,P/I,F/I)),l.mask&&l.mask.postRenderCanvas(this,l,v),g.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=h},6046:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(98581),a=function(){var r=[],n=c.supportNewBlendModes,e="source-over";return r[f.NORMAL]=e,r[f.ADD]="lighter",r[f.MULTIPLY]=n?"multiply":e,r[f.SCREEN]=n?"screen":e,r[f.OVERLAY]=n?"overlay":e,r[f.DARKEN]=n?"darken":e,r[f.LIGHTEN]=n?"lighten":e,r[f.COLOR_DODGE]=n?"color-dodge":e,r[f.COLOR_BURN]=n?"color-burn":e,r[f.HARD_LIGHT]=n?"hard-light":e,r[f.SOFT_LIGHT]=n?"soft-light":e,r[f.DIFFERENCE]=n?"difference":e,r[f.EXCLUSION]=n?"exclusion":e,r[f.HUE]=n?"hue":e,r[f.SATURATION]=n?"saturation":e,r[f.COLOR]=n?"color":e,r[f.LUMINOSITY]=n?"luminosity":e,r[f.ERASE]="destination-out",r[f.SOURCE_IN]="source-in",r[f.SOURCE_OUT]="source-out",r[f.SOURCE_ATOP]="source-atop",r[f.DESTINATION_OVER]="destination-over",r[f.DESTINATION_IN]="destination-in",r[f.DESTINATION_OUT]="destination-out",r[f.DESTINATION_ATOP]="destination-atop",r[f.LIGHTER]="lighter",r[f.COPY]="copy",r[f.XOR]="xor",r};p.exports=a},49584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e,s){var u=e.alpha*n.alpha;if(u<=0)return!1;var i=f(n,e,s).calc;return r.globalCompositeOperation=a.blendModes[n.blendMode],r.globalAlpha=u,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:a.antialias,!0};p.exports=c},70936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},99298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},7743:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},99519:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},81044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(27119),a=t(72632),r=function(n,e){var s=a(e,"callback"),u=a(e,"type","image/png"),i=a(e,"encoder",.92),o=Math.abs(Math.round(a(e,"x",0))),h=Math.abs(Math.round(a(e,"y",0))),l=Math.floor(a(e,"width",n.width)),d=Math.floor(a(e,"height",n.height)),v=a(e,"getPixel",!1);if(v){var m=n.getContext("2d",{willReadFrequently:!1}),x=m.getImageData(o,h,1,1),g=x.data;s.call(null,new c(g[0],g[1],g[2],g[3]))}else if(o!==0||h!==0||l!==n.width||d!==n.height){var y=f.createWebGL(this,l,d),T=y.getContext("2d",{willReadFrequently:!0});l>0&&d>0&&T.drawImage(n,o,h,l,d,0,0,l,d);var E=new Image;E.onerror=function(){s.call(null),f.remove(y)},E.onload=function(){s.call(null,E),f.remove(y)},E.src=y.toDataURL(u,i)}else{var C=new Image;C.onerror=function(){s.call(null)},C.onload=function(){s.call(null,C)},C.src=n.toDataURL(u,i)}};p.exports=r},1217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(27119),a=t(72632),r=function(n,e){var s=n,u=a(e,"callback"),i=a(e,"type","image/png"),o=a(e,"encoder",.92),h=Math.abs(Math.round(a(e,"x",0))),l=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),v=a(e,"isFramebuffer",!1),m=v?a(e,"bufferWidth",1):s.drawingBufferWidth,x=v?a(e,"bufferHeight",1):s.drawingBufferHeight;if(d){var g=new Uint8Array(4),y=v?l:x-l;s.readPixels(h,y,1,1,s.RGBA,s.UNSIGNED_BYTE,g),u.call(null,new c(g[0],g[1],g[2],g[3]))}else{var T=Math.floor(a(e,"width",m)),E=Math.floor(a(e,"height",x)),C=T*E*4,A=new Uint8Array(C);s.readPixels(h,x-l-E,T,E,s.RGBA,s.UNSIGNED_BYTE,A);for(var P=f.createWebGL(this,T,E),F=P.getContext("2d",{willReadFrequently:!0}),O=F.getImageData(0,0,T,E),I=O.data,G=0;G<E;G++)for(var z=0;z<T;z++){var X=((E-G-1)*T+z)*4,H=v?C-(G*T+(T-z))*4:(G*T+z)*4;I[H+0]=A[X+0],I[H+1]=A[X+1],I[H+2]=A[X+2],I[H+3]=A[X+3]}F.putImageData(O,0,0);var N=new Image;N.onerror=function(){u.call(null),f.remove(P)},N.onload=function(){u.call(null,N),f.remove(P)},N.src=P.toDataURL(i,o)}};p.exports=r},95528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65641),a=t(33885),r=t(77290),n=t(72632),e=t(37410),s=t(82127),u=t(5583),i=t(58136),o=t(47406),h=t(81828),l=t(66901),d=t(71264),v=t(77310),m=t(10919),x=t(21213),g=t(51212),y=t(60848),T=new f({initialize:function(C){this.game=C.game,this.renderer=C,this.classes=new a([[c.UTILITY_PIPELINE,y],[c.MULTI_PIPELINE,v],[c.BITMAPMASK_PIPELINE,u],[c.SINGLE_PIPELINE,g],[c.ROPE_PIPELINE,x],[c.LIGHT_PIPELINE,l],[c.POINTLIGHT_PIPELINE,m],[c.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new a,this.pipelines=new a,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(E,C,A){var P=this.renderer,F=this.renderTargets;this.frameInc=Math.floor(n(E,"frameInc",32));var O=P.width,I=P.height,G=this.game.config.disablePreFX,z=this.game.config.disablePostFX;if(z||this.postPipelineClasses.setAll([[String(o.BARREL),i.Barrel],[String(o.BLOOM),i.Bloom],[String(o.BLUR),i.Blur],[String(o.BOKEH),i.Bokeh],[String(o.CIRCLE),i.Circle],[String(o.COLOR_MATRIX),i.ColorMatrix],[String(o.DISPLACEMENT),i.Displacement],[String(o.GLOW),i.Glow],[String(o.GRADIENT),i.Gradient],[String(o.PIXELATE),i.Pixelate],[String(o.SHADOW),i.Shadow],[String(o.SHINE),i.Shine],[String(o.VIGNETTE),i.Vignette],[String(o.WIPE),i.Wipe]]),!G){this.classes.set(c.FX_PIPELINE,h);for(var X=Math.min(O,I),H=Math.ceil(X/this.frameInc),N=1;N<H;N++){var U=N*this.frameInc;F.push(new e(P,U,U)),F.push(new e(P,U,U)),F.push(new e(P,U,U)),this.maxDimension=U}F.push(new e(P,O,I,1,0,!0,!0)),F.push(new e(P,O,I,1,0,!0,!0)),F.push(new e(P,O,I,1,0,!0,!0))}var R,D,B=this,V=this.game;if(this.classes.each(function(K,$){R=B.add(K,new $({game:V})),K===c.UTILITY_PIPELINE&&(B.UTILITY_PIPELINE=R,B.fullFrame1=R.fullFrame1,B.fullFrame2=R.fullFrame2,B.halfFrame1=R.halfFrame1,B.halfFrame2=R.halfFrame2)}),this.MULTI_PIPELINE=this.get(c.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(c.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(c.MOBILE_PIPELINE),G||(this.FX_PIPELINE=this.get(c.FX_PIPELINE)),E)for(D in E){var Y=E[D];R=new Y(V),R.name=D,R.isPostFX?this.postPipelineClasses.set(D,Y):this.has(D)||(this.classes.set(D,Y),this.add(D,R))}this.default=this.get(C),A&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(E){var C=this.get(E);return C&&(this.default=C),C},add:function(E,C){if(C.isPostFX){console.warn(E+" is a Post Pipeline. Use `addPostPipeline` instead");return}var A=this.pipelines,P=this.renderer;return A.has(E)?console.warn("Pipeline exists: "+E):(C.name=E,C.manager=this,A.set(E,C)),C.hasBooted||C.boot(),P.width!==0&&P.height!==0&&!C.isPreFX&&C.resize(P.width,P.height),C},addPostPipeline:function(E,C){this.postPipelineClasses.has(E)||this.postPipelineClasses.set(E,C)},flush:function(){this.current&&this.current.flush()},has:function(E){var C=this.pipelines;return typeof E=="string"?C.has(E):!!C.contains(E)},get:function(E){var C=this.pipelines;if(typeof E=="string")return C.get(E);if(C.contains(E))return E},getPostPipeline:function(E,C,A){var P=this.postPipelineClasses,F,O="",I=typeof E;if(I==="string"||I==="number"?(F=P.get(E),O=E):I==="function"?(P.contains(E)&&(F=E),O=E.name):I==="object"&&(F=P.get(E.name),O=E.name),F){var G=new F(this.game,A);return G.name=O,C&&(G.gameObject=C),G}},remove:function(E,C,A){C===void 0&&(C=!0),A===void 0&&(A=!0),this.pipelines.delete(E),C&&this.classes.delete(E),A&&this.postPipelineClasses.delete(E)},set:function(E,C,A){if(!E.isPostFX)return this.isCurrent(E,A)||(this.flush(),this.current&&this.current.unbind(),this.current=E,E.bind(A)),E.updateProjectionMatrix(),E.onBind(C),E},preBatch:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=C.length-1;A>=0;A--){var P=C[A];P.active&&P.preBatch(E)}}},postBatch:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=0;A<C.length;A++){var P=C[A];P.active&&P.postBatch(E)}}},preBatchCamera:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=C.length-1;A>=0;A--){var P=C[A];P.active&&P.preBatch(E)}}},postBatchCamera:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=0;A<C.length;A++){var P=C[A];P.active&&P.postBatch(E)}}},isCurrent:function(E,C){var A=this.renderer,P=this.current;return P&&!C&&(C=P.currentShader),!(P!==E||C.program!==A.currentProgram)},copyFrame:function(E,C,A,P,F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(E,C,A,P,F),this},copyToGame:function(E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(E),this},drawFrame:function(E,C,A,P){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(E,C,A,P),this},blendFrames:function(E,C,A,P,F){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(E,C,A,P,F),this},blendFramesAdditive:function(E,C,A,P,F){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(E,C,A,P,F),this},clearFrame:function(E,C){return this.UTILITY_PIPELINE.clearFrame(E,C),this},blitFrame:function(E,C,A,P,F,O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(E,C,A,P,F,O),this},copyFrameRect:function(E,C,A,P,F,O,I,G){return this.UTILITY_PIPELINE.copyFrameRect(E,C,A,P,F,O,I,G),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(E){return this.UTILITY_PIPELINE.bind(E)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(E){E===void 0&&this.previous&&(E=this.previous);var C=this.renderer,A=C.gl;A.disable(A.DEPTH_TEST),A.disable(A.CULL_FACE),C.hasActiveStencilMask()?A.clear(A.DEPTH_BUFFER_BIT):(A.disable(A.STENCIL_TEST),A.clear(A.DEPTH_BUFFER_BIT|A.STENCIL_BUFFER_BIT)),A.viewport(0,0,C.width,C.height),C.currentProgram=null,C.setBlendMode(0,!0);var P=C.vaoExtension;P&&P.bindVertexArrayOES(null);var F=this.pipelines.entries;for(var O in F)F[O].glReset=!0;E&&(this.current=E,E.rebind())},clear:function(){var E=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,E.currentProgram=null,E.setBlendMode(0,!0);var C=E.vaoExtension;C&&C.bindVertexArrayOES(null)},getRenderTarget:function(E){var C=this.renderTargets,A=3;if(E>this.maxDimension)return this.targetIndex=C.length-A,C[this.targetIndex];var P=(s(E,this.frameInc,0,!0)-1)*A;return this.targetIndex=P,C[P]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=T},37410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(81044),a=new f({initialize:function(n,e,s,u,i,o,h,l,d){u===void 0&&(u=1),i===void 0&&(i=0),o===void 0&&(o=!0),h===void 0&&(h=!1),l===void 0&&(l=!0),d===void 0&&(d=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=i,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=l,this.forceClamp=d,this.resize(e,s),h?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(c.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(c.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){if(r=Math.round(r*this.scale),n=Math.round(n*this.scale),r<=0&&(r=1),n<=0&&(n=1),this.autoResize&&(r!==this.width||n!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},willResize:function(r,n){return r=Math.round(r*this.scale),n=Math.round(n*this.scale),r<=0&&(r=1),n<=0&&(n=1),r!==this.width||n!==this.height},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var u=this.renderer.gl;u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,n=r.gl;r.pushFramebuffer(this.framebuffer),n.disable(n.SCISSOR_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(c.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=a},75512:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,f,c){var a=(S*255|0)&255,r=(t*255|0)&255,n=(f*255|0)&255,e=(c*255|0)&255;return(e<<24|a<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(S,t){var f=(t*255|0)&255;return(f<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var f=(S>>16|0)&255,c=(S>>8|0)&255,a=(S|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|c<<8|f)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,f=(S>>8|0)&255,c=(S|0)&255;return[t/255,f/255,c/255]},checkShaderMax:function(S,t){var f=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?f:Math.min(f,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var f="",c=0;c<t;c++)c>0&&(f+=`
	else `),c<t-1&&(f+="if (outTexId < "+c+".5)"),f+=`
	{`,f+=`
		texture = texture2D(uMainSampler[`+c+"], outTexCoord);",f+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,f)},setGlowQuality:function(S,t,f,c){return f===void 0&&(f=t.config.glowFXQuality),c===void 0&&(c=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/f/c).toFixed(7)),S=S.replace(/__DIST__/gi,c.toFixed(0)+".0"),S}}},44775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(28699),a=t(6659),r=t(18970),n=t(72632),e=t(16650),s=t(81044),u=t(37410),i=t(75512),o=t(71305),h=new f({Extends:a,initialize:function(d){a.call(this);var v=d.game,m=v.renderer,x=m.gl;this.name=n(d,"name","WebGLPipeline"),this.game=v,this.renderer=m,this.manager,this.gl=x,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(d,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var l,d=this.gl,v=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,g=n(v,"renderTarget",!1);typeof g=="boolean"&&g&&(g=1);var y=m.width,T=m.height;if(typeof g=="number")for(l=0;l<g;l++)x.push(new u(m,y,T,1,0,!0));else if(Array.isArray(g))for(l=0;l<g.length;l++){var E=n(g[l],"scale",1),C=n(g[l],"minFilter",0),A=n(g[l],"autoClear",1),P=n(g[l],"width",null),F=n(g[l],"height",P);P?x.push(new u(m,P,F,1,C,A)):x.push(new u(m,y,T,E,C,A))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(v);var O=this.shaders,I=0;for(l=0;l<O.length;l++)O[l].vertexSize>I&&(I=O[l].vertexSize);var G=n(v,"batchSize",m.config.batchSize);this.vertexCapacity=G*6;var z=new ArrayBuffer(this.vertexCapacity*I);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var X=n(v,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=m.createVertexBuffer(z,d.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(z.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),l=O.length-1;l>=0;l--)O[l].rebind();this.hasBooted=!0,m.on(s.RESIZE,this.resize,this),m.on(s.PRE_RENDER,this.onPreRender,this),m.on(s.RENDER,this.onRender,this),m.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(l,d,v){var m=this.renderer;if(l!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(v);x&&!d&&(d=!0),l.bind(d,!1),this.currentShader=l}return this},getShaderByName:function(l){for(var d=this.shaders,v=0;v<d.length;v++)if(d[v].name===l)return d[v]},setShadersFromConfig:function(l){var d,v=this.shaders,m=this.renderer;for(d=0;d<v.length;d++)v[d].destroy();var x="vertShader",g="fragShader",y="attributes",T=n(l,x,null),E=i.parseFragmentShaderMaxTextures(n(l,g,null),m.maxTextures),C=n(l,y,null),A=n(l,"shaders",[]),P=A.length;if(P===0)T&&E&&(this.shaders=[new o(this,"default",T,E,c(C))]);else{var F=[];for(d=0;d<P;d++){var O=A[d],I,G,z,X;if(typeof O=="string"?(I="default",G=T,z=i.parseFragmentShaderMaxTextures(O,m.maxTextures),X=C):(I=n(O,"name","default"),G=n(O,x,T),z=i.parseFragmentShaderMaxTextures(n(O,g,E),m.maxTextures),X=n(O,y,C)),I==="default"){var H=z.split(`
`),N=H[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(I=N.substring(20))}G&&z&&F.push(new o(this,I,G,z,c(X)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(l){return this.currentBatch={start:this.vertexCount,count:0,texture:[l],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=l,this.batch.push(this.currentBatch),0},addTextureToBatch:function(l){var d=this.currentBatch;d&&(d.texture.push(l),d.unit++,d.maxUnit++)},pushBatch:function(l){if(!this.currentBatch||this.forceZero&&l!==this.currentTexture)return this.createBatch(l);if(l===this.currentTexture)return this.currentUnit;var d=this.currentBatch,v=d.texture.indexOf(l);return v===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(l):(d.unit++,d.maxUnit++,d.texture.push(l),this.currentUnit=d.unit,this.currentTexture=l,d.unit):(this.currentUnit=v,this.currentTexture=l,v)},setGameObject:function(l,d){return d===void 0&&(d=l.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(l){return l===void 0&&(l=0),this.vertexCount+l>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(l,d){(l!==this.width||d!==this.height)&&this.flush(),this.width=l,this.height=d;for(var v=this.renderTargets,m=0;m<v.length;m++)v[m].resize(l,d);return this.setProjectionMatrix(l,d),this.emit(r.RESIZE,l,d,this),this.onResize(l,d),this},setProjectionMatrix:function(l,d){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=l,this.projectionHeight=d,v.ortho(0,l,d,0,-1e3,1e3);for(var m=this.shaders,x="uProjectionMatrix",g=0;g<m.length;g++){var y=m[g];y.hasUniform(x)&&(y.resetUniform(x),y.setMatrix4fv(x,!1,v.val,y))}return this},flipProjectionMatrix:function(l){l===void 0&&(l=!0);var d=this.projectionMatrix;if(!d)return this;var v=this.projectionWidth,m=this.projectionHeight;l?d.ortho(0,v,0,m,-1e3,1e3):d.ortho(0,v,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var l=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==l||this.projectionHeight!==d)&&this.setProjectionMatrix(l,d)}},bind:function(l){if(l===void 0&&(l=this.currentShader),this.glReset)return this.rebind(l);var d=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,d=!0),l.bind(d),this.currentShader=l,this.activeTextures.length=0,this.emit(r.BIND,this,l),this.onActive(l),this},rebind:function(l){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,v=d.length-1;v>=0;v--){var m=d[v].rebind();(!l||m===l)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(l){if(l===void 0&&(l=this.vertexBuffer),l!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,l),this.activeBuffer=l,!0}return!1},preBatch:function(l){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(l),this},postBatch:function(l){return this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(l){if(l===void 0&&(l=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,l),this.onBeforeFlush(l);var d=this.gl,v=this.vertexCount,m=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,v*m));var g,y,T,E=this.batch,C=this.activeTextures;if(this.forceZero)for(C[0]||d.activeTexture(d.TEXTURE0),g=0;g<E.length;g++)y=E[g],T=y.texture[0],C[0]!==T&&(d.bindTexture(d.TEXTURE_2D,T),C[0]=T),d.drawArrays(x,y.start,y.count);else for(g=0;g<E.length;g++){y=E[g];for(var A=0;A<=y.maxUnit;A++)T=y.texture[A],C[A]!==T&&(d.activeTexture(d.TEXTURE0+A),d.bindTexture(d.TEXTURE_2D,T),C[A]=T);d.drawArrays(x,y.start,y.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,l),this.onAfterFlush(l)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(l,d,v,m,x,g,y){var T=this.vertexViewF32,E=this.vertexViewU32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++C]=l,T[++C]=d,T[++C]=v,T[++C]=m,T[++C]=x,T[++C]=g,E[++C]=y,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N){N===void 0&&(N=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(N=this.setTexture2D(H));var R=this.vertexViewF32,D=this.vertexViewU32,B=this.vertexCount*this.currentShader.vertexComponentCount-1;return R[++B]=d,R[++B]=v,R[++B]=C,R[++B]=A,R[++B]=N,R[++B]=X,D[++B]=O,R[++B]=m,R[++B]=x,R[++B]=C,R[++B]=F,R[++B]=N,R[++B]=X,D[++B]=G,R[++B]=g,R[++B]=y,R[++B]=P,R[++B]=F,R[++B]=N,R[++B]=X,D[++B]=z,R[++B]=d,R[++B]=v,R[++B]=C,R[++B]=A,R[++B]=N,R[++B]=X,D[++B]=O,R[++B]=g,R[++B]=y,R[++B]=P,R[++B]=F,R[++B]=N,R[++B]=X,D[++B]=z,R[++B]=T,R[++B]=E,R[++B]=P,R[++B]=A,R[++B]=N,R[++B]=X,D[++B]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(l),U},batchTri:function(l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z){z===void 0&&(z=this.currentUnit);var X=!1;this.shouldFlush(3)&&(this.flush(),X=!0),this.currentBatch||(z=this.setTexture2D(G));var H=this.vertexViewF32,N=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++U]=d,H[++U]=v,H[++U]=T,H[++U]=E,H[++U]=z,H[++U]=I,N[++U]=P,H[++U]=m,H[++U]=x,H[++U]=T,H[++U]=A,H[++U]=z,H[++U]=I,N[++U]=F,H[++U]=g,H[++U]=y,H[++U]=C,H[++U]=A,H[++U]=z,H[++U]=I,N[++U]=O,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(l),X},drawFillRect:function(l,d,v,m,x,g,y,T){y===void 0&&(y=this.renderer.whiteTexture),T===void 0&&(T=!0),l=Math.floor(l),d=Math.floor(d);var E=Math.floor(l+v),C=Math.floor(d+m),A=this.setTexture2D(y),P=i.getTintAppendFloatAlphaAndSwap(x,g),F=0,O=0,I=1,G=1;T&&(O=1,G=0),this.batchQuad(null,l,d,l,C,E,C,E,d,F,O,I,G,P,P,P,P,0,y,A)},setTexture2D:function(l){return l===void 0&&(l=this.renderer.whiteTexture),this.pushBatch(l)},bindTexture:function(l,d){d===void 0&&(d=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+d),v.bindTexture(v.TEXTURE_2D,l),this},bindRenderTarget:function(l,d){return this.bindTexture(l.texture,d)},setTime:function(l,d){return this.set1f(l,this.game.loop.getDuration(),d),this},setBoolean:function(l,d,v){return v===void 0&&(v=this.currentShader),v.setBoolean(l,d),this},set1f:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1f(l,d),this},set2f:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.set2f(l,d,v),this},set3f:function(l,d,v,m,x){return x===void 0&&(x=this.currentShader),x.set3f(l,d,v,m),this},set4f:function(l,d,v,m,x,g){return g===void 0&&(g=this.currentShader),g.set4f(l,d,v,m,x),this},set1fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1fv(l,d),this},set2fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set2fv(l,d),this},set3fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set3fv(l,d),this},set4fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set4fv(l,d),this},set1iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1iv(l,d),this},set2iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set2iv(l,d),this},set3iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set3iv(l,d),this},set4iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set4iv(l,d),this},set1i:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1i(l,d),this},set2i:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.set2i(l,d,v),this},set3i:function(l,d,v,m,x){return x===void 0&&(x=this.currentShader),x.set3i(l,d,v,m),this},set4i:function(l,d,v,m,x,g){return g===void 0&&(g=this.currentShader),g.set4i(l,d,v,m,x),this},setMatrix2fv:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(l,d,v),this},setMatrix3fv:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(l,d,v),this},setMatrix4fv:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(l,d,v),this},destroy:function(){this.emit(r.DESTROY,this);var l,d=this.shaders;for(l=0;l<d.length;l++)d[l].destroy();var v=this.renderTargets;for(l=0;l<v.length;l++)v[l].destroy();this.gl.deleteBuffer(this.vertexBuffer);var m=this.renderer;return m.off(s.RESIZE,this.resize,this),m.off(s.PRE_RENDER,this.onPreRender,this),m.off(s.RENDER,this.onRender,this),m.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=h},11857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(89787),a=t(56694),r=t(86459),n=t(6659),e=t(81044),s=t(28621),u=t(16650),i=t(72283),o=t(35217),h=t(37410),l=t(40444),d=t(38203),v=t(75512),m=t(1217),x=new a({Extends:n,initialize:function(y){n.call(this);var T=y.config,E={alpha:T.transparent,desynchronized:T.desynchronized,depth:!0,antialias:T.antialiasGL,premultipliedAlpha:T.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:T.failIfMajorPerformanceCaveat,powerPreference:T.powerPreference,preserveDrawingBuffer:T.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:T.clearBeforeRender,antialias:T.antialias,backgroundColor:T.backgroundColor,contextCreation:E,roundPixels:T.roundPixels,maxTextures:T.maxTextures,maxTextureSize:T.maxTextureSize,batchSize:T.batchSize,maxLights:T.maxLights,mipmapFilter:T.mipmapFilter},this.game=y,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=i,this.contextRestoredHandler=i,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(g){var y,T=this.game,E=this.canvas,C=g.backgroundColor;if(T.config.context?y=T.config.context:y=E.getContext("webgl",g.contextCreation)||E.getContext("experimental-webgl",g.contextCreation),!y||y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=y;var A=this;this.contextLostHandler=function(H){A.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),H.preventDefault()},E.addEventListener("webglcontextlost",this.contextLostHandler,!1),T.context=y;for(var P=0;P<=27;P++)this.blendModes.push({func:[y.ONE,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_ADD});this.blendModes[1].func=[y.ONE,y.DST_ALPHA],this.blendModes[2].func=[y.DST_COLOR,y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[y.ONE,y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[y.ZERO,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_REVERSE_SUBTRACT},this.glFormats=[y.BYTE,y.SHORT,y.UNSIGNED_BYTE,y.UNSIGNED_SHORT,y.FLOAT],this.glFuncMap={mat2:{func:y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:y.uniform1f,length:1},"1fv":{func:y.uniform1fv,length:1},"1i":{func:y.uniform1i,length:1},"1iv":{func:y.uniform1iv,length:1},"2f":{func:y.uniform2f,length:2},"2fv":{func:y.uniform2fv,length:1},"2i":{func:y.uniform2i,length:2},"2iv":{func:y.uniform2iv,length:1},"3f":{func:y.uniform3f,length:3},"3fv":{func:y.uniform3fv,length:1},"3i":{func:y.uniform3i,length:3},"3iv":{func:y.uniform3iv,length:1},"4f":{func:y.uniform4f,length:4},"4fv":{func:y.uniform4fv,length:1},"4i":{func:y.uniform4i,length:4},"4iv":{func:y.uniform4iv,length:1}};var F=y.getSupportedExtensions();(!g.maxTextures||g.maxTextures===-1)&&(g.maxTextures=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)),g.maxTextureSize||(g.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=F;var O="ANGLE_instanced_arrays";this.instancedArraysExtension=F.indexOf(O)>-1?y.getExtension(O):null;var I="OES_vertex_array_object";this.vaoExtension=F.indexOf(I)>-1?y.getExtension(I):null,y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),y.enable(y.BLEND),y.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL);var G=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];G.indexOf(g.mipmapFilter)!==-1&&(this.mipmapFilter=y[g.mipmapFilter]),this.maxTextures=v.checkShaderMax(y,g.maxTextures),this.textureIndexes=[];for(var z=0;z<this.maxTextures;z++){var X=y.createTexture();y.activeTexture(y.TEXTURE0+z),y.bindTexture(y.TEXTURE_2D,X),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(z)}return this.pipelines=new o(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),T.textures.once(d.READY,this.boot,this),this},boot:function(){var g=this.game,y=this.pipelines,T=g.scale.baseSize,E=T.width,C=T.height;this.width=E,this.height=C,this.isBooted=!0,this.renderTarget=new h(this,E,C,1,0,!0,!0),this.maskTarget=new h(this,E,C,1,0,!0,!0),this.maskSource=new h(this,E,C,1,0,!0,!0);var A=g.config;y.boot(A.pipeline,A.defaultPipeline,A.autoMobilePipeline),this.blankTexture=g.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=g.textures.getFrame("__WHITE").glTexture;var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,null),P.enable(P.SCISSOR_TEST),g.scale.on(l.RESIZE,this.onResize,this),this.resize(E,C)},captureFrame:function(g,y){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(g,y,T){},stopCapture:function(){},onCapture:function(g){},onResize:function(g,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},beginCapture:function(g,y){g===void 0&&(g=this.width),y===void 0&&(y=this.height),this.renderTarget.bind(!0,g,y),this.setProjectionMatrix(g,y)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(g,y){var T=this.gl;return this.width=g,this.height=y,this.setProjectionMatrix(g,y),T.viewport(0,0,g,y),this.drawingBufferHeight=T.drawingBufferHeight,T.scissor(0,T.drawingBufferHeight-y,g,y),this.defaultScissor[2]=g,this.defaultScissor[3]=y,this.emit(e.RESIZE,g,y),this},getCompressedTextures:function(){var g="WEBGL_compressed_texture_",y="WEBKIT_"+g,T=function(C,A){var P=C.getExtension(g+A)||C.getExtension(y+A);if(P){var F={};for(var O in P)F[P[O]]=O;return F}},E=this.gl;return{ETC:T(E,"etc"),ETC1:T(E,"etc1"),ATC:T(E,"atc"),ASTC:T(E,"astc"),BPTC:T(E,"bptc"),RGTC:T(E,"rgtc"),PVRTC:T(E,"pvrtc"),S3TC:T(E,"s3tc"),S3TCSRGB:T(E,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(g,y){var T=this.compression[g.toUpperCase()];if(y in T)return T[y]},supportsCompressedTexture:function(g,y){var T=this.compression[g.toUpperCase()];return T?y?y in T:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(g,y){return(g!==this.projectionWidth||y!==this.projectionHeight)&&(this.projectionWidth=g,this.projectionHeight=y,this.projectionMatrix.ortho(0,g,y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(g){return this.supportedExtensions?this.supportedExtensions.indexOf(g):!1},getExtension:function(g){return this.hasExtension(g)?(g in this.extensions||(this.extensions[g]=this.gl.getExtension(g)),this.extensions[g]):null},flush:function(){this.pipelines.flush()},pushScissor:function(g,y,T,E,C){C===void 0&&(C=this.drawingBufferHeight);var A=this.scissorStack,P=[g,y,T,E];return A.push(P),this.setScissor(g,y,T,E,C),this.currentScissor=P,P},setScissor:function(g,y,T,E,C){C===void 0&&(C=this.drawingBufferHeight);var A=this.gl,P=this.currentScissor,F=T>0&&E>0;if(P&&F){var O=P[0],I=P[1],G=P[2],z=P[3];F=O!==g||I!==y||G!==T||z!==E}F&&(this.flush(),A.scissor(g,C-y-E,T,E))},resetScissor:function(){var g=this.gl;g.enable(g.SCISSOR_TEST);var y=this.currentScissor;if(y){var T=y[0],E=y[1],C=y[2],A=y[3];C>0&&A>0&&g.scissor(T,this.drawingBufferHeight-E-A,C,A)}},popScissor:function(){var g=this.scissorStack;g.pop();var y=g[g.length-1];y&&this.setScissor(y[0],y[1],y[2],y[3]),this.currentScissor=y},hasActiveStencilMask:function(){var g=this.currentMask.mask,y=this.currentCameraMask.mask;return g&&g.isStencil||y&&y.isStencil},resetViewport:function(){var g=this.gl;g.viewport(0,0,this.width,this.height),this.drawingBufferHeight=g.drawingBufferHeight},setBlendMode:function(g,y){y===void 0&&(y=!1);var T=this.gl,E=this.blendModes[g];return y||g!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==g?(this.flush(),T.enable(T.BLEND),T.blendEquation(E.equation),E.func.length>2?T.blendFuncSeparate(E.func[0],E.func[1],E.func[2],E.func[3]):T.blendFunc(E.func[0],E.func[1]),this.currentBlendMode=g,!0):!1},addBlendMode:function(g,y){var T=this.blendModes.push({func:g,equation:y});return T-1},updateBlendMode:function(g,y,T){return this.blendModes[g]&&(this.blendModes[g].func=y,T&&(this.blendModes[g].equation=T)),this},removeBlendMode:function(g){return g>17&&this.blendModes[g]&&this.blendModes.splice(g,1),this},pushFramebuffer:function(g,y,T,E,C){return g===this.currentFramebuffer?this:(this.fboStack.push(g),this.setFramebuffer(g,y,T,E,C))},setFramebuffer:function(g,y,T,E,C){if(y===void 0&&(y=!1),T===void 0&&(T=!0),E===void 0&&(E=null),C===void 0&&(C=!1),g===this.currentFramebuffer)return this;var A=this.gl,P=this.width,F=this.height;return g&&g.renderTexture&&T?(P=g.renderTexture.width,F=g.renderTexture.height):this.flush(),A.bindFramebuffer(A.FRAMEBUFFER,g),T&&A.viewport(0,0,P,F),E&&A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,E,0),C&&(A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT)),y&&(g?(this.drawingBufferHeight=F,this.pushScissor(0,0,P,F)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=g,this},popFramebuffer:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!0);var T=this.fboStack;T.pop();var E=T[T.length-1];return E||(E=null),this.setFramebuffer(E,g,y),E},restoreFramebuffer:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!0);var T=this.fboStack,E=T[T.length-1];E||(E=null),this.currentFramebuffer=null,this.setFramebuffer(E,g,y)},setProgram:function(g){return g!==this.currentProgram?(this.flush(),this.gl.useProgram(g),this.currentProgram=g,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(g,y,T,E,C){C===void 0&&(C=!1);var A=this.gl,P=A.NEAREST,F=A.NEAREST,O=A.CLAMP_TO_EDGE,I=null;y=g?g.width:y,T=g?g.height:T;var G=s(y,T);return G&&!C&&(O=A.REPEAT),E===r.ScaleModes.LINEAR&&this.config.antialias&&(P=G&&this.mipmapFilter?this.mipmapFilter:A.LINEAR,F=A.LINEAR),g&&g.compressed&&(P=A.LINEAR,F=A.LINEAR),!g&&typeof y=="number"&&typeof T=="number"?I=this.createTexture2D(0,P,F,O,O,A.RGBA,null,y,T):I=this.createTexture2D(0,P,F,O,O,A.RGBA,g),I},createTexture2D:function(g,y,T,E,C,A,P,F,O,I,G,z){I=I==null?!0:I,G===void 0&&(G=!1),z===void 0&&(z=!1);var X=this.gl,H=X.createTexture();X.activeTexture(X.TEXTURE0);var N=X.getParameter(X.TEXTURE_BINDING_2D);X.bindTexture(X.TEXTURE_2D,H),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,y),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,T),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,C),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,E),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I),z&&X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,!0);var U=!1;if(P==null)X.texImage2D(X.TEXTURE_2D,g,A,F,O,0,A,X.UNSIGNED_BYTE,null),U=s(F,O);else if(P.compressed){F=P.width,O=P.height,U=P.generateMipmap;for(var R=0;R<P.mipmaps.length;R++)X.compressedTexImage2D(X.TEXTURE_2D,R,P.internalFormat,P.mipmaps[R].width,P.mipmaps[R].height,0,P.mipmaps[R].data)}else G||(F=P.width,O=P.height),X.texImage2D(X.TEXTURE_2D,g,A,A,X.UNSIGNED_BYTE,P),U=s(F,O);return U&&X.generateMipmap(X.TEXTURE_2D),N&&X.bindTexture(X.TEXTURE_2D,N),H.isAlphaPremultiplied=I,H.isRenderTexture=!1,H.width=F,H.height=O,H},createFramebuffer:function(g,y,T,E){E===void 0&&(E=!0);var C=this.gl,A=C.createFramebuffer(),P=0;if(this.setFramebuffer(A),T.isRenderTexture=!0,T.isAlphaPremultiplied=!1,C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,T,0),P=C.checkFramebufferStatus(C.FRAMEBUFFER),P!==C.FRAMEBUFFER_COMPLETE){var F={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(F[P]||P))}if(A.renderTexture=T,E){var O=C.createRenderbuffer();C.bindRenderbuffer(C.RENDERBUFFER,O),C.renderbufferStorage(C.RENDERBUFFER,C.DEPTH_STENCIL,g,y),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_STENCIL_ATTACHMENT,C.RENDERBUFFER,O)}return this.setFramebuffer(null),A},beginBitmapMask:function(g,y){var T=this.gl;T&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==g&&(this.currentMask.mask=g,this.currentMask.camera=y))},drawBitmapMask:function(g,y,T){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),g.renderWebGL(this,g,y),this.maskSource.unbind(!0),this.maskTarget.unbind();var E=this.gl,C=this.getCurrentStencilMask();C?(E.enable(E.STENCIL_TEST),C.mask.applyStencil(this,C.camera,!0)):this.currentMask.mask=null,this.pipelines.set(T),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,this.maskTarget.texture),E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,this.maskSource.texture)},createProgram:function(g,y){var T=this.gl,E=T.createProgram(),C=T.createShader(T.VERTEX_SHADER),A=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(C,g),T.shaderSource(A,y),T.compileShader(C),T.compileShader(A);var P=`Shader failed:
`;if(!T.getShaderParameter(C,T.COMPILE_STATUS))throw new Error("Vertex "+P+T.getShaderInfoLog(C));if(!T.getShaderParameter(A,T.COMPILE_STATUS))throw new Error("Fragment "+P+T.getShaderInfoLog(A));if(T.attachShader(E,C),T.attachShader(E,A),T.linkProgram(E),!T.getProgramParameter(E,T.LINK_STATUS))throw new Error("Link "+P+T.getProgramInfoLog(E));return T.useProgram(E),E},createVertexBuffer:function(g,y){var T=this.gl,E=T.createBuffer();return T.bindBuffer(T.ARRAY_BUFFER,E),T.bufferData(T.ARRAY_BUFFER,g,y),T.bindBuffer(T.ARRAY_BUFFER,null),E},createIndexBuffer:function(g,y){var T=this.gl,E=T.createBuffer();return T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,E),T.bufferData(T.ELEMENT_ARRAY_BUFFER,g,y),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,null),E},deleteTexture:function(g){return g&&this.gl.deleteTexture(g),this},deleteFramebuffer:function(g){if(!g)return this;var y=this.gl;this.currentFramebuffer===g&&(this.currentFramebuffer=null),f(this.fboStack,g),y.bindFramebuffer(y.FRAMEBUFFER,g),g.renderTexture=void 0;var T=y.getFramebufferAttachmentParameter(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);T!==null&&(y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,null,0),y.deleteTexture(T));var E=y.getFramebufferAttachmentParameter(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);return E!==null&&y.deleteRenderbuffer(E),y.bindFramebuffer(y.FRAMEBUFFER,null),y.deleteFramebuffer(g),this},deleteProgram:function(g){return g&&this.gl.deleteProgram(g),this},deleteBuffer:function(g){return this.gl.deleteBuffer(g),this},preRenderCamera:function(g){var y=g.x,T=g.y,E=g.width,C=g.height,A=g.backgroundColor;if(g.emit(c.PRE_RENDER,g),this.pipelines.preBatchCamera(g),this.pushScissor(y,T,E,C),g.mask&&(this.currentCameraMask.mask=g.mask,this.currentCameraMask.camera=g._maskCamera,g.mask.preRenderWebGL(this,g,g._maskCamera)),A.alphaGL>0){var P=this.pipelines.setMulti();P.drawFillRect(y,T,E,C,v.getTintFromFloats(A.blueGL,A.greenGL,A.redGL,1),A.alphaGL)}},getCurrentStencilMask:function(){var g=null,y=this.maskStack,T=this.currentCameraMask;return y.length>0?g=y[y.length-1]:T.mask&&T.mask.isStencil&&(g=T),g},postRenderCamera:function(g){var y=g.flashEffect,T=g.fadeEffect;if(y.isRunning||T.isRunning||T.isComplete){var E=this.pipelines.setMulti();y.postRenderWebGL(E,v.getTintFromFloats),T.postRenderWebGL(E,v.getTintFromFloats)}g.dirty=!1,this.popScissor(),g.mask&&(this.currentCameraMask.mask=null,g.mask.postRenderWebGL(this,g._maskCamera)),this.pipelines.postBatchCamera(g),g.emit(c.POST_RENDER,g)},preRender:function(){if(!this.contextLost){var g=this.gl;if(g.bindFramebuffer(g.FRAMEBUFFER,null),this.config.clearBeforeRender){var y=this.config.backgroundColor;g.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)}g.enable(g.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&g.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(g,y,T){if(!this.contextLost){var E=y.length;if(this.emit(e.RENDER,g,T),this.preRenderCamera(T),E===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T);return}this.currentType="";for(var C=this.currentMask,A=0;A<E;A++){this.finalType=A===E-1;var P=y[A],F=P.mask;C=this.currentMask,C.mask&&C.mask!==F&&C.mask.postRenderWebGL(this,C.camera),F&&C.mask!==F&&F.preRenderWebGL(this,P,T),P.blendMode!==this.currentBlendMode&&this.setBlendMode(P.blendMode);var O=P.type;O!==this.currentType&&(this.newType=!0,this.currentType=O),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=y[A+1].type===this.currentType,P.renderWebGL(this,P,T),this.newType=!1}C=this.currentMask,C.mask&&C.mask.postRenderWebGL(this,C.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gl,g),g.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var g=this.gl,y=this.getCurrentStencilMask();if(y){var T=y.mask;g.enable(g.STENCIL_TEST),T.invertAlpha?g.stencilFunc(g.NOTEQUAL,T.level,255):g.stencilFunc(g.EQUAL,T.level,255)}},snapshot:function(g,y,T){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,g,y,T)},snapshotArea:function(g,y,T,E,C,A,P){var F=this.snapshotState;return F.callback=C,F.type=A,F.encoder=P,F.getPixel=!1,F.x=g,F.y=y,F.width=T,F.height=E,this},snapshotPixel:function(g,y,T){return this.snapshotArea(g,y,1,1,T),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(g,y,T,E,C,A,P,F,O,I,G){C===void 0&&(C=!1),A===void 0&&(A=0),P===void 0&&(P=0),F===void 0&&(F=y),O===void 0&&(O=T),I==="pixel"&&(C=!0,I="image/png");var z=this.currentFramebuffer;this.snapshotArea(A,P,F,O,E,I,G);var X=this.snapshotState;return X.getPixel=C,X.isFramebuffer=!0,X.bufferWidth=y,X.bufferHeight=T,X.width=Math.min(X.width,y),X.height=Math.min(X.height,T),this.setFramebuffer(g),m(this.gl,X),this.setFramebuffer(z),X.callback=null,X.isFramebuffer=!1,this},canvasToTexture:function(g,y,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),y?this.updateCanvasTexture(g,y,E):this.createCanvasTexture(g,T,E)},createCanvasTexture:function(g,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var E=this.gl,C=E.NEAREST,A=E.NEAREST,P=g.width,F=g.height,O=E.CLAMP_TO_EDGE,I=s(P,F);return!y&&I&&(O=E.REPEAT),this.config.antialias&&(C=I&&this.mipmapFilter?this.mipmapFilter:E.LINEAR,A=E.LINEAR),this.createTexture2D(0,C,A,O,O,E.RGBA,g,P,F,!0,!1,T)},updateCanvasTexture:function(g,y,T){T===void 0&&(T=!1);var E=this.gl,C=g.width,A=g.height;if(C>0&&A>0){E.activeTexture(E.TEXTURE0);var P=E.getParameter(E.TEXTURE_BINDING_2D);E.bindTexture(E.TEXTURE_2D,y),T&&E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,!0),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,g),y.width=C,y.height=A,P&&E.bindTexture(E.TEXTURE_2D,P)}return y},createVideoTexture:function(g,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var E=this.gl,C=E.NEAREST,A=E.NEAREST,P=g.videoWidth,F=g.videoHeight,O=E.CLAMP_TO_EDGE,I=s(P,F);return!y&&I&&(O=E.REPEAT),this.config.antialias&&(C=I&&this.mipmapFilter?this.mipmapFilter:E.LINEAR,A=E.LINEAR),this.createTexture2D(0,C,A,O,O,E.RGBA,g,P,F,!0,!0,T)},updateVideoTexture:function(g,y,T){T===void 0&&(T=!1);var E=this.gl,C=g.videoWidth,A=g.videoHeight;if(C>0&&A>0){E.activeTexture(E.TEXTURE0);var P=E.getParameter(E.TEXTURE_BINDING_2D);E.bindTexture(E.TEXTURE_2D,y),E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,T),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,g),y.width=C,y.height=A,P&&E.bindTexture(E.TEXTURE_2D,P)}return y},setTextureFilter:function(g,y){var T=this.gl,E=y===0?T.LINEAR:T.NEAREST;T.activeTexture(T.TEXTURE0);var C=T.getParameter(T.TEXTURE_BINDING_2D);return T.bindTexture(T.TEXTURE_2D,g),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,E),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,E),C&&T.bindTexture(T.TEXTURE_2D,C),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=x},71305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(71402),r=new f({initialize:function(e,s,u,i,o){this.pipeline=e,this.name=s,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=i,this.vertSrc=u,this.program=this.renderer.createProgram(u,i),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(n){var e=0,s=0,u=[];this.vertexComponentCount=0;for(var i=0;i<n.length;i++){var o=n[i],h=o.name,l=c(o,"size",1),d=c(o,"type",a.FLOAT),v=d.enum,m=d.size,x=!!o.normalized;u.push({name:h,size:l,type:v,normalized:x,offset:s,enabled:!1,location:-1}),m===4?e+=l:e++,s+=l*m}this.vertexSize=s,this.vertexComponentCount=e,this.attributes=u},bind:function(n,e){return n===void 0&&(n=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var e=this.gl,s=this.vertexSize,u=this.attributes,i=this.program,o=0;o<u.length;o++){var h=u[o],l=h.size,d=h.type,v=h.offset,m=h.enabled,x=h.location,g=!!h.normalized;if(n){var y=e.getAttribLocation(i,h.name);y>=0?(e.enableVertexAttribArray(y),e.vertexAttribPointer(y,l,d,g,s,v),h.enabled=!0,h.location=y):y!==-1&&e.disableVertexAttribArray(y)}else m?e.vertexAttribPointer(x,l,d,g,s,v):!m&&x>-1&&(e.disableVertexAttribArray(x),h.location=-1)}return this},createUniforms:function(){var n=this.gl,e=this.program,s=this.uniforms,u,i,o,h=n.getProgramParameter(e,n.ACTIVE_UNIFORMS);for(u=0;u<h;u++){var l=n.getActiveUniform(e,u);if(l){i=l.name,o=n.getUniformLocation(e,i),o!==null&&(s[i]={name:i,location:o,value1:null,value2:null,value3:null,value4:null});var d=i.indexOf("[");d>0&&(i=i.substr(0,d),s.hasOwnProperty(i)||(o=n.getUniformLocation(e,i),o!==null&&(s[i]={name:i,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var e=this.uniforms[n];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(n,e,s,u){var i=this.uniforms[e];return i?((u||i.value1!==s)&&(i.value1=s,this.renderer.setProgram(this.program),n.call(this.gl,i.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(n,e,s,u,i){var o=this.uniforms[e];return o?((i||o.value1!==s||o.value2!==u)&&(o.value1=s,o.value2=u,this.renderer.setProgram(this.program),n.call(this.gl,o.location,s,u),this.pipeline.currentShader=this),this):this},setUniform3:function(n,e,s,u,i,o){var h=this.uniforms[e];return h?((o||h.value1!==s||h.value2!==u||h.value3!==i)&&(h.value1=s,h.value2=u,h.value3=i,this.renderer.setProgram(this.program),n.call(this.gl,h.location,s,u,i),this.pipeline.currentShader=this),this):this},setUniform4:function(n,e,s,u,i,o,h){var l=this.uniforms[e];return l?((h||l.value1!==s||l.value2!==u||l.value3!==i||l.value4!==o)&&(l.value1=s,l.value2=u,l.value3=i,l.value4=o,this.renderer.setProgram(this.program),n.call(this.gl,l.location,s,u,i,o),this.pipeline.currentShader=this),this):this},setBoolean:function(n,e){return this.setUniform1(this.gl.uniform1i,n,Number(e))},set1f:function(n,e){return this.setUniform1(this.gl.uniform1f,n,e)},set2f:function(n,e,s){return this.setUniform2(this.gl.uniform2f,n,e,s)},set3f:function(n,e,s,u){return this.setUniform3(this.gl.uniform3f,n,e,s,u)},set4f:function(n,e,s,u,i){return this.setUniform4(this.gl.uniform4f,n,e,s,u,i)},set1fv:function(n,e){return this.setUniform1(this.gl.uniform1fv,n,e,!0)},set2fv:function(n,e){return this.setUniform1(this.gl.uniform2fv,n,e,!0)},set3fv:function(n,e){return this.setUniform1(this.gl.uniform3fv,n,e,!0)},set4fv:function(n,e){return this.setUniform1(this.gl.uniform4fv,n,e,!0)},set1iv:function(n,e){return this.setUniform1(this.gl.uniform1iv,n,e,!0)},set2iv:function(n,e){return this.setUniform1(this.gl.uniform2iv,n,e,!0)},set3iv:function(n,e){return this.setUniform1(this.gl.uniform3iv,n,e,!0)},set4iv:function(n,e){return this.setUniform1(this.gl.uniform4iv,n,e,!0)},set1i:function(n,e){return this.setUniform1(this.gl.uniform1i,n,e)},set2i:function(n,e,s){return this.setUniform2(this.gl.uniform2i,n,e,s)},set3i:function(n,e,s,u){return this.setUniform3(this.gl.uniform3i,n,e,s,u)},set4i:function(n,e,s,u,i){return this.setUniform4(this.gl.uniform4i,n,e,s,u,i)},setMatrix2fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix2fv,n,e,s,!0)},setMatrix3fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix3fv,n,e,s,!0)},setMatrix4fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix4fv,n,e,s,!0)},createProgram:function(n,e){n===void 0&&(n=this.vertSrc),e===void 0&&(e=this.fragSrc);var s=this.gl;return this.program&&s.deleteProgram(this.program),this.vertSrc=n,this.fragSrc=e,this.program=this.renderer.createProgram(n,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=r},71402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},55478:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(71402),c=t(98611),a={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};a=c(!1,a,f),p.exports=a},5583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(91679),r=t(89053),n=t(71402),e=t(44775),s=new f({Extends:e,initialize:function(i){i.fragShader=c(i,"fragShader",a),i.vertShader=c(i,"vertShader",r),i.batchSize=c(i,"batchSize",1),i.vertices=c(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=c(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,i){e.prototype.resize.call(this,u,i),this.set2f("uResolution",u,i)},beginMask:function(u,i,o){this.renderer.beginBitmapMask(u,o)},endMask:function(u,i,o){var h=this.gl,l=this.renderer,d=u.bitmapMask;d&&h&&(l.drawBitmapMask(d,i,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",u.invertAlpha),h.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),h.bindTexture(h.TEXTURE_2D,null))}});p.exports=s},81828:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(58136),a=t(47406),r=t(72632),n=t(87228),e=t(92462),s=t(75512),u=new f({Extends:n,initialize:function(o){o.shaders=[s.setGlowQuality(e.FXGlowFrag,o.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,o);var h=this.game;this.glow=new c.Glow(h),this.shadow=new c.Shadow(h),this.pixelate=new c.Pixelate(h),this.vignette=new c.Vignette(h),this.shine=new c.Shine(h),this.gradient=new c.Gradient(h),this.circle=new c.Circle(h),this.barrel=new c.Barrel(h),this.wipe=new c.Wipe(h),this.bokeh=new c.Bokeh(h);var l=[];l[a.GLOW]=this.onGlow,l[a.SHADOW]=this.onShadow,l[a.PIXELATE]=this.onPixelate,l[a.VIGNETTE]=this.onVignette,l[a.SHINE]=this.onShine,l[a.BLUR]=this.onBlur,l[a.GRADIENT]=this.onGradient,l[a.BLOOM]=this.onBloom,l[a.COLOR_MATRIX]=this.onColorMatrix,l[a.CIRCLE]=this.onCircle,l[a.BARREL]=this.onBarrel,l[a.DISPLACEMENT]=this.onDisplacement,l[a.WIPE]=this.onWipe,l[a.BOKEH]=this.onBokeh,this.fxHandlers=l,this.source,this.target,this.swap},onDraw:function(i,o,h){this.source=i,this.target=o,this.swap=h;var l=i.width,d=i.height,v=this.tempSprite,m=this.fxHandlers;if(v&&v.preFX)for(var x=v.preFX.list,g=0;g<x.length;g++){var y=x[g];y.active&&m[y.type].call(this,y,l,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,o=this.target;this.copy(i,o),this.source=o,this.target=i},onGlow:function(i,o,h){var l=this.shaders[a.GLOW];this.setShader(l),this.glow.onPreRender(i,l,o,h),this.runDraw()},onShadow:function(i){var o=this.shaders[a.SHADOW];this.setShader(o),this.shadow.onPreRender(i,o),this.runDraw()},onPixelate:function(i,o,h){var l=this.shaders[a.PIXELATE];this.setShader(l),this.pixelate.onPreRender(i,l,o,h),this.runDraw()},onVignette:function(i){var o=this.shaders[a.VIGNETTE];this.setShader(o),this.vignette.onPreRender(i,o),this.runDraw()},onShine:function(i,o,h){var l=this.shaders[a.SHINE];this.setShader(l),this.shine.onPreRender(i,l,o,h),this.runDraw()},onBlur:function(i,o,h){var l=r(i,"quality"),d=this.shaders[a.BLUR+l];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",o,h),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var v=r(i,"x"),m=r(i,"y"),x=r(i,"steps"),g=0;g<x;g++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var o=this.shaders[a.GRADIENT];this.setShader(o),this.gradient.onPreRender(i,o),this.runDraw()},onBloom:function(i,o,h){var l=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(l),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var d=2/o*r(i,"offsetX"),v=2/h*r(i,"offsetY"),m=r(i,"steps"),x=0;x<m;x++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,o,h){var l=this.shaders[a.CIRCLE];this.setShader(l),this.circle.onPreRender(i,l,o,h),this.runDraw()},onBarrel:function(i){var o=this.shaders[a.BARREL];this.setShader(o),this.barrel.onPreRender(i,o),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var o=this.shaders[a.WIPE];this.setShader(o),this.wipe.onPreRender(i,o),this.runDraw()},onBokeh:function(i,o,h){var l=this.shaders[a.BOKEH];this.setShader(l),this.bokeh.onPreRender(i,l,o,h),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});p.exports=u},66901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(65045),r=t(77310),n=t(69360),e=t(93736),s=t(44775),u=new f({Extends:r,initialize:function(o){var h=c(o,"fragShader",a);o.fragShader=h.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),r.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this);var i=this.gl,o=i.createTexture();i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:o}},onRender:function(i,o){var h=i.sys.lights;if(this.lightsActive=!1,!(!h||!h.active)){var l=h.getLights(o),d=l.length;this.lightsActive=!0;var v,m=this.renderer,x=m.height,g=o.matrix,y=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",h.ambientColor.r,h.ambientColor.g,h.ambientColor.b),this.set1i("uLightCount",d),v=0;v<d;v++){var T=l[v].light,E=T.color,C="uLights["+v+"].";g.transformPoint(T.x,T.y,y),this.set2f(C+"position",y.x-o.scrollX*T.scrollFactorX*o.zoom,x-(y.y-o.scrollY*T.scrollFactorY*o.zoom)),this.set3f(C+"color",E.r,E.g,E.b),this.set1f(C+"intensity",T.intensity),this.set1f(C+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(i){var h=-i,l=Math.cos(h),d=Math.sin(h);o[1]=d,o[3]=-d,o[0]=o[4]=l}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=i}},setTexture2D:function(i,o){var h=this.renderer;i===void 0&&(i=h.whiteTexture);var l=this.getNormalMap(o);this.isNewNormalMap(i,l)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(l),this.currentNormalMap=l);var d=0;if(o&&o.parentContainer){var v=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=v.rotationNormalized}else o&&(d=o.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(i,o){o===void 0&&(o=i.frame);var h=o.glTexture,l=this.getNormalMap(i);if(this.isNewNormalMap(h,l)&&(this.flush(),this.createBatch(h),this.addTextureToBatch(l),this.currentNormalMap=l),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return 0},isNewNormalMap:function(i,o){return this.currentTexture!==i||this.currentNormalMap!==o},getNormalMap:function(i){var o;return i?i.displayTexture?o=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?o=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?o=i.tileset[0].image.dataSource[0]:o=i.tileset.image.dataSource[0]):o=this.defaultNormalMap,o||(o=this.defaultNormalMap),o.glTexture},batchSprite:function(i,o,h){this.lightsActive&&r.prototype.batchSprite.call(this,i,o,h)},batchTexture:function(i,o,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R,D,B,V,Y,K,$,J){this.lightsActive&&r.prototype.batchTexture.call(this,i,o,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R,D,B,V,Y,K,$,J)},batchTextureFrame:function(i,o,h,l,d,v,m){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,o,h,l,d,v,m)}});p.exports=u},71264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(77310),r=t(85060),n=t(18166),e=t(71402),s=t(44775),u=new f({Extends:a,initialize:function(o){o.fragShader=c(o,"fragShader",r),o.vertShader=c(o,"vertShader",n),o.attributes=c(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,a.call(this,o)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels)}});p.exports=u},77310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(11117),a=t(72632),r=t(53787),n=t(15968),e=t(69360),s=t(75512),u=t(71402),i=t(44775),o=new f({Extends:i,initialize:function(l){var d=l.game.renderer,v=a(l,"fragShader",r);l.fragShader=s.parseFragmentShaderMaxTextures(v,d.maxTextures),l.vertShader=a(l,"vertShader",n),l.attributes=a(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),i.call(this,l),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var h=this.renderer;this.set1iv("uMainSampler",h.textureIndexes),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels)},batchSprite:function(h,l,d){this.manager.set(this,h);var v=this._tempMatrix1,m=this._tempMatrix2,x=this._tempMatrix3,g=h.frame,y=g.glTexture,T=g.u0,E=g.v0,C=g.u1,A=g.v1,P=g.x,F=g.y,O=g.cutWidth,I=g.cutHeight,G=g.customPivot,z=h.displayOriginX,X=h.displayOriginY,H=-z+P,N=-X+F;if(h.isCropped){var U=h._crop;(U.flipX!==h.flipX||U.flipY!==h.flipY)&&g.updateCropUVs(U,h.flipX,h.flipY),T=U.u0,E=U.v0,C=U.u1,A=U.v1,O=U.width,I=U.height,P=U.x,F=U.y,H=-z+P,N=-X+F}var R=1,D=1;h.flipX&&(G||(H+=-g.realWidth+z*2),R=-1),(h.flipY||g.source.isGLTexture&&!y.flipY)&&(G||(N+=-g.realHeight+X*2),D=-1);var B=h.x,V=h.y;m.applyITRS(B,V,h.rotation,h.scaleX*R,h.scaleY*D),v.copyFrom(l.matrix),d?(v.multiplyWithOffset(d,-l.scrollX*h.scrollFactorX,-l.scrollY*h.scrollFactorY),m.e=B,m.f=V):(m.e-=l.scrollX*h.scrollFactorX,m.f-=l.scrollY*h.scrollFactorY),v.multiply(m,x);var Y=x.setQuad(H,N,H+O,N+I),K=s.getTintAppendFloatAlpha,$=l.alpha,J=K(h.tintTopLeft,$*h._alphaTL),Q=K(h.tintTopRight,$*h._alphaTR),k=K(h.tintBottomLeft,$*h._alphaBL),q=K(h.tintBottomRight,$*h._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(h,g);this.manager.preBatch(h),this.currentShader.set1i("uRoundPixels",l.roundPixels),this.batchQuad(h,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],T,E,C,A,J,Q,k,q,h.tintFill,y,tt),this.manager.postBatch(h)},batchTexture:function(h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R,D,B,V,Y,K,$,J,Q,k,q){q===void 0&&(q=!1),this.manager.set(this,h);var tt=this._tempMatrix1,_=this._tempMatrix2,it=this._tempMatrix3,st=z/d+Y,ht=X/v+K,ut=(z+H)/d+Y,et=(X+N)/v+K,rt=g,nt=y,pt=-I,gt=-G;if(h.isCropped){var Tt=h._crop,lt=Tt.width,ot=Tt.height;rt=lt,nt=ot,g=lt,y=ot,z=Tt.x,X=Tt.y;var at=z,dt=X;A&&(at=H-Tt.x-lt),P&&(dt=N-Tt.y-ot),st=at/d+Y,ht=dt/v+K,ut=(at+lt)/d+Y,et=(dt+ot)/v+K,pt=-I+z,gt=-G+X}P=P^(!Q&&l.isRenderTexture?1:0),A&&(rt*=-1,pt+=g),P&&(nt*=-1,gt+=y),_.applyITRS(m,x,C,T,E),tt.copyFrom($.matrix),J?(tt.multiplyWithOffset(J,-$.scrollX*F,-$.scrollY*O),_.e=m,_.f=x):(_.e-=$.scrollX*F,_.f-=$.scrollY*O),tt.multiply(_,it);var ft=it.setQuad(pt,gt,pt+rt,gt+nt);k==null&&(k=this.setTexture2D(l)),h&&!q&&this.manager.preBatch(h),this.currentShader.set1i("uRoundPixels",$.roundPixels),this.batchQuad(h,ft[0],ft[1],ft[2],ft[3],ft[4],ft[5],ft[6],ft[7],st,ht,ut,et,U,R,D,B,V,l,k),h&&!q&&this.manager.postBatch(h)},batchTextureFrame:function(h,l,d,v,m,x,g){this.manager.set(this);var y=this._tempMatrix1.copyFrom(x),T=this._tempMatrix2;g?y.multiply(g,T):T=y;var E=T.setQuad(l,d,l+h.width,d+h.height),C=this.setTexture2D(h.source.glTexture);v=s.getTintAppendFloatAlpha(v,m),this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],h.u0,h.v0,h.u1,h.v1,v,v,v,v,0,h.glTexture,C)},batchFillRect:function(h,l,d,v,m,x){this.renderer.pipelines.set(this);var g=this.calcMatrix;x&&x.multiply(m,g);var y=g.setQuad(h,l,h+d,l+v),T=this.fillTint;this.batchQuad(null,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(h,l,d,v,m,x,g,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(g,T);var E=T.getX(h,l),C=T.getY(h,l),A=T.getX(d,v),P=T.getY(d,v),F=T.getX(m,x),O=T.getY(m,x),I=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,E,C,A,P,F,O,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(h,l,d,v,m,x,g,y,T){var E=this.tempTriangle;E[0].x=h,E[0].y=l,E[0].width=g,E[1].x=d,E[1].y=v,E[1].width=g,E[2].x=m,E[2].y=x,E[2].width=g,E[3].x=h,E[3].y=l,E[3].width=g,this.batchStrokePath(E,g,!1,y,T)},batchFillPath:function(h,l,d){this.renderer.pipelines.set(this);var v=this.calcMatrix;d&&d.multiply(l,v);for(var m=h.length,x=this.polygonCache,g,y,T=this.fillTint.TL,E=this.fillTint.TR,C=this.fillTint.BL,A=0;A<m;++A)y=h[A],x.push(y.x,y.y);g=c(x),m=g.length,this.currentShader.set1i("uRoundPixels",!1);for(var P=0;P<m;P+=3){var F=g[P+0]*2,O=g[P+1]*2,I=g[P+2]*2,G=x[F+0],z=x[F+1],X=x[O+0],H=x[O+1],N=x[I+0],U=x[I+1],R=v.getX(G,z),D=v.getY(G,z),B=v.getX(X,H),V=v.getY(X,H),Y=v.getX(N,U),K=v.getY(N,U);this.batchTri(null,R,D,B,V,Y,K,0,0,1,1,T,E,C,2)}x.length=0},batchStrokePath:function(h,l,d,v,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=h.length-1,g=0;g<x;g++){var y=h[g],T=h[g+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,l,g,!d&&g===x-1,v,m)}},batchLine:function(h,l,d,v,m,x,g,y,T,E,C){this.renderer.pipelines.set(this);var A=this.calcMatrix;C&&C.multiply(E,A);var P=d-h,F=v-l,O=Math.sqrt(P*P+F*F);if(O!==0){var I=m*(v-l)/O,G=m*(h-d)/O,z=x*(v-l)/O,X=x*(h-d)/O,H=d-z,N=v-X,U=h-I,R=l-G,D=d+z,B=v+X,V=h+I,Y=l+G,K=A.getX(H,N),$=A.getY(H,N),J=A.getX(U,R),Q=A.getY(U,R),k=A.getX(D,B),q=A.getY(D,B),tt=A.getX(V,Y),_=A.getY(V,Y),it=this.strokeTint,st=it.TL,ht=it.TR,ut=it.BL,et=it.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,tt,_,J,Q,K,$,k,q,0,0,1,1,st,ht,ut,et,2),!(g<=2)){var rt=this.prevQuad,nt=this.firstQuad;y>0&&rt[4]?this.batchQuad(null,tt,_,J,Q,rt[0],rt[1],rt[2],rt[3],0,0,1,1,st,ht,ut,et,2):(nt[0]=tt,nt[1]=_,nt[2]=J,nt[3]=Q,nt[4]=1),T&&nt[4]?this.batchQuad(null,K,$,k,q,nt[0],nt[1],nt[2],nt[3],0,0,1,1,st,ht,ut,et,2):(rt[0]=K,rt[1]=$,rt[2]=k,rt[3]=q,rt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});p.exports=o},10919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(83327),r=t(54677),n=t(44775),e=new f({Extends:n,initialize:function(u){u.vertShader=c(u,"vertShader",r),u.fragShader=c(u,"fragShader",a),u.attributes=c(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,u)},onRender:function(s,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(s,u,i,o,h,l,d,v,m,x,g,y){var T=s.color,E=s.intensity,C=s.radius,A=s.attenuation,P=T.r*E,F=T.g*E,O=T.b*E,I=u.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,o,g,y,C,A,P,F,O,I),this.batchLightVert(h,l,g,y,C,A,P,F,O,I),this.batchLightVert(d,v,g,y,C,A,P,F,O,I),this.batchLightVert(i,o,g,y,C,A,P,F,O,I),this.batchLightVert(d,v,g,y,C,A,P,F,O,I),this.batchLightVert(m,x,g,y,C,A,P,F,O,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,u,i,o,h,l,d,v,m,x){var g=this.vertexViewF32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++y]=s,g[++y]=u,g[++y]=i,g[++y]=o,g[++y]=h,g[++y]=l,g[++y]=d,g[++y]=v,g[++y]=m,g[++y]=x,this.vertexCount++}});p.exports=e},80486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65246),a=t(72632),r=t(12569),n=t(99365),e=t(44775),s=new f({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",n),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new c,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels);for(var o=this.renderTargets,h=0;h<o.length;h++)o[h].autoResize=!0},postBatch:function(u){return this.hasBooted||this.bootFX(),this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(u){this.bindAndDraw(u)},getController:function(u){return u!==void 0?u:this.controller?this.controller:this},copySprite:function(u,i,o){o===void 0&&(o=!1);var h=this.gl;h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,u.texture);var l=h.getParameter(h.FRAMEBUFFER_BINDING);h.bindFramebuffer(h.FRAMEBUFFER,i.framebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i.texture,0),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),h.bufferData(h.ARRAY_BUFFER,this.vertexData,h.STATIC_DRAW),h.drawArrays(h.TRIANGLES,0,6),o&&(h.bindTexture(h.TEXTURE_2D,null),h.bindFramebuffer(h.FRAMEBUFFER,l))},copyFrame:function(u,i,o,h,l){this.manager.copyFrame(u,i,o,h,l)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,i,o){this.manager.drawFrame(u,i,o,this.colorMatrix)},blendFrames:function(u,i,o,h,l){this.manager.blendFrames(u,i,o,h,l)},blendFramesAdditive:function(u,i,o,h,l){this.manager.blendFramesAdditive(u,i,o,h,l)},clearFrame:function(u,i){this.manager.clearFrame(u,i)},blitFrame:function(u,i,o,h,l,d){this.manager.blitFrame(u,i,o,h,l,d)},copyFrameRect:function(u,i,o,h,l,d,v,m){this.manager.copyFrameRect(u,i,o,h,l,d,v,m)},bindAndDraw:function(u,i,o,h,l){o===void 0&&(o=!0),h===void 0&&(h=!0);var d=this.gl,v=this.renderer;this.bind(l),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture,0),o&&(h?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||d.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,v.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});p.exports=s},87228:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(79993),a=t(56694),r=t(37486),n=t(72632),e=t(77310),s=t(12569),u=t(74118),i=t(37410),o=t(85060),h=t(18166),l=t(44775),d=new a({Extends:e,initialize:function(m){var x=n(m,"fragShader",s),g=n(m,"vertShader",h),y=n(m,"drawShader",s),T=[{name:"DrawSprite",fragShader:o,vertShader:h},{name:"CopySprite",fragShader:x,vertShader:g},{name:"DrawGame",fragShader:y,vertShader:h},{name:"ColorMatrix",fragShader:r}],E=n(m,"shaders",[]);m.shaders=T.concat(E),m.vertShader||(m.vertShader=g),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){l.prototype.boot.call(this);var v=this.shaders,m=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=m.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height),this.set1i("uRoundPixels",m.config.roundPixels)},onResize:function(v,m){var x=this.quadVertexViewF32;x[1]=m,x[22]=m,x[14]=v,x[28]=v,x[35]=v,x[36]=m},batchQuad:function(v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U){var R=Math.min(m,g,T,C),D=Math.min(x,y,E,A),B=Math.max(m,g,T,C),V=Math.max(x,y,E,A),Y=B-R,K=V-D,$=this.spriteBounds.setTo(R,D,Y,K),J=v?v.preFX.padding:0,Q=Y+J*2,k=K+J*2,q=Math.abs(Math.max(Q,k)),tt=this.manager.getRenderTarget(q),_=this.targetBounds.setTo(0,0,tt.width,tt.height);c(_,$.centerX,$.centerY),this.tempSprite=v;var it=this.gl,st=this.renderer;st.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",st.width,st.height),this.set1i("uRoundPixels",st.config.roundPixels),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,tt),v.preFX.onFX(this));var ht=this.fsTarget;return this.flush(),it.viewport(0,0,st.width,st.height),it.bindFramebuffer(it.FRAMEBUFFER,ht.framebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,ht.texture,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(m,x,P,F,0,N,G),this.batchVert(g,y,P,I,0,N,X),this.batchVert(T,E,O,I,0,N,H),this.batchVert(m,x,P,F,0,N,G),this.batchVert(T,E,O,I,0,N,H),this.batchVert(C,A,O,F,0,N,z),this.flush(),this.flipProjectionMatrix(!1),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,tt.texture),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,m,x,g,y,T,E){x===void 0&&(x=!0),g===void 0&&(g=!0),y===void 0&&(y=!1),E===void 0&&(E=this.copyShader);var C=this.gl,A=this.tempSprite;T&&(E=this.colorMatrixShader),this.currentShader=E;var P=this.setVertexBuffer(this.quadVertexBuffer);E.bind(P,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),this.set1i("uRoundPixels",F.config.roundPixels),A.preFX.onFXCopy(this),this.onCopySprite(v,m,A),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture),v.height>m.height)C.viewport(0,0,v.width,v.height),this.setTargetUVs(v,m);else{var O=m.height-v.height;C.viewport(0,O,v.width,v.height),this.resetUVs()}if(C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,m.texture,0),x&&(C.clearColor(0,0,0,Number(!g)),C.clear(C.COLOR_BUFFER_BIT)),y){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(f.ERASE)}C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),y&&this.renderer.setBlendMode(I),C.bindFramebuffer(C.FRAMEBUFFER,null)},copy:function(v,m){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture),x.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,m.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,m.texture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(v,m,x,g,y){this.manager.blendFrames(v,m,x,g,y)},blendFramesAdditive:function(v,m,x,g,y){this.manager.blendFramesAdditive(v,m,x,g,y)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var m=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var g=this._tempMatrix1.loadIdentity(),y=this.targetBounds.x,T=this.targetBounds.y,E=y+v.width,C=T+v.height,A=g.getX(y,T),P=g.getX(y,C),F=g.getX(E,C),O=g.getX(E,T),I=g.getY(y,T),G=g.getY(y,C),z=g.getY(E,C),X=g.getY(E,T),H=16777215;this.batchVert(A,I,0,0,0,0,H),this.batchVert(P,G,0,1,0,0,H),this.batchVert(F,z,1,1,0,0,H),this.batchVert(A,I,0,0,0,0,H),this.batchVert(F,z,1,1,0,0,H),this.batchVert(O,X,1,0,0,0,H),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||m.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,m,x,g,y,T,E,C){var A=this.quadVertexViewF32;A[2]=v,A[3]=m,A[9]=x,A[10]=g,A[16]=y,A[17]=T,A[23]=v,A[24]=m,A[30]=y,A[31]=T,A[37]=E,A[38]=C},setTargetUVs:function(v,m){var x=m.height/v.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=d},21213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(77310),r=new f({Extends:a,initialize:function(e){e.topology=5,e.batchSize=c(e,"batchSize",256),a.call(this,e)}});p.exports=r},51212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(77310),r=t(85060),n=t(18166),e=t(44775),s=new f({Extends:a,initialize:function(i){i.fragShader=c(i,"fragShader",r),i.vertShader=c(i,"vertShader",n),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height),this.set1i("uRoundPixels",u.config.roundPixels)}});p.exports=s},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(2529),c=t(95723),a=t(56694),r=t(65246),n=t(37486),e=t(79060),s=t(72632),u=t(98921),i=t(99365),o=t(44775),h=new a({Extends:o,initialize:function(d){d.renderTarget=s(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=s(d,"vertShader",i),d.shaders=s(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:f},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:n}]),d.attributes=s(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,o.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var l=this.shaders,d=this.renderTargets;this.copyShader=l[0],this.addShader=l[1],this.linearShader=l[2],this.colorMatrixShader=l[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(l,d,v,m,x){v===void 0&&(v=1),m===void 0&&(m=!0),x===void 0&&(x=!0);var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,l.texture),d?(g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture,0)):g.viewport(0,0,l.width,l.height),m&&(x?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blitFrame:function(l,d,v,m,x,g,y){v===void 0&&(v=1),m===void 0&&(m=!0),x===void 0&&(x=!0),g===void 0&&(g=!1),y===void 0&&(y=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,l.texture),l.height>d.height)T.viewport(0,0,l.width,l.height),this.setTargetUVs(l,d);else{var E=d.height-l.height;T.viewport(0,E,l.width,l.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture,0),m&&(x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),g){var C=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}y&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),g&&this.renderer.setBlendMode(C),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(l,d,v,m,x,g,y,T){y===void 0&&(y=!0),T===void 0&&(T=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,l.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,l.texture,0),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,v,m,x,g),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(l){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(l,d,v,m){v===void 0&&(v=!0),m===void 0&&(m=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,l.texture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture,0)):x.viewport(0,0,l.width,l.height),v?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(l,d,v,m,x,g){m===void 0&&(m=1),x===void 0&&(x=!0),g===void 0&&(g=this.linearShader);var y=this.gl;this.setShader(g),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,l.texture),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,d.texture),v?(y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,v.texture,0),y.viewport(0,0,v.width,v.height)):y.viewport(0,0,l.width,l.height),x?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFramesAdditive:function(l,d,v,m,x){this.blendFrames(l,d,v,m,x,this.addShader)},clearFrame:function(l,d){d===void 0&&(d=!0);var v=this.gl;v.viewport(0,0,l.width,l.height),v.bindFramebuffer(v.FRAMEBUFFER,l.framebuffer),d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,m)},setUVs:function(l,d,v,m,x,g,y,T){var E=this.vertexViewF32;E[2]=l,E[3]=d,E[6]=v,E[7]=m,E[10]=x,E[11]=g,E[14]=l,E[15]=d,E[18]=x,E[19]=g,E[22]=y,E[23]=T},setTargetUVs:function(l,d){var v=d.height/l.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=h},65641:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},68726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},67186:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},22709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},74469:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},93953:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},51687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},25034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},18970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(87751),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});p.exports=r},2134:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(88222),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,u=this.fullFrame2;this.copyFrame(n,u);for(var i=2/n.width*e.offsetX,o=2/n.height*e.offsetY,h=0;h<e.steps;h++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,o),this.copySprite(s,n);this.blendFrames(u,n,s,e.strength),this.copyToGame(s)}});p.exports=r},63377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(35491),a=t(75568),r=t(44481),n=t(80486),e=new f({Extends:n,initialize:function(u){n.call(this,{game:u,shaders:[{name:"Gaussian5",fragShader:c},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var u=this.getController(),i=this.gl,o=this.fullFrame1,h=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[u.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",u.strength),this.set3fv("color",u.glcolor);for(var l=0;l<u.steps;l++)this.set2f("offset",u.x,0),this.copySprite(s,o),this.set2f("offset",0,u.y),this.copySprite(o,s);i.bindFramebuffer(i.FRAMEBUFFER,h),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});p.exports=e},49745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(69960),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,u){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},4323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(33754),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,u){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},92066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(80486),a=new f({Extends:c,initialize:function(n){c.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});p.exports=a},89581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(35668),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});p.exports=r},55084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(69675),r=t(80486),n=t(75512),e=new f({Extends:r,initialize:function(u,i){var o=c(i,"quality",.1),h=c(i,"distance",10);r.call(this,{game:u,fragShader:n.setGlowQuality(a,u,o,h)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,u,i,o){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,u),this.set1f("innerStrength",s.innerStrength,u),this.set4fv("glowColor",s.glcolor,u),this.setBoolean("knockout",s.knockout,u),i&&o&&this.set2f("resolution",i,o,u)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=e},41653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(90993),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});p.exports=r},73416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(37945),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(n,e,s,u){n=this.getController(n),this.set1f("amount",n.amount,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},58049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(85718),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});p.exports=r},18026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(13740),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,u){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},72381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(80617),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});p.exports=r},80542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(62879),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,u=n.wipeWidth,i=n.direction,o=n.axis;this.set4f("config",s,u,i,o,e),this.setBoolean("reveal",n.reveal,e)}});p.exports=r},58136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};p.exports=f},62253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65641),c=t(98611),a={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};a=c(!1,a,f),p.exports=a},2529:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(55301),c=t(56694),a=t(6659),r=t(40444),n=t(97081),e=t(74181),s=t(2893),u=t(9229),i=t(72283),o=t(74118),h=t(90881),l=t(84314),d=t(93736),v=t(47751),m=new c({Extends:a,initialize:function(g){a.call(this),this.game=g,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new h,this.gameSize=new h,this.baseSize=new h,this.displaySize=new h,this.scaleMode=f.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=f.CENTER.NO_CENTER,this.orientation=f.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==f.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===f.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(n.PRE_STEP,this.step,this),x.events.once(n.READY,this.refresh,this),x.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var g=x.width,y=x.height,T=x.scaleMode,E=x.zoom,C=x.autoRound;if(typeof g=="string")if(g.substr(-1)!=="%")g=parseInt(g,10);else{var A=this.parentSize.width;A===0&&(A=window.innerWidth);var P=parseInt(g,10)/100;g=Math.floor(A*P)}if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var F=this.parentSize.height;F===0&&(F=window.innerHeight);var O=parseInt(y,10)/100;y=Math.floor(F*O)}this.scaleMode=T,this.autoRound=C,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,C&&(g=Math.floor(g),y=Math.floor(y)),this.gameSize.setSize(g,y),E===f.ZOOM.MAX_ZOOM&&(E=this.getMaxZoom()),this.zoom=E,E!==1&&(this._resetZoom=!0),this.baseSize.setSize(g,y),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*E,x.minHeight*E),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*E,x.maxHeight*E),this.displaySize.setSize(g,y),this.orientation=u(g,y)},getParent:function(x){var g=x.parent;if(g!==null){if(this.parent=s(g),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==f.SCALE_MODE.NONE){var y=this.parent.getBoundingClientRect();(this.parentIsWindow||y.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",y=this.parent.getBoundingClientRect(),!this.parentIsWindow&&y.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,g=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(g.height=e(!0));var y=g.width,T=g.height;if(x.width!==y||x.height!==T)return x.setSize(y,T),!0;if(this.canvas){var E=this.canvasBounds,C=this.canvas.getBoundingClientRect();if(C.x!==E.x||C.y!==E.y)return!0}return!1},lockOrientation:function(x){var g=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return g?g.call(screen,x):!1},setParentSize:function(x,g){return this.parentSize.setSize(x,g),this.refresh()},setGameSize:function(x,g){var y=this.autoRound;y&&(x=Math.floor(x),g=Math.floor(g));var T=this.width,E=this.height;return this.gameSize.resize(x,g),this.baseSize.resize(x,g),y&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,E)},resize:function(x,g){var y=this.zoom,T=this.autoRound;T&&(x=Math.floor(x),g=Math.floor(g));var E=this.width,C=this.height;this.gameSize.resize(x,g),this.baseSize.resize(x,g),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*y,g*y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var A=this.canvas.style,P=x*y,F=g*y;return T&&(P=Math.floor(P),F=Math.floor(F)),(P!==x||F!==g)&&(A.width=P+"px",A.height=F+"px"),this.refresh(E,C)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,g){x===void 0&&(x=this.width),g===void 0&&(g=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var y=this.game.domContainer;if(y){this.baseSize.setCSS(y);var T=this.canvas.style,E=y.style;E.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",E.marginLeft=T.marginLeft,E.marginTop=T.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,g),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=u(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,g=this.gameSize.width,y=this.gameSize.height,T,E,C=this.zoom,A=this.autoRound;this.scaleMode===f.SCALE_MODE.NONE?(this.displaySize.setSize(g*C,y*C),T=this.displaySize.width,E=this.displaySize.height,A&&(T=Math.floor(T),E=Math.floor(E)),this._resetZoom&&(x.width=T+"px",x.height=E+"px",this._resetZoom=!1)):this.scaleMode===f.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,E=this.displaySize.height,A&&(T=Math.floor(T),E=Math.floor(E)),this.canvas.width=T,this.canvas.height=E):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,E=this.displaySize.height,A&&(T=Math.floor(T),E=Math.floor(E)),x.width=T+"px",x.height=E+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=l(this.parentSize.width,this.gameSize.width,0,!0),g=l(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,g),1)},updateCenter:function(){var x=this.autoCenter;if(x!==f.CENTER.NO_CENTER){var g=this.canvas,y=g.style,T=g.getBoundingClientRect(),E=T.width,C=T.height,A=Math.floor((this.parentSize.width-E)/2),P=Math.floor((this.parentSize.height-C)/2);x===f.CENTER.CENTER_HORIZONTALLY?P=0:x===f.CENTER.CENTER_VERTICALLY&&(A=0),y.marginLeft=A+"px",y.marginTop=P+"px"}},updateBounds:function(){var x=this.canvasBounds,g=this.canvas.getBoundingClientRect();x.x=g.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=g.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=g.width,x.height=g.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var g=this.fullscreen;if(!g.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!g.active){var y=this.getFullscreenTarget();g.keyboard?y[g.request](Element.ALLOW_KEYBOARD_INPUT):y[g.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var g=this.canvas.parentNode;g.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var g=x.parentNode;g.insertBefore(this.canvas,x),g.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,g=this.domlisteners;if(g.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0},g.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",g.orientationChange,!1),window.addEventListener("resize",g.windowResize,!1),this.fullscreen.available){g.fullScreenChange=function(T){return x.onFullScreenChange(T)},g.fullScreenError=function(T){return x.onFullScreenError(T)};var y=["webkit","moz",""];y.forEach(function(T){document.addEventListener(T+"fullscreenchange",g.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",g.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.addEventListener("MSFullscreenError",g.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,g){x instanceof v||(g=x,x=void 0),g===void 0&&(g=new o);var y=this.baseSize,T=this.parentSize,E=this.canvasBounds,C=this.displayScale,A=E.x>=0?0:-(E.x*C.x),P=E.y>=0?0:-(E.y*C.y),F;T.width>=E.width?F=y.width:F=y.width-(E.width-T.width)*C.x;var O;return T.height>=E.height?O=y.height:O=y.height-(E.height-T.height)*C.y,g.setTo(A,P,F,O),x&&(g.width/=x.zoomX,g.height/=x.zoomY,g.centerX=x.centerX+x.scrollX,g.centerY=x.centerY+x.scrollY),g},step:function(x,g){!this.parent||(this._lastCheck+=g,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var g=["webkit","moz",""];g.forEach(function(y){document.removeEventListener(y+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(y+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===f.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===f.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=m},35098:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};p.exports=f},82085:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},11826:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},56691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},34739:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},26681:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},11428:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},40444:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(55301),a={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};a=f(!1,a,c.CENTER),a=f(!1,a,c.ORIENTATION),a=f(!1,a,c.SCALE_MODE),a=f(!1,a,c.ZOOM),p.exports=a},47736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=t(40587),a=function(r){var n=r.game.config.defaultPhysicsSystem,e=f(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(c(n+"Physics")),e)for(var u in e)u=c(u.concat("Physics")),s.indexOf(u)===-1&&s.push(u);return s}};p.exports=a},91088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a){var r=a.plugins.getDefaultScenePlugins(),n=f(a.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};p.exports=c},90415:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},87157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(63946),a=new f({initialize:function(n){this.sys=new c(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=a},13553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(92980),a=t(7599),r=t(97081),n=t(10850),e=t(683),s=t(72283),u=t(87157),i=t(63946),o=new f({initialize:function(l,d){if(this.game=l,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)this._pending.push({key:"default",scene:d[v],autoStart:v===0,data:{}})}l.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new u),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var h,l,d,v;for(h=0;h<this._pending.length;h++){l=this._pending[h],d=l.key,v=l.scene;var m;v instanceof u?m=this.createSceneFromInstance(d,v):typeof v=="object"?m=this.createSceneFromObject(d,v):typeof v=="function"&&(m=this.createSceneFromFunction(d,v)),d=m.sys.settings.key,this.keys[d]=m,this.scenes.push(m),this._data[d]&&(m.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(l.autoStart=!0)),(l.autoStart||m.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,h=0;h<this._start.length;h++)l=this._start[h],this.start(l);this._start.length=0}},processQueue:function(){var h=this._pending.length,l=this._queue.length;if(!(h===0&&l===0)){var d,v;if(h){for(d=0;d<h;d++)v=this._pending[d],this.add(v.key,v.scene,v.autoStart,v.data);for(d=0;d<this._start.length;d++)v=this._start[d],this.start(v);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)v=this._queue[d],this[v.op](v.keyA,v.keyB);this._queue.length=0}},add:function(h,l,d,v){if(d===void 0&&(d=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:h,scene:l,autoStart:d,data:v}),this.isBooted||(this._data[h]={data:v}),null;h=this.getKey(h,l);var m;return l instanceof u?m=this.createSceneFromInstance(h,l):typeof l=="object"?(l.key=h,m=this.createSceneFromObject(h,l)):typeof l=="function"&&(m=this.createSceneFromFunction(h,l)),m.sys.settings.data=v,h=m.sys.settings.key,this.keys[h]=m,this.scenes.push(m),(d||m.sys.settings.active)&&(this._pending.length?this._start.push(h):this.start(h)),m},remove:function(h){if(this.isProcessing)this._queue.push({op:"remove",keyA:h,keyB:null});else{var l=this.getScene(h);if(!l||l.sys.isTransitioning())return this;var d=this.scenes.indexOf(l),v=l.sys.settings.key;d>-1&&(delete this.keys[v],this.scenes.splice(d,1),this._start.indexOf(v)>-1&&(d=this._start.indexOf(v),this._start.splice(d,1)),l.sys.destroy())}return this},bootScene:function(h){var l=h.sys,d=l.settings;l.sceneUpdate=s,h.init&&(h.init.call(h,d.data),d.status=c.INIT,d.isTransition&&l.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var v;l.load&&(v=l.load,v.reset()),v&&h.preload?(h.preload.call(h),d.status=c.LOADING,v.once(e.COMPLETE,this.loadComplete,this),v.start()):this.create(h)},loadComplete:function(h){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(h.scene)},payloadComplete:function(h){this.bootScene(h.scene)},update:function(h,l){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var v=this.scenes[d].sys;v.settings.status>c.START&&v.settings.status<=c.RUNNING&&v.step(h,l),v.scenePlugin._target&&v.scenePlugin.step(h,l)}},render:function(h){for(var l=0;l<this.scenes.length;l++){var d=this.scenes[l].sys;d.settings.visible&&d.settings.status>=c.LOADING&&d.settings.status<c.SLEEPING&&d.render(h)}this.isProcessing=!1},create:function(h){var l=h.sys,d=l.settings;h.create&&(d.status=c.CREATING,h.create.call(h,d.data),d.status===c.DESTROYED)||(d.isTransition&&l.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),h.update&&(l.sceneUpdate=h.update),d.status=c.RUNNING,l.events.emit(a.CREATE,h))},createSceneFromFunction:function(h,l){var d=new l;if(d instanceof u){var v=d.sys.settings.key;if(v!==""&&(h=v),this.keys.hasOwnProperty(h))throw new Error("Cannot add a Scene with duplicate key: "+h);return this.createSceneFromInstance(h,d)}else return d.sys=new i(d),d.sys.settings.key=h,d.sys.init(this.game),d},createSceneFromInstance:function(h,l){var d=l.sys.settings.key;return d===""&&(l.sys.settings.key=h),l.sys.init(this.game),l},createSceneFromObject:function(h,l){var d=new u(l),v=d.sys.settings.key;v!==""?h=v:d.sys.settings.key=h,d.sys.init(this.game);for(var m=["init","preload","create","update","render"],x=0;x<m.length;x++){var g=n(l,m[x],null);g&&(d[m[x]]=g)}if(l.hasOwnProperty("extend")){for(var y in l.extend)if(!!l.extend.hasOwnProperty(y)){var T=l.extend[y];y==="data"&&d.hasOwnProperty("data")&&typeof T=="object"?d.data.merge(T):y!=="sys"&&(d[y]=T)}}return d},getKey:function(h,l){if(h||(h="default"),typeof l=="function")return h;if(l instanceof u?h=l.sys.settings.key:typeof l=="object"&&l.hasOwnProperty("key")&&(h=l.key),this.keys.hasOwnProperty(h))throw new Error("Cannot add a Scene with duplicate key: "+h);return h},getScenes:function(h,l){h===void 0&&(h=!0),l===void 0&&(l=!1);for(var d=[],v=this.scenes,m=0;m<v.length;m++){var x=v[m];x&&(!h||h&&x.sys.isActive())&&d.push(x)}return l?d.reverse():d},getScene:function(h){if(typeof h=="string"){if(this.keys[h])return this.keys[h]}else for(var l=0;l<this.scenes.length;l++)if(h===this.scenes[l])return h;return null},isActive:function(h){var l=this.getScene(h);return l?l.sys.isActive():null},isPaused:function(h){var l=this.getScene(h);return l?l.sys.isPaused():null},isVisible:function(h){var l=this.getScene(h);return l?l.sys.isVisible():null},isSleeping:function(h){var l=this.getScene(h);return l?l.sys.isSleeping():null},pause:function(h,l){var d=this.getScene(h);return d&&d.sys.pause(l),this},resume:function(h,l){var d=this.getScene(h);return d&&d.sys.resume(l),this},sleep:function(h,l){var d=this.getScene(h);return d&&!d.sys.isTransitioning()&&d.sys.sleep(l),this},wake:function(h,l){var d=this.getScene(h);return d&&d.sys.wake(l),this},run:function(h,l){var d=this.getScene(h);if(!d){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===h){this.queueOp("start",h,l);break}return this}d.sys.isSleeping()?d.sys.wake(l):d.sys.isPaused()?d.sys.resume(l):this.start(h,l)},start:function(h,l){if(!this.isBooted)return this._data[h]={autoStart:!0,data:l},this;var d=this.getScene(h);if(!d)return console.warn("Scene not found for key: "+h),this;var v=d.sys,m=v.settings.status;if(m>=c.START&&m<=c.CREATING)return this;if(m>=c.RUNNING&&m<=c.SLEEPING)v.shutdown(),v.sceneUpdate=s,v.start(l);else{v.sceneUpdate=s,v.start(l);var x;if(v.load&&(x=v.load),x&&v.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:v.settings.pack})))return v.settings.status=c.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(d),this},stop:function(h,l){var d=this.getScene(h);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==c.SHUTDOWN){var v=d.sys.load;v&&(v.off(e.COMPLETE,this.loadComplete,this),v.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(l)}return this},switch:function(h,l){var d=this.getScene(h),v=this.getScene(l);return d&&v&&d!==v&&(this.sleep(h),this.isSleeping(l)?this.wake(l):this.start(l)),this},getAt:function(h){return this.scenes[h]},getIndex:function(h){var l=this.getScene(h);return this.scenes.indexOf(l)},bringToTop:function(h){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l!==-1&&l<this.scenes.length){var d=this.getScene(h);this.scenes.splice(l,1),this.scenes.push(d)}}return this},sendToBack:function(h){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l!==-1&&l>0){var d=this.getScene(h);this.scenes.splice(l,1),this.scenes.unshift(d)}}return this},moveDown:function(h){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l>0){var d=l-1,v=this.getScene(h),m=this.getAt(d);this.scenes[l]=m,this.scenes[d]=v}}return this},moveUp:function(h){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l<this.scenes.length-1){var d=l+1,v=this.getScene(h),m=this.getAt(d);this.scenes[l]=m,this.scenes[d]=v}}return this},moveAbove:function(h,l){if(h===l)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:h,keyB:l});else{var d=this.getIndex(h),v=this.getIndex(l);if(d!==-1&&v!==-1&&v<d){var m=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(d+(v>d),0,m)}}return this},moveBelow:function(h,l){if(h===l)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:h,keyB:l});else{var d=this.getIndex(h),v=this.getIndex(l);if(d!==-1&&v!==-1&&v>d){var m=this.getAt(v);this.scenes.splice(v,1),d===0?this.scenes.unshift(m):this.scenes.splice(d-(v<d),0,m)}}return this},queueOp:function(h,l,d){return this._queue.push({op:h,keyA:l,keyB:d}),this},swapPosition:function(h,l){if(h===l)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:h,keyB:l});else{var d=this.getIndex(h),v=this.getIndex(l);if(d!==v&&d!==-1&&v!==-1){var m=this.getAt(d);this.scenes[d]=this.scenes[v],this.scenes[v]=m}}return this},dump:function(){for(var h=[],l=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys,m=v.settings.visible&&(v.settings.status===c.RUNNING||v.settings.status===c.PAUSED)?"[*] ":"[-] ";m+=v.settings.key+" ("+l[v.settings.status]+")",h.push(m)}console.log(h.join(`
`))},destroy:function(){for(var h=0;h<this.scenes.length;h++){var l=this.scenes[h].sys;l.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=o},64051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(7599),r=t(72632),n=t(91963),e=new c({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,u),this},restart:function(s){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,s),this},transition:function(s){s===void 0&&(s={});var u=r(s,"target",!1),i=this.manager.getScene(u);if(!u||!this.checkValidTransition(i))return!1;var o=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=o,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var h=r(s,"onUpdate",null);h&&(this._onUpdate=h,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var l=r(s,"allowInput",!1);this.settings.transitionAllowInput=l;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=l,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,u):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(u,r(s,"data"));var v=r(s,"onStart",null),m=r(s,"onStartScope",this.scene);return v&&v.call(m,this.scene,i,o),this.systems.events.emit(a.TRANSITION_OUT,i,o),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,u){this._elapsed+=u,this.transitionProgress=f(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,u=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,u,i,o){return this.manager.add(s,u,i,o)},launch:function(s,u){return s&&s!==this.key&&this.manager.queueOp("start",s,u),this},run:function(s,u){return s&&s!==this.key&&this.manager.queueOp("run",s,u),this},pause:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,u),this},resume:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,u),this},sleep:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,u),this},wake:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,u),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,u),this},setActive:function(s,u,i){u===void 0&&(u=this.key);var o=this.manager.getScene(u);return o&&o.sys.setActive(s,i),this},setVisible:function(s,u){u===void 0&&(u=this.key);var i=this.manager.getScene(u);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.swapPosition(s,u),this},moveAbove:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.moveAbove(s,u),this},moveBelow:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.moveBelow(s,u),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var u=this.manager.getScene(s);if(u)return u.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),p.exports=e},36765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92980),c=t(10850),a=t(30657),r=t(90415),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:f.PENDING,key:c(e,"key",""),active:c(e,"active",!1),visible:c(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:c(e,"pack",!1),cameras:c(e,"cameras",null),map:c(e,"map",a(r,c(e,"mapAdd",{}))),physics:c(e,"physics",{}),loader:c(e,"loader",{}),plugins:c(e,"plugins",!1),input:c(e,"input",{})}}};p.exports=n},63946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(92980),a=t(18360),r=t(7599),n=t(47736),e=t(91088),s=t(72283),u=t(36765),i=new f({initialize:function(h,l){this.scene=h,this.game,this.renderer,this.config=l,this.settings=u.create(l),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(o){this.settings.status=c.INIT,this.sceneUpdate=s,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var h=o.plugins;this.plugins=h,h.addToScene(this,a.Global,[a.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(o,h){var l=this.events;l.emit(r.PRE_UPDATE,o,h),l.emit(r.UPDATE,o,h),this.sceneUpdate.call(this.scene,o,h),l.emit(r.POST_UPDATE,o,h)},render:function(o){var h=this.displayList;h.depthSort(),this.events.emit(r.PRE_RENDER,o),this.cameras.render(o,h),this.events.emit(r.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var h=this.settings,l=this.getStatus();return l!==c.CREATING&&l!==c.RUNNING?console.warn("Cannot pause non-running Scene",h.key):this.settings.active&&(h.status=c.PAUSED,h.active=!1,this.events.emit(r.PAUSE,this,o)),this},resume:function(o){var h=this.events,l=this.settings;return this.settings.active||(l.status=c.RUNNING,l.active=!0,h.emit(r.RESUME,this,o)),this},sleep:function(o){var h=this.settings,l=this.getStatus();return l!==c.CREATING&&l!==c.RUNNING?console.warn("Cannot sleep non-running Scene",h.key):(h.status=c.SLEEPING,h.active=!1,h.visible=!1,this.events.emit(r.SLEEP,this,o)),this},wake:function(o){var h=this.events,l=this.settings;return l.status=c.RUNNING,l.active=!0,l.visible=!0,h.emit(r.WAKE,this,o),l.isTransition&&h.emit(r.TRANSITION_WAKE,l.transitionFrom,l.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>c.PENDING&&o<=c.RUNNING},isSleeping:function(){return this.settings.status===c.SLEEPING},isActive:function(){return this.settings.status===c.RUNNING},isPaused:function(){return this.settings.status===c.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,h){return o?this.resume(h):this.pause(h)},start:function(o){var h=this.events,l=this.settings;o&&(l.data=o),l.status=c.START,l.active=!0,l.visible=!0,h.emit(r.START,this),h.emit(r.READY,this,o)},shutdown:function(o){var h=this.events,l=this.settings;h.off(r.TRANSITION_INIT),h.off(r.TRANSITION_START),h.off(r.TRANSITION_COMPLETE),h.off(r.TRANSITION_OUT),l.status=c.SHUTDOWN,l.active=!1,l.visible=!1,h.emit(r.SHUTDOWN,this,o)},destroy:function(){var o=this.events,h=this.settings;h.status=c.DESTROYED,h.active=!1,h.visible=!1,o.emit(r.DESTROY,this),o.removeAllListeners();for(var l=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<l.length;d++)this[l[d]]=null}});p.exports=i},92980:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},31803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},94817:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},28977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},91959:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},363:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},15643:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},17058:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},77125:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},76018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},28620:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},41538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},34268:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},2342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},96541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},74244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},17046:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},13637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},14733:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},33899:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},52418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},31735:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8470:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},7599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92980),c=t(98611),a={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};a=c(!1,a,f),p.exports=a},25798:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(76038),r=t(98611),n=t(72283),e=new f({Extends:c,initialize:function(u,i,o){c.call(this),this.manager=u,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var u=this.markers[s];return u?(this.markers[s]=null,u):null},play:function(s,u){if(s===void 0&&(s=""),typeof s=="object"&&(u=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,u);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},12486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(32742),a=t(6659),r=t(76038),n=t(97081),e=t(71608),s=t(51463),u=t(72283),i=t(93736),o=new f({Extends:a,initialize:function(l){a.call(this),this.game=l,this.jsonCache=l.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,l.events.on(n.BLUR,this.onGameBlur,this),l.events.on(n.FOCUS,this.onGameFocus,this),l.events.on(n.PRE_STEP,this.update,this),l.events.once(n.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(h,l){l===void 0&&(l={});var d=this.add(h,l);d.spritemap=this.jsonCache.get(h).spritemap;for(var v in d.spritemap)if(!!d.spritemap.hasOwnProperty(v)){var m=c(l),x=d.spritemap[v];m.loop=x.hasOwnProperty("loop")?x.loop:!1,d.addMarker({name:v,start:x.start,duration:x.end-x.start,config:m})}return d},get:function(h){return s(this.sounds,"key",h)},getAll:function(h){return h?e(this.sounds,"key",h):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(h,l){var d=this.add(h);return d.once(r.COMPLETE,d.destroy,d),l?l.name?(d.addMarker(l),d.play(l.name)):d.play(l):d.play()},playAudioSprite:function(h,l,d){var v=this.addAudioSprite(h);return v.once(r.COMPLETE,v.destroy,v),v.play(l,d)},remove:function(h){var l=this.sounds.indexOf(h);return l!==-1?(h.destroy(),this.sounds.splice(l,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var l=0,d=this.sounds.length-1;d>=0;d--){var v=this.sounds[d];v.key===h&&(v.destroy(),this.sounds.splice(d,1),l++)}return l},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(h){var l=0;return this.getAll(h).forEach(function(d){d.stop()&&l++}),l},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(h,l){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(v){v.update(h,l)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(h,l){var d=this;this.sounds.forEach(function(v,m){v&&!v.pendingRemove&&h.call(l||d,v,m,d.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,h)}}});p.exports=o},84191:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27622),c=t(17546),a=t(55491),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new c(n):s.webAudio&&!e.disableWebAudio?new a(n):new f(n)}};p.exports=r},77578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},19679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},56951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},16436:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},55154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57890:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},83022:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},99170:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},64289:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},67214:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},53128:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},73078:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},76763:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},88426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},13765:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},80291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},11124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},55382:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},71157:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},31776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},39450:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},21939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},33019:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},76038:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25798),c=t(56694),a=t(76038),r=t(82897),n=new c({Extends:f,initialize:function(s,u,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(u),!this.tags)throw new Error('No cached audio asset with key "'+u);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,f.call(this,s,u,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!f.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!f.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!f.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&u.push(o)},this),u.sort(function(o,h){return o.loop===h.loop?h.seek/h.duration-o.seek/o.duration:o.loop?1:-1});var i=u[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){f.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(!!this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,u=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=u-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-u),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){f.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){f.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},27622:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12486),c=t(56694),a=t(76038),r=t(34350),n=new c({Extends:f,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,f.call(this,s)},add:function(e,s){var u=new r(this,e,s);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(o,h){for(var l=0;l<h.length;l++)if(h[l].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,u=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",i);var o=[];if(e.game.cache.audio.entries.each(function(l,d){for(var v=0;v<d.length;v++){var m=d[v];m.dataset.locked==="true"&&o.push(m)}return!0}),o.length!==0){var h=o[o.length-1];h.oncanplaythrough=function(){h.oncanplaythrough=null,o.forEach(function(l){l.dataset.locked="false"}),e.unlocked=!0},o.forEach(function(l){l.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(h){h.currentMarker===null&&h.duration===0&&(h.duration=h.tags[0].duration),h.totalDuration=h.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){f.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,u){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:u}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});p.exports=n},56751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25798),c=t(56694),a=t(6659),r=t(98611),n=t(72283),e=function(){return!1},s=function(){return null},u=function(){return this},i=new c({Extends:a,initialize:function(h,l,d){d===void 0&&(d={}),a.call(this),this.manager=h,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){f.prototype.destroy.call(this)}});p.exports=i},17546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12486),c=t(56694),a=t(6659),r=t(38662),n=t(72283),e=new c({Extends:a,initialize:function(u){a.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,u){var i=new r(this,s,u);return this.sounds.push(i),i},addAudioSprite:function(s,u){var i=this.add(s,u);return i.spritemap={},i},get:function(s){return f.prototype.get.call(this,s)},getAll:function(s){return f.prototype.getAll.call(this,s)},play:function(s,u){return!1},playAudioSprite:function(s,u,i){return!1},remove:function(s){return f.prototype.remove.call(this,s)},removeAll:function(){return f.prototype.removeAll.call(this)},removeByKey:function(s){return f.prototype.removeByKey.call(this,s)},stopByKey:function(s){return f.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,u){f.prototype.forEachActiveSound.call(this,s,u)},destroy:function(){f.prototype.destroy.call(this)}});p.exports=e},96008:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25798),c=t(56694),a=t(76038),r=t(72632),n=new c({Extends:f,initialize:function(s,u,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(u),!this.audioBuffer)throw new Error('Audio key "'+u+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,f.call(this,s,u,i)},play:function(e,s){return f.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return f.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,u=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,o=this.duration-e;this.playTime=u-e,this.startTime=u,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,u),Math.max(0,i),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,u=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,u))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(u){u.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}f.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(this.hasEnded=!1,f.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(f.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){f.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var u=0;s<this.rateUpdates.length-1?u=this.rateUpdates[s+1].time:u=this.manager.context.currentTime-this.playTime,e+=(u-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var u=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+u.time+(this.duration-e)/u.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},55491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82329),c=t(12486),a=t(56694),r=t(76038),n=t(97081),e=t(96008),s=t(72632),u=new a({Extends:c,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),c.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(n.BOOT,this.unlock,this)},createAudioContext:function(i){var o=i.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,o){var h=new e(this,i,o);return this.sounds.push(h),h},decodeAudio:function(i,o){var h;Array.isArray(i)?h=i:h=[{key:i,data:o}];for(var l=this.game.cache.audio,d=h.length,v=0;v<h.length;v++){var m=h[v],x=m.key,g=m.data;typeof g=="string"&&(g=f(g));var y=function(E,C){l.add(E,C),this.emit(r.DECODED,E),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x),T=function(E,C){console.error("Error decoding audio: "+E+" - ",C?C.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x);this.context.decodeAudioData(g,y,T)}},setListenerPosition:function(i,o){return i===void 0&&(i=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(i,o),this},unlock:function(){var i=this,o=document.body,h=function l(){if(i.context&&o){var d=o.removeEventListener.bind(o);i.context.resume().then(function(){d("touchstart",l),d("touchend",l),d("click",l),d("keydown",l),i.unlocked=!0},function(){d("touchstart",l),d("touchend",l),d("click",l),d("keydown",l)})}};o&&(o.addEventListener("touchstart",h,!1),o.addEventListener("touchend",h,!1),o.addEventListener("click",h,!1),o.addEventListener("keydown",h,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,o){var h=this.context.listener;if(h&&h.positionX!==void 0){var l=s(this.listenerPosition,"x",null),d=s(this.listenerPosition,"y",null);l&&l!==this._spatialx&&(this._spatialx=h.positionX.value=l),d&&d!==this._spatialy&&(this._spatialy=h.positionY.value=d)}c.prototype.update.call(this,i,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}c.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});p.exports=u},71207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59959),c=t(56694),a=t(72283),r=t(17922),n=new c({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?f.Add(this.list,e):f.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,u){return u?f.AddAt(this.list,e,s):f.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(u,i){return u[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return f.GetFirst(this.list,"name",e)},getRandom:function(e,s){return f.GetRandom(this.list,e,s)},getFirst:function(e,s,u,i){return f.GetFirst(this.list,e,s,u,i)},getAll:function(e,s,u,i){return f.GetAll(this.list,e,s,u,i)},count:function(e,s){return f.CountAllMatching(this.list,e,s)},swap:function(e,s){f.Swap(this.list,e,s)},moveTo:function(e,s){return f.MoveTo(this.list,e,s)},moveAbove:function(e,s){return f.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return f.MoveBelow(this.list,e,s)},remove:function(e,s){return s?f.Remove(this.list,e):f.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?f.RemoveAt(this.list,e):f.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,u){return u?f.RemoveBetween(this.list,e,s):f.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return f.BringToTop(this.list,e)},sendToBack:function(e){return f.SendToBack(this.list,e)},moveUp:function(e){return f.MoveUp(this.list,e),e},moveDown:function(e){return f.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(e,s){return f.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,u,i){return f.SetAll(this.list,e,s,u,i),this},each:function(e,s){for(var u=[null],i=2;i<arguments.length;i++)u.push(arguments[i]);for(i=0;i<this.list.length;i++)u[0]=this.list[i],e.apply(s,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=n},33885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var n in r)if(a(n,r[n])===!1)break;return this},contains:function(a){var r=this.entries;for(var n in r)if(r[n]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var n=this.entries,e=a.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});p.exports=c},74623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(36716),r=new f({Extends:c,initialize:function(){c.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,u;for(s=0;s<n.length;s++){u=n[s];var i=e.indexOf(u);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,u))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)u=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(u)===-1)&&(e.push(u),this.emit(a.PROCESS_QUEUE_ADD,u));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},68687:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53466);function c(g){if(!(this instanceof c))return new c(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}c.prototype={all:function(){return this._all(this.data,[])},search:function(g){var y=this.data,T=[],E=this.toBBox;if(!v(g,y))return T;for(var C=[],A,P,F,O;y;){for(A=0,P=y.children.length;A<P;A++)F=y.children[A],O=y.leaf?E(F):F,v(g,O)&&(y.leaf?T.push(F):d(g,O)?this._all(F,T):C.push(F));y=C.pop()}return T},collides:function(g){var y=this.data,T=this.toBBox;if(!v(g,y))return!1;for(var E=[],C,A,P,F;y;){for(C=0,A=y.children.length;C<A;C++)if(P=y.children[C],F=y.leaf?T(P):P,v(g,F)){if(y.leaf||d(g,F))return!0;E.push(P)}y=E.pop()}return!1},load:function(g){if(!(g&&g.length))return this;if(g.length<this._minEntries){for(var y=0,T=g.length;y<T;y++)this.insert(g[y]);return this}var E=this._build(g.slice(),0,g.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var C=this.data;this.data=E,E=C}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(g,y){if(!g)return this;for(var T=this.data,E=this.toBBox(g),C=[],A=[],P,F,O,I;T||C.length;){if(T||(T=C.pop(),F=C[C.length-1],P=A.pop(),I=!0),T.leaf&&(O=a(g,T.children,y),O!==-1))return T.children.splice(O,1),C.push(T),this._condense(C),this;!I&&!T.leaf&&d(T,E)?(C.push(T),A.push(P),P=0,F=T,T=T.children[0]):F?(P++,T=F.children[P],I=!1):T=null}return this},toBBox:function(g){return g},compareMinX:s,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,y){for(var T=[];g;)g.leaf?y.push.apply(y,g.children):T.push.apply(T,g.children),g=T.pop();return y},_build:function(g,y,T,E){var C=T-y+1,A=this._maxEntries,P;if(C<=A)return P=m(g.slice(y,T+1)),r(P,this.toBBox),P;E||(E=Math.ceil(Math.log(C)/Math.log(A)),A=Math.ceil(C/Math.pow(A,E-1))),P=m([]),P.leaf=!1,P.height=E;var F=Math.ceil(C/A),O=F*Math.ceil(Math.sqrt(A)),I,G,z,X;for(x(g,y,T,O,this.compareMinX),I=y;I<=T;I+=O)for(z=Math.min(I+O-1,T),x(g,I,z,F,this.compareMinY),G=I;G<=z;G+=F)X=Math.min(G+F-1,z),P.children.push(this._build(g,G,X,E-1));return r(P,this.toBBox),P},_chooseSubtree:function(g,y,T,E){for(var C,A,P,F,O,I,G,z;E.push(y),!(y.leaf||E.length-1===T);){for(G=z=1/0,C=0,A=y.children.length;C<A;C++)P=y.children[C],O=i(P),I=h(g,P)-O,I<z?(z=I,G=O<G?O:G,F=P):I===z&&O<G&&(G=O,F=P);y=F||y.children[0]}return y},_insert:function(g,y,T){var E=this.toBBox,C=T?g:E(g),A=[],P=this._chooseSubtree(C,this.data,y,A);for(P.children.push(g),e(P,C);y>=0&&A[y].children.length>this._maxEntries;)this._split(A,y),y--;this._adjustParentBBoxes(C,A,y)},_split:function(g,y){var T=g[y],E=T.children.length,C=this._minEntries;this._chooseSplitAxis(T,C,E);var A=this._chooseSplitIndex(T,C,E),P=m(T.children.splice(A,T.children.length-A));P.height=T.height,P.leaf=T.leaf,r(T,this.toBBox),r(P,this.toBBox),y?g[y-1].children.push(P):this._splitRoot(T,P)},_splitRoot:function(g,y){this.data=m([g,y]),this.data.height=g.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(g,y,T){var E,C,A,P,F,O,I,G;for(O=I=1/0,E=y;E<=T-y;E++)C=n(g,0,E,this.toBBox),A=n(g,E,T,this.toBBox),P=l(C,A),F=i(C)+i(A),P<O?(O=P,G=E,I=F<I?F:I):P===O&&F<I&&(I=F,G=E);return G},_chooseSplitAxis:function(g,y,T){var E=g.leaf?this.compareMinX:s,C=g.leaf?this.compareMinY:u,A=this._allDistMargin(g,y,T,E),P=this._allDistMargin(g,y,T,C);A<P&&g.children.sort(E)},_allDistMargin:function(g,y,T,E){g.children.sort(E);var C=this.toBBox,A=n(g,0,y,C),P=n(g,T-y,T,C),F=o(A)+o(P),O,I;for(O=y;O<T-y;O++)I=g.children[O],e(A,g.leaf?C(I):I),F+=o(A);for(O=T-y-1;O>=y;O--)I=g.children[O],e(P,g.leaf?C(I):I),F+=o(P);return F},_adjustParentBBoxes:function(g,y,T){for(var E=T;E>=0;E--)e(y[E],g)},_condense:function(g){for(var y=g.length-1,T;y>=0;y--)g[y].children.length===0?y>0?(T=g[y-1].children,T.splice(T.indexOf(g[y]),1)):this.clear():r(g[y],this.toBBox)},compareMinX:function(g,y){return g.left-y.left},compareMinY:function(g,y){return g.top-y.top},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}}};function a(g,y,T){if(!T)return y.indexOf(g);for(var E=0;E<y.length;E++)if(T(g,y[E]))return E;return-1}function r(g,y){n(g,0,g.children.length,y,g)}function n(g,y,T,E,C){C||(C=m(null)),C.minX=1/0,C.minY=1/0,C.maxX=-1/0,C.maxY=-1/0;for(var A=y,P;A<T;A++)P=g.children[A],e(C,g.leaf?E(P):P);return C}function e(g,y){return g.minX=Math.min(g.minX,y.minX),g.minY=Math.min(g.minY,y.minY),g.maxX=Math.max(g.maxX,y.maxX),g.maxY=Math.max(g.maxY,y.maxY),g}function s(g,y){return g.minX-y.minX}function u(g,y){return g.minY-y.minY}function i(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function o(g){return g.maxX-g.minX+(g.maxY-g.minY)}function h(g,y){return(Math.max(y.maxX,g.maxX)-Math.min(y.minX,g.minX))*(Math.max(y.maxY,g.maxY)-Math.min(y.minY,g.minY))}function l(g,y){var T=Math.max(g.minX,y.minX),E=Math.max(g.minY,y.minY),C=Math.min(g.maxX,y.maxX),A=Math.min(g.maxY,y.maxY);return Math.max(0,C-T)*Math.max(0,A-E)}function d(g,y){return g.minX<=y.minX&&g.minY<=y.minY&&y.maxX<=g.maxX&&y.maxY<=g.maxY}function v(g,y){return y.minX<=g.maxX&&y.minY<=g.maxY&&y.maxX>=g.minX&&y.maxY>=g.minY}function m(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(g,y,T,E,C){for(var A=[y,T],P;A.length;)T=A.pop(),y=A.pop(),!(T-y<=E)&&(P=y+Math.ceil((T-y)/E/2)*E,f(g,P,y,T,C),A.push(y,P,P,T))}p.exports=c},58403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&a.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&a(e[n],n)!==!1;n++);return this},iterate:function(a,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&a.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&a(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(a){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[a].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new c;return a.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(a){var r=new c;return this.entries.forEach(function(n){a.contains(n)&&r.set(n)}),r},difference:function(a){var r=new c;return this.entries.forEach(function(n){a.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});p.exports=c},90881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(84314),r=t(93736),n=new c({initialize:function(s,u,i,o){s===void 0&&(s=0),u===void 0&&(u=s),i===void 0&&(i=0),o===void 0&&(o=null),this._width=s,this._height=u,this._parent=o,this.aspectMode=i,this.aspectRatio=u===0?1:s/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=f(e,0,this.maxWidth),this.minHeight=f(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=f(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=f(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=f(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=f(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,u){e===void 0&&(e=0),s===void 0&&(s=e),u===void 0&&(u=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,o=s===0?1:e/s;return u&&this.aspectRatio>o||!u&&this.aspectRatio<o?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(u&&this.aspectRatio<o||!u&&this.aspectRatio>o)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,p.exports=n},94160:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},95393:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},36716:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82897),a=t(27119),r=t(86459),n=t(28621),e=t(31673),s=new f({Extends:e,initialize:function(i,o,h,l,d){e.call(this,i,o,h,l,d),this.add("__BASE",0,0,0,l,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=l,this.height=d,this.imageData=this.context.getImageData(0,0,l,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(u,i,o,h){return h===void 0&&(h=!0),this.context.drawImage(o,u,i),h&&this.update(),this},drawFrame:function(u,i,o,h,l){o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=!0);var d=this.manager.getFrame(u,i);if(d){var v=d.canvasData,m=d.cutWidth,x=d.cutHeight,g=d.source.resolution;this.context.drawImage(d.source.image,v.x,v.y,m,x,o,h,m/g,x/g),l&&this.update()}return this},setPixel:function(u,i,o,h,l,d){d===void 0&&(d=255),u=Math.abs(Math.floor(u)),i=Math.abs(Math.floor(i));var v=this.getIndex(u,i);if(v>-1){var m=this.context.getImageData(u,i,1,1);m.data[0]=o,m.data[1]=h,m.data[2]=l,m.data[3]=d,this.context.putImageData(m,u,i)}return this},putData:function(u,i,o,h,l,d,v){return h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=u.width),v===void 0&&(v=u.height),this.context.putImageData(u,i,o,h,l,d,v),this},getData:function(u,i,o,h){u=c(Math.floor(u),0,this.width-1),i=c(Math.floor(i),0,this.height-1),o=c(o,1,this.width-u),h=c(h,1,this.height-i);var l=this.context.getImageData(u,i,o,h);return l},getPixel:function(u,i,o){o||(o=new a);var h=this.getIndex(u,i);if(h>-1){var l=this.data,d=l[h+0],v=l[h+1],m=l[h+2],x=l[h+3];o.setTo(d,v,m,x)}return o},getPixels:function(u,i,o,h){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=this.width),h===void 0&&(h=o),u=Math.abs(Math.round(u)),i=Math.abs(Math.round(i));for(var l=c(u,0,this.width),d=c(u+o,0,this.width),v=c(i,0,this.height),m=c(i+h,0,this.height),x=new a,g=[],y=v;y<m;y++){for(var T=[],E=l;E<d;E++)x=this.getPixel(E,y,x),T.push({x:E,y,color:x.color,alpha:x.alphaGL});g.push(T)}return g},getIndex:function(u,i){return u=Math.abs(Math.round(u)),i=Math.abs(Math.round(i)),u<this.width&&i<this.height?(u+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,i,o,h,l){return u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=this.width),h===void 0&&(h=this.height),l===void 0&&(l=!0),this.context.clearRect(u,i,o,h),l&&this.update(),this},setSize:function(u,i){return i===void 0&&(i=u),(u!==this.width||i!==this.height)&&(this.canvas.width=u,this.canvas.height=i,this._source.width=u,this._source.height=i,this._source.isPowerOf2=n(u,i),this.frames.__BASE.setSize(u,i,0,0),this.width=u,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=s},845:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(51052),a=t(61068),r=t(56694),n=t(86459),e=t(82047),s=t(72632),u=t(65641),i=t(37410),o=t(31673),h=t(75512),l=new r({Extends:o,initialize:function(v,m,x,g){x===void 0&&(x=256),g===void 0&&(g=256),this.type="DynamicTexture";var y=v.game.renderer,T=y&&y.type===n.CANVAS,E=T?a.create2D(this,x,g):[this];o.call(this,v,m,E,x,g),this.add("__BASE",0,0,0,x,g),this.renderer=y,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=T?E:null,this.context=T?E.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new c(0,0,x,g).setScene(v.game.scene.systemScene,!1),this.renderTarget=T?null:new i(y,x,g,1,0,!1,!0,!0,!1),this.pipeline=T?null:y.pipelines.get(u.SINGLE_PIPELINE),T||this.setSize(x,g)},setSize:function(d,v){v===void 0&&(v=d);var m=this.get(),x=m.source;if(d!==this.width||v!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=v);var g=this.renderTarget;g&&(g.willResize(d,v)&&(g.resize(d,v),this.renderer.deleteTexture(x.glTexture)),this.setFromRenderTarget()),this.camera.setSize(d,v),x.width=d,x.height=v,m.setSize(d,v),this.width=d,this.height=v}else{var y=this.getSourceImage();m.cutX+d>y.width&&(d=y.width-m.cutX),m.cutY+v>y.height&&(v=y.height-m.cutY),m.setSize(d,v,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),v=d.source,m=this.renderTarget;return d.glTexture=m.texture,v.isRenderTexture=!0,v.isGLTexture=!0,v.glTexture=m.texture,v.glTexture.flipY=!0,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,v,m,x,g,y){var T=this.camera,E=this.renderer;v===void 0&&(v=1),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height);var C=d>>16&255,A=d>>8&255,P=d&255,F=this.renderTarget;if(T.preRender(),F){F.bind(!0);var O=this.pipeline.manager.set(this.pipeline),I=E.width/F.width,G=E.height/F.height,z=F.height-(x+y);O.drawFillRect(m*I,z*G,g*I,y*G,h.getTintFromFloats(P/255,A/255,C/255,1),v),F.unbind(!0)}else{var X=this.context;E.setContext(X),X.globalCompositeOperation="source-over",X.fillStyle="rgba("+C+","+A+","+P+","+v+")",X.fillRect(m,x,g,y),E.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,v=this.renderTarget;v?v.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,v,m,x,g){m===void 0&&(m=0),x===void 0&&(x=0);var y=s(g,"alpha",1),T=s(g,"tint",16777215),E=s(g,"angle",0),C=s(g,"rotation",0),A=s(g,"scale",1),P=s(g,"scaleX",A),F=s(g,"scaleY",A),O=s(g,"originX",.5),I=s(g,"originY",.5),G=s(g,"blendMode",0),z=s(g,"erase",!1),X=s(g,"skipBatch",!1),H=this.manager.resetStamp(y,T);return H.setAngle(0),E!==0?H.setAngle(E):C!==0&&H.setRotation(C),H.setScale(P,F),H.setTexture(d,v),H.setOrigin(O,I),H.setBlendMode(G),z&&(this._eraseMode=!0),X?this.batchGameObject(H,m,x):this.draw(H,m,x),z&&(this._eraseMode=!1),this},erase:function(d,v,m){return this._eraseMode=!0,this.draw(d,v,m),this._eraseMode=!1,this},draw:function(d,v,m,x,g){return this.beginDraw(),this.batchDraw(d,v,m,x,g),this.endDraw(),this},drawFrame:function(d,v,m,x,g,y){return this.beginDraw(),this.batchDrawFrame(d,v,m,x,g,y),this.endDraw(),this},repeat:function(d,v,m,x,g,y,T,E,C){if(m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),T===void 0&&(T=1),E===void 0&&(E=16777215),C===void 0&&(C=!1),d instanceof e?v=d:v=this.manager.getFrame(d,v),!v)return this;var A=this.manager.resetStamp(T,E);A.setFrame(v),A.setOrigin(0);var P=v.width,F=v.height;g=Math.floor(g),y=Math.floor(y);var O=Math.ceil(g/P),I=Math.ceil(y/F),G=O*P-g,z=I*F-y;G>0&&(G=P-G),z>0&&(z=F-z),m<0&&(O+=Math.ceil(Math.abs(m)/P)),x<0&&(I+=Math.ceil(Math.abs(x)/F));var X=m,H=x,N=!1,U=this.manager.stampCrop.setTo(0,0,P,F);C||this.beginDraw();for(var R=0;R<I;R++){if(H+F<0){H+=F;continue}for(var D=0;D<O;D++){if(N=!1,X+P<0){X+=P;continue}else X<0&&(N=!0,U.width=P+X,U.x=P-U.width);H<0&&(N=!0,U.height=F+H,U.y=F-U.height),G>0&&D===O-1&&(N=!0,U.width=G),z>0&&R===I-1&&(N=!0,U.height=z),N&&A.setCrop(U),this.batchGameObject(A,X,H),A.isCropped=!1,U.setTo(0,0,P,F),X+=P}X=m,H+=F}return C||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,v=this.renderer,m=this.renderTarget;d.preRender(),m?v.beginCapture(m.width,m.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,v,m,x,g){return Array.isArray(d)||(d=[d]),this.batchList(d,v,m,x,g),this},batchDrawFrame:function(d,v,m,x,g,y){m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=1),y===void 0&&(y=16777215);var T=this.manager.getFrame(d,v);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,m,x,y,g,this.camera.matrix,null):this.batchTextureFrame(T,m,x,g,y)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var v=this.renderer,m=this.renderTarget;if(m){var x=v.endCapture(),g=v.pipelines.setUtility();g.blitFrame(x,m,1,!1,!1,d,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,v,m,x,g){var y=d.length;if(y!==0)for(var T=0;T<y;T++){var E=d[T];!E||E===this||(E.renderWebGL||E.renderCanvas?this.batchGameObject(E,v,m):E.isParent||E.list?this.batchGroup(E.getChildren(),v,m):typeof E=="string"?this.batchTextureFrameKey(E,null,v,m,x,g):E instanceof e?this.batchTextureFrame(E,v,m,x,g):Array.isArray(E)&&this.batchList(E,v,m,x,g))}},batchGroup:function(d,v,m){v===void 0&&(v=0),m===void 0&&(m=0);for(var x=0;x<d.length;x++){var g=d[x];g.willRender(this.camera)&&this.batchGameObject(g,g.x+v,g.y+m)}},batchGameObject:function(d,v,m){v===void 0&&(v=d.x),m===void 0&&(m=d.y);var x=d.x,g=d.y,y=this.camera,T=this.renderer,E=this._eraseMode,C=d.mask;if(d.setPosition(v,m),this.canvas){if(E){var A=d.blendMode;d.blendMode=f.ERASE}C&&C.preRenderCanvas(T,d,y),d.renderCanvas(T,d,y,null),C&&C.postRenderCanvas(T,d,y),E&&(d.blendMode=A)}else T&&(C&&C.preRenderWebGL(T,d,y),E||T.setBlendMode(d.blendMode),d.renderWebGL(T,d,y),C&&C.postRenderWebGL(T,y,this.renderTarget));d.setPosition(x,g)},batchTextureFrameKey:function(d,v,m,x,g,y){var T=this.manager.getFrame(d,v);T&&this.batchTextureFrame(T,m,x,g,y)},batchTextureFrame:function(d,v,m,x,g){v===void 0&&(v=0),m===void 0&&(m=0),x===void 0&&(x=1),g===void 0&&(g=16777215);var y=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(d,v,m,g,x,y,null);else{var E=this.context,C=d.canvasData,A=d.source.image;E.save(),E.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",E.globalAlpha=x,y.setToContext(E),C.width>0&&C.height>0&&E.drawImage(A,C.x,C.y,C.width,C.height,v,m,C.width,C.height),E.restore()}},snapshotArea:function(d,v,m,x,g,y,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,g,!1,d,v,m,x,y,T):this.renderer.snapshotCanvas(this.canvas,g,!1,d,v,m,x,y,T),this},snapshot:function(d,v,m){return this.snapshotArea(0,0,this.width,this.height,d,v,m)},snapshotPixel:function(d,v,m){return this.snapshotArea(d,v,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,v,m,x){var g=this.manager.resetStamp();g.setTexture(this),g.setOrigin(0),g.renderWebGL(d,g,m,x)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),o.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});p.exports=l},82047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82897),a=t(98611),r=new f({initialize:function(e,s,u,i,o,h,l){this.texture=e,this.name=s,this.source=e.source[u],this.sourceIndex=u,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(h,l,i,o)},setSize:function(n,e,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.cutX=s,this.cutY=u,this.cutWidth=n,this.cutHeight=e,this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,o=i.cut;o.x=s,o.y=u,o.w=n,o.h=e,o.r=s+n,o.b=u+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var h=i.drawImage;return h.x=s,h.y=u,h.width=n,h.height=e,this.updateUVs()},setTrim:function(n,e,s,u,i,o){var h=this.data,l=h.spriteSourceSize;return h.trim=!0,h.sourceSize.w=n,h.sourceSize.h=e,l.x=s,l.y=u,l.w=i,l.h=o,l.r=s+i,l.b=u+o,this.x=s,this.y=u,this.width=i,this.height=o,this.halfWidth=i*.5,this.halfHeight=o*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(o/2),this.updateUVs()},setScale9:function(n,e,s,u){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&u===this.height,i.scale9Borders.x=n,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=u,this},setCropUVs:function(n,e,s,u,i,o,h){var l=this.cutX,d=this.cutY,v=this.cutWidth,m=this.cutHeight,x=this.realWidth,g=this.realHeight;e=c(e,0,x),s=c(s,0,g),u=c(u,0,x-e),i=c(i,0,g-s);var y=l+e,T=d+s,E=u,C=i,A=this.data;if(A.trim){var P=A.spriteSourceSize;u=c(u,0,v-e),i=c(i,0,m-s);var F=e+u,O=s+i,I=!(P.r<e||P.b<s||P.x>F||P.y>O);if(I){var G=Math.max(P.x,e),z=Math.max(P.y,s),X=Math.min(P.r,F)-G,H=Math.min(P.b,O)-z;E=X,C=H,o?y=l+(v-(G-P.x)-X):y=l+(G-P.x),h?T=d+(m-(z-P.y)-H):T=d+(z-P.y),e=G,s=z,u=X,i=H}else y=0,T=0,E=0,C=0}else o&&(y=l+(v-e-u)),h&&(T=d+(m-s-i));var N=this.source.width,U=this.source.height;return n.u0=Math.max(0,y/N),n.v0=Math.max(0,T/U),n.u1=Math.min(1,(y+E)/N),n.v1=Math.min(1,(T+C)/U),n.x=e,n.y=s,n.cx=y,n.cy=T,n.cw=E,n.ch=C,n.width=u,n.height=i,n.flipX=o,n.flipY=h,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,u,i,o){var h=this.data.drawImage;return h.width=n,h.height=e,this.u0=s,this.v0=u,this.u1=i,this.v1=o,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,u=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=u;var o=this.source.width,h=this.source.height;return this.u0=n/o,this.v0=e/h,this.u1=(n+s)/o,this.v1=(e+u)/h,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=a(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},31673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82047),a=t(32547),r='Texture "%s" has no frame "%s"',n=new f({initialize:function(s,u,i,o,h){Array.isArray(i)||(i=[i]),this.manager=s,this.key=u,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var l=0;l<i.length;l++)this.source.push(new a(this,i[l],o,h))},add:function(e,s,u,i,o,h){if(this.has(e))return null;var l=new c(this,e,s,u,i,o,h);return this.frames[e]=l,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,l},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var u=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var o=this.frames[i];o.sourceIndex===e&&u.push(o)}return u},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var u=s.indexOf("__BASE");u!==-1&&s.splice(u,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],u;return s?u=s.sourceIndex:(console.warn(r,this.key,e),u=this.frames.__BASE.sourceIndex),this.dataSource[u].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var u=this.source[s];this.dataSource.push(new a(this,e[s],u.width,u.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,u=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<u.length;e++)u[e]&&u[e].destroy();for(var i in this.frames){var o=this.frames[i];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=n},6237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(17487),a=t(56694),r=t(27119),n=t(86459),e=t(845),s=t(6659),u=t(38203),i=t(82047),o=t(97081),h=t(52780),l=t(10850),d=t(1539),v=t(42911),m=t(69150),x=t(74118),g=t(31673),y=new a({Extends:s,initialize:function(E){s.call(this),this.game=E,this.name="TextureManager",this.list={},this._tempCanvas=f.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,E.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var T=this.game.config;this.addBase64("__DEFAULT",T.defaultImage),this.addBase64("__MISSING",T.missingImage),this.addBase64("__WHITE",T.whiteImage),this.game.events.once(o.DESTROY,this.destroy,this),this.game.events.once(o.SYSTEM_READY,function(E){this.stamp=new d(E).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(T){return this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;var E=T.key;return this.list.hasOwnProperty(E)&&(T.destroy(),this.emit(u.REMOVE,E),this.emit(u.REMOVE_KEY+E)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,E){if(this.checkKey(T)){var C=this,A=new Image;A.onerror=function(){C.emit(u.ERROR,T)},A.onload=function(){var P=C.create(T,A);m.Image(P,0),C.emit(u.ADD,T,P),C.emit(u.ADD_KEY+T,P),C.emit(u.LOAD,T,P)},A.src=E}return this},getBase64:function(T,E,C,A){C===void 0&&(C="image/png"),A===void 0&&(A=.92);var P="",F=this.getFrame(T,E);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var O=F.canvasData,I=f.create2D(this,O.width,O.height),G=I.getContext("2d",{willReadFrequently:!0});O.width>0&&O.height>0&&G.drawImage(F.source.image,O.x,O.y,O.width,O.height,0,0,O.width,O.height),P=I.toDataURL(C,A),f.remove(I)}return P},addImage:function(T,E,C){var A=null;return this.checkKey(T)&&(A=this.create(T,E),m.Image(A,0),C&&A.setDataSource(C),this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)),A},addGLTexture:function(T,E,C,A){var P=null;return this.checkKey(T)&&(C===void 0&&(C=E.width),A===void 0&&(A=E.height),P=this.create(T,E,C,A),P.add("__BASE",0,0,0,C,A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)),P},addCompressedTexture:function(T,E,C){var A=null;if(this.checkKey(T)){if(A=this.create(T,E),A.add("__BASE",0,0,0,E.width,E.height),C)if(Array.isArray(C))for(var P=0;P<C.length;P++)m.JSONHash(A,P,C[P]);else m.JSONHash(A,0,C);this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)}return A},addRenderTexture:function(T,E){var C=null;return this.checkKey(T)&&(C=this.create(T,E),C.add("__BASE",0,0,0,E.width,E.height),this.emit(u.ADD,T,C),this.emit(u.ADD_KEY+T,C)),C},generate:function(T,E){if(this.checkKey(T)){var C=f.create(this,1,1);return E.canvas=C,h(E),this.addCanvas(T,C)}else return null},createCanvas:function(T,E,C){if(E===void 0&&(E=256),C===void 0&&(C=256),this.checkKey(T)){var A=f.create(this,E,C,n.CANVAS,!0);return this.addCanvas(T,A)}return null},addCanvas:function(T,E,C){C===void 0&&(C=!1);var A=null;return C?A=new c(this,T,E,E.width,E.height):this.checkKey(T)&&(A=new c(this,T,E,E.width,E.height),this.list[T]=A,this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)),A},addDynamicTexture:function(T,E,C){var A=null;return typeof T=="string"&&!this.exists(T)?A=new e(this,T,E,C):(A=T,T=A.key),this.checkKey(T)?(this.list[T]=A,this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)):A=null,A},addAtlas:function(T,E,C,A){return Array.isArray(C.textures)||Array.isArray(C.frames)?this.addAtlasJSONArray(T,E,C,A):this.addAtlasJSONHash(T,E,C,A)},addAtlasJSONArray:function(T,E,C,A){var P=null;if(E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P){if(Array.isArray(C))for(var F=C.length===1,O=0;O<P.source.length;O++){var I=F?C[0]:C[O];m.JSONArray(P,O,I)}else m.JSONArray(P,0,C);A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)}return P},addAtlasJSONHash:function(T,E,C,A){var P=null;if(E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P){if(Array.isArray(C))for(var F=0;F<C.length;F++)m.JSONHash(P,F,C[F]);else m.JSONHash(P,0,C);A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)}return P},addAtlasXML:function(T,E,C,A){var P=null;return E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P&&(m.AtlasXML(P,0,C),A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)),P},addUnityAtlas:function(T,E,C,A){var P=null;return E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P&&(m.UnityYAML(P,0,C),A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)),P},addSpriteSheet:function(T,E,C,A){var P=null;if(E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P){var F=P.source[0].width,O=P.source[0].height;m.SpriteSheet(P,0,0,0,F,O,C),A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)}return P},addSpriteSheetFromAtlas:function(T,E){if(!this.checkKey(T))return null;var C=l(E,"atlas",null),A=l(E,"frame",null);if(!(!C||!A)){var P=this.get(C),F=P.get(A);if(F){var O=this.create(T,F.source.image);return F.trimmed?m.SpriteSheetFromAtlas(O,F,E):m.SpriteSheet(O,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,E),this.emit(u.ADD,T,O),this.emit(u.ADD_KEY+T,O),O}}},create:function(T,E,C,A){var P=null;return this.checkKey(T)&&(P=new g(this,T,E,C,A),this.list[T]=P),P},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof g?T:T instanceof i?T.texture:this.list.__MISSING},cloneFrame:function(T,E){if(this.list[T])return this.list[T].get(E).clone()},getFrame:function(T,E){if(this.list[T])return this.list[T].get(E)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(v(T))return this.getFrame(T.key,T.frame);if(T instanceof g)return T.get();if(T instanceof i)return T}else return},getTextureKeys:function(){var T=[];for(var E in this.list)E!=="__DEFAULT"&&E!=="__MISSING"&&E!=="__WHITE"&&T.push(E);return T},getPixel:function(T,E,C,A){var P=this.getFrame(C,A);if(P){T-=P.x,E-=P.y;var F=P.data.cut;if(T+=F.x,E+=F.y,T>=F.x&&T<F.r&&E>=F.y&&E<F.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(P.source.image,T,E,1,1,0,0,1,1);var I=O.getImageData(0,0,1,1);return new r(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(T,E,C,A){var P=this.getFrame(C,A);if(P){T-=P.x,E-=P.y;var F=P.data.cut;if(T+=F.x,E+=F.y,T>=F.x&&T<F.r&&E>=F.y&&E<F.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(P.source.image,T,E,1,1,0,0,1,1);var I=O.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(T,E,C){return this.list[E]&&(T.texture=this.list[E],T.frame=T.texture.get(C)),T},renameTexture:function(T,E){var C=this.get(T);return C&&T!==E?(C.key=E,this.list[E]=C,delete this.list[T],!0):!1},each:function(T,E){for(var C=[null],A=1;A<arguments.length;A++)C.push(arguments[A]);for(var P in this.list)C[0]=this.list[P],T.apply(E,C)},resetStamp:function(T,E){T===void 0&&(T=1),E===void 0&&(E=16777215);var C=this.stamp;return C.setCrop(),C.setPosition(0),C.setAngle(0),C.setScale(1),C.setAlpha(T),C.setTint(E),C.setTexture("__WHITE"),C},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,f.remove(this._tempCanvas)}});p.exports=y},32547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(56694),a=t(28621),r=t(27394),n=new c({initialize:function(s,u,i,o,h){h===void 0&&(h=!1);var l=s.manager.game;this.renderer=l.renderer,this.texture=s,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=i||u.naturalWidth||u.videoWidth||u.width||0,this.height=o||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&u instanceof WebGLTexture,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=h,this.init(l)},init:function(e){var s=this.renderer;if(s){var u=this.source;if(s.gl){var i=this.image,o=this.flipY,h=this.width,l=this.height,d=this.scaleMode;this.isCanvas?this.glTexture=s.createCanvasTexture(i,!1,o):this.isVideo?this.glTexture=s.createVideoTexture(i,!1,o):this.isRenderTexture?this.glTexture=s.createTextureFromSource(null,h,l,d):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=s.createTextureFromSource(u):this.glTexture=s.createTextureFromSource(i,h,l,d)}else this.isRenderTexture&&(this.image=u.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,s=this.image,u=this.flipY,i=e.gl;i&&this.isCanvas?this.glTexture=e.updateCanvasTexture(s,this.glTexture,u):i&&this.isVideo&&(this.glTexture=e.updateVideoTexture(s,this.glTexture,u))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&f.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=n},65154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},49644:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},29569:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},60079:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},72665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},93006:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},69018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},85549:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},38203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(65154),a={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:c,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};a=f(!1,a,c),p.exports=a},35082:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(!c.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[f];t.add("__BASE",f,0,0,a.width,a.height);for(var r=c.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,u=s.name.value,i=parseInt(s.x.value,10),o=parseInt(s.y.value,10),h=parseInt(s.width.value,10),l=parseInt(s.height.value,10);if(n=t.add(u,f,i,o,h,l),s.frameX){var d=Math.abs(parseInt(s.frameX.value,10)),v=Math.abs(parseInt(s.frameY.value,10)),m=parseInt(s.frameWidth.value,10),x=parseInt(s.frameHeight.value,10);n.setTrim(h,l,d,v,m,x)}}return t};p.exports=S},83332:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.source[f];return t.add("__BASE",f,0,0,c.width,c.height),t};p.exports=S},21560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.source[f];return t.add("__BASE",f,0,0,c.width,c.height),t};p.exports=S},64423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,u,i=0;i<s.length;i++){var o=s[i];if(u=a.add(o.filename,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&u.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(u.rotated=!0,u.updateUVsInverted());var h=o.anchor||o.pivot;h&&(u.customPivot=!0,u.pivotX=h.x,u.pivotY=h.y),o.scale9Borders&&u.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),u.customData=f(o)}for(var l in n)l!=="frames"&&(Array.isArray(n[l])?a.customData[l]=n[l].slice(0):a.customData[l]=n[l]);return a};p.exports=c},17264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,u;for(var i in s)if(!!s.hasOwnProperty(i)){var o=s[i];if(u=a.add(i,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+i);continue}o.trimmed&&u.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(u.rotated=!0,u.updateUVsInverted());var h=o.anchor||o.pivot;h&&(u.customPivot=!0,u.pivotX=h.x,u.pivotY=h.y),o.scale9Borders&&u.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),u.customData=f(o)}for(var l in n)l!=="frames"&&(Array.isArray(n[l])?a.customData[l]=n[l].slice(0):a.customData[l]=n[l]);return a};p.exports=c},67409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=[171,75,84,88,32,49,49,187,13,10,26,10],c,a=new Uint8Array(t,0,12);for(c=0;c<a.length;c++)if(a[c]!==f[c]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var u=n.getUint32(4*r,e),i=n.getUint32(6*r,e),o=n.getUint32(7*r,e),h=Math.max(1,n.getUint32(11*r,e)),l=n.getUint32(12*r,e),d=new Array(h),v=12+13*4+l,m=i,x=o;for(c=0;c<h;c++){var g=new Int32Array(t,v,1)[0];v+=4,d[c]={data:new Uint8Array(t,v,g),width:m,height:x},m=Math.max(1,m>>1),x=Math.max(1,x>>1),v+=g}return{mipmaps:d,width:i,height:o,internalFormat:u,compressed:!0,generateMipmap:!1}};p.exports=S},24904:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(T,E,C,A,P,F,O){return O===void 0&&(O=16),Math.floor((T+C)/P)*Math.floor((E+A)/F)*O}function t(T,E){return T=Math.max(T,16),E=Math.max(E,8),T*E/4}function f(T,E){return T=Math.max(T,8),E=Math.max(E,8),T*E/2}function c(T,E){return S(T,E,3,3,4,4,8)}function a(T,E){return S(T,E,3,3,4,4)}function r(T,E){return S(T,E,4,3,5,4)}function n(T,E){return S(T,E,4,4,5,5)}function e(T,E){return S(T,E,5,4,6,5)}function s(T,E){return S(T,E,5,5,6,6)}function u(T,E){return S(T,E,7,4,8,5)}function i(T,E){return S(T,E,7,5,8,6)}function o(T,E){return S(T,E,7,7,8,8)}function h(T,E){return S(T,E,9,4,10,5)}function l(T,E){return S(T,E,9,5,10,6)}function d(T,E){return S(T,E,9,7,10,8)}function v(T,E){return S(T,E,9,9,10,10)}function m(T,E){return S(T,E,11,9,12,10)}function x(T,E){return S(T,E,11,11,12,12)}var g={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:f,glFormat:35840},3:{sizeFunc:f,glFormat:35842},6:{sizeFunc:c,glFormat:36196},7:{sizeFunc:c,glFormat:33776},8:{sizeFunc:a,glFormat:33777},9:{sizeFunc:a,glFormat:33778},11:{sizeFunc:a,glFormat:33779},22:{sizeFunc:c,glFormat:37492},23:{sizeFunc:a,glFormat:37496},24:{sizeFunc:c,glFormat:37494},25:{sizeFunc:c,glFormat:37488},26:{sizeFunc:a,glFormat:37490},27:{sizeFunc:a,glFormat:37808},28:{sizeFunc:r,glFormat:37809},29:{sizeFunc:n,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:s,glFormat:37812},32:{sizeFunc:u,glFormat:37813},33:{sizeFunc:i,glFormat:37814},34:{sizeFunc:o,glFormat:37815},35:{sizeFunc:h,glFormat:37816},36:{sizeFunc:l,glFormat:37817},37:{sizeFunc:d,glFormat:37818},38:{sizeFunc:v,glFormat:37819},39:{sizeFunc:m,glFormat:37820},40:{sizeFunc:x,glFormat:37821}},y=function(T){for(var E=new Uint32Array(T,0,13),C=E[2],A=g[C].glFormat,P=g[C].sizeFunc,F=E[11],O=E[7],I=E[6],G=52+E[12],z=new Uint8Array(T,G),X=new Array(F),H=0,N=O,U=I,R=0;R<F;R++){var D=P(N,U);X[R]={data:new Uint8Array(z.buffer,z.byteOffset+H,D),width:N,height:U},N=Math.max(1,N>>1),U=Math.max(1,U>>1),H+=D}return{mipmaps:X,width:O,height:I,internalFormat:A,compressed:!0,generateMipmap:!1}};p.exports=y},6143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n,e,s,u,i){var o=f(i,"frameWidth",null),h=f(i,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var l=a.source[r];a.add("__BASE",r,0,0,l.width,l.height);var d=f(i,"startFrame",0),v=f(i,"endFrame",-1),m=f(i,"margin",0),x=f(i,"spacing",0),g=Math.floor((s-m+x)/(o+x)),y=Math.floor((u-m+x)/(h+x)),T=g*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>T||d<-T)&&(d=0),d<0&&(d=T+d),(v===-1||v>T||v<d)&&(v=T);for(var E=m,C=m,A=0,P=0,F=0,O=0;O<T;O++){A=0,P=0;var I=E+o,G=C+h;I>s&&(A=I-s),G>u&&(P=G-u),O>=d&&O<=v&&(a.add(F,r,n+E,e+C,o-A,h-P),F++),E+=o+x,E+o>s&&(E=m,C+=h+x)}return a};p.exports=c},20030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n){var e=f(n,"frameWidth",null),s=f(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=a.source[0];a.add("__BASE",0,0,0,u.width,u.height),f(n,"startFrame",0),f(n,"endFrame",-1);for(var i=f(n,"margin",0),o=f(n,"spacing",0),h=r.cutX,l=r.cutY,d=r.cutWidth,v=r.cutHeight,m=r.realWidth,x=r.realHeight,g=Math.floor((m-i+o)/(e+o)),y=Math.floor((x-i+o)/(s+o)),T=r.x,E=e-T,C=e-(m-d-T),A=r.y,P=s-A,F=s-(x-v-A),O,I=i,G=i,z=0,X=0,H=0;H<y;H++){for(var N=H===0,U=H===y-1,R=0;R<g;R++){var D=R===0,B=R===g-1;if(O=a.add(z,X,h+I,l+G,e,s),D||N||B||U){var V=D?T:0,Y=N?A:0,K=0,$=0;D&&(K+=e-E),B&&(K+=e-C),N&&($+=s-P),U&&($+=s-F);var J=e-K,Q=s-$;O.cutWidth=J,O.cutHeight=Q,O.setTrim(e,s,V,Y,J,Q)}I+=o,D?I+=E:B?I+=C:I+=e,z++}I=i,G+=o,N?G+=P:U?G+=F:G+=s}return a};p.exports=c},89187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(c,a,r,n){var e=S-n.y-n.height;c.add(r,a,n.x,e,n.width,n.height)},f=function(c,a,r){var n=c.source[a];c.add("__BASE",a,0,0,n.width,n.height),S=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,u="",i="",o={x:0,y:0,width:0,height:0},h=0;h<e.length;h++){var l=e[h].match(s);if(!!l){var d=l[1]==="- ",v=l[2],m=l[3];if(d&&(i!==u&&(t(c,a,i,o),u=i),o={x:0,y:0,width:0,height:0}),v==="name"){i=m;continue}switch(v){case"x":case"y":case"width":case"height":o[v]=parseInt(m,10);break}}}return i!==u&&t(c,a,i,o),c};p.exports=f},69150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u,i,o){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),u===void 0&&(u=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=u|0,this.imageSpacing=i|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r){return this.images.push({gid:a,image:r}),this.total++,this}});p.exports=c},46422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(!!r){var n=r.getTileData(a.gid);if(!!n)return n.type}}},setTextureAndFrame:function(a,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),a.scene.textures.getFrame(r,n)||(r=null,n=null))}a.setTexture(r,n)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(a,n.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(!!r){if(Array.isArray(r)){for(var n=0;n<r.length;n++){var e=r[n];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});p.exports=c},15043:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(16586),a=t(90715),r=t(89797),n=function(e,s,u,i,o,h,l,d){u===void 0&&(u=32),i===void 0&&(i=32),o===void 0&&(o=10),h===void 0&&(h=10),d===void 0&&(d=!1);var v=null;if(Array.isArray(l)){var m=s!==void 0?s:"map";v=a(m,f.ARRAY_2D,l,u,i,d)}else if(s!==void 0){var x=e.cache.tilemap.get(s);x?v=a(s,x.format,x.data,u,i,d):console.warn("No map data found for key "+s)}return v===null&&(v=new c({tileWidth:u,tileHeight:i,width:o,height:h})),new r(e,v)};p.exports=n},29633:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(12920),r=t(28699),n=t(66658),e=new f({Mixins:[c.AlphaSingle,c.Flip,c.Visible],initialize:function(u,i,o,h,l,d,v,m){this.layer=u,this.index=i,this.x=o,this.y=h,this.width=l,this.height=d,this.right,this.bottom,this.baseWidth=v!==void 0?v:l,this.baseHeight=m!==void 0?m:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,u){return!(s<this.pixelX||u<this.pixelY||s>this.right||u>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var u=this.tilemapLayer;if(u){var i=u.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var u=this.tilemapLayer;return u?this.getLeft(s)+this.width*u.scaleX:this.getLeft(s)+this.width},getTop:function(s){var u=this.tilemapLayer;if(u){var i=u.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var u=this.tilemapLayer;return u?this.getTop(s)+this.height*u.scaleY:this.getTop(s)+this.height},getBounds:function(s,u){return u===void 0&&(u=new n),u.x=this.getLeft(s),u.y=this.getTop(s),u.width=this.getRight(s)-u.x,u.height=this.getBottom(s)-u.y,u},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,u,i,o){return!(i<=this.pixelX||o<=this.pixelY||s>=this.right||u>=this.bottom)},isInteresting:function(s,u){return s&&u?this.canCollide||this.hasInterestingFace:s?this.collides:u?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,u,i,o,h){if(u===void 0&&(u=s),i===void 0&&(i=s),o===void 0&&(o=s),h===void 0&&(h=!0),this.collideLeft=s,this.collideRight=u,this.collideUp=i,this.collideDown=o,this.faceLeft=s,this.faceRight=u,this.faceTop=i,this.faceBottom=o,h){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,u){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=u),this},setSize:function(s,u,i,o){return s!==void 0&&(this.width=s),u!==void 0&&(this.height=u),i!==void 0&&(this.baseWidth=i),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var u=this.layer.staggerAxis,i=this.layer.staggerIndex,o=this.layer.hexSideLength,h,l;u==="y"?(l=(this.baseHeight-o)/2+o,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*l):u==="x"&&(h=(this.baseWidth-o)/2+o,this.pixelX=this.x*h,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var u=s.gidMap[this.index];if(u)return u}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});p.exports=e},89797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14556),c=t(56694),a=t(75606),r=t(93560),n=t(72632),e=t(94990),s=t(46422),u=t(12920),i=t(52257),o=t(72677),h=t(13747),l=t(29633),d=t(5047),v=t(87177),m=t(47975),x=new c({initialize:function(y,T){this.scene=y,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(E),WorldToTileX:d.GetWorldToTileXFunction(E),WorldToTileY:d.GetWorldToTileYFunction(E),TileToWorldXY:d.GetTileToWorldXYFunction(E),TileToWorldX:d.GetTileToWorldXFunction(E),TileToWorldY:d.GetTileToWorldYFunction(E),GetTileCorners:d.GetTileCornersFunction(E)}},setRenderOrder:function(g){var y=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=y[g]),y.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,y,T,E,C,A,P,F){if(g===void 0)return null;if(y==null&&(y=g),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var O=this.scene.sys.textures.get(y),I=this.getTilesetIndex(g);if(I===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var G=this.tilesets[I];return G?(G.setTileSize(T,E),G.setSpacing(C,A),G.setImage(O),G):(T===void 0&&(T=this.tileWidth),E===void 0&&(E=this.tileHeight),C===void 0&&(C=0),A===void 0&&(A=0),P===void 0&&(P=0),F===void 0&&(F={x:0,y:0}),G=new m(g,P,T,E,C,A,void 0,void 0,F),G.setImage(O),this.tilesets.push(G),this.tiles=f(this),G)},copy:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F!==null?(d.Copy(g,y,T,E,C,A,P,F),this):null},createBlankLayer:function(g,y,T,E,C,A,P,F){T===void 0&&(T=0),E===void 0&&(E=0),C===void 0&&(C=this.width),A===void 0&&(A=this.height),P===void 0&&(P=this.tileWidth),F===void 0&&(F=this.tileHeight);var O=this.getLayerIndex(g);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var I=new e({name:g,tileWidth:P,tileHeight:F,width:C,height:A,orientation:this.orientation}),G,z=0;z<A;z++){G=[];for(var X=0;X<C;X++)G.push(new l(I,-1,X,z,P,F,this.tileWidth,this.tileHeight));I.data.push(G)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var H=new v(this.scene,this,this.currentLayerIndex,y,T,E);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(g,y,T,E){var C=this.getLayerIndex(g);if(C===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var A=this.layers[C];if(A.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=C,T===void 0&&(T=A.x),E===void 0&&(E=A.y);var P=new v(this.scene,this,C,y,T,E);return P.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(P),P},createFromObjects:function(g,y,T){T===void 0&&(T=!0);var E=[],C=this.getObjectLayer(g);if(!C)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),E;var A=new s(T?this.tilesets:void 0);Array.isArray(y)||(y=[y]);for(var P=C.objects,F=0;F<y.length;F++){var O=y[F],I=n(O,"id",null),G=n(O,"gid",null),z=n(O,"name",null),X=n(O,"type",null);A.enabled=!n(O,"ignoreTileset",null);for(var H,N=[],U=0;U<P.length;U++)H=P[U],(I===null&&G===null&&z===null&&X===null||I!==null&&H.id===I||G!==null&&H.gid===G||z!==null&&H.name===z||X!==null&&A.getTypeIncludingTile(H)===X)&&N.push(H);for(var R=n(O,"classType",h),D=n(O,"scene",this.scene),B=n(O,"container",null),V=n(O,"key",null),Y=n(O,"frame",null),K=0;K<N.length;K++){H=N[K];var $=new R(D);if($.setName(H.name),$.setPosition(H.x,H.y),A.setTextureAndFrame($,V,Y,H),H.width&&($.displayWidth=H.width),H.height&&($.displayHeight=H.height),this.orientation===u.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:$.x-$.y,y:($.x+$.y)/J};$.x=Q.x,$.y=Q.y}var k={x:$.originX*H.width,y:($.originY-(H.gid?1:0))*H.height};if(H.rotation){var q=a(H.rotation);i(k,q),$.rotation=q}$.x+=k.x,$.y+=k.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&$.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||($.visible=!1),A.setPropertiesFromTiledObject($,H),B?B.add($):D.add.existing($),E.push($)}}return E},createFromTiles:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:d.CreateFromTiles(g,y,T,E,C,A)},fill:function(g,y,T,E,C,A,P){return A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(d.Fill(g,y,T,E,C,A,P),this)},filterObjects:function(g,y,T){if(typeof g=="string"){var E=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+E),null}return g.objects.filter(y,T)},filterTiles:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F===null?null:d.FilterTiles(g,y,T,E,C,A,P,F)},findByIndex:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.FindByIndex(g,y,T,E)},findObject:function(g,y,T){if(typeof g=="string"){var E=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+E),null}return g.objects.find(y,T)||null},findTile:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F===null?null:d.FindTile(g,y,T,E,C,A,P,F)},forEachTile:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F===null?null:(d.ForEachTile(g,y,T,E,C,A,P,F),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,y){for(var T=0;T<g.length;T++)if(g[T].name===y)return T;return null},getLayer:function(g){var y=this.getLayerIndex(g);return y!==null?this.layers[y]:null},getObjectLayer:function(g){var y=this.getIndex(this.objects,g);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof v&&g.tilemap===this?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.GetTileAt(g,y,T,E)},getTileAtWorldXY:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:d.GetTileAtWorldXY(g,y,T,E,C)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:d.GetTilesWithin(g,y,T,E,C,A)},getTilesWithinShape:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.GetTilesWithinShape(g,y,T,E)},getTilesWithinWorldXY:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:d.GetTilesWithinWorldXY(g,y,T,E,C,A,P)},getTileset:function(g){var y=this.getIndex(this.tilesets,g);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,y,T){return T=this.getLayer(T),T===null?null:d.HasTileAt(g,y,T)},hasTileAtWorldXY:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.HasTileAtWorldXY(g,y,T,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,y,T,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:d.PutTileAt(g,y,T,E,C)},putTileAtWorldXY:function(g,y,T,E,C,A){return E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:d.PutTileAtWorldXY(g,y,T,E,C,A)},putTilesAt:function(g,y,T,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(d.PutTilesAt(g,y,T,E,C),this)},randomize:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:(d.Randomize(g,y,T,E,C,A),this)},calculateFacesAt:function(g,y,T){return T=this.getLayer(T),T===null?null:(d.CalculateFacesAt(g,y,T),this)},calculateFacesWithin:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:(d.CalculateFacesWithin(g,y,T,E,C),this)},removeLayer:function(g){var y=this.getLayerIndex(g);if(y!==null){o(this.layers,y);for(var T=y;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var y=this.getLayerIndex(g);return y!==null?(g=this.layers[y],g.tilemapLayer.destroy(),o(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,y=0;y<g.length;y++)g[y].tilemapLayer&&g[y].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,y,T){y===void 0&&(y=-1),T===void 0&&(T=!0);var E=[];Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++){var A=g[C];E.push(this.removeTileAt(A.x,A.y,!0,T,A.tilemapLayer)),y>-1&&this.putTileAt(y,A.x,A.y,T,A.tilemapLayer)}return E},removeTileAt:function(g,y,T,E,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:d.RemoveTileAt(g,y,T,E,C)},removeTileAtWorldXY:function(g,y,T,E,C,A){return T===void 0&&(T=!0),E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:d.RemoveTileAtWorldXY(g,y,T,E,C,A)},renderDebug:function(g,y,T){return T=this.getLayer(T),T===null?null:(this.orientation===u.ORTHOGONAL&&d.RenderDebug(g,y,T),this)},renderDebugFull:function(g,y){for(var T=this.layers,E=0;E<T.length;E++)d.RenderDebug(g,y,T[E]);return this},replaceByIndex:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:(d.ReplaceByIndex(g,y,T,E,C,A,P),this)},setCollision:function(g,y,T,E,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(d.SetCollision(g,y,T,E,C),this)},setCollisionBetween:function(g,y,T,E,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionBetween(g,y,T,E,C),this)},setCollisionByProperty:function(g,y,T,E){return y===void 0&&(y=!0),T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByProperty(g,y,T,E),this)},setCollisionByExclusion:function(g,y,T,E){return y===void 0&&(y=!0),T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByExclusion(g,y,T,E),this)},setCollisionFromCollisionGroup:function(g,y,T){return g===void 0&&(g=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(d.SetCollisionFromCollisionGroup(g,y,T),this)},setTileIndexCallback:function(g,y,T,E){return E=this.getLayer(E),E===null?null:(d.SetTileIndexCallback(g,y,T,E),this)},setTileLocationCallback:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:(d.SetTileLocationCallback(g,y,T,E,C,A,P),this)},setLayer:function(g){var y=this.getLayerIndex(g);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(g,y){this.tileWidth=g,this.tileHeight=y,this.widthInPixels=this.width*g,this.heightInPixels=this.height*y;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=g,this.layers[T].baseTileHeight=y;for(var E=this.layers[T].data,C=this.layers[T].width,A=this.layers[T].height,P=0;P<A;P++)for(var F=0;F<C;F++){var O=E[P][F];O!==null&&O.setSize(void 0,void 0,g,y)}}return this},setLayerTileSize:function(g,y,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=g,T.tileHeight=y;for(var E=T.data,C=T.width,A=T.height,P=0;P<A;P++)for(var F=0;F<C;F++){var O=E[P][F];O!==null&&O.setSize(g,y)}return this},shuffle:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:(d.Shuffle(g,y,T,E,C),this)},swapByIndex:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:(d.SwapByIndex(g,y,T,E,C,A,P),this)},tileToWorldX:function(g,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(g,y,T)},tileToWorldY:function(g,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(g,y,T)},tileToWorldXY:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldXY(g,y,T,E,C)},getTileCorners:function(g,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.GetTileCorners(g,y,T,E)},weightedRandomize:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:(d.WeightedRandomize(y,T,E,C,g,A),this)},worldToTileX:function(g,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(g,y,T,E)},worldToTileY:function(g,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(g,y,T,E)},worldToTileXY:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileXY(g,y,T,E,C,A)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=x},4843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(15043);f.register("tilemap",function(a){var r=a!==void 0?a:{};return c(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},37940:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(15043);f.register("tilemap",function(a,r,n,e,s,u,i){return a===null&&(a=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),c(this.scene,a,r,n,e,s,u,i)})},87177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(95239),a=t(64937),r=t(89980),n=t(5047),e=t(96193),s=t(93736),u=new f({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,c,e],initialize:function(o,h,l,d,v,m){r.call(this,o,"TilemapLayer"),this.isTilemap=!0,this.tilemap=h,this.layerIndex=l,this.layer=h.layers[l],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(v,m),this.setOrigin(0,0),this.setSize(h.tileWidth*this.layer.width,h.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var o=[],h=[],l=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var v=i[d];if(typeof v=="string"&&(v=l.getTileset(v)),v){h.push(v);for(var m=v.firstgid,x=0;x<v.total;x++)o[m+x]=v}}this.gidMap=o,this.tileset=h},setRenderOrder:function(i){var o=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=o.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,o){return n.CalculateFacesAt(i,o,this.layer),this},calculateFacesWithin:function(i,o,h,l){return n.CalculateFacesWithin(i,o,h,l,this.layer),this},createFromTiles:function(i,o,h,l,d){return n.CreateFromTiles(i,o,h,l,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,o,h,l,d,v,m){return n.Copy(i,o,h,l,d,v,m,this.layer),this},fill:function(i,o,h,l,d,v){return n.Fill(i,o,h,l,d,v,this.layer),this},filterTiles:function(i,o,h,l,d,v,m){return n.FilterTiles(i,o,h,l,d,v,m,this.layer)},findByIndex:function(i,o,h){return n.FindByIndex(i,o,h,this.layer)},findTile:function(i,o,h,l,d,v,m){return n.FindTile(i,o,h,l,d,v,m,this.layer)},forEachTile:function(i,o,h,l,d,v,m){return n.ForEachTile(i,o,h,l,d,v,m,this.layer),this},setTint:function(i,o,h,l,d,v){i===void 0&&(i=16777215);var m=function(x){x.tint=i,x.tintFill=!1};return this.forEachTile(m,this,o,h,l,d,v)},setTintFill:function(i,o,h,l,d,v){i===void 0&&(i=16777215);var m=function(x){x.tint=i,x.tintFill=!0};return this.forEachTile(m,this,o,h,l,d,v)},getTileAt:function(i,o,h){return n.GetTileAt(i,o,h,this.layer)},getTileAtWorldXY:function(i,o,h,l){return n.GetTileAtWorldXY(i,o,h,l,this.layer)},getIsoTileAtWorldXY:function(i,o,h,l,d){h===void 0&&(h=!0);var v=this.tempVec;return n.IsometricWorldToTileXY(i,o,!0,v,d,this.layer,h),this.getTileAt(v.x,v.y,l)},getTilesWithin:function(i,o,h,l,d){return n.GetTilesWithin(i,o,h,l,d,this.layer)},getTilesWithinShape:function(i,o,h){return n.GetTilesWithinShape(i,o,h,this.layer)},getTilesWithinWorldXY:function(i,o,h,l,d,v){return n.GetTilesWithinWorldXY(i,o,h,l,d,v,this.layer)},hasTileAt:function(i,o){return n.HasTileAt(i,o,this.layer)},hasTileAtWorldXY:function(i,o,h){return n.HasTileAtWorldXY(i,o,h,this.layer)},putTileAt:function(i,o,h,l){return n.PutTileAt(i,o,h,l,this.layer)},putTileAtWorldXY:function(i,o,h,l,d){return n.PutTileAtWorldXY(i,o,h,l,d,this.layer)},putTilesAt:function(i,o,h,l){return n.PutTilesAt(i,o,h,l,this.layer),this},randomize:function(i,o,h,l,d){return n.Randomize(i,o,h,l,d,this.layer),this},removeTileAt:function(i,o,h,l){return n.RemoveTileAt(i,o,h,l,this.layer)},removeTileAtWorldXY:function(i,o,h,l,d){return n.RemoveTileAtWorldXY(i,o,h,l,d,this.layer)},renderDebug:function(i,o){return n.RenderDebug(i,o,this.layer),this},replaceByIndex:function(i,o,h,l,d,v){return n.ReplaceByIndex(i,o,h,l,d,v,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=1),this.cullPaddingX=i,this.cullPaddingY=o,this},setCollision:function(i,o,h,l){return n.SetCollision(i,o,h,this.layer,l),this},setCollisionBetween:function(i,o,h,l){return n.SetCollisionBetween(i,o,h,l,this.layer),this},setCollisionByProperty:function(i,o,h){return n.SetCollisionByProperty(i,o,h,this.layer),this},setCollisionByExclusion:function(i,o,h){return n.SetCollisionByExclusion(i,o,h,this.layer),this},setCollisionFromCollisionGroup:function(i,o){return n.SetCollisionFromCollisionGroup(i,o,this.layer),this},setTileIndexCallback:function(i,o,h){return n.SetTileIndexCallback(i,o,h,this.layer),this},setTileLocationCallback:function(i,o,h,l,d,v){return n.SetTileLocationCallback(i,o,h,l,d,v,this.layer),this},shuffle:function(i,o,h,l){return n.Shuffle(i,o,h,l,this.layer),this},swapByIndex:function(i,o,h,l,d,v){return n.SwapByIndex(i,o,h,l,d,v,this.layer),this},tileToWorldX:function(i,o){return this.tilemap.tileToWorldX(i,o,this)},tileToWorldY:function(i,o){return this.tilemap.tileToWorldY(i,o,this)},tileToWorldXY:function(i,o,h,l){return this.tilemap.tileToWorldXY(i,o,h,l,this)},getTileCorners:function(i,o,h){return this.tilemap.getTileCorners(i,o,h,this)},weightedRandomize:function(i,o,h,l,d){return n.WeightedRandomize(o,h,l,d,i,this.layer),this},worldToTileX:function(i,o,h){return this.tilemap.worldToTileX(i,o,h,this)},worldToTileY:function(i,o,h){return this.tilemap.worldToTileY(i,o,h,this)},worldToTileXY:function(i,o,h,l,d){return this.tilemap.worldToTileXY(i,o,h,l,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});p.exports=u},17394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(69360),c=new f,a=new f,r=new f,n=function(e,s,u,i){var o=s.cull(u),h=o.length,l=u.alpha*s.alpha;if(!(h===0||l<=0)){var d=c,v=a,m=r;v.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),d.copyFrom(u.matrix);var x=e.currentContext,g=s.gidMap;x.save(),i?(d.multiplyWithOffset(i,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),v.e=s.x,v.f=s.y,d.multiply(v,m),m.copyToContext(x)):(v.e-=u.scrollX*s.scrollFactorX,v.f-=u.scrollY*s.scrollFactorY,v.copyToContext(x)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var y=0;y<h;y++){var T=o[y],E=g[T.index];if(!!E){var C=E.image.getSourceImage(),A=E.getTileTextureCoordinates(T.index),P=E.tileWidth,F=E.tileHeight;if(!(A===null||P===0||F===0)){var O=P*.5,I=F*.5;A.x+=E.tileOffset.x,A.y+=E.tileOffset.y,x.save(),x.translate(T.pixelX+O,T.pixelY+I),T.rotation!==0&&x.rotate(T.rotation),(T.flipX||T.flipY)&&x.scale(T.flipX?-1:1,T.flipY?-1:1),x.globalAlpha=l*T.alpha,x.drawImage(C,A.x,A.y,P,F,-O,-I,P,F),x.restore()}}}x.restore()}};p.exports=n},96193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(51395),a=t(17394),p.exports={renderWebGL:c,renderCanvas:a}},51395:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n){var e=r.cull(n),s=e.length,u=n.alpha*r.alpha;if(!(s===0||u<=0)){var i=r.gidMap,o=a.pipelines.set(r.pipeline,r),h=f.getTintAppendFloatAlpha,l=r.scrollFactorX,d=r.scrollFactorY,v=r.x,m=r.y,x=r.scaleX,g=r.scaleY;a.pipelines.preBatch(r);for(var y=0;y<s;y++){var T=e[y],E=i[T.index];if(!!E){var C=E.getTileTextureCoordinates(T.index);if(C!==null){var A=E.glTexture,P=o.setTexture2D(A,r),F=E.tileWidth,O=E.tileHeight,I=C.x,G=C.y,z=E.tileWidth*.5,X=E.tileHeight*.5,H=E.tileOffset.x,N=E.tileOffset.y,U=h(T.tint,u*T.alpha);o.batchTexture(r,A,A.width,A.height,v+T.pixelX*x+(z*x-H),m+T.pixelY*g+(X*g-N),T.width,T.height,x,g,T.rotation,T.flipX,T.flipY,l,d,z,X,I,G,F,O,U,U,U,U,T.tintFill,0,0,n,null,!0,P,!0)}}}a.pipelines.postBatch(r)}};p.exports=c},47975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(n,e,s,u,i,o,h,l,d){(s===void 0||s<=0)&&(s=32),(u===void 0||u<=0)&&(u=32),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h={}),l===void 0&&(l={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=u,this.tileMargin=i,this.tileSpacing=o,this.tileProperties=h,this.tileData=l,this.tileOffset=new c,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n){var e=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),s=Math.floor(s),this.rows=e,this.columns=s,this.total=e*s,this.texCoordinates.length=0;for(var u=this.tileMargin,i=this.tileMargin,o=0;o<this.rows;o++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:u,y:i}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin,i+=this.tileHeight+this.tileSpacing}return this}});p.exports=a},92839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15494),c=function(a,r,n){var e=f(a,r,!0,n),s=f(a,r-1,!0,n),u=f(a,r+1,!0,n),i=f(a-1,r,!0,n),o=f(a+1,r,!0,n),h=e&&e.collides;return h&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(h&&(e.faceTop=!1),s.faceBottom=!h),u&&u.collides&&(h&&(e.faceBottom=!1),u.faceTop=!h),i&&i.collides&&(h&&(e.faceLeft=!1),i.faceRight=!h),o&&o.collides&&(h&&(e.faceRight=!1),o.faceLeft=!h),e&&!e.collides&&e.resetFaces(),e};p.exports=c},60386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15494),c=t(50811),a=function(r,n,e,s,u){for(var i=null,o=null,h=null,l=null,d=c(r,n,e,s,null,u),v=0;v<d.length;v++){var m=d[v];m&&(m.collides?(i=f(m.x,m.y-1,!0,u),o=f(m.x,m.y+1,!0,u),h=f(m.x-1,m.y,!0,u),l=f(m.x+1,m.y,!0,u),m.faceTop=!(i&&i.collides),m.faceBottom=!(o&&o.collides),m.faceLeft=!(h&&h.collides),m.faceRight=!(l&&l.collides)):m.resetFaces())}};p.exports=a},13125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=new f,a=function(r,n,e,s){var u=e.tilemapLayer,i=u.cullPaddingX,o=u.cullPaddingY,h=u.tilemap.tileToWorldXY(r,n,c,s,u);return h.x>s.worldView.x+u.scaleX*e.tileWidth*(-i-.5)&&h.x<s.worldView.right+u.scaleX*e.tileWidth*(i-.5)&&h.y>s.worldView.y+u.scaleY*e.tileHeight*(-o-1)&&h.y<s.worldView.bottom+u.scaleY*e.tileHeight*(o-.5)};p.exports=a},17347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60386),c=t(50811),a=t(62839),r=t(29633),n=function(e,s,u,i,o,h,l,d){l===void 0&&(l=!0);var v=c(e,s,u,i,null,d),m=[];v.forEach(function(A){var P=new r(A.layer,A.index,A.x,A.y,A.width,A.height,A.baseWidth,A.baseHeight);P.copy(A),m.push(P)});for(var x=o-e,g=h-s,y=0;y<m.length;y++){var T=m[y],E=T.x+x,C=T.y+g;a(E,C,d)&&d.data[C][E]&&(T.x=E,T.y=C,T.updatePixelXY(),d.data[C][E]=T)}l&&f(o-1,h-1,u+2,i+2,d),v.length=0,m.length=0};p.exports=n},93604:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(51202),a=function(r,n,e,s,u,i){e||(e={}),Array.isArray(r)||(r=[r]);var o=i.tilemapLayer;s||(s=o.scene),u||(u=s.cameras.main);var h=f(0,0,i.width,i.height,null,i),l=[],d;for(d=0;d<h.length;d++){var v=h[d];if(r.indexOf(v.index)!==-1){var m=o.tileToWorldXY(v.x,v.y,void 0,u,i);e.x=m.x,e.y=m.y,l.push(s.make.sprite(e))}}if(typeof n=="number")for(d=0;d<r.length;d++)c(r[d],n,0,0,i.width,i.height,i);else if(Array.isArray(n))for(d=0;d<r.length;d++)c(r[d],n[d],0,0,i.width,i.height,i);return l};p.exports=a},71586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(82127),a=t(84314),r=new f,n=function(e,s){var u=e.tilemapLayer.tilemap,i=e.tilemapLayer,o=Math.floor(u.tileWidth*i.scaleX),h=Math.floor(u.tileHeight*i.scaleY),l=a(s.worldView.x-i.x,o,0,!0)-i.cullPaddingX,d=c(s.worldView.right-i.x,o,0,!0)+i.cullPaddingX,v=a(s.worldView.y-i.y,h,0,!0)-i.cullPaddingY,m=c(s.worldView.bottom-i.y,h,0,!0)+i.cullPaddingY;return r.setTo(l,v,d-l,m-v)};p.exports=n},381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(71586),c=t(6987),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var u=r.tilemapLayer,i=f(r,n);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),c(r,i,s,e),e};p.exports=a},97734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(60386),a=t(68234),r=function(n,e,s,u,i,o,h){for(var l=h.collideIndexes.indexOf(n)!==-1,d=f(e,s,u,i,null,h),v=0;v<d.length;v++)d[v].index=n,a(d[v],l);o&&c(e-1,s-1,u+2,i+2,h)};p.exports=r},63555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i,o){var h=f(n,e,s,u,i,o);return h.filter(a,r)};p.exports=c},37982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f===void 0&&(f=0),c===void 0&&(c=!1);var r=0,n,e,s;if(c){for(e=a.height-1;e>=0;e--)for(n=a.width-1;n>=0;n--)if(s=a.data[e][n],s&&s.index===t){if(r===f)return s;r+=1}}else for(e=0;e<a.height;e++)for(n=0;n<a.width;n++)if(s=a.data[e][n],s&&s.index===t){if(r===f)return s;r+=1}return null};p.exports=S},48297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i,o){var h=f(n,e,s,u,i,o);return h.find(a,r)||null};p.exports=c},80916:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i,o){var h=f(n,e,s,u,i,o);h.forEach(a,r)};p.exports=c},31493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(381),a=t(37524),r=t(20887),n=t(72283),e=t(19242),s=function(u){return u===f.ORTHOGONAL?c:u===f.HEXAGONAL?a:u===f.STAGGERED?e:u===f.ISOMETRIC?r:n};p.exports=s},15494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(62839),c=function(a,r,n,e){if(n===void 0&&(n=!1),f(a,r,e)){var s=e.data[r][a]||null;return s?s.index===-1?n?s:null:s:null}else return null};p.exports=c},24640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15494),c=t(93736),a=new c,r=function(n,e,s,u,i){return i.tilemapLayer.worldToTileXY(n,e,!0,a,u),f(a.x,a.y,s,i)};p.exports=r},48495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e){var s=e.baseTileWidth,u=e.baseTileHeight,i=e.tilemapLayer,o=0,h=0;i&&(n||(n=i.scene.cameras.main),o=i.x+n.scrollX*(1-i.scrollFactorX),h=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,u*=i.scaleY);var l=o+a*s,d=h+r*u;return[new f(l,d),new f(l+s,d),new f(l+s,d+u),new f(l,d+u)]};p.exports=c},7160:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(63634),a=t(72283),r=t(48495),n=function(e){return e===f.ORTHOGONAL?r:e===f.ISOMETRIC?a:e===f.HEXAGONAL?c:(e===f.STAGGERED,a)};p.exports=n},16884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(72283),a=t(44150),r=function(n){return n===f.ORTHOGONAL?a:c};p.exports=r},68182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(21715),a=t(21808),r=t(72283),n=t(33388),e=t(46836),s=function(u){return u===f.ORTHOGONAL?e:u===f.ISOMETRIC?a:u===f.HEXAGONAL?c:u===f.STAGGERED?n:r};p.exports=s},3752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(72283),a=t(84132),r=t(42477),n=function(e){return e===f.ORTHOGONAL?r:e===f.STAGGERED?a:c};p.exports=n},50811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n,e,s,u){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=u.width),e===void 0&&(e=u.height),s||(s={});var i=f(s,"isNotEmpty",!1),o=f(s,"isColliding",!1),h=f(s,"hasInterestingFace",!1);a<0&&(n+=a,a=0),r<0&&(e+=r,r=0),a+n>u.width&&(n=Math.max(u.width-a,0)),r+e>u.height&&(e=Math.max(u.height-r,0));for(var l=[],d=r;d<r+e;d++)for(var v=a;v<a+n;v++){var m=u.data[d][v];if(m!==null){if(i&&m.index===-1||o&&!m.collides||h&&!m.hasInterestingFace)continue;l.push(m)}}return l};p.exports=c},31674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84068),c=t(50811),a=t(7563),r=t(72283),n=t(93736),e=function(h,l){return a.RectangleToTriangle(l,h)},s=new n,u=new n,i=new n,o=function(h,l,d,v){if(h===void 0)return[];var m=r;h instanceof f.Circle?m=a.CircleToRectangle:h instanceof f.Rectangle?m=a.RectangleToRectangle:h instanceof f.Triangle?m=e:h instanceof f.Line&&(m=a.LineToRectangle),v.tilemapLayer.worldToTileXY(h.left,h.top,!0,u,d);var x=u.x,g=u.y;v.tilemapLayer.worldToTileXY(h.right,h.bottom,!1,i,d);var y=Math.ceil(i.x),T=Math.ceil(i.y),E=Math.max(y-x,1),C=Math.max(T-g,1),A=c(x,g,E,C,l,v),P=v.tileWidth,F=v.tileHeight;v.tilemapLayer&&(P*=v.tilemapLayer.scaleX,F*=v.tilemapLayer.scaleY);for(var O=[],I=new f.Rectangle(0,0,P,F),G=0;G<A.length;G++){var z=A[G];v.tilemapLayer.tileToWorldXY(z.x,z.y,s,d),I.x=s.x,I.y=s.y,m(h,I)&&O.push(z)}return O};p.exports=o},44662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(93736),a=new c,r=new c,n=function(e,s,u,i,o,h,l){var d=l.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,s,!0,a,h,l);var v=a.x,m=a.y;d(e+u,s+i,!1,r,h,l);var x=Math.ceil(r.x),g=Math.ceil(r.y);return f(v,m,x-v,g-m,o,l)};p.exports=n},29296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(10618),a=t(806),r=function(n){return n===f.ORTHOGONAL?a:c};p.exports=r},32688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(11516),a=t(18750),r=t(72283),n=t(90562),e=t(45676),s=function(u){return u===f.ORTHOGONAL?e:u===f.ISOMETRIC?a:u===f.HEXAGONAL?c:u===f.STAGGERED?n:r};p.exports=s},74326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(10618),a=t(3689),r=t(70520),n=function(e){return e===f.ORTHOGONAL?r:e===f.STAGGERED?a:c};p.exports=n},46598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(62839),c=function(a,r,n){if(f(a,r,n)){var e=n.data[r][a];return e!==null&&e.index>-1}else return!1};p.exports=c},28654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(46598),c=t(93736),a=new c,r=function(n,e,s,u){u.tilemapLayer.worldToTileXY(n,e,!0,a,s);var i=a.x,o=a.y;return f(i,o,u)};p.exports=r},6358:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82127),c=t(84314),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,u=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),o=r.hexSideLength,h,l,d,v;if(r.staggerAxis==="y"){var m=(i-o)/2+o;h=c(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,l=f(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,d=c(n.worldView.y-s.y,m,0,!0)-s.cullPaddingY,v=f(n.worldView.bottom-s.y,m,0,!0)+s.cullPaddingY}else{var x=(u-o)/2+o;h=c(n.worldView.x-s.x,x,0,!0)-s.cullPaddingX,l=f(n.worldView.right-s.x,x,0,!0)+s.cullPaddingX,d=c(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,v=f(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:h,right:l,top:d,bottom:v}};p.exports=a},37524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6358),c=t(6987),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var u=r.tilemapLayer,i=f(r,n);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),c(r,i,s,e),e};p.exports=a},63634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(21715),c=t(93736),a=new c,r=function(n,e,s,u){var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(i*=h.scaleX,o*=h.scaleY);var l=f(n,e,a,s,u),d=[],v=.5773502691896257,m,x;u.staggerAxis==="y"?(m=v*i,x=o/2):(m=i/2,x=v*o);for(var g=0;g<6;g++){var y=2*Math.PI*(.5-g)/6;d.push(new c(l.x+m*Math.cos(y),l.y+x*Math.sin(y)))}return d};p.exports=r},21715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){n||(n=new f);var u=s.baseTileWidth,i=s.baseTileHeight,o=s.tilemapLayer,h=0,l=0;o&&(e||(e=o.scene.cameras.main),h=o.x+e.scrollX*(1-o.scrollFactorX),l=o.y+e.scrollY*(1-o.scrollFactorY),u*=o.scaleX,i*=o.scaleY);var d=u/2,v=i/2,m,x;return s.staggerAxis==="y"?(m=h+u*a+u,x=l+1.5*r*v+v,r%2===0&&(this.staggerIndex==="odd"?m-=d:m+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(m=h+1.5*a*d+d,x=l+i*a+i,a%2===0&&(this.staggerIndex==="odd"?x-=v:x+=v)),n.set(m,x)};p.exports=c},11516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u){e||(e=new f);var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(s||(s=h.scene.cameras.main),a=a-(h.x+s.scrollX*(1-h.scrollFactorX)),r=r-(h.y+s.scrollY*(1-h.scrollFactorY)),i*=h.scaleX,o*=h.scaleY);var l=.5773502691896257,d=-.3333333333333333,v=0,m=.6666666666666666,x=i/2,g=o/2,y,T,E,C,A;u.staggerAxis==="y"?(y=(a-x)/(l*i),T=(r-g)/g,E=l*y+d*T,C=v*y+m*T):(y=(a-x)/x,T=(r-g)/(l*o),E=d*y+l*T,C=m*y+v*T),A=-E-C;var P=Math.round(E),F=Math.round(C),O=Math.round(A),I=Math.abs(P-E),G=Math.abs(F-C),z=Math.abs(O-A);I>G&&I>z?P=-F-O:G>z&&(F=-P-O);var X,H=F;return u.staggerIndex==="odd"?X=H%2===0?F/2+P:F/2+P-.5:X=H%2===0?F/2+P:F/2+P+.5,e.set(X,H)};p.exports=c},62839:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t>=0&&t<c.width&&f>=0&&f<c.height};p.exports=S},20887:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(13125),c=function(a,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=a.tilemapLayer,u=a.data,i=a.width,o=a.height,h=s.skipCull,l=0,d=i,v=0,m=o,x,g,y;if(e===0){for(g=v;g<m;g++)for(x=l;x<d;x++)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===1){for(g=v;g<m;g++)for(x=d;x>=l;x--)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===2){for(g=m;g>=v;g--)for(x=l;x<d;x++)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===3){for(g=m;g>=v;g--)for(x=d;x>=l;x--)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}return s.tilesDrawn=n.length,s.tilesTotal=i*o,n};p.exports=c},21808:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){n||(n=new f);var u=s.baseTileWidth,i=s.baseTileHeight,o=s.tilemapLayer,h=0,l=0;o&&(e||(e=o.scene.cameras.main),h=o.x+e.scrollX*(1-o.scrollFactorX),u*=o.scaleX,l=o.y+e.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var d=h+(a-r)*(u/2),v=l+(a+r)*(i/2);return n.set(d,v)};p.exports=c},18750:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u,i){e||(e=new f);var o=u.baseTileWidth,h=u.baseTileHeight,l=u.tilemapLayer;l&&(s||(s=l.scene.cameras.main),r=r-(l.y+s.scrollY*(1-l.scrollFactorY)),h*=l.scaleY,a=a-(l.x+s.scrollX*(1-l.scrollFactorX)),o*=l.scaleX);var d=o/2,v=h/2;a=a-d,i||(r=r-h);var m=.5*(a/d+r/v),x=.5*(-a/d+r/v);return n&&(m=Math.floor(m),x=Math.floor(x)),e.set(m,x)};p.exports=c},29003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29633),c=t(62839),a=t(92839),r=t(68234),n=function(e,s,u,i,o){if(i===void 0&&(i=!0),!c(s,u,o))return null;var h,l=o.data[u][s],d=l&&l.collides;e instanceof f?(o.data[u][s]===null&&(o.data[u][s]=new f(o,e.index,s,u,o.tileWidth,o.tileHeight)),o.data[u][s].copy(e)):(h=e,o.data[u][s]===null?o.data[u][s]=new f(o,h,s,u,o.tileWidth,o.tileHeight):o.data[u][s].index=h);var v=o.data[u][s],m=o.collideIndexes.indexOf(v.index)!==-1;if(h=e instanceof f?e.index:e,h===-1)v.width=o.tileWidth,v.height=o.tileHeight;else{var x=o.tilemapLayer.tilemap,g=x.tiles,y=g[h][2],T=x.tilesets[y];v.width=T.tileWidth,v.height=T.tileHeight}return r(v,m),i&&d!==v.collides&&a(s,u,o),v};p.exports=n},48565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29003),c=t(93736),a=new c,r=function(n,e,s,u,i,o){return o.tilemapLayer.worldToTileXY(e,s,!0,a,i,o),f(n,a.x,a.y,u,o)};p.exports=r},56547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60386),c=t(29003),a=function(r,n,e,s,u){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,o=r[0].length,h=0;h<i;h++)for(var l=0;l<o;l++){var d=r[h][l];c(d,n+l,e+h,!1,u)}s&&f(n-1,e-1,o+2,i+2,u)};p.exports=a},91180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(72861),a=function(r,n,e,s,u,i){var o,h=f(r,n,e,s,{},i);if(!u)for(u=[],o=0;o<h.length;o++)u.indexOf(h[o].index)===-1&&u.push(h[o].index);for(o=0;o<h.length;o++)h[o].index=c(u)};p.exports=a},929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29633),c=t(62839),a=t(92839),r=function(n,e,s,u,i){if(s===void 0&&(s=!0),u===void 0&&(u=!0),!c(n,e,i))return null;var o=i.data[e][n];if(o)i.data[e][n]=s?null:new f(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return u&&o&&o.collides&&a(n,e,i),o};p.exports=r},17384:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(929),c=t(93736),a=new c,r=function(n,e,s,u,i,o){return o.tilemapLayer.worldToTileXY(n,e,!0,a,i,o),f(a.x,a.y,s,u,o)};p.exports=r},93763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(95509),a=new c(105,210,231,150),r=new c(243,134,48,200),n=new c(40,39,37,150),e=function(s,u,i){u===void 0&&(u={});var o=u.tileColor!==void 0?u.tileColor:a,h=u.collidingTileColor!==void 0?u.collidingTileColor:r,l=u.faceColor!==void 0?u.faceColor:n,d=f(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var v=0;v<d.length;v++){var m=d[v],x=m.width,g=m.height,y=m.pixelX,T=m.pixelY,E=m.collides?h:o;E!==null&&(s.fillStyle(E.color,E.alpha/255),s.fillRect(y,T,x,g)),y+=1,T+=1,x-=2,g-=2,l!==null&&(s.lineStyle(1,l.color,l.alpha/255),m.faceTop&&s.lineBetween(y,T,y+x,T),m.faceRight&&s.lineBetween(y+x,T,y+x,T+g),m.faceBottom&&s.lineBetween(y,T+g,y+x,T+g),m.faceLeft&&s.lineBetween(y,T,y,T+g))}};p.exports=e},51202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i){for(var o=f(n,e,s,u,null,i),h=0;h<o.length;h++)o[h]&&o[h].index===a&&(o[h].index=r)};p.exports=c},6987:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,u=Math.max(0,f.left),i=Math.min(n,f.right),o=Math.max(0,f.top),h=Math.min(e,f.bottom),l,d,v;if(c===0)for(d=o;d<h;d++)for(l=u;r[d]&&l<i;l++)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(c===1)for(d=o;d<h;d++)for(l=i;r[d]&&l>=u;l--)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(c===2)for(d=h;d>=o;d--)for(l=u;r[d]&&l<i;l++)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(c===3)for(d=h;d>=o;d--)for(l=i;r[d]&&l>=u;l--)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);return s.tilesDrawn=a.length,s.tilesTotal=n*e,a};p.exports=S},51710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(91181),r=function(n,e,s,u,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++)a(n[o],e,u);if(i)for(var h=0;h<u.height;h++)for(var l=0;l<u.width;l++){var d=u.data[h][l];d&&n.indexOf(d.index)!==-1&&f(d,e)}s&&c(0,0,u.width,u.height,u)};p.exports=r},15216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(91181),r=function(n,e,s,u,i,o){if(s===void 0&&(s=!0),u===void 0&&(u=!0),o===void 0&&(o=!0),!(n>e)){for(var h=n;h<=e;h++)a(h,s,i);if(o)for(var l=0;l<i.height;l++)for(var d=0;d<i.width;d++){var v=i.data[l][d];v&&v.index>=n&&v.index<=e&&f(v,s)}u&&c(0,0,i.width,i.height,i)}};p.exports=r},33158:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(91181),r=function(n,e,s,u){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<u.height;i++)for(var o=0;o<u.width;o++){var h=u.data[i][o];h&&n.indexOf(h.index)===-1&&(f(h,e),a(h.index,e,u))}s&&c(0,0,u.width,u.height,u)};p.exports=r},4180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(19256),r=function(n,e,s,u){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<u.height;i++)for(var o=0;o<u.width;o++){var h=u.data[i][o];if(!!h){for(var l in n)if(!!a(h.properties,l)){var d=n[l];Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)h.properties[l]===d[v]&&f(h,e)}}}s&&c(0,0,u.width,u.height,u)};p.exports=r},18625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var u=0;u<e.width;u++){var i=e.data[s][u];if(!!i){var o=i.getCollisionGroup();o&&o.objects&&o.objects.length>0&&f(i,r)}}n&&c(0,0,e.width,e.height,e)};p.exports=a},91181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.collideIndexes.indexOf(t);f&&a===-1?c.collideIndexes.push(t):!f&&a!==-1&&c.collideIndexes.splice(a,1)};p.exports=S},68234:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},11628:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){if(typeof t=="number")a.callbacks[t]=f!==null?{callback:f,callbackContext:c}:void 0;else for(var r=0,n=t.length;r<n;r++)a.callbacks[t[r]]=f!==null?{callback:f,callbackContext:c}:void 0};p.exports=S},72732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i){for(var o=f(a,r,n,e,null,i),h=0;h<o.length;h++)o[h].setCollisionCallback(s,u)};p.exports=c},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(18592),a=function(r,n,e,s,u){var i=f(r,n,e,s,null,u),o=i.map(function(l){return l.index});c(o);for(var h=0;h<i.length;h++)i[h].index=o[h]};p.exports=a},53945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82127),c=t(84314),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,u=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),o=c(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,h=f(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,l=c(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,d=f(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:o,right:h,top:l,bottom:d}};p.exports=a},19242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53945),c=t(6987),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var u=r.tilemapLayer,i=f(r,n);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),c(r,i,s,e),e};p.exports=a},33388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){n||(n=new f);var u=s.baseTileWidth,i=s.baseTileHeight,o=s.tilemapLayer,h=0,l=0;o&&(e||(e=o.scene.cameras.main),h=o.x+e.scrollX*(1-o.scrollFactorX),u*=o.scaleX,l=o.y+e.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var d=h+a*u+r%2*(u/2),v=l+r*(i/2);return n.set(d,v)};p.exports=c},84132:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.baseTileHeight,r=c.tilemapLayer,n=0;return r&&(f===void 0&&(f=r.scene.cameras.main),n=r.y+f.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*(a/2)+a};p.exports=S},90562:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u){e||(e=new f);var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(s||(s=h.scene.cameras.main),r=r-(h.y+s.scrollY*(1-h.scrollFactorY)),o*=h.scaleY,a=a-(h.x+s.scrollX*(1-h.scrollFactorX)),i*=h.scaleX);var l=n?Math.floor(r/(o/2)):r/(o/2),d=n?Math.floor((a+l%2*.5*i)/i):(a+l%2*.5*i)/i;return e.set(d,l)};p.exports=c},3689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=a.baseTileHeight,n=a.tilemapLayer;return n&&(c||(c=n.scene.cameras.main),t=t-(n.y+c.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),f?Math.floor(t/(r/2)):t/(r/2)};p.exports=S},55217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i){for(var o=f(n,e,s,u,null,i),h=0;h<o.length;h++)o[h]&&(o[h].index===a?o[h].index=r:o[h].index===r&&(o[h].index=a))};p.exports=c},44150:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.baseTileWidth,r=c.tilemapLayer,n=0;return r&&(f||(f=r.scene.cameras.main),n=r.x+f.scrollX*(1-r.scrollFactorX),a*=r.scaleX),n+t*a};p.exports=S},46836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44150),c=t(42477),a=t(93736),r=function(n,e,s,u,i){return s||(s=new a(0,0)),s.x=f(n,u,i),s.y=c(e,u,i),s};p.exports=r},42477:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.baseTileHeight,r=c.tilemapLayer,n=0;return r&&(f||(f=r.scene.cameras.main),n=r.y+f.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*a};p.exports=S},39677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u){if(!!s){var i,o=f(a,r,n,e,null,u),h=0;for(i=0;i<s.length;i++)h+=s[i].weight;if(!(h<=0))for(i=0;i<o.length;i++){for(var l=Math.random()*h,d=0,v=-1,m=0;m<s.length;m++)if(d+=s[m].weight,l<=d){var x=s[m].index;v=Array.isArray(x)?x[Math.floor(Math.random()*x.length)]:x;break}o[i].index=v}}};p.exports=c},806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45676),c=t(93736),a=new c,r=function(n,e,s,u){return f(n,0,e,a,s,u),a.x};p.exports=r},45676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u){n===void 0&&(n=!0),e||(e=new f);var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(s||(s=h.scene.cameras.main),a=a-(h.x+s.scrollX*(1-h.scrollFactorX)),r=r-(h.y+s.scrollY*(1-h.scrollFactorY)),i*=h.scaleX,o*=h.scaleY);var l=a/i,d=r/o;return n&&(l=Math.floor(l),d=Math.floor(d)),e.set(l,d)};p.exports=c},70520:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45676),c=t(93736),a=new c,r=function(n,e,s,u){return f(0,n,e,a,s,u),a.y};p.exports=r},5047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ORIENTATION:t(12920)};p.exports=f},52678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(84758),a={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};a=f(!1,a,c.ORIENTATION),p.exports=a},94990:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12920),a=t(72632),r=new f({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},16586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12920),a=t(72632),r=new f({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},15256:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=new f({initialize:function(n){n===void 0&&(n={}),this.name=c(n,"name","object layer"),this.id=c(n,"id",0),this.opacity=c(n,"opacity",1),this.properties=c(n,"properties",{}),this.propertyTypes=c(n,"propertytypes",{}),this.type=c(n,"type","objectgroup"),this.visible=c(n,"visible",!0),this.objects=c(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=a},21394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=function(a){return a=a.toLowerCase(),a==="isometric"?f.ISOMETRIC:a==="staggered"?f.STAGGERED:a==="hexagonal"?f.HEXAGONAL:f.ORTHOGONAL};p.exports=c},90715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(84346),a=t(96097),r=t(2378),n=t(44909),e=function(s,u,i,o,h,l){var d;switch(u){case f.ARRAY_2D:d=c(s,i,o,h,l);break;case f.CSV:d=a(s,i,o,h,l);break;case f.TILED_JSON:d=r(s,i,l);break;case f.WELTMEISTER:d=n(s,i,l);break;default:console.warn("Unrecognized tilemap data format: "+u),d=null}return d};p.exports=e},84346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(94990),a=t(16586),r=t(29633),n=function(e,s,u,i,o){for(var h=new c({tileWidth:u,tileHeight:i}),l=new a({name:e,tileWidth:u,tileHeight:i,format:f.ARRAY_2D,layers:[h]}),d=[],v=s.length,m=0,x=0;x<s.length;x++){d[x]=[];for(var g=s[x],y=0;y<g.length;y++){var T=parseInt(g[y],10);isNaN(T)||T===-1?d[x][y]=o?null:new r(h,-1,y,x,u,i):d[x][y]=new r(h,T,y,x,u,i)}m===0&&(m=g.length)}return l.width=h.width=m,l.height=h.height=v,l.widthInPixels=h.widthInPixels=m*u,l.heightInPixels=h.heightInPixels=v*i,h.data=d,l};p.exports=n},96097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(84346),a=function(r,n,e,s,u){var i=n.trim().split(`
`).map(function(h){return h.split(",")}),o=c(r,i,e,s,u);return o.format=f.CSV,o};p.exports=a},30951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(94990),c=t(29633),a=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var u=r.layer[s],i=new f({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),o=[],h=[],l=0;l<u.data.length;l++){for(var d=0;d<u.data[l].length;d++){var v=u.data[l][d]-1,m;v>-1?m=new c(i,v,d,l,u.tilesize,u.tilesize):m=n?null:new c(i,-1,d,l,u.tilesize,u.tilesize),o.push(m)}h.push(o),o=[]}i.data=h,e.push(i)}return e};p.exports=a},47488:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47975),c=function(a){for(var r=[],n=[],e=0;e<a.layer.length;e++){var s=a.layer[e],u=s.tilesetName;u!==""&&n.indexOf(u)===-1&&(n.push(u),r.push(new f(u,0,s.tilesize,s.tilesize,0,0)))}return r};p.exports=c},44909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(16586),a=t(30951),r=t(47488),n=function(e,s,u){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,o=0,h=0;h<s.layer.length;h++)s.layer[h].width>i&&(i=s.layer[h].width),s.layer[h].height>o&&(o=s.layer[h].height);var l=new c({width:i,height:o,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:f.WELTMEISTER});return l.layers=a(s,u),l.tilesets=r(s),l};p.exports=n},24507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=function(a){for(var r,n,e,s,u,i=0;i<a.layers.length;i++){r=a.layers[i],s=null;for(var o=0;o<r.data.length;o++){u=r.data[o];for(var h=0;h<u.length;h++)n=u[h],!(n===null||n.index<0)&&(e=a.tiles[n.index][2],s=a.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=f(n.properties,s.tileProperties[n.index-s.firstgid])))}}};p.exports=c},43908:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=window.atob(t),c=f.length,a=new Array(c/4),r=0;r<c;r+=4)a[r/4]=(f.charCodeAt(r)|f.charCodeAt(r+1)<<8|f.charCodeAt(r+2)<<16|f.charCodeAt(r+3)<<24)>>>0;return a};p.exports=S},14556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47975),c=function(a){var r,n,e=[];for(r=0;r<a.imageCollections.length;r++)for(var s=a.imageCollections[r],u=s.images,i=0;i<u.length;i++){var o=u[i];n=new f(o.image,o.gid,s.imageWidth,s.imageHeight,0,0),n.updateTileData(s.imageWidth,s.imageHeight),a.tilesets.push(n)}for(r=0;r<a.tilesets.length;r++){n=a.tilesets[r];for(var h=n.tileMargin,l=n.tileMargin,d=0,v=0,m=0,x=n.firstgid;x<n.firstgid+n.total&&(e[x]=[h,l,r],h+=n.tileWidth+n.tileSpacing,d++,!(d===n.total||(v++,v===n.columns&&(h=n.tileMargin,l+=n.tileHeight+n.tileSpacing,v=0,m++,m===n.rows))));x++);}return e};p.exports=c},92044:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+f(r,"startx",0)*a.tilewidth+f(r,"offsetx",0),s=r.y+f(r,"starty",0)*a.tileheight+f(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};p.exports=c},8847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,f=536870912,c=function(a){var r=Boolean(a&S),n=Boolean(a&t),e=Boolean(a&f);a=a&~(S|t|f);var s=0,u=!1;return r&&n&&e?(s=Math.PI/2,u=!0):r&&n&&!e?(s=Math.PI,u=!1):r&&!n&&e?(s=Math.PI/2,u=!1):r&&!n&&!e?(s=0,u=!0):!r&&n&&e?(s=3*Math.PI/2,u=!1):!r&&n&&!e?(s=Math.PI,u=!0):!r&&!n&&e?(s=3*Math.PI/2,u=!0):!r&&!n&&!e&&(s=0,u=!1),{gid:a,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:u}};p.exports=c},78339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=t(92044),a=function(r){for(var n=[],e=[],s=c(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var u=s.layers[s.i];if(s.i++,u.type!=="imagelayer"){if(u.type==="group"){var i=c(r,u,s);e.push(s),s=i}continue}var o=f(u,"offsetx",0)+f(u,"startx",0),h=f(u,"offsety",0)+f(u,"starty",0);n.push({name:s.name+u.name,image:u.image,x:s.x+o+u.x,y:s.y+h+u.y,alpha:s.opacity*u.opacity,visible:s.visible&&u.visible,properties:f(u,"properties",{})})}return n};p.exports=a},2378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(48646),c=t(14556),a=t(12920),r=t(28699),n=t(93560),e=t(21394),s=t(16586),u=t(78339),i=t(61136),o=t(95925),h=t(93392),l=function(d,v,m){var x=r(v),g=new s({width:x.width,height:x.height,name:d,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:n.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});g.orientation===a.HEXAGONAL&&(g.hexSideLength=x.hexsidelength,g.staggerAxis=x.staggeraxis,g.staggerIndex=x.staggerindex),g.layers=o(x,m),g.images=u(x);var y=h(x);return g.tilesets=y.tilesets,g.imageCollections=y.imageCollections,g.objects=i(x),g.tiles=c(g),f(g),g};p.exports=l},4281:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28820),c=t(8847),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,u){s===void 0&&(s=0),u===void 0&&(u=0);var i=f(e,r);if(i.x+=s,i.y+=u,e.gid){var o=c(e.gid);i.gid=o.gid,i.flippedHorizontal=o.flippedHorizontal,i.flippedVertical=o.flippedVertical,i.flippedAntiDiagonal=o.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};p.exports=n},61136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=t(4281),a=t(15256),r=t(92044),n=function(e){for(var s=[],u=[],i=r(e);i.i<i.layers.length||u.length>0;){if(i.i>=i.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=u.pop();continue}var o=i.layers[i.i];if(i.i++,o.opacity*=i.opacity,o.visible=i.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var h=r(e,o,i);u.push(i),i=h}continue}o.name=i.name+o.name;for(var l=i.x+f(o,"startx",0)+f(o,"offsetx",0),d=i.y+f(o,"starty",0)+f(o,"offsety",0),v=[],m=0;m<o.objects.length;m++){var x=c(o.objects[m],l,d);v.push(x)}var g=new a(o);g.objects=v,s.push(g)}return s};p.exports=n},95925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(43908),c=t(12920),a=t(92044),r=t(21394),n=t(72632),e=t(94990),s=t(8847),u=t(29633),i=function(o,h){for(var l=n(o,"infinite",!1),d=[],v=[],m=a(o);m.i<m.layers.length||v.length>0;){if(m.i>=m.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=v.pop();continue}var x=m.layers[m.i];if(m.i++,x.type!=="tilelayer"){if(x.type==="group"){var g=a(o,x,m);v.push(m),m=g}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var y=0;y<x.chunks.length;y++)x.chunks[y].data=f(x.chunks[y].data);x.data&&(x.data=f(x.data)),delete x.encoding}var T,E,C,A,P=[],F=0;if(l){var O=n(x,"startx",0)+x.x,I=n(x,"starty",0)+x.y;T=new e({name:m.name+x.name,id:x.id,x:m.x+n(x,"offsetx",0)+O*o.tilewidth,y:m.y+n(x,"offsety",0)+I*o.tileheight,width:x.width,height:x.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(o.orientation)}),T.orientation===c.HEXAGONAL&&(T.hexSideLength=o.hexsidelength,T.staggerAxis=o.staggeraxis,T.staggerIndex=o.staggerindex);for(var G=0;G<x.height;G++){P[G]=[null];for(var z=0;z<x.width;z++)P[G][z]=null}for(G=0,$=x.chunks.length;G<$;G++)for(var X=x.chunks[G],H=X.x-O,N=X.y-I,U=0,R=0,D=X.data.length;R<D;R++){var B=F+H,V=U+N;E=s(X.data[R]),E.gid>0?(C=new u(T,E.gid,B,V,o.tilewidth,o.tileheight),C.rotation=E.rotation,C.flipX=E.flipped,P[V][B]=C):(A=h?null:new u(T,-1,B,V,o.tilewidth,o.tileheight),P[V][B]=A),F++,F===X.width&&(U++,F=0)}}else{T=new e({name:m.name+x.name,id:x.id,x:m.x+n(x,"offsetx",0)+x.x,y:m.y+n(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(o.orientation)}),T.orientation===c.HEXAGONAL&&(T.hexSideLength=o.hexsidelength,T.staggerAxis=o.staggeraxis,T.staggerIndex=o.staggerindex);for(var Y=[],K=0,$=x.data.length;K<$;K++)E=s(x.data[K]),E.gid>0?(C=new u(T,E.gid,F,P.length,o.tilewidth,o.tileheight),C.rotation=E.rotation,C.flipX=E.flipped,Y.push(C)):(A=h?null:new u(T,-1,F,P.length,o.tilewidth,o.tileheight),Y.push(A)),F++,F===x.width&&(P.push(Y),F=0,Y=[])}T.data=P,d.push(T)}return d};p.exports=i},93392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47975),c=t(97042),a=t(4281),r=t(39642),n=function(e){for(var s=[],u=[],i=null,o,h=0;h<e.tilesets.length;h++){var l=e.tilesets[h];if(l.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(l.image){var d=new f(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,void 0,void 0,l.tileoffset);if(e.version>1){var v=void 0,m=void 0;if(Array.isArray(l.tiles)){v=v||{},m=m||{};for(var x=0;x<l.tiles.length;x++){var g=l.tiles[x];if(g.properties){var y={};g.properties.forEach(function(G){y[G.name]=G.value}),m[g.id]=y}if(g.objectgroup&&((v[g.id]||(v[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var T=g.objectgroup.objects.map(function(G){return a(G)});v[g.id].objectgroup.objects=T}g.animation&&((v[g.id]||(v[g.id]={})).animation=g.animation),g.type&&((v[g.id]||(v[g.id]={})).type=g.type)}}Array.isArray(l.wangsets)&&(v=v||{},m=m||{},r(l.wangsets,v)),v&&(d.tileData=v,d.tileProperties=m)}else if(l.tileproperties&&(d.tileProperties=l.tileproperties),l.tiles){d.tileData=l.tiles;for(o in d.tileData){var E=d.tileData[o].objectgroup;if(E&&E.objects){var C=E.objects.map(function(G){return a(G)});d.tileData[o].objectgroup.objects=C}}}d.updateTileData(l.imagewidth,l.imageheight),s.push(d)}else{var A=new c(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,l.properties),P=0;for(x=0;x<l.tiles.length;x++){g=l.tiles[x];var F=g.image,O=parseInt(g.id,10),I=l.firstgid+O;A.addImage(I,F),P=Math.max(O,P)}A.maxId=P,u.push(A)}i&&(i.lastgid=l.firstgid-1),i=l}return{tilesets:s,imageCollections:u}};p.exports=n},39642:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=0;c<t.length;c++){var a=t[c],r=c;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var n={},e={},s,u,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,u=a.edgecolors[s],u.name!==""&&(n[i]=u.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,u=a.cornercolors[s],u.name!==""&&(e[i]=u.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)u=a.colors[s],i=1+s,u.name!==""&&(n[i]=e[i]=u.name);for(var o=[n,e,n,e,n,e,n,e],h=0;h<a.wangtiles.length;h++){var l=a.wangtiles[h],d=f[l.tileid]||(f[l.tileid]={});d=d.wangid||(d.wangid={});for(var v=[],m=0;m<Math.min(o.length,l.wangid.length);m++){if(u=l.wangid[m],u===0){v.push(void 0);continue}var x=o[m][u];if(x!==void 0){v.push(x);continue}v.push(u)}d[r]=v}}}};p.exports=S},50044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91963),a=t(7599),r=t(57911),n=t(66458),e=new f({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var u;return s instanceof r?(u=s,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat):u=new r(s),this._pendingInsertion.push(u),u},delayedCall:function(s,u,i,o){return this.addEvent({delay:s,callback:u,args:i,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var i=s[u];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(s===0&&u===0)){var i,o;for(i=0;i<s;i++){o=this._pendingRemoval[i];var h=this._active.indexOf(o);h>-1&&this._active.splice(h,1),o.destroy()}for(i=0;i<u;i++)o=this._pendingInsertion[i],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,u){if(this.now=s,!this.paused){u*=this.timeScale;for(var i=0;i<this._active.length;i++){var o=this._active[i];if(!o.paused&&(o.elapsed+=u*o.timeScale,o.elapsed>=o.delay)){var h=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,h>=o.delay)for(;h>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),h-=o.delay,o.repeatCount--;o.elapsed=h,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(a.PRE_UPDATE,this.preUpdate,this),u.off(a.UPDATE,this.update,this),u.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});c.register("Clock",e,"time"),p.exports=e},20517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(61286),r=t(72632),n=t(7599),e=t(52944),s=new f({Extends:c,initialize:function(i,o){c.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var h=this.systems.events;h.on(n.PRE_UPDATE,this.preUpdate,this),h.on(n.UPDATE,this.update,this),h.once(n.SHUTDOWN,this.destroy,this),o&&this.add(o)},preUpdate:function(u,i){this.paused||(this.elapsed+=i)},update:function(){if(!(this.paused||this.complete)){var u,i=this.events,o=!1,h=this.systems,l;for(u=0;u<i.length;u++){var d=i[u];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,l=d.target?d.target:this,d.if&&!d.if.call(l,d))continue;if(d.once&&(o=!0),d.set&&d.target)for(var v in d.set)d.target[v]=d.set[v];d.tween&&h.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?h.sound.play(d.sound):h.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,l),d.run&&d.run.call(l),d.stop&&this.stop()}}if(o)for(u=0;u<i.length;u++)i[u].complete&&i[u].once&&(i.splice(u,1),u--);this.totalComplete>=i.length&&(this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(u){return u===void 0&&(u=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,u&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var u=0;u<this.events.length;u++)this.events[u].complete=!1;return this.play(!1)},add:function(u){Array.isArray(u)||(u=[u]);var i=this.events,o=0;i.length>0&&(o=i[i.length-1].time);for(var h=0;h<u.length;h++){var l=u[h],d=r(l,"at",0),v=r(l,"in",null);v!==null&&(d=this.elapsed+v);var m=r(l,"from",null);m!==null&&(d=o+m),i.push({complete:!1,time:d,if:r(l,"if",null),run:r(l,"run",null),event:r(l,"event",null),target:r(l,"target",null),set:r(l,"set",null),tween:r(l,"tween",null),sound:r(l,"sound",null),once:r(l,"once",!1),stop:r(l,"stop",!1)}),o=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var u=Math.min(this.totalComplete,this.events.length);return u/this.events.length},destroy:function(){var u=this.systems.events;u.off(n.PRE_UPDATE,this.preUpdate,this),u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(u){return new s(this.scene,u)}),p.exports=s},57911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=new f({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=c(r,"delay",0),this.repeat=c(r,"repeat",0),this.loop=c(r,"loop",!1),this.callback=c(r,"callback",void 0),this.callbackScope=c(r,"callbackScope",this),this.args=c(r,"args",[]),this.timeScale=c(r,"timeScale",1),this.startAt=c(r,"startAt",0),this.paused=c(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=a},12144:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},52944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(12144)}},97121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(73779),Events:t(52944),Timeline:t(20517),TimerEvent:t(57911)}},64532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(56694),a=t(5454),r=t(68710),n=t(91963),e=t(7599),s=t(91944),u=t(39366),i=t(68061),o=t(45641),h=t(56034),l=new c({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var v=[],m=0;m<d.length;m++){var x=d[m];x instanceof u||x instanceof o?v.push(x):Array.isArray(x.tweens)?v.push(h(this,x)):v.push(i(this,x))}return v.length===1?v[0]:v},add:function(d){var v=d,m=this.tweens;return v instanceof u||v instanceof o||(Array.isArray(v.tweens)?v=h(this,v):v=i(this,v)),m.push(v.reset()),v},addMultiple:function(d){for(var v,m=[],x=this.tweens,g=0;g<d.length;g++)v=d[g],v instanceof u||v instanceof o||(Array.isArray(v.tweens)?v=h(this,v):v=i(this,v)),x.push(v.reset()),m.push(v);return m},chain:function(d){var v=h(this,d);return this.tweens.push(v.init()),v},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var v=r(this,d);return this.tweens.push(v.reset()),v},stagger:function(d,v){return s(d,v)},setLagSmooth:function(d,v){return d===void 0&&(d=1/1e-8),v===void 0&&(v=0),this.maxLag=d,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var m=this.prevTime-this.startTime,x=m-this.nextTime,g=m-this.time*1e3;return x>0||d?(m/=1e3,this.time=m,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):g=0,g},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var v=this.getDelta(d);if(!(v<=0)){this.processing=!0;var m,x,g=[],y=this.tweens;for(m=0;m<y.length;m++)x=y[m],x.update(v)&&g.push(x);var T=g.length;if(T&&y.length>0){for(m=0;m<T;m++){x=g[m];var E=y.indexOf(x);E>-1&&(x.isPendingRemove()||x.isDestroyed())&&(y.splice(E,1),x.destroy())}g.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(f(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,v){var m,x=[null];for(m=1;m<arguments.length;m++)x.push(arguments[m]);return this.tweens.forEach(function(g){x[0]=g,d.apply(v,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var v=[],m=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var x=d.length,g=0;g<m.length;g++)for(var y=m[g],T=0;T<x;T++)!y.isDestroyed()&&y.hasTarget(d[T])&&v.push(y);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var v=this.tweens,m,x=0;x<v.length;x++)if(m=v[x],m.isPlaying()&&m.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,v=0;v<d.length;v++)d[v].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var v=this.getTweensOf(d),m=0;m<v.length;m++)v[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",l,"tweens"),p.exports=l},63130:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t&&t.hasOwnProperty(f)?t[f]:c};p.exports=S},21902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(35060),c=t(40587),a=function(r,n){var e=f.Power0;if(typeof r=="string")if(f.hasOwnProperty(r))e=f[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var u=s.toLowerCase();u==="in"?s="easeIn":u==="out"?s="easeOut":u==="inout"&&(s="easeInOut")}r=c(r.substring(0,r.indexOf(".")+1)+s),f.hasOwnProperty(r)&&(e=f[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(o){return i[0]=o,e.apply(this,i)}};p.exports=a},4840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63210),c=t(88332),a=t(47614),r={bezier:f,catmull:c,catmullrom:c,linear:a},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};p.exports=n},28348:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a;if(t.hasOwnProperty(f)){var r=typeof t[f];r==="function"?a=function(n,e,s,u,i,o){return t[f](n,e,s,u,i,o)}:a=function(){return t[f]}}else typeof c=="function"?a=c:a=function(){return c};return a};p.exports=S},92407:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53709),c=function(a){var r,n=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&n.push({key:r,value:a.props[r]});else for(r in a)f.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:a[r]});return n};p.exports=c},65868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=function(a){var r=f(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=c},9744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(61616);function a(u){return!!u.getActive&&typeof u.getActive=="function"}function r(u){return!!u.getStart&&typeof u.getStart=="function"}function n(u){return!!u.getEnd&&typeof u.getEnd=="function"}function e(u){return r(u)||n(u)||a(u)}var s=function(u,i){var o,h=function(X,H,N){return N},l=function(X,H,N){return N},d=null,v=typeof i;if(v==="number")h=function(){return i};else if(Array.isArray(i))l=function(){return i[0]},h=function(){return i[i.length-1]};else if(v==="string"){var m=i.toLowerCase(),x=m.substring(0,6)==="random",g=m.substring(0,3)==="int";if(x||g){var y=m.indexOf("("),T=m.indexOf(")"),E=m.indexOf(",");if(y&&T&&E){var C=parseFloat(m.substring(y+1,E)),A=parseFloat(m.substring(E+1,T));x?h=function(){return c(C,A)}:h=function(){return f(C,A)}}else throw new Error("invalid random() format")}else{m=m[0];var P=parseFloat(i.substr(2));switch(m){case"+":h=function(X,H,N){return N+P};break;case"-":h=function(X,H,N){return N-P};break;case"*":h=function(X,H,N){return N*P};break;case"/":h=function(X,H,N){return N/P};break;default:h=function(){return parseFloat(i)}}}}else if(v==="function")h=i;else if(v==="object")if(e(i))a(i)&&(d=i.getActive),n(i)&&(h=i.getEnd),r(i)&&(l=i.getStart);else if(i.hasOwnProperty("value"))o=s(u,i.value);else{var F=i.hasOwnProperty("to"),O=i.hasOwnProperty("from"),I=i.hasOwnProperty("start");if(F&&(O||I)){if(o=s(u,i.to),I){var G=s(u,i.start);o.getActive=G.getEnd}if(O){var z=s(u,i.from);o.getStart=z.getEnd}}}return o||(o={getActive:d,getEnd:h,getStart:l}),o};p.exports=s},68710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(99730),a=t(20494),r=t(63130),n=t(21902),e=t(28348),s=t(10850),u=t(9744),i=t(72066),o=t(39366),h=function(l,d,v){if(d instanceof o)return d.parent=l,d;v===void 0?v=c:v=i(c,v);var m=s(d,"from",0),x=s(d,"to",1),g=[{value:m}],y=s(d,"delay",v.delay),T=s(d,"easeParams",v.easeParams),E=s(d,"ease",v.ease),C=u("value",x),A=new o(l,g),P=A.add(0,"value",C.getEnd,C.getStart,C.getActive,n(s(d,"ease",E),s(d,"easeParams",T)),e(d,"delay",y),s(d,"duration",v.duration),r(d,"yoyo",v.yoyo),s(d,"hold",v.hold),s(d,"repeat",v.repeat),s(d,"repeatDelay",v.repeatDelay),!1,!1);P.start=m,P.current=m,A.completeDelay=a(d,"completeDelay",0),A.loop=Math.round(a(d,"loop",0)),A.loopDelay=Math.round(a(d,"loopDelay",0)),A.paused=r(d,"paused",!1),A.persist=r(d,"persist",!1),A.callbackScope=s(d,"callbackScope",A);for(var F=f.TYPES,O=0;O<F.length;O++){var I=F[O],G=s(d,I,!1);if(G){var z=s(d,I+"Params",[]);A.setCallback(I,G,z)}}return A};p.exports=h},91944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(21902),c=t(10850),a=t(83392),r=function(n,e){e===void 0&&(e={});var s,u=c(e,"start",0),i=c(e,"ease",null),o=c(e,"grid",null),h=c(e,"from",0),l=h==="first",d=h==="center",v=h==="last",m=typeof h=="number",x=Array.isArray(n),g=parseFloat(x?n[0]:n),y=x?parseFloat(n[1]):0,T=Math.max(g,y);if(x&&(u+=g),o){var E=o[0],C=o[1],A=0,P=0,F=0,O=0,I=[];v?(A=E-1,P=C-1):m?(A=h%E,P=Math.floor(h/E)):d&&(A=(E-1)/2,P=(C-1)/2);for(var G=a.MIN_SAFE_INTEGER,z=0;z<C;z++){I[z]=[];for(var X=0;X<E;X++){F=A-X,O=P-z;var H=Math.sqrt(F*F+O*O);H>G&&(G=H),I[z][X]=H}}}var N=i?f(i):null;return o?s=function(U,R,D,B){var V=0,Y=B%E,K=Math.floor(B/E);Y>=0&&Y<E&&K>=0&&K<C&&(V=I[K][Y]);var $;if(x){var J=y-g;N?$=V/G*J*N(V/G):$=V/G*J}else N?$=V*g*N(V/G):$=V*g;return $+u}:s=function(U,R,D,B,V){V--;var Y;l?Y=B:d?Y=Math.abs(V/2-B):v?Y=V-B:m&&(Y=Math.abs(h-B));var K;if(x){var $;d?$=(y-g)/V*(Y*2):$=(y-g)/V*Y,N?K=$*N(Y/V):K=$}else N?K=V*T*N(Y/V):K=Y*g;return K+u},s};p.exports=r},68061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(99730),a=t(20494),r=t(63130),n=t(21902),e=t(4840),s=t(28348),u=t(92407),i=t(65868),o=t(10850),h=t(9744),l=t(72066),d=t(39366),v=function(m,x,g){if(x instanceof d)return x.parent=m,x;g===void 0?g=c:g=l(c,g);var y=i(x);!y&&g.targets&&(y=g.targets);for(var T=u(x),E=o(x,"delay",g.delay),C=o(x,"duration",g.duration),A=o(x,"easeParams",g.easeParams),P=o(x,"ease",g.ease),F=o(x,"hold",g.hold),O=o(x,"repeat",g.repeat),I=o(x,"repeatDelay",g.repeatDelay),G=r(x,"yoyo",g.yoyo),z=r(x,"flipX",g.flipX),X=r(x,"flipY",g.flipY),H=o(x,"interpolation",g.interpolation),N=function(k,q,tt,_){if(tt==="texture"){var it=_,st=void 0;Array.isArray(_)?(it=_[0],st=_[1]):_.hasOwnProperty("value")?(it=_.value,Array.isArray(_.value)?(it=_.value[0],st=_.value[1]):typeof _.value=="string"&&(it=_.value)):typeof _=="string"&&(it=_),k.addFrame(q,it,st,s(_,"delay",E),o(_,"duration",C),o(_,"hold",F),o(_,"repeat",O),o(_,"repeatDelay",I),r(_,"flipX",z),r(_,"flipY",X))}else{var ht=h(tt,_),ut=e(o(_,"interpolation",H));k.add(q,tt,ht.getEnd,ht.getStart,ht.getActive,n(o(_,"ease",P),o(_,"easeParams",A)),s(_,"delay",E),o(_,"duration",C),r(_,"yoyo",G),o(_,"hold",F),o(_,"repeat",O),o(_,"repeatDelay",I),r(_,"flipX",z),r(_,"flipY",X),ut,ut?_:null)}},U=new d(m,y),R=0;R<T.length;R++)for(var D=T[R].key,B=T[R].value,V=0;V<y.length;V++)D==="scale"&&!y[V].hasOwnProperty("scale")?(N(U,V,"scaleX",B),N(U,V,"scaleY",B)):N(U,V,D,B);U.completeDelay=a(x,"completeDelay",0),U.loop=Math.round(a(x,"loop",0)),U.loopDelay=Math.round(a(x,"loopDelay",0)),U.paused=r(x,"paused",!1),U.persist=r(x,"persist",!1),U.callbackScope=o(x,"callbackScope",U);for(var Y=f.TYPES,K=0;K<Y.length;K++){var $=Y[K],J=o(x,$,!1);if(J){var Q=o(x,$+"Params",[]);U.setCallback($,J,Q)}}return U};p.exports=v},56034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(20494),a=t(63130),r=t(65868),n=t(10850),e=t(68061),s=t(45641),u=function(i,o){if(o instanceof s)return o.parent=i,o;var h=new s(i);h.startDelay=n(o,"delay",0),h.completeDelay=c(o,"completeDelay",0),h.loop=Math.round(c(o,"loop",n(o,"repeat",0))),h.loopDelay=Math.round(c(o,"loopDelay",n(o,"repeatDelay",0))),h.paused=a(o,"paused",!1),h.persist=a(o,"persist",!0),h.callbackScope=n(o,"callbackScope",h);var l,d=f.TYPES;for(l=0;l<d.length;l++){var v=d[l],m=n(o,v,!1);if(m){var x=n(o,v+"Params",[]);h.setCallback(v,m,x)}}var g=n(o,"tweens",null);if(Array.isArray(g)){var y=[],T=r(o),E=void 0;for(T&&(E={targets:T}),l=0;l<g.length;l++)y.push(e(h,g[l],E));h.add(y)}return h};p.exports=u},79619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},6383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},72582:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},90281:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},80803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},13640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},10472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},5379:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},43449:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},61541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},54272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};p.exports=f},502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(54272),r=t(55303),n=new f({Extends:c,initialize:function(s){c.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,u){return u===void 0&&(u=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:u}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=n},65521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(54272),a=t(55303),r=new f({initialize:function(e,s,u,i,o,h,l,d,v,m){this.tween=e,this.targetIndex=s,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=u,this.yoyo=o,this.hold=h,this.repeat=l,this.repeatDelay=d,this.repeatCounter=0,this.flipX=v,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,u=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(u,i,0,s,e,n),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var h=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=h*a.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=h*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var u=this.tween,i=u.totalTargets,o=this.targetIndex,h=u.targets[o],l=this.key,d=l!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&h.toggleFlipX(),this.flipY&&h.toggleFlipY(),d&&(e||s)&&(this.start=this.getStartValue(h,l,this.start,o,i,u)),s){this.setPlayingBackwardState(),this.dispatchEvent(c.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(h,l,this.start,o,i,u)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,d&&(this.current=this.start,h[l]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},99730:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},53709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(56694),a=t(54272),r=t(99325),n=t(61286),e=t(83392),s=t(55303),u=t(15718),i=t(96490),o=new c({Extends:f,initialize:function(l,d){f.call(this,l),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I){var G=new u(this,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I);return this.totalData=this.data.push(G),G},addFrame:function(h,l,d,v,m,x,g,y,T,E){var C=new i(this,h,l,d,v,m,x,g,y,T,E);return this.totalData=this.data.push(C),C},getValue:function(h){h===void 0&&(h=0);var l=null;return this.data&&(l=this.data[h].current),l},hasTarget:function(h){return this.targets&&this.targets.indexOf(h)!==-1},updateTo:function(h,l,d){if(d===void 0&&(d=!1),h!=="texture")for(var v=0;v<this.totalData;v++){var m=this.data[v];m.key===h&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=l,d&&(m.start=m.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,f.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(h,l,d){if(h===void 0&&(h=0),l===void 0&&(l=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,h>0){for(var m=Math.floor(h/l),x=h-m*l,g=0;g<m;g++)this.update(l);x>0&&this.update(x)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(h){h===void 0&&(h=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var l=this.data,d=0;d<this.totalData;d++)l[d].reset(h);this.duration=Math.max(this.duration,.01);var v=this.duration,m=this.completeDelay,x=this.loopCounter,g=this.loopDelay;x>0?this.totalDuration=v+m+(v+g)*x:this.totalDuration=v+m},reset:function(h){return h===void 0&&(h=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),h||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(h){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(h*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(h),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(h),!1;this.hasStarted||(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),h=0));var l=!1;if(this.isActive())for(var d=this.data,v=0;v<this.totalData;v++)d[v].update(h)&&(l=!0);this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),l||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(h){return this.update(h),this},rewind:function(h){return this.update(-h),this},dispatchEvent:function(h,l){if(!this.isSeeking){this.emit(h,this,this.targets);var d=this.callbacks[l];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){f.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(h){return this.scene.sys.tweens.add(h)}),r.register("tween",function(h){return this.scene.sys.tweens.create(h)}),p.exports=o},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(502),a=t(56694),r=t(54272),n=t(99325),e=t(61286),s=t(55303),u=new a({Extends:c,initialize:function(o){c.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(i){var o=this.parent.create(i);Array.isArray(o)||(o=[o]);for(var h=this.data,l=0;l<o.length;l++){var d=o[l];d.parent=this,h.push(d.reset())}return this.totalData=h.length,this},remove:function(i){return f(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var o=this.data,h=0;h<this.totalData;h++)if(o[h].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,o=this.totalData,h=0;h<o;h++)i[h].reset(!1);this.currentIndex=0,this.currentTween=i[0]},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(i,o){this.emit(i,this);var h=this.callbacks[o];h&&h.func.apply(this.callbackScope,[this].concat(h.params))},destroy:function(){c.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),p.exports=u},15718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65521),c=t(82897),a=t(56694),r=t(54272),n=new a({Extends:f,initialize:function(s,u,i,o,h,l,d,v,m,x,g,y,T,E,C,A,P){f.call(this,s,u,v,m,x,g,y,T,E,C),this.key=i,this.getActiveValue=l,this.getEndValue=o,this.getStartValue=h,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=A,this.interpolationData=P},reset:function(e){f.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],u=this.key;e&&(s[u]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[u]=this.getActiveValue(s,u,0))},update:function(e){var s=this.tween,u=s.totalTargets,i=this.targetIndex,o=s.targets[i],h=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,h,o[h],i,u,s),this.end=this.getEndValue(o,h,this.start,i,u,s),this.current=this.start,o[h]=this.start,this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),d=this.isPlayingBackward();if(l||d){var v=this.elapsed,m=this.duration,x=0,g=!1;v+=e,v>=m?(x=v-m,v=m,g=!0):v<0&&(v=0);var y=c(v/m,0,1);if(this.elapsed=v,this.progress=y,this.previous=this.current,g)l?(this.current=this.end,o[h]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(this.current=this.start,o[h]=this.start,this.setStateFromStart(x));else{l||(y=1-y);var T=this.ease(y);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,o[h]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var u=this.tween;if(!u.isSeeking){var i=u.targets[this.targetIndex],o=this.key,h=this.current,l=this.previous;u.emit(e,u,o,i,h,l);var d=u.callbacks[s];d&&d.func.apply(u.callbackScope,[u,i,o,h,l].concat(d.params))}},destroy:function(){f.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=n},96490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65521),c=t(82897),a=t(56694),r=t(54272),n=new a({Extends:f,initialize:function(s,u,i,o,h,l,d,v,m,x,g){f.call(this,s,u,h,l,!1,d,v,m,x,g),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=o,this.yoyo=v!==0},reset:function(e){f.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,u=this.targetIndex,i=s.targets[u];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),h=this.isPlayingBackward();if(o||h){var l=this.elapsed,d=this.duration,v=0,m=!1;l+=e,l>=d?(v=l-d,l=d,m=!0):l<0&&(l=0);var x=c(l/d,0,1);this.elapsed=l,this.progress=x,m&&(o?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var u=this.tween;if(!u.isSeeking){var i=u.targets[this.targetIndex],o=this.key;u.emit(e,u,o,i);var h=u.callbacks[s];h&&h.func.apply(u.callbackScope,[u,i,o].concat(h.params))}},destroy:function(){f.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=n},55303:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},56694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var u=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&u.value&&typeof u.value=="object"&&(u=u.value),u&&S(u)?(typeof u.enumerable>"u"&&(u.enumerable=!0),typeof u.configurable>"u"&&(u.configurable=!0),u):!1}function f(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function c(n,e,s,u){for(var i in e)if(!!e.hasOwnProperty(i)){var o=t(e,i,s);if(o!==!1){var h=u||n;if(f(h.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,o)}else n.prototype[i]=e[i]}}function a(n,e){if(!!e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)c(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var u=n.Extends;e=function(){u.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),a(e,i),c(e,n,!0,s),e}r.extend=c,r.mixin=a,r.ignoreFinals=!1,p.exports=r},72283:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},10618:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},78991:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){if(r===void 0&&(r=t),c>0){var n=c-t.length;if(n<=0)return null}if(!Array.isArray(f))return t.indexOf(f)===-1?(t.push(f),a&&a.call(r,f),f):null;for(var e=f.length-1;e>=0;)t.indexOf(f[e])!==-1&&f.splice(e,1),e--;if(e=f.length,e===0)return null;c>0&&e>n&&(f.splice(n),e=n);for(var s=0;s<e;s++){var u=f[s];t.push(u),a&&a.call(r,u)}return f};p.exports=S},48522:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){if(c===void 0&&(c=0),n===void 0&&(n=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(f))return t.indexOf(f)===-1?(t.splice(c,0,f),r&&r.call(n,f),f):null;for(var s=f.length-1;s>=0;)t.indexOf(f[s])!==-1&&f.pop(),s--;if(s=f.length,s===0)return null;a>0&&s>e&&(f.splice(e),s=e);for(var u=s-1;u>=0;u--){var i=f[u];t.splice(c,0,i),r&&r.call(n,i)}return f};p.exports=S},58742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);return c!==-1&&c<t.length&&(t.splice(c,1),t.push(f)),f};p.exports=S},30164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var u=0;if(f(a,e,s))for(var i=e;i<s;i++){var o=a[i];o[r]===n&&u++}return u};p.exports=c},36337:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],f.apply(c,r);return t};p.exports=S},46208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),f(a,e,s)){var u,i=[null];for(u=5;u<arguments.length;u++)i.push(arguments[u]);for(u=e;u<s;u++)i[0]=a[u],r.apply(n,i)}return a};p.exports=c},2406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f.length){if(f.length===1)return f[0]}else return NaN;var a=1,r,n;if(c){if(t<f[0][c])return f[0];for(;f[a][c]<t;)a++}else for(;f[a]<t;)a++;return a>f.length&&(a=f.length),c?(r=f[a-1][c],n=f[a][c],n-t<=t-r?f[a]:f[a-1]):(r=f[a-1],n=f[a],n-t<=t-r?n:r)};p.exports=S},5454:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=[]);for(var c=0;c<t.length;c++)Array.isArray(t[c])?S(t[c],f):f.push(t[c]);return f};p.exports=S},71608:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var u=[];if(f(a,e,s))for(var i=e;i<s;i++){var o=a[i];(!r||r&&n===void 0&&o.hasOwnProperty(r)||r&&n!==void 0&&o[r]===n)&&u.push(o)}return u};p.exports=c},51463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),f(a,e,s))for(var u=e;u<s;u++){var i=a[u];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};p.exports=c},72861:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=t.length);var a=f+Math.floor(Math.random()*c);return t[a]===void 0?null:t[a]};p.exports=S},24218:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===c)return t;var a=t.indexOf(f),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r===t.length-1?t.push(f):t.splice(r,0,f)),t};p.exports=S},58258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===c)return t;var a=t.indexOf(f),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(f):t.splice(r,0,f)),t};p.exports=S},51172:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);if(c>0){var a=t[c-1],r=t.indexOf(a);t[c]=a,t[r]=f}return t};p.exports=S},68396:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.indexOf(f);if(a===-1||c<0||c>=t.length)throw new Error("Supplied index out of bounds");return a!==c&&(t.splice(a,1),t.splice(c,0,f)),f};p.exports=S},27555:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);if(c!==-1&&c<t.length-1){var a=t[c+1],r=t.indexOf(a);t[c]=a,t[r]=f}return t};p.exports=S},13401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=[],n,e=!1;if((c||a)&&(e=!0,c||(c=""),a||(a="")),f<t)for(n=t;n>=f;n--)e?r.push(c+n.toString()+a):r.push(n);else for(n=t;n<=f;n++)e?r.push(c+n.toString()+a):r.push(n);return r};p.exports=S},89955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(67233),c=function(a,r,n){a===void 0&&(a=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=a,a=0);for(var e=[],s=Math.max(f((r-a)/(n||1)),0),u=0;u<s;u++)e.push(a),a+=n;return e};p.exports=c},53466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(c,a,r){var n=c[a];c[a]=c[r],c[r]=n}function t(c,a){return c<a?-1:c>a?1:0}var f=function(c,a,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=c.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,u=a-r+1,i=Math.log(s),o=.5*Math.exp(2*i/3),h=.5*Math.sqrt(i*o*(s-o)/s)*(u-s/2<0?-1:1),l=Math.max(r,Math.floor(a-u*o/s+h)),d=Math.min(n,Math.floor(a+(s-u)*o/s+h));f(c,a,l,d,e)}var v=c[a],m=r,x=n;for(S(c,r,a),e(c[n],v)>0&&S(c,r,n);m<x;){for(S(c,m,x),m++,x--;e(c[m],v)<0;)m++;for(;e(c[x],v)>0;)x--}e(c[r],v)===0?S(c,r,x):(x++,S(c,x,n)),x<=a&&(r=x+1),a<=x&&(n=x-1)}};p.exports=f},75757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=t(18592),a=function(n,e,s){for(var u=[],i=0;i<n.length;i++)for(var o=0;o<e.length;o++)for(var h=0;h<s;h++)u.push({a:n[i],b:e[o]});return u},r=function(n,e,s){var u=f(s,"max",0),i=f(s,"qty",1),o=f(s,"random",!1),h=f(s,"randomB",!1),l=f(s,"repeat",0),d=f(s,"yoyo",!1),v=[];if(h&&c(e),l===-1)if(u===0)l=0;else{var m=n.length*e.length*i;d&&(m*=2),l=Math.ceil(u/m)}for(var x=0;x<=l;x++){var g=a(n,e,i);o&&c(g),v=v.concat(g),d&&(g.reverse(),v=v.concat(g))}return u&&v.splice(u),v};p.exports=r},66458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72677),c=function(a,r,n,e){e===void 0&&(e=a);var s;if(!Array.isArray(r))return s=a.indexOf(r),s!==-1?(f(a,s),n&&n.call(e,r),r):null;for(var u=r.length-1,i=[];u>=0;){var o=r[u];s=a.indexOf(o),s!==-1&&(f(a,s),i.push(o),n&&n.call(e,o)),u--}return i};p.exports=c},8324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72677),c=function(a,r,n,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var s=f(a,r);return n&&n.call(e,s),s};p.exports=c},47427:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=a.length),s===void 0&&(s=a),f(a,r,n)){var u=n-r,i=a.splice(r,u);if(e)for(var o=0;o<i.length;o++){var h=i[o];e.call(s,h)}return i}else return[]};p.exports=c},50147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72677),c=function(a,r,n){r===void 0&&(r=0),n===void 0&&(n=a.length);var e=r+Math.floor(Math.random()*n);return f(a,e)};p.exports=c},80402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.indexOf(f),r=t.indexOf(c);return a!==-1&&r===-1?(t[a]=c,!0):!1};p.exports=S},77640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);for(var c=null,a=0;a<f;a++)c=t.shift(),t.push(c);return c};p.exports=S},38487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);for(var c=null,a=0;a<f;a++)c=t.pop(),t.unshift(c);return c};p.exports=S},45838:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t.length;if(f<0||f>r||f>=c||c>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},27847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);return c!==-1&&c>0&&(t.splice(c,1),t.unshift(f)),f};p.exports=S},6034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),f(a,e,s))for(var u=e;u<s;u++){var i=a[u];i.hasOwnProperty(r)&&(i[r]=n)}return a};p.exports=c},18592:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=t.length-1;f>0;f--){var c=Math.floor(Math.random()*(f+1)),a=t[f];t[f]=t[c],t[c]=a}return t};p.exports=S},28834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=/\D/g;return t.sort(function(c,a){return parseInt(c.replace(f,""),10)-parseInt(a.replace(f,""),10)}),t};p.exports=S},72677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){if(!(f>=t.length)){for(var c=t.length-1,a=t[f],r=f;r<c;r++)t[r]=t[r+1];return t.length=c,a}};p.exports=S},17922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(77290);function c(e,s){return String(e).localeCompare(s)}function a(e,s){var u=e.length;if(u<=1)return e;for(var i=new Array(u),o=1;o<u;o*=2){r(e,s,o,i);var h=e;e=i,i=h}return e}function r(e,s,u,i){var o=e.length,h=0,l=u*2,d,v,m,x,g;for(d=0;d<o;d+=l)for(v=d+u,m=v+u,v>o&&(v=o),m>o&&(m=o),x=d,g=v;;)if(x<v&&g<m)s(e[x],e[g])<=0?i[h++]=e[x++]:i[h++]=e[g++];else if(x<v)i[h++]=e[x++];else if(g<m)i[h++]=e[g++];else break}var n=function(e,s){if(s===void 0&&(s=c),!e||e.length<2)return e;if(f.features.stableSort)return e.sort(s);var u=a(e,s);return u!==e&&r(u,null,e.length,e),e};p.exports=n},96928:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===c)return t;var a=t.indexOf(f),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=c,t[r]=f,t};p.exports=S},59959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var f=t[0].length,c=1;c<t.length;c++)if(t[c].length!==f)return!1;return!0};p.exports=S},68428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(76400),c=t(97494),a=function(r){var n="";if(!c(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var u=r[e][s].toString();u!=="undefined"?n+=f(u,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};p.exports=a},59521:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},51995:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=0;f<t.length;f++)t[f].reverse();return t};p.exports=S},89011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63515),c=function(a){return f(a,180)};p.exports=c},42549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63515),c=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=f(a,90);return a};p.exports=c},63515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97494),c=t(78581),a=function(r,n){if(n===void 0&&(n=90),!f(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=c(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=c(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=a},14305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63515),c=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=f(a,-90);return a};p.exports=c},27365:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(77640),c=t(38487),a=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?f(r,Math.abs(e)):c(r,e)),n!==0)for(var s=0;s<r.length;s++){var u=r[s];n<0?f(u,Math.abs(n)):c(u,n)}return r};p.exports=a},78581:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=t.length,c=t[0].length,a=new Array(c),r=0;r<c;r++){a[r]=new Array(f);for(var n=f-1;n>-1;n--)a[r][n]=t[n][r]}return a};p.exports=S},13515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(f,c){for(var a=new Uint8Array(f),r=a.length,n=c?"data:"+c+";base64,":"",e=0;e<r;e+=3)n+=S[a[e]>>2],n+=S[(a[e]&3)<<4|a[e+1]>>4],n+=S[(a[e+1]&15)<<2|a[e+2]>>6],n+=S[a[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};p.exports=t},82329:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),f=0;f<S.length;f++)t[S.charCodeAt(f)]=f;var c=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,n=r*.75,e=0,s,u,i,o;a[r-1]==="="&&(n--,a[r-2]==="="&&n--);for(var h=new ArrayBuffer(n),l=new Uint8Array(h),d=0;d<r;d+=4)s=t[a.charCodeAt(d)],u=t[a.charCodeAt(d+1)],i=t[a.charCodeAt(d+2)],o=t[a.charCodeAt(d+3)],l[e++]=s<<2|u>>4,l[e++]=(u&15)<<4|i>>2,l[e++]=(i&3)<<6|o&63;return h};p.exports=c},78417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f={};for(var c in t)Array.isArray(t[c])?f[c]=t[c].slice(0):f[c]=t[c];return f};p.exports=S},28699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f,c,a;if(typeof t!="object"||t===null)return t;f=Array.isArray(t)?[]:{};for(a in t)c=t[a],f[a]=S(c);return f};p.exports=S},98611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(42911),c=function(){var a,r,n,e,s,u,i=arguments[0]||{},o=1,h=arguments.length,l=!1;for(typeof i=="boolean"&&(l=i,i=arguments[1]||{},o=2),h===o&&(i=this,--o);o<h;o++)if((a=arguments[o])!=null)for(r in a)n=i[r],e=a[r],i!==e&&(l&&e&&(f(e)||(s=Array.isArray(e)))?(s?(s=!1,u=n&&Array.isArray(n)?n:[]):u=n&&f(n)?n:{},i[r]=c(l,u,e)):e!==void 0&&(i[r]=e));return i};p.exports=c},20494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(5923),c=t(10850),a=function(r,n,e){var s=c(r,n,null);if(s===null)return e;if(Array.isArray(s))return f.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return f.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return f.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};p.exports=a},72632:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=typeof t;return!t||a==="number"||a==="string"?c:t.hasOwnProperty(f)&&t[f]!==void 0?t[f]:c};p.exports=S},94324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=t(82897),a=function(r,n,e,s,u){u===void 0&&(u=e);var i=f(r,n,u);return c(i,e,s)};p.exports=a},10850:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){if(!t&&!a||typeof t=="number")return c;if(t&&t.hasOwnProperty(f))return t[f];if(a&&a.hasOwnProperty(f))return a[f];if(f.indexOf(".")!==-1){for(var r=f.split("."),n=t,e=a,s=c,u=c,i=!0,o=!0,h=0;h<r.length;h++)n&&n.hasOwnProperty(r[h])?(s=n[r[h]],n=n[r[h]]):i=!1,e&&e.hasOwnProperty(r[h])?(u=e[r[h]],e=e[r[h]]):o=!1;return i?s:o?u:c}else return c};p.exports=S},87701:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=0;c<f.length;c++)if(!t.hasOwnProperty(f[c]))return!1;return!0};p.exports=S},53523:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=0;c<f.length;c++)if(t.hasOwnProperty(f[c]))return!0;return!1};p.exports=S},19256:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.hasOwnProperty(f)};p.exports=S},42911:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},30657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r){var n=f(a);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};p.exports=c},72066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r){var n=f(a);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};p.exports=c},28820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19256),c=function(a,r){for(var n={},e=0;e<r.length;e++){var s=r[e];f(a,s)&&(n[s]=a[s])}return n};p.exports=c},22440:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(f))return t[f]=c,!0;if(f.indexOf(".")!==-1){for(var a=f.split("."),r=t,n=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))n=r,r=r[a[e]];else return!1;return n[a[a.length-1]]=c,!0}return!1};p.exports=S},64615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.replace(/%([0-9]+)/g,function(c,a){return f[Number(a)-1]})};p.exports=S},76400:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f===void 0&&(f=0),c===void 0&&(c=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(f+1>=t.length)switch(a){case 1:t=new Array(f+1-t.length).join(c)+t;break;case 3:var n=Math.ceil((r=f-t.length)/2),e=r-n;t=new Array(e+1).join(c)+t+new Array(n+1).join(c);break;default:t=t+new Array(f+1-t.length).join(c);break}return t};p.exports=S},76872:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===0?t.slice(1):t.slice(0,f-1)+t.slice(f)};p.exports=S},8051:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},76583:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var f=Math.random()*16|0,c=t==="x"?f:f&3|8;return c.toString(16)})};p.exports=S},40587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},50379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},b={};function W(p){var S=b[p];if(S!==void 0)return S.exports;var t=b[p]={exports:{}};return M[p](t,t.exports,W),t.exports}W.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var Z=W(92491);return Z})())})(Jo);const Bs=Jo.exports;class xt{static clone(w,M=void 0){if(M){const b={...w};for(const W in M)(M[W]||M[W]==0)&&(b[W]=M[W]);return b}return{...w}}}const tu=[{type:"audio",filename:"audio-manifest",path:"audio-manifest.json"},{type:"font",filename:"font-manifest",path:"font-manifest.json"},{type:"image",filename:"image-manifest",path:"image-manifest.json"},{type:"json",filename:"json-manifest",path:"json-manifest.json"},{type:"shader",filename:"shader-manifest",path:"shader-manifest.json"},{type:"preload",assets:[{path:"preload/background_gradient.png",key:"background_gradient"},{path:"preload/background_tilepattern.png",key:"background_tilepattern"}]},{type:"bitmapFonts",assets:[{xmlPath:"./style/bitmap/CattoBodyText.xml",xmlFileName:"CattoBodyText",fileName:"./style/bitmap/CattoBodyText.png"},{xmlPath:"./style/bitmap/cattoScore.xml",xmlFileName:"cattoScore",fileName:"./style/bitmap/cattoScore.png"},{xmlPath:"./style/bitmap/poppins-emerald.xml",xmlFileName:"poppins-emerald",fileName:"./style/bitmap/poppins-emerald.png"},{xmlPath:"./style/bitmap/poppins-gold.xml",xmlFileName:"poppins-gold",fileName:"./style/bitmap/poppins-gold.png"}]}],eu=Object.freeze(Object.defineProperty({__proto__:null,default:tu},Symbol.toStringTag,{value:"Module"})),ua=class{};let Ee=ua;j(Ee,"Manifest",eu),j(Ee,"PrimaryPopup",{width:850,height:700,atlas:"ui",texture:"modal/modal_blur",allSidesPadding:66,showSound:"Synth-Appear-01",hideSound:"Synth-Whoosh-Small-01"}),j(Ee,"PrimaryFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal",stroke:"#aa507B",strokeThickness:0}),j(Ee,"TopHudFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal",strokeThickness:12,stroke:"0",shadow:{offsetY:4,color:"#000000",fill:!0,stroke:!0}}),j(Ee,"SecondaryFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal",stroke:"#32507B",strokeThickness:8}),j(Ee,"PrimaryButtonFont",{fontFamily:"poppins-regular",fontSize:"64px",color:"#fff",fontStyle:"normal",stroke:"#32507B",strokeThickness:8}),j(Ee,"PrimaryButton",{textStyle:xt.clone(ua.PrimaryButtonFont,{strokeThickness:0}),textOffset:{x:0,y:25},textOrigin:{x:.5,y:1},textOffsetOver:{x:0,y:40},atlas:"ui",width:100,height:100,leftWidth:20,rightWidth:20,topHeight:40,bottomHeight:40,hoverSound:"Hover",clickSound:"Tap-01",texture:"buttonsBevel/square_button_0002",textureOver:"buttons/square_button_0002",clickCallback:()=>{console.log("Button clicked!")}});const fa=class{constructor(w,M){j(this,"engineID");j(this,"eugine");j(this,"scene");j(this,"parent");j(this,"shouldBeRemoved",!1);j(this,"isDestroyed",!1);this.scene=w,this.eugine=M,this.engineID=++fa.ObjectCounter}added(){this.shouldBeRemoved=!1,this.isDestroyed=!1}parentTo(w){this.parent=w}destroy(){this.parent=void 0,this.shouldBeRemoved=!0}preRender(){}update(w,M){}lateUpdate(w,M){}fixedUpdate(w,M){}disable(){}enable(){}gameResize(w,M,b,W,Z){}};let Ns=fa;j(Ns,"ObjectCounter",0);const vi=class{constructor(){j(this,"pool",{})}static get instance(){return vi._instance||(vi._instance=new vi),vi._instance}reset(){this.pool={}}getElement(w,M,b){if(this.pool[w.name]){let Z=this.pool[w.name];if(Z.length>0)return Z.shift()}else this.pool[w.name]=[];return new w(M,b)}getPool(w){return this.pool[w.name]?this.pool[w.name]:[]}returnElement(w){this.pool[w.constructor.name]||(this.pool[w.constructor.name]=[]),this.pool[w.constructor.name].push(w)}};let ye=vi;j(ye,"_instance");class iu{constructor(){j(this,"position",new Phaser.Math.Vector3);j(this,"localPosition",new Phaser.Math.Vector3);j(this,"angle",0)}get x(){return this.position.x}get y(){return this.position.y}get z(){return this.position.z}set x(w){this.position.x=w}set y(w){this.position.y=w}set z(w){this.position.z=w}}var Lt={exports:{}};(function(L){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */(function(w){function M(p,S,t,f,c){this._listener=S,this._isOnce=t,this.context=f,this._signal=p,this._priority=c||0}M.prototype={active:!0,params:null,execute:function(p){var S,t;return this.active&&!!this._listener&&(t=this.params?this.params.concat(p):p,S=this._listener.apply(this.context,t),this._isOnce&&this.detach()),S},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function b(p,S){if(typeof p!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",S))}function W(){this._bindings=[],this._prevParams=null;var p=this;this.dispatch=function(){W.prototype.dispatch.apply(p,arguments)}}W.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(p,S,t,f){var c=this._indexOfListener(p,t),a;if(c!==-1){if(a=this._bindings[c],a.isOnce()!==S)throw new Error("You cannot add"+(S?"":"Once")+"() then add"+(S?"Once":"")+"() the same listener without removing the relationship first.")}else a=new M(this,p,S,t,f),this._addBinding(a);return this.memorize&&this._prevParams&&a.execute(this._prevParams),a},_addBinding:function(p){var S=this._bindings.length;do--S;while(this._bindings[S]&&p._priority<=this._bindings[S]._priority);this._bindings.splice(S+1,0,p)},_indexOfListener:function(p,S){for(var t=this._bindings.length,f;t--;)if(f=this._bindings[t],f._listener===p&&f.context===S)return t;return-1},has:function(p,S){return this._indexOfListener(p,S)!==-1},add:function(p,S,t){return b(p,"add"),this._registerListener(p,!1,S,t)},addOnce:function(p,S,t){return b(p,"addOnce"),this._registerListener(p,!0,S,t)},remove:function(p,S){b(p,"remove");var t=this._indexOfListener(p,S);return t!==-1&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)),p},removeAll:function(){for(var p=this._bindings.length;p--;)this._bindings[p]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(p){if(!!this.active){var S=Array.prototype.slice.call(arguments),t=this._bindings.length,f;if(this.memorize&&(this._prevParams=S),!!t){f=this._bindings.slice(),this._shouldPropagate=!0;do t--;while(f[t]&&this._shouldPropagate&&f[t].execute(S)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var Z=W;Z.Signal=W,L.exports?L.exports=Z:w.signals=Z})(vt)})(Lt);const Os=Lt.exports;class jt extends Ns{constructor(M,b){super(M,b);j(this,"transform",new iu);j(this,"view");j(this,"components",[]);j(this,"children",[]);j(this,"wasBuiltFrame",0);j(this,"gameObjectDestroyed");j(this,"childAdded");j(this,"childRemoved");j(this,"rigidbodyAdded");this.gameObjectDestroyed=new Os.Signal,this.childAdded=new Os.Signal,this.childRemoved=new Os.Signal,this.rigidbodyAdded=new Os.Signal}get x(){return this.transform.x}get y(){return this.transform.y}get z(){return this.transform.z}set x(M){this.transform.x=M}set y(M){this.transform.y=M}set z(M){this.transform.z=M}fixedUpdate(M){this.updateChildren(M,0,1)}lateUpdate(M,b){this.updateChildren(M,b,2)}update(M,b){this.updateChildren(M,b,0)}updateChildren(M,b,W){for(let Z=0;Z<this.components.length;Z++){const p=this.components[Z];if(p.shouldBeRemoved)this.components.splice(Z,1);else switch(W){case 0:p.update(M,b);break;case 2:p.lateUpdate(M,b);break;case 1:p.fixedUpdate(M,b);break}}for(let Z=0;Z<this.children.length;Z++){const p=this.children[Z];if(p.shouldBeRemoved)this.children.splice(Z,1);else switch(W){case 0:p.update(M,b);break;case 2:p.lateUpdate(M,b);break;case 1:p.fixedUpdate(M,b);break}}this.wasBuiltFrame===0?(this.afterBuild(),this.wasBuiltFrame--):this.wasBuiltFrame--}preRender(){for(let M=0;M<this.children.length;M++){const b=this.children[M];b.shouldBeRemoved?this.children.splice(M,1):b.preRender()}this.updateView()}updateView(){this.view&&this.view.setPosition&&(this.parent?(this.view.setPosition(this.parent.transform.x+this.transform.x,this.parent.transform.z+this.transform.z),this.view.setDisplayOrigin):(this.view.setPosition(this.transform.x,this.transform.z),this.view.setDisplayOrigin))}afterBuild(){}build(...M){this.wasBuiltFrame=5}findInParent(M){var b;return(b=this.parent)==null?void 0:b.findChild(M)}findChild(M){let b=null;for(let W=0;W<this.children.length;W++){const Z=this.children[W];if(Z instanceof M){b=Z;break}}return b}addFromNew(M,b=!1){var Z;const W=new M(this.scene,this.eugine);return W?(W instanceof jt&&((Z=this.eugine)==null||Z.registerParentedGameObject(W)),b&&W.build(),this.addChild(W)):null}addFromPool(M){var W;const b=this.eugine.getComponent(M);return b?(b instanceof jt&&((W=this.eugine)==null||W.registerParentedGameObject(b)),this.addChild(b)):null}addComponentFromPool(M){var W;const b=(W=this.eugine)==null?void 0:W.getComponent(M);return b?this.addComponent(b):null}addChild(M){return this.children.includes(M)||(this.children.push(M),this.eugine&&M.added(),M.parentTo(this)),M}addComponent(M){return this.components.includes(M)||(this.components.push(M),this.eugine&&M.added(),M.parentTo(this)),M}removeChild(M){for(let b=0;b<this.children.length;b++)if(this.children[b].engineID==M.engineID){this.children.splice(b,1);break}}destroy(){if(this.isDestroyed){console.log("Trying to destroy object that is already destroyed",this);return}if(this.isDestroyed=!0,this.components.forEach(M=>{M.destroy(),M.disable(),ye.instance.returnElement(M)}),this.components=[],this.gameObjectDestroyed.dispatch(this),this.parent&&this.parent.removeChild(this),this.children.length)for(let M=this.children.length-1;M>=0;M--){const b=this.children[M];this.childRemoved.dispatch(b),b.destroy(),this.children.splice(M,1)}this.transform.position=new Phaser.Math.Vector3,this.disable(),super.destroy(),ye.instance.returnElement(this)}resize(M,b){}gameResize(M,b,W,Z,p){this.children.forEach(S=>{S.gameResize(M,b,W,Z,p)})}}var Qo={exports:{}};(function(L,w){(function(b,W){L.exports=W()})(vt,()=>(()=>{var M={6659:p=>{var S=Object.prototype.hasOwnProperty,t="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(t=!1));function c(e,s,u){this.fn=e,this.context=s,this.once=u||!1}function a(e,s,u,i,o){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new c(u,i||e,o),l=t?t+s:s;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],h]:e._events[l].push(h):(e._events[l]=h,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new f:delete e._events[s]}function n(){this._events=new f,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],u,i;if(this._eventsCount===0)return s;for(i in u=this._events)S.call(u,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(u)):s},n.prototype.listeners=function(s){var u=t?t+s:s,i=this._events[u];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,h=i.length,l=new Array(h);o<h;o++)l[o]=i[o].fn;return l},n.prototype.listenerCount=function(s){var u=t?t+s:s,i=this._events[u];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,u,i,o,h,l){var d=t?t+s:s;if(!this._events[d])return!1;var v=this._events[d],m=arguments.length,x,g;if(v.fn){switch(v.once&&this.removeListener(s,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,i),!0;case 4:return v.fn.call(v.context,u,i,o),!0;case 5:return v.fn.call(v.context,u,i,o,h),!0;case 6:return v.fn.call(v.context,u,i,o,h,l),!0}for(g=1,x=new Array(m-1);g<m;g++)x[g-1]=arguments[g];v.fn.apply(v.context,x)}else{var y=v.length,T;for(g=0;g<y;g++)switch(v[g].once&&this.removeListener(s,v[g].fn,void 0,!0),m){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,u);break;case 3:v[g].fn.call(v[g].context,u,i);break;case 4:v[g].fn.call(v[g].context,u,i,o);break;default:if(!x)for(T=1,x=new Array(m-1);T<m;T++)x[T-1]=arguments[T];v[g].fn.apply(v[g].context,x)}}return!0},n.prototype.on=function(s,u,i){return a(this,s,u,i,!1)},n.prototype.once=function(s,u,i){return a(this,s,u,i,!0)},n.prototype.removeListener=function(s,u,i,o){var h=t?t+s:s;if(!this._events[h])return this;if(!u)return r(this,h),this;var l=this._events[h];if(l.fn)l.fn===u&&(!o||l.once)&&(!i||l.context===i)&&r(this,h);else{for(var d=0,v=[],m=l.length;d<m;d++)(l[d].fn!==u||o&&!l[d].once||i&&l[d].context!==i)&&v.push(l[d]);v.length?this._events[h]=v.length===1?v[0]:v:r(this,h)}return this},n.prototype.removeAllListeners=function(s){var u;return s?(u=t?t+s:s,this._events[u]&&r(this,u)):(this._events=new f,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,p.exports=n},62270:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82590),c=function(a,r,n,e){for(var s=a[0],u=1;u<a.length;u++){var i=a[u];f(i,s,r,n,e),s=i}return a};p.exports=c},61148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"angle",r,n,e,s)};p.exports=c},22015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=0;a<t.length;a++){var r=t[a];f.call(c,r)}return t};p.exports=S},31060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){c===void 0&&(c=0);for(var a=c;a<t.length;a++){var r=t[a],n=!0;for(var e in f)r[e]!==f[e]&&(n=!1);if(n)return r}return null};p.exports=S},52367:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){c===void 0&&(c=0);for(var a=t.length-1;a>=c;a--){var r=t[a],n=!0;for(var e in f)r[e]!==f[e]&&(n=!1);if(n)return r}return null};p.exports=S},12673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40327),c=t(84093),a=t(72632),r=t(72283),n=t(71030),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(u,i){i===void 0&&(i={});var o=i.hasOwnProperty("width"),h=i.hasOwnProperty("height"),l=a(i,"width",-1),d=a(i,"height",-1),v=a(i,"cellWidth",1),m=a(i,"cellHeight",v),x=a(i,"position",c.TOP_LEFT),g=a(i,"x",0),y=a(i,"y",0),T=0,E=0,C=l*v,A=d*m;e.setPosition(g,y),e.setSize(v,m);for(var P=0;P<u.length;P++)if(f(u[P],e,x),o&&l===-1)e.x+=v;else if(h&&d===-1)e.y+=m;else if(h&&!o){if(E+=m,e.y+=m,E===A&&(E=0,T+=v,e.y=y,e.x+=v,T===C))break}else if(T+=v,e.x+=v,T===C&&(T=0,E+=m,e.x=g,e.y+=m,E===A))break;return u};p.exports=s},691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"alpha",r,n,e,s)};p.exports=c},3877:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"x",r,n,e,s)};p.exports=c},71020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"x",r,e,u,i),f(a,"y",n,s,u,i)};p.exports=c},28970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"y",r,n,e,s)};p.exports=c},82249:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var r=c,n=(a-c)/t.length,e=f.x,s=f.y,u=f.radius,i=0;i<t.length;i++)t[i].x=e+u*Math.cos(r),t[i].y=s+u*Math.sin(r),r+=n;return t};p.exports=S},30285:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var r=c,n=(a-c)/t.length,e=f.width/2,s=f.height/2,u=0;u<t.length;u++)t[u].x=f.x+e*Math.cos(r),t[u].y=f.y+s*Math.sin(r),r+=n;return t};p.exports=S},61557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8570),c=function(a,r){for(var n=f(r,a.length),e=0;e<a.length;e++){var s=a[e],u=n[e];s.x=u.x,s.y=u.y}return a};p.exports=c},63549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40053),c=t(77640),a=t(38487),r=function(n,e,s){s===void 0&&(s=0);var u=f(e,!1,n.length);s>0?c(u,s):s<0&&a(u,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=u[i].x,n[i].y=u[i].y;return n};p.exports=r},51629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(58813),c=function(a,r,n){var e=f({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=f({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),u=f({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),u.pop(),e=e.concat(s,u);for(var i=e.length/a.length,o=0,h=0;h<a.length;h++){var l=a[h],d=e[Math.floor(o)];l.x=d.x,l.y=d.y,o+=i}return a};p.exports=c},1045:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(f,c)}return t};p.exports=S},6124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,u=t.length;if(n===1)for(e=r;e<u;e++)t[e][f]+=c+s*a,s++;else for(e=r;e>=0;e--)t[e][f]+=c+s*a,s++;return t};p.exports=S},23646:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,u=t.length;if(n===1)for(e=r;e<u;e++)t[e][f]=c+s*a,s++;else for(e=r;e>=0;e--)t[e][f]=c+s*a,s++;return t};p.exports=S},4392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(30977),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},94985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72006),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},63305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74077),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},90739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(30001),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},91417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99761),c=function(a,r){for(var n=0;n<a.length;n++)f(r,a[n]);return a};p.exports=c},26182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"rotation",r,n,e,s)};p.exports=c},87299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72395),c=t(53996),a=function(r,n,e){for(var s=n.x,u=n.y,i=0;i<r.length;i++){var o=r[i];f(o,s,u,e,Math.max(1,c(o.x,o.y,s,u)))}return r};p.exports=a},92194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72395),c=function(a,r,n,e){var s=r.x,u=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)f(a[i],s,u,n,e);return a};p.exports=c},30363:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"scaleX",r,n,e,s)};p.exports=c},51449:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"scaleX",r,e,u,i),f(a,"scaleY",n,s,u,i)};p.exports=c},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6124),c=function(a,r,n,e,s){return f(a,"scaleY",r,n,e,s)};p.exports=c},30329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"alpha",r,n,e,s)};p.exports=c},43954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e){return f(a,"blendMode",r,0,n,e)};p.exports=c},70688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"depth",r,n,e,s)};p.exports=c},8314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=0;a<t.length;a++)t[a].setInteractive(f,c);return t};p.exports=S},12894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"originX",r,e,u,i),f(a,"originY",n,s,u,i),a.forEach(function(o){o.updateDisplayOrigin()}),a};p.exports=c},38767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"rotation",r,n,e,s)};p.exports=c},18584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"scaleX",r,e,u,i),f(a,"scaleY",n,s,u,i)};p.exports=c},17381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scaleX",r,n,e,s)};p.exports=c},74370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scaleY",r,n,e,s)};p.exports=c},27773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"scrollFactorX",r,e,u,i),f(a,"scrollFactorY",n,s,u,i)};p.exports=c},75257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scrollFactorX",r,n,e,s)};p.exports=c},54512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"scrollFactorY",r,n,e,s)};p.exports=c},69423:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){for(var n=0;n<t.length;n++)t[n].setTint(f,c,a,r);return t};p.exports=S},58291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e){return f(a,"visible",r,0,n,e)};p.exports=c},94833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"x",r,n,e,s)};p.exports=c},14284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s,u,i){return n==null&&(n=r),f(a,"x",r,e,u,i),f(a,"y",n,s,u,i)};p.exports=c},96574:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23646),c=function(a,r,n,e,s){return f(a,"y",r,n,e,s)};p.exports=c},74086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new f);var u,i,o=a.length;if(o===1)u=a[0].x,i=a[0].y,a[0].x=r,a[0].y=n;else{var h=1,l=0;e===0&&(l=o-1,h=o-2),u=a[l].x,i=a[l].y,a[l].x=r,a[l].y=n;for(var d=0;d<o;d++)if(!(h>=o||h===-1)){var v=a[h],m=v.x,x=v.y;v.x=u,v.y=i,u=m,i=x,e===0?h--:h++}}return s.x=u,s.y=i,s};p.exports=c},86347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18592),c=function(a){return f(a)};p.exports=c},1558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(5514),c=function(a,r,n,e,s){s===void 0&&(s=!1);var u=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=f(i*u,n,e);else for(i=0;i<a.length;i++)a[i][r]=f(i*u,n,e);return a};p.exports=c},9938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(87736),c=function(a,r,n,e,s){s===void 0&&(s=!1);var u=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=f(i*u,n,e);else for(i=0;i<a.length;i++)a[i][r]=f(i*u,n,e);return a};p.exports=c},71060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][f]+=(a+c)/2:t[0][f]=(a+c)/2,t;var n=Math.abs(a-c)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][f]+=e*n+c;else for(e=0;e<t.length;e++)t[e][f]=e*n+c;return t};p.exports=S},11207:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=0;f<t.length;f++)t[f].visible=!t[f].visible;return t};p.exports=S},24404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1071),c=function(a,r,n){n===void 0&&(n=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=f(s.x,r.left-n,r.right+n),s.y=f(s.y,r.top-n,r.bottom+n)}return a};p.exports=c},83979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(16938),r=t(2406),n=t(71519),e=t(10850),s=t(28834),u=new c({initialize:function(o,h,l){this.manager=o,this.key=h,this.type="frame",this.frames=this.getFrames(o.textureManager,e(l,"frames",[]),e(l,"defaultTextureKey",null),e(l,"sortFrames",!0)),this.frameRate=e(l,"frameRate",null),this.duration=e(l,"duration",null),this.msPerFrame,this.skipMissedFrames=e(l,"skipMissedFrames",!0),this.delay=e(l,"delay",0),this.repeat=e(l,"repeat",0),this.repeatDelay=e(l,"repeatDelay",0),this.yoyo=e(l,"yoyo",!1),this.showBeforeDelay=e(l,"showBeforeDelay",!1),this.showOnStart=e(l,"showOnStart",!1),this.hideOnComplete=e(l,"hideOnComplete",!1),this.randomFrame=e(l,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,o,h,l){h===null&&l===null?(i.frameRate=24,i.duration=24/o*1e3):h&&l===null?(i.duration=h,i.frameRate=o/(h/1e3)):(i.frameRate=l,i.duration=o/l*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,o){var h=this.getFrames(this.manager.textureManager,o);if(h.length>0){if(i===0)this.frames=h.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(h);else{var l=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=l.concat(h,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame+i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,o,h,l){l===void 0&&(l=!0);var d=[],v,m,x=1,g,y;if(typeof o=="string"){if(y=o,!i.exists(y))return console.warn('Texture "%s" not found',y),d;var T=i.get(y),E=T.getFrameNames();l&&s(E),o=[],E.forEach(function(I){o.push({key:y,frame:I})})}if(!Array.isArray(o)||o.length===0)return d;for(g=0;g<o.length;g++){var C=o[g],A=e(C,"key",h);if(!!A){var P=e(C,"frame",0),F=i.getFrame(A,P);if(!F){console.warn('Texture "%s" not found',A);continue}m=new n(A,P,x,F),m.duration=e(C,"duration",0),m.isFirst=!v,v&&(v.nextFrame=m,m.prevFrame=v),d.push(m),v=m,x++}}if(d.length>0){m.isLast=!0,m.nextFrame=d[0],d[0].prevFrame=m;var O=1/(d.length-1);for(g=0;g<d.length;g++)d[g].progress=g*O}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame+i.currentFrame.duration},getFrameByProgress:function(i){return i=f(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var o=i.currentFrame;o.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,o.nextFrame)},handleYoyoFrame:function(i,o){if(o||(o=!1),i.inReverse===!o&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=o),this.repeatAnimation(i);return}if(i.inReverse!==o&&i.repeatCounter===0){i.complete();return}i.forward=o;var h=o?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,h)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var o=i.currentFrame;o.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,o.prevFrame)},updateAndGetNextTick:function(i,o){i.setCurrentFrame(o),this.getNextTick(i)},removeFrame:function(i){var o=this.frames.indexOf(i);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){i.frames.push(o.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,o=1/(i-1),h,l=0;l<i;l++)h=this.frames[l],h.index=l+1,h.isFirst=!1,h.isLast=!1,h.progress=l*o,l===0?(h.isFirst=!0,i===1?(h.isLast=!0,h.nextFrame=h,h.prevFrame=h):(h.isLast=!1,h.prevFrame=this.frames[i-1],h.nextFrame=this.frames[l+1])):l===i-1&&i>1?(h.isLast=!0,h.prevFrame=this.frames[i-2],h.nextFrame=this.frames[0]):i>1&&(h.prevFrame=this.frames[l-1],h.nextFrame=this.frames[l+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});p.exports=u},71519:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u){u===void 0&&(u=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=c},90249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85463),c=t(56694),a=t(33885),r=t(6659),n=t(16938),e=t(97081),s=t(72632),u=t(10850),i=t(83392),o=t(13401),h=t(76400),l=new c({Extends:r,initialize:function(v){r.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",v.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,v,m){var x=this.anims,g=this.mixes,y=typeof d=="string"?d:d.key,T=typeof v=="string"?v:v.key;if(x.has(y)&&x.has(T)){var E=g.get(y);E||(E={}),E[T]=m,g.set(y,E)}return this},removeMix:function(d,v){var m=this.mixes,x=typeof d=="string"?d:d.key,g=m.get(x);if(g)if(v){var y=typeof v=="string"?v:v.key;g.hasOwnProperty(y)&&delete g[y]}else v||m.delete(x);return this},getMix:function(d,v){var m=this.mixes,x=typeof d=="string"?d:d.key,g=typeof v=="string"?v:v.key,y=m.get(x);return y&&y.hasOwnProperty(g)?y[g]:0},add:function(d,v){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(v.key=d,this.anims.set(d,v),this.emit(n.ADD_ANIMATION,d,v),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,v,m){var x=[],g=this.game.cache.json.get(d);if(!g)return console.warn("No Aseprite data found for: "+d),x;var y=this,T=u(g,"meta",null),E=u(g,"frames",null);if(T&&E){var C=u(T,"frameTags",[]);C.forEach(function(A){var P=[],F=s(A,"name",null),O=s(A,"from",0),I=s(A,"to",0),G=s(A,"direction","forward");if(!!F&&(!v||v&&v.indexOf(F)>-1)){for(var z=0,X=O;X<=I;X++){var H=X.toString(),N=E[H];if(N){var U=s(N,"duration",i.MAX_SAFE_INTEGER);P.push({key:d,frame:H,duration:U}),z+=U}}var R=z/P.length;P.forEach(function(V){V.duration-=R}),G==="reverse"&&(P=P.reverse());var D={key:F,frames:P,duration:z,yoyo:G==="pingpong"},B;m?m.anims&&(B=m.anims.create(D)):B=y.create(D),B&&x.push(B)}})}return x},create:function(d){var v=d.key,m=!1;return v&&(m=this.get(v),m?console.warn("AnimationManager key already exists: "+v):(m=new f(this,v,d),this.anims.set(v,m),this.emit(n.ADD_ANIMATION,v,m))),m},fromJSON:function(d,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var m=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var x=0;x<d.anims.length;x++)m.push(this.create(d.anims[x]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&m.push(this.create(d));return m},generateFrameNames:function(d,v){var m=u(v,"prefix",""),x=u(v,"start",0),g=u(v,"end",0),y=u(v,"suffix",""),T=u(v,"zeroPad",0),E=u(v,"outputArray",[]),C=u(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),E;var A=this.textureManager.get(d);if(!A)return E;var P;if(v)for(C||(C=o(x,g)),P=0;P<C.length;P++){var F=m+h(C[P],T,"0",1)+y;A.has(F)?E.push({key:d,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,d)}else for(C=A.getFrameNames(),P=0;P<C.length;P++)E.push({key:d,frame:C[P]});return E},generateFrameNumbers:function(d,v){var m=u(v,"start",0),x=u(v,"end",-1),g=u(v,"first",!1),y=u(v,"outputArray",[]),T=u(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),y;var E=this.textureManager.get(d);if(!E)return y;g&&E.has(g)&&y.push({key:d,frame:g}),T||(x===-1&&(x=E.frameTotal-2),T=o(m,x));for(var C=0;C<T.length;C++){var A=T[C];E.has(A)?y.push({key:d,frame:A}):console.warn('Frame "%s" not found in texture "%s"',A,d)}return y},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var v=this.textureManager.get(d),m=v.key,x=this.anims.getArray(),g=[],y=0;y<x.length;y++)for(var T=x[y],E=T.frames,C=0;C<E.length;C++)if(E[C].textureKey===m){g.push(T.key);break}return g},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(d,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)v[m].anims.play(d);return this},staggerPlay:function(d,v,m,x){m===void 0&&(m=0),x===void 0&&(x=!0),Array.isArray(v)||(v=[v]);var g=v.length;x||g--;for(var y=0;y<v.length;y++){var T=m<0?Math.abs(m)*(g-y):m*y;v[y].anims.playAfterDelay(d,T)}return this},remove:function(d){var v=this.get(d);return v&&(this.emit(n.REMOVE_ANIMATION,d,v),this.anims.delete(d),this.removeMix(d)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(d){var v={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?v.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(m,x){v.anims.push(x.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=l},16569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85463),c=t(17489),a=t(56694),r=t(33885),n=t(16938),e=t(72632),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(u){var i=this.parent;if(u===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(u)||(u=[u]);for(var o=0;o<u.length;o++){var h=u[o];this.nextAnim?this.nextAnimsQueue.push(h):this.nextAnim=h}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(u){this.isPlaying&&this.stop();var i=this.animationManager,o=typeof u=="string"?u:e(u,"key",null),h=this.exists(o)?this.get(o):i.get(o);if(!h)console.warn("Missing animation: "+o);else{this.currentAnim=h;var l=h.getTotalFrames(),d=e(u,"frameRate",h.frameRate),v=e(u,"duration",h.duration);h.calculateDuration(this,l,v,d),this.delay=e(u,"delay",h.delay),this.repeat=e(u,"repeat",h.repeat),this.repeatDelay=e(u,"repeatDelay",h.repeatDelay),this.yoyo=e(u,"yoyo",h.yoyo),this.showBeforeDelay=e(u,"showBeforeDelay",h.showBeforeDelay),this.showOnStart=e(u,"showOnStart",h.showOnStart),this.hideOnComplete=e(u,"hideOnComplete",h.hideOnComplete),this.skipMissedFrames=e(u,"skipMissedFrames",h.skipMissedFrames),this.randomFrame=e(u,"randomFrame",h.randomFrame),this.timeScale=e(u,"timeScale",this.timeScale);var m=e(u,"startFrame",0);m>l&&(m=0),this.randomFrame&&(m=c(0,l-1));var x=h.frames[m];m===0&&!this.forward&&(x=h.getLastFrame()),this.currentFrame=x}return this.parent},pause:function(u){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),u!==void 0&&this.setCurrentFrame(u),this.parent},resume:function(u){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),u!==void 0&&this.setCurrentFrame(u),this.parent},playAfterDelay:function(u,i){if(!this.isPlaying)this.delayCounter=i,this.play(u,!0);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.nextAnim=u,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(u,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(u);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=u,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(u,i){i===void 0&&(i=!1);var o=this.currentAnim,h=this.parent,l=typeof u=="string"?u:u.key;if(i&&this.isPlaying&&o.key===l)return h;if(o&&this.isPlaying){var d=this.animationManager.getMix(o.key,u);if(d>0)return this.playAfterDelay(u,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u)},playReverse:function(u,i){i===void 0&&(i=!1);var o=typeof u=="string"?u:u.key;return i&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(u))},startAnimation:function(u){this.load(u);var i=this.currentAnim,o=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(u,i){var o=this.currentAnim;if(o){var h=this.currentFrame,l=this.parent,d=h.textureFrame;l.emit(u,o,h,l,d),i&&l.emit(i+o.key,o,h,l,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var u=this.currentFrame;if(!u)return 0;var i=u.progress;return this.inReverse&&(i*=-1),i},setProgress:function(u){return this.forward||(u=1-u),this.setCurrentFrame(this.currentAnim.getFrameByProgress(u)),this.parent},setRepeat:function(u){return this.repeatCounter=u===-1?Number.MAX_VALUE:u,this.parent},globalRemove:function(u,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(u,i){u===void 0&&(u=!1),i===void 0&&(i=!1);var o=this.currentAnim,h=this.parent;return o?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!u,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):h},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(u)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var u=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(u)}return this.parent},stopAfterDelay:function(u){return this._pendingStop=1,this._pendingStopValue=u,this.parent},stopAfterRepeat:function(u){return u===void 0&&(u=1),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=u,this.parent},stopOnFrame:function(u){return this._pendingStop=3,this._pendingStopValue=u,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(u,i){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var h=0;do this.forward?o.nextFrame(this):o.previousFrame(this),h++;while(this.isPlaying&&this.accumulator>this.nextTick&&h<60)}}},setCurrentFrame:function(u){var i=this.parent;return this.currentFrame=u,i.texture=u.frame.texture,i.frame=u.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),u.setAlpha&&(i.alpha=u.alpha),i.setSizeToFrame(),i._originComponent&&(u.frame.customPivot?i.setOrigin(u.frame.pivotX,u.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===u&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(u){return this.anims?this.anims.get(u):null},exists:function(u){return this.anims?this.anims.has(u):!1},create:function(u){var i=u.key,o=!1;return i&&(o=this.get(i),o?console.warn("Animation key already exists: "+i):(o=new f(this,i,u),this.anims||(this.anims=new r),this.anims.set(i,o))),o},createFromAseprite:function(u,i){return this.animationManager.createFromAseprite(u,i,this.parent)},generateFrameNames:function(u,i){return this.animationManager.generateFrameNames(u,i)},generateFrameNumbers:function(u,i){return this.animationManager.generateFrameNumbers(u,i)},remove:function(u){var i=this.get(u);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(u)),i},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=s},44509:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},84563:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},61586:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},72175:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},37690:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},58525:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},5243:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},10598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},4860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},31865:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},16938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(33885),a=t(6659),r=t(69773),n=new f({initialize:function(){this.entries=new c,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=n},43474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23740),c=t(56694),a=t(97081),r=new c({initialize:function(e){this.game=e,this.binary=new f,this.bitmapFont=new f,this.json=new f,this.physics=new f,this.shader=new f,this.audio=new f,this.video=new f,this.text=new f,this.html=new f,this.obj=new f,this.tilemap=new f,this.xml=new f,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new f),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});p.exports=r},94762:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},75968:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},69773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(75606),r=t(6659),n=t(89787),e=t(74118),s=t(69360),u=t(93222),i=t(93736),o=new f({Extends:r,Mixins:[c.AlphaSingle,c.Visible],initialize:function(l,d,v,m){l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=l,this._y=d,this._width=v,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(v/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(h){this.renderList.push(h)},setOrigin:function(h,l){return h===void 0&&(h=.5),l===void 0&&(l=h),this.originX=h,this.originY=l,this},getScroll:function(h,l,d){d===void 0&&(d=new i);var v=this.width*.5,m=this.height*.5;return d.x=h-v,d.y=l-m,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(h){var l=this.width*.5;return this.midPoint.x=h,this.scrollX=h-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(h){var l=this.height*.5;return this.midPoint.y=h,this.scrollY=h-l,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(h,l){return this.centerOnX(h),this.centerOnY(l),this},centerToBounds:function(){if(this.useBounds){var h=this._bounds,l=this.width*.5,d=this.height*.5;this.midPoint.set(h.centerX,h.centerY),this.scrollX=h.centerX-l,this.scrollY=h.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(h){if(this.disableCull)return h;var l=this.matrix.matrix,d=l[0],v=l[1],m=l[2],x=l[3],g=d*x-v*m;if(!g)return h;var y=l[4],T=l[5],E=this.scrollX,C=this.scrollY,A=this.width,P=this.height,F=this.y,O=F+P,I=this.x,G=I+A,z=this.culledObjects,X=h.length;g=1/g,z.length=0;for(var H=0;H<X;++H){var N=h[H];if(!N.hasOwnProperty("width")||N.parentContainer){z.push(N);continue}var U=N.width,R=N.height,D=N.x-E*N.scrollFactorX-U*N.originX,B=N.y-C*N.scrollFactorY-R*N.originY,V=D*d+B*m+y,Y=D*v+B*x+T,K=(D+U)*d+(B+R)*m+y,$=(D+U)*v+(B+R)*x+T;K>I&&V<G&&$>F&&Y<O&&z.push(N)}return z},getWorldPoint:function(h,l,d){d===void 0&&(d=new i);var v=this.matrix.matrix,m=v[0],x=v[1],g=v[2],y=v[3],T=v[4],E=v[5],C=m*y-x*g;if(!C)return d.x=h,d.y=l,d;C=1/C;var A=y*C,P=-x*C,F=-g*C,O=m*C,I=(g*E-y*T)*C,G=(x*T-m*E)*C,z=Math.cos(this.rotation),X=Math.sin(this.rotation),H=this.zoomX,N=this.zoomY,U=this.scrollX,R=this.scrollY,D=h+(U*z-R*X)*H,B=l+(U*X+R*z)*N;return d.x=D*A+B*F+I,d.y=D*P+B*O+G,d},ignore:function(h){var l=this.id;Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var v=h[d];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=l}return this},preRender:function(){this.renderList.length=0;var h=this.width,l=this.height,d=h*.5,v=l*.5,m=this.zoomX,x=this.zoomY,g=this.matrix,y=h*this.originX,T=l*this.originY,E=this.scrollX,C=this.scrollY;this.useBounds&&(E=this.clampX(E),C=this.clampY(C)),this.scrollX=E,this.scrollY=C;var A=E+d,P=C+v;this.midPoint.set(A,P);var F=h/m,O=l/x;this.worldView.setTo(A-F/2,P-O/2,F,O),g.applyITRS(this.x+y,this.y+T,this.rotation,m,x),g.translate(-y,-T)},clampX:function(h){var l=this._bounds,d=this.displayWidth,v=l.x+(d-this.width)/2,m=Math.max(v,v+l.width-d);return h<v?h=v:h>m&&(h=m),h},clampY:function(h){var l=this._bounds,d=this.displayHeight,v=l.y+(d-this.height)/2,m=Math.max(v,v+l.height-d);return h<v?h=v:h>m&&(h=m),h},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(h){return h===void 0&&(h=0),this.rotation=a(h),this},setBackgroundColor:function(h){return h===void 0&&(h="rgba(0,0,0,0)"),this.backgroundColor=u(h),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(h,l,d,v,m){return m===void 0&&(m=!1),this._bounds.setTo(h,l,d,v),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(h){h===void 0&&(h=new e);var l=this._bounds;return h.setTo(l.x,l.y,l.width,l.height),h},setName:function(h){return h===void 0&&(h=""),this.name=h,this},setPosition:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setRoundPixels:function(h){return this.roundPixels=h,this},setScene:function(h,l){l===void 0&&(l=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=h,this.isSceneCamera=l;var d=h.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(h,l){return l===void 0&&(l=h),this.scrollX=h,this.scrollY=l,this},setSize:function(h,l){return l===void 0&&(l=h),this.width=h,this.height=l,this},setViewport:function(h,l,d,v){return this.x=h,this.y=l,this.width=d,this.height=v,this},setZoom:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=h),h===0&&(h=.001),l===0&&(l=.001),this.zoomX=h,this.zoomY=l,this},setMask:function(h,l){return l===void 0&&(l=!0),this.mask=h,this._maskCamera=l?this.cameraManager.default:this,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var h={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(h.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),h},update:function(){},setIsSceneCamera:function(h){return this.isSceneCamera=h,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var h=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,l=this.sceneManager;h&&!this._customViewport?l.customViewports++:!h&&this._customViewport&&l.customViewports--,this.dirty=!0,this._customViewport=h}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(h){this._x=h,this.updateSystem()}},y:{get:function(){return this._y},set:function(h){this._y=h,this.updateSystem()}},width:{get:function(){return this._width},set:function(h){this._width=h,this.updateSystem()}},height:{get:function(){return this._height},set:function(h){this._height=h,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(h){h!==this._scrollX&&(this._scrollX=h,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(h){h!==this._scrollY&&(this._scrollY=h,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(h){this._zoomX=h,this._zoomY=h,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(h){this._zoomX=h,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(h){this._zoomY=h,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=o},47751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(51052),c=t(79993),a=t(82897),r=t(56694),n=t(64937),e=t(53030),s=t(89787),u=t(42798),i=t(74118),o=t(93736),h=new r({Extends:f,Mixins:[n.PostPipeline],initialize:function(d,v,m,x){f.call(this,d,v,m,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(l,d){if(l===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=l,this.deadzone.height=d):this.deadzone=new i(0,0,l,d),this._follow){var v=this.width/2,m=this.height/2,x=this._follow.x-this.followOffset.x,g=this._follow.y-this.followOffset.y;this.midPoint.set(x,g),this.scrollX=x-v,this.scrollY=g-m}c(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(l,d,v,m,x,g){return this.fadeEffect.start(!1,l,d,v,m,!0,x,g)},fadeOut:function(l,d,v,m,x,g){return this.fadeEffect.start(!0,l,d,v,m,!0,x,g)},fadeFrom:function(l,d,v,m,x,g,y){return this.fadeEffect.start(!1,l,d,v,m,x,g,y)},fade:function(l,d,v,m,x,g,y){return this.fadeEffect.start(!0,l,d,v,m,x,g,y)},flash:function(l,d,v,m,x,g,y){return this.flashEffect.start(l,d,v,m,x,g,y)},shake:function(l,d,v,m,x){return this.shakeEffect.start(l,d,v,m,x)},pan:function(l,d,v,m,x,g,y){return this.panEffect.start(l,d,v,m,x,g,y)},rotateTo:function(l,d,v,m,x,g,y){return this.rotateToEffect.start(l,d,v,m,x,g,y)},zoomTo:function(l,d,v,m,x,g){return this.zoomEffect.start(l,d,v,m,x,g)},preRender:function(){this.renderList.length=0;var l=this.width,d=this.height,v=l*.5,m=d*.5,x=this.zoom,g=this.matrix,y=l*this.originX,T=d*this.originY,E=this._follow,C=this.deadzone,A=this.scrollX,P=this.scrollY;C&&c(C,this.midPoint.x,this.midPoint.y);var F=!1;if(E&&!this.panEffect.isRunning){var O=this.lerp,I=E.x-this.followOffset.x,G=E.y-this.followOffset.y;C?(I<C.x?A=u(A,A-(C.x-I),O.x):I>C.right&&(A=u(A,A+(I-C.right),O.x)),G<C.y?P=u(P,P-(C.y-G),O.y):G>C.bottom&&(P=u(P,P+(G-C.bottom),O.y))):(A=u(A,I-y,O.x),P=u(P,G-T,O.y)),F=!0}this.useBounds&&(A=this.clampX(A),P=this.clampY(P)),this.scrollX=A,this.scrollY=P;var z=A+v,X=P+m;this.midPoint.set(z,X);var H=l/x,N=d/x,U=Math.floor(z-H/2),R=Math.floor(X-N/2);this.worldView.setTo(U,R,H,N),g.applyITRS(Math.floor(this.x+y),Math.floor(this.y+T),this.rotation,x,x),g.translate(-y,-T),this.shakeEffect.preRender(),F&&this.emit(s.FOLLOW_UPDATE,this,E)},setLerp:function(l,d){return l===void 0&&(l=1),d===void 0&&(d=l),this.lerp.set(l,d),this},setFollowOffset:function(l,d){return l===void 0&&(l=0),d===void 0&&(d=0),this.followOffset.set(l,d),this},startFollow:function(l,d,v,m,x,g){d===void 0&&(d=!1),v===void 0&&(v=1),m===void 0&&(m=v),x===void 0&&(x=0),g===void 0&&(g=x),this._follow=l,this.roundPixels=d,v=a(v,0,1),m=a(m,0,1),this.lerp.set(v,m),this.followOffset.set(x,g);var y=this.width/2,T=this.height/2,E=l.x-x,C=l.y-g;return this.midPoint.set(E,C),this.scrollX=E-y,this.scrollY=C-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(l,d){this.visible&&(this.rotateToEffect.update(l,d),this.panEffect.update(l,d),this.zoomEffect.update(l,d),this.shakeEffect.update(l,d),this.flashEffect.update(l,d),this.fadeEffect.update(l,d))},destroy:function(){this.resetFX(),f.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=h},62382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47751),c=t(56694),a=t(72632),r=t(91963),n=t(94287),e=t(40444),s=t(7599),u=new c({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(s.BOOT,this.boot,this),o.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new f(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(s.UPDATE,this.update,this),o.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,o,h,l,d,v){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=this.scene.sys.scale.width),l===void 0&&(l=this.scene.sys.scale.height),d===void 0&&(d=!1),v===void 0&&(v="");var m=new f(i,o,h,l);return m.setName(v),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),d&&(this.main=m),m},addExisting:function(i,o){o===void 0&&(o=!1);var h=this.cameras.indexOf(i);return h===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),o&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,o=1,h=0;h<32;h++){for(var l=!1,d=0;d<i.length;d++){var v=i[d];if(v&&v.id===o){l=!0;continue}}if(l)o=o<<1;else return o}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var o=0,h=this.cameras,l=0;l<h.length;l++){var d=h[l];(!i||i&&d.visible)&&o++}return o},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var o=this.scene.sys.scale.width,h=this.scene.sys.scale.height,l=0;l<i.length;l++){var d=i[l],v=a(d,"x",0),m=a(d,"y",0),x=a(d,"width",o),g=a(d,"height",h),y=this.add(v,m,x,g);y.name=a(d,"name",""),y.zoom=a(d,"zoom",1),y.rotation=a(d,"rotation",0),y.scrollX=a(d,"scrollX",0),y.scrollY=a(d,"scrollY",0),y.roundPixels=a(d,"roundPixels",!1),y.visible=a(d,"visible",!0);var T=a(d,"backgroundColor",!1);T&&y.setBackgroundColor(T);var E=a(d,"bounds",null);if(E){var C=a(E,"x",0),A=a(E,"y",0),P=a(E,"width",o),F=a(E,"height",h);y.setBounds(C,A,P,F)}}return this},getCamera:function(i){for(var o=this.cameras,h=0;h<o.length;h++)if(o[h].name===i)return o[h];return null},getCamerasBelowPointer:function(i){for(var o=this.cameras,h=i.x,l=i.y,d=[],v=0;v<o.length;v++){var m=o[v];m.visible&&m.inputEnabled&&n(m,h,l)&&d.unshift(m)}return d},remove:function(i,o){o===void 0&&(o=!0),Array.isArray(i)||(i=[i]);for(var h=0,l=this.cameras,d=0;d<i.length;d++){var v=l.indexOf(i[d]);v!==-1&&(o?l[v].destroy():l[v].renderList=[],l.splice(v,1),h++)}return!this.main&&l[0]&&(this.main=l[0]),h},render:function(i,o){for(var h=this.scene,l=this.cameras,d=0;d<l.length;d++){var v=l[d];if(v.visible&&v.alpha>0){v.preRender();var m=this.getVisibleChildren(o.getChildren(),v);i.render(h,m,v)}}},getVisibleChildren:function(i,o){return i.filter(function(h){return h.willRender(o)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,o){for(var h=0;h<this.cameras.length;h++)this.cameras[h].update(i,o)},onResize:function(i,o,h,l,d){for(var v=0;v<this.cameras.length;v++){var m=this.cameras[v];m._x===0&&m._y===0&&m._width===l&&m._height===d&&m.setSize(o.width,o.height)}},resize:function(i,o){for(var h=0;h<this.cameras.length;h++)this.cameras[h].setSize(i,o)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var o=this.systems.events;o.off(s.UPDATE,this.update,this),o.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",u,"cameras"),p.exports=u},92522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,u,i,o,h,l){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=!1),h===void 0&&(h=null),l===void 0&&(l=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=u,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=l;var d=n?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,s,u,i),this.camera},update:function(n,e){!this.isRunning||(this._elapsed+=e,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,u=this.red/255,i=this.green/255,o=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(o,i,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},22151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,u,i,o,h){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),u===void 0&&(u=255),i===void 0&&(i=!1),o===void 0&&(o=null),h===void 0&&(h=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=u,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(a.FLASH_START,this.camera,this,n,e,s,u),this.camera)},update:function(n,e){!this.isRunning||(this._elapsed+=e,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,u=this.red/255,i=this.green/255,o=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(o,i,u,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},37551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(35060),r=t(89787),n=t(93736),e=new c({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,u,i,o,h,l,d){i===void 0&&(i=1e3),o===void 0&&(o=a.Linear),h===void 0&&(h=!1),l===void 0&&(l=null),d===void 0&&(d=this.camera.scene);var v=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(s,u),v.getScroll(s,u,this.current),typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,i,s,u)),v},update:function(s,u){if(!!this.isRunning){this._elapsed+=u;var i=f(this._elapsed/this.duration,0,1);this.progress=i;var o=this.camera;if(this._elapsed<this.duration){var h=this.ease(i);o.getScroll(this.destination.x,this.destination.y,this.current);var l=this.source.x+(this.current.x-this.source.x)*h,d=this.source.y+(this.current.y-this.source.y)*h;o.setScroll(l,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,l,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},1771:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=t(35060),n=new c({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,u,i,o,h,l){u===void 0&&(u=1e3),i===void 0&&(i=r.Linear),o===void 0&&(o=!1),h===void 0&&(h=null),l===void 0&&(l=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;d=d-Math.floor(d/v)*v;var m=this.camera;if(!o&&this.isRunning)return m;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=m.rotation,this.destination=d,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=l,this.shortestPath){var x=0,g=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+v)-this.source,this.source>this.destination?g=Math.abs(this.source-this.destination):g=Math.abs(this.source+v)-this.destination,x<g?this.clockwise=!0:x>g&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,u,d),m},update:function(e,s){if(!!this.isRunning){this._elapsed+=s;var u=f(this._elapsed/this.duration,0,1);this.progress=u;var i=this.camera;if(this._elapsed<this.duration){var o=this.ease(u);this.current=i.rotation;var h=0,l=360*Math.PI/180,d=this.destination,v=this.current;this.clockwise===!1&&(d=this.current,v=this.destination),d>=v?h=Math.abs(d-v):h=Math.abs(d+l)-v;var m=0;this.clockwise?m=i.rotation+h*o:m=i.rotation-h*o,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,u,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=n},3241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(89787),r=t(93736),n=new c({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,u,i,o){return e===void 0&&(e=100),s===void 0&&(s=.05),u===void 0&&(u=!1),i===void 0&&(i=null),o===void 0&&(o=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=o,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(!!this.isRunning)if(this._elapsed+=s,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,i=this.camera.width,o=this.camera.height,h=this.camera.zoom;this._offsetX=(Math.random()*u.x*i*2-u.x*i)*h,this._offsetY=(Math.random()*u.y*o*2-u.y*o)*h,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=n},13383:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(35060),r=t(89787),n=new c({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,u,i,o,h){s===void 0&&(s=1e3),u===void 0&&(u=a.Linear),i===void 0&&(i=!1),o===void 0&&(o=null),h===void 0&&(h=this.camera.scene);var l=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=l.zoom,this.destination=e,typeof u=="string"&&a.hasOwnProperty(u)?this.ease=a[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),l},update:function(e,s){!this.isRunning||(this._elapsed+=s,this.progress=f(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=n},53030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},85373:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},92057:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},1903:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},96131:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},85409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},25500:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},44071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},19818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},80002:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},87966:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},74217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},34805:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},30408:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},49856:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},69189:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},67657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},14229:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},89787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(10850),a=new f({initialize:function(n){this.camera=c(n,"camera",null),this.left=c(n,"left",null),this.right=c(n,"right",null),this.up=c(n,"up",null),this.down=c(n,"down",null),this.zoomIn=c(n,"zoomIn",null),this.zoomOut=c(n,"zoomOut",null),this.zoomSpeed=c(n,"zoomSpeed",.01),this.minZoom=c(n,"minZoom",.001),this.maxZoom=c(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=c(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=c(n,"speed.x",0),this.speedY=c(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(!!this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},69370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(10850),a=new f({initialize:function(n){this.camera=c(n,"camera",null),this.left=c(n,"left",null),this.right=c(n,"right",null),this.up=c(n,"up",null),this.down=c(n,"down",null),this.zoomIn=c(n,"zoomIn",null),this.zoomOut=c(n,"zoomOut",null),this.zoomSpeed=c(n,"zoomSpeed",.01),this.minZoom=c(n,"minZoom",.001),this.maxZoom=c(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=c(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=c(n,"acceleration.x",0),this.accelY=c(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=c(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=c(n,"drag.x",0),this.dragY=c(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=c(n,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=c(n,"maxSpeed.x",0),this.maxSpeedY=c(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(!!this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},6524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={VERSION:"3.70.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=f},14033:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(86459),a=t(18360),r=t(77290),n=t(72632),e=t(10850),s=t(42911),u=t(72283),i=t(5923),o=t(65641),h=t(93222),l=new f({initialize:function(v){v===void 0&&(v={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",g=e(v,"scale",null);this.width=e(g,"width",1024,v),this.height=e(g,"height",768,v),this.zoom=e(g,"zoom",1,v),this.parent=e(g,"parent",void 0,v),this.scaleMode=e(g,g?"mode":"scaleMode",0,v),this.expandParent=e(g,"expandParent",!0,v),this.autoRound=e(g,"autoRound",!1,v),this.autoCenter=e(g,"autoCenter",0,v),this.resizeInterval=e(g,"resizeInterval",500,v),this.fullscreenTarget=e(g,"fullscreenTarget",null,v),this.minWidth=e(g,"min.width",0,v),this.maxWidth=e(g,"max.width",0,v),this.minHeight=e(g,"min.height",0,v),this.maxHeight=e(g,"max.height",0,v),this.renderType=e(v,"type",c.AUTO),this.canvas=e(v,"canvas",null),this.context=e(v,"context",null),this.canvasStyle=e(v,"canvasStyle",null),this.customEnvironment=e(v,"customEnvironment",!1),this.sceneConfig=e(v,"scene",null),this.seed=e(v,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(v,"title",""),this.gameURL=e(v,"url","https://phaser.io"),this.gameVersion=e(v,"version",""),this.autoFocus=e(v,"autoFocus",!0),this.stableSort=e(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(v,"dom.createContainer",!1),this.domPointerEvents=e(v,"dom.pointerEvents","none"),this.inputKeyboard=e(v,"input.keyboard",!0),this.inputKeyboardEventTarget=e(v,"input.keyboard.target",window),this.inputKeyboardCapture=e(v,"input.keyboard.capture",[]),this.inputMouse=e(v,"input.mouse",!0),this.inputMouseEventTarget=e(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(v,"input.touch",r.input.touch),this.inputTouchEventTarget=e(v,"input.touch.target",null),this.inputTouchCapture=e(v,"input.touch.capture",!0),this.inputActivePointers=e(v,"input.activePointers",1),this.inputSmoothFactor=e(v,"input.smoothFactor",0),this.inputWindowEvents=e(v,"input.windowEvents",!0),this.inputGamepad=e(v,"input.gamepad",!1),this.inputGamepadEventTarget=e(v,"input.gamepad.target",window),this.disableContextMenu=e(v,"disableContextMenu",!1),this.audio=e(v,"audio",{}),this.hideBanner=e(v,"banner",null)===!1,this.hidePhaser=e(v,"banner.hidePhaser",!1),this.bannerTextColor=e(v,"banner.text",x),this.bannerBackgroundColor=e(v,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(v,"fps",null),this.disablePreFX=e(v,"disablePreFX",!1),this.disablePostFX=e(v,"disablePostFX",!1);var y=e(v,"render",null);this.pipeline=e(y,"pipeline",null,v),this.autoMobilePipeline=e(y,"autoMobilePipeline",!0,v),this.defaultPipeline=e(y,"defaultPipeline",o.MULTI_PIPELINE,v),this.antialias=e(y,"antialias",!0,v),this.antialiasGL=e(y,"antialiasGL",!0,v),this.mipmapFilter=e(y,"mipmapFilter","",v),this.desynchronized=e(y,"desynchronized",!1,v),this.roundPixels=e(y,"roundPixels",!0,v),this.pixelArt=e(y,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(y,"transparent",!1,v),this.clearBeforeRender=e(y,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=e(y,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=e(y,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=e(y,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=e(y,"powerPreference","default",v),this.batchSize=e(y,"batchSize",4096,v),this.maxTextures=e(y,"maxTextures",-1,v),this.maxLights=e(y,"maxLights",10,v);var T=e(v,"backgroundColor",0);this.backgroundColor=h(T),this.transparent&&(this.backgroundColor=h(0),this.backgroundColor.alpha=0),this.preBoot=e(v,"callbacks.preBoot",u),this.postBoot=e(v,"callbacks.postBoot",u),this.physics=e(v,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(v,"loader.baseURL",""),this.loaderPath=e(v,"loader.path",""),this.loaderMaxParallelDownloads=e(v,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(v,"loader.crossOrigin",void 0),this.loaderResponseType=e(v,"loader.responseType",""),this.loaderAsync=e(v,"loader.async",!0),this.loaderUser=e(v,"loader.user",""),this.loaderPassword=e(v,"loader.password",""),this.loaderTimeout=e(v,"loader.timeout",0),this.loaderWithCredentials=e(v,"loader.withCredentials",!1),this.loaderImageLoadType=e(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(v,"fx.glow.quality",.1),this.glowFXDistance=e(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=e(v,"plugins",null),C=a.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:s(E)&&(this.installGlobalPlugins=n(E,"global",[]),this.installScenePlugins=n(E,"scene",[]),Array.isArray(E.default)?C=E.default:Array.isArray(E.defaultMerge)&&(C=C.concat(E.defaultMerge)))),this.defaultPlugins=C;var A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(v,"images.default",A+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(v,"images.missing",A+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=c.WEBGL:window.FORCE_CANVAS&&(this.renderType=c.CANVAS))}});p.exports=l},50150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70616),c=t(61068),a=t(86459),r=t(90185),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=r.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||c.disableSmoothing();var u=e.scale.baseSize,i=u.width,o=u.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=o):e.canvas=c.create(e,i,o,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||f.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var h,l;h=t(91135),l=t(11857),s.renderType===a.WEBGL?e.renderer=new l(e):(e.renderer=new h(e),e.context=e.renderer.gameContext)}};p.exports=n},77291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86459),c=function(a){var r=a.config;if(!r.hideBanner){var n="WebGL";r.renderType===f.CANVAS?n="Canvas":r.renderType===f.HEADLESS&&(n="Headless");var e=r.audio,s=a.device.audio,u;if(s.webAudio&&!e.disableWebAudio?u="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?u="No Audio":u="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+f.VERSION+" / https://phaser.io");else{var i="",o=[i];if(Array.isArray(r.bannerBackgroundColor)){var h;r.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),o.push("background: "+d),h=d}),o[o.length-1]="color: "+r.bannerTextColor+"; background: "+h}else i=i.concat("%c "),o.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);o.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var l="";r.hidePhaser||(i=i.concat("Phaser v"+f.VERSION+l+" ("+n+" | "+u+")")),i=i.concat(" %c "+r.gameURL),o[0]=i,console.log.apply(console,o)}}};p.exports=c},15213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99584),c=t(90249),a=t(43474),r=t(61068),n=t(56694),e=t(14033),s=t(85178),u=t(50150),i=t(81078),o=t(77291),h=t(77290),l=t(21546),d=t(6659),v=t(97081),m=t(69898),x=t(91963),g=t(49274),y=t(756),T=t(13553),E=t(38203),C=t(6237),A=t(26617),P=t(26493),F=t(84191),O=new n({initialize:function(G){this.config=new e(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new c(this),this.textures=new C(this),this.cache=new a(this),this.registry=new i(this,new d),this.input=new m(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=h,this.scale=new y(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new A(this,this.config.fps),this.plugins=new g(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,l(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),s(this),o(this),f(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),P(this);var I=this.events;I.on(v.HIDDEN,this.onHidden,this),I.on(v.VISIBLE,this.onVisible,this),I.on(v.BLUR,this.onBlur,this),I.on(v.FOCUS,this.onFocus,this)},step:function(I,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(v.PRE_STEP,I,G),z.emit(v.STEP,I,G),this.scene.update(I,G),z.emit(v.POST_STEP,I,G);var X=this.renderer;X.preRender(),z.emit(v.PRE_RENDER,X,I,G),this.scene.render(X),X.postRender(),z.emit(v.POST_RENDER,X,I,G)}},headlessStep:function(I,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(v.PRE_STEP,I,G),z.emit(v.STEP,I,G),this.scene.update(I,G),z.emit(v.POST_STEP,I,G),this.scene.isProcessing=!1,z.emit(v.PRE_RENDER,null,I,G),z.emit(v.POST_RENDER,null,I,G)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(v.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=O},26617:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(10850),a=t(72283),r=t(27385),n=new f({initialize:function(s,u){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=c(u,"min",5),this.targetFps=c(u,"target",60),this.fpsLimit=c(u,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=c(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=c(u,"deltaHistory",10),this.panicMax=c(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=c(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,u=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=u[s],e=Math.min(e,this._min)),u[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var o=0,h=0;h<i;h++)o+=u[h];return o/=i,o},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=n},26493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97081),c=function(a){var r,n=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},r=u+"visibilitychange")})}var s=function(u){document.hidden||u.type==="pause"?n.emit(f.HIDDEN):n.emit(f.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(f.BLUR)},window.onfocus=function(){n.emit(f.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};p.exports=c},41651:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},5520:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},51673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},25055:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},23767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},57564:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},38327:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},43807:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},73652:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},780:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},13781:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},38247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},29129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},34994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},55237:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="systemready"},98704:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},97081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),SYSTEM_READY:t(55237),VISIBLE:t(98704)}},80293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(81543),c=t(61068),a=t(10850),r=function(n){var e=a(n,"data",[]),s=a(n,"canvas",null),u=a(n,"palette",f),i=a(n,"pixelWidth",1),o=a(n,"pixelHeight",i),h=a(n,"resizeCanvas",!0),l=a(n,"clearCanvas",!0),d=a(n,"preRender",null),v=a(n,"postRender",null),m=Math.floor(Math.abs(e[0].length*i)),x=Math.floor(Math.abs(e.length*o));s||(s=c.create2D(this,m,x),h=!1,l=!1),h&&(s.width=m,s.height=x);var g=s.getContext("2d",{willReadFrequently:!0});l&&g.clearRect(0,0,m,x),d&&d(s,g);for(var y=0;y<e.length;y++)for(var T=e[y],E=0;E<T.length;E++){var C=T[E];C!=="."&&C!==" "&&(g.fillStyle=u[C],g.fillRect(E*i,y*o,i,o))}return v&&v(s,g),s};p.exports=r},84106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(34631),a=t(38517),r=t(93736),n=new f({Extends:a,initialize:function(s,u,i,o){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(o=new r(s[6],s[7]),i=new r(s[4],s[5]),u=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=u,this.p2=i,this.p3=o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var u=this.p0,i=this.p1,o=this.p2,h=this.p3;return s.set(c(e,u.x,i.x,o.x,h.x),c(e,u.y,i.y,o.y,h.y))},draw:function(e,s){s===void 0&&(s=32);var u=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<u.length;i++)e.lineTo(u[i].x,u[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,u=new r(s[0],s[1]),i=new r(s[2],s[3]),o=new r(s[4],s[5]),h=new r(s[6],s[7]);return new n(u,i,o,h)},p.exports=n},38517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(80222),a=t(74118),r=t(93736),n=new f({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var u=this.getLength();s>u&&(s=u/2);var i=Math.max(1,Math.round(u/s));return c(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),u=Math.max(1,s/e);return this.getSpacedPoints(u)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],u,i=this.getPoint(0,this._tmpVec2A),o=0;s.push(0);for(var h=1;h<=e;h++)u=this.getPoint(h/e,this._tmpVec2B),o+=u.distance(i),s.push(o),i.copy(u);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var u=this.getUtoTmapping(e);return this.getPoint(u,s)},getPoints:function(e,s,u){u===void 0&&(u=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)u.push(this.getPoint(i/e));return u},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,u){u===void 0&&(u=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var o=this.getUtoTmapping(i/e,null,e);u.push(this.getPoint(o))}return u},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var u=1e-4,i=e-u,o=e+u;return i<0&&(i=0),o>1&&(o=1),this.getPoint(i,this._tmpVec2A),this.getPoint(o,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var u=this.getUtoTmapping(e);return this.getTangent(u,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,u){var i=this.getLengths(u),o=0,h=i.length,l;s?l=Math.min(s,i[h-1]):l=e*i[h-1];for(var d=0,v=h-1,m;d<=v;)if(o=Math.floor(d+(v-d)/2),m=i[o]-l,m<0)d=o+1;else if(m>0)v=o-1;else{v=o;break}if(o=v,i[o]===l)return o/(h-1);var x=i[o],g=i[o+1],y=g-x,T=(l-x)/y;return(o+T)/(h-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=n},48835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(38517),a=t(75606),r=t(10850),n=t(23701),e=t(93736),s=new f({Extends:c,initialize:function(i,o,h,l,d,v,m,x){if(typeof i=="object"){var g=i;i=r(g,"x",0),o=r(g,"y",0),h=r(g,"xRadius",0),l=r(g,"yRadius",h),d=r(g,"startAngle",0),v=r(g,"endAngle",360),m=r(g,"clockwise",!1),x=r(g,"rotation",0)}else l===void 0&&(l=h),d===void 0&&(d=0),v===void 0&&(v=360),m===void 0&&(m=!1),x===void 0&&(x=0);c.call(this,"EllipseCurve"),this.p0=new e(i,o),this._xRadius=h,this._yRadius=l,this._startAngle=a(d),this._endAngle=a(v),this._clockwise=m,this._rotation=a(x)},getStartPoint:function(u){return u===void 0&&(u=new e),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,i){i===void 0&&(i=new e);for(var o=Math.PI*2,h=this._endAngle-this._startAngle,l=Math.abs(h)<Number.EPSILON;h<0;)h+=o;for(;h>o;)h-=o;h<Number.EPSILON&&(l?h=0:h=o),this._clockwise&&!l&&(h===o?h=-o:h=h-o);var d=this._startAngle+u*h,v=this.p0.x+this._xRadius*Math.cos(d),m=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var x=Math.cos(this._rotation),g=Math.sin(this._rotation),y=v-this.p0.x,T=m-this.p0.y;v=y*x-T*g+this.p0.x,m=y*g+T*x+this.p0.y}return i.set(v,m)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return n(this._startAngle)},set:function(u){this._startAngle=a(u)}},endAngle:{get:function(){return n(this._endAngle)},set:function(u){this._endAngle=a(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return n(this._rotation)},set:function(u){this._rotation=a(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(u){return new s(u)},p.exports=s},58084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(38517),a=t(80222),r=t(74118),n=t(93736),e=new f({Extends:c,initialize:function(u,i){c.call(this,"LineCurve"),Array.isArray(u)&&(i=new n(u[2],u[3]),u=new n(u[0],u[1])),this.p0=u,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,u){return u===void 0&&(u=new n),s===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),u)},getPointAt:function(s,u){return this.getPoint(s,u)},getTangent:function(s,u){return u===void 0&&(u=new n),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(s,u,i){var o;if(u){var h=this.getLengths(i),l=h[h.length-1],d=Math.min(u,l);o=d/l}else o=s;return o},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var u=s.points,i=new n(u[0],u[1]),o=new n(u[2],u[3]);return new e(i,o)},p.exports=e},64761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(38517),a=t(16252),r=t(93736),n=new f({Extends:c,initialize:function(s,u,i){c.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),u=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=u,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var u=this.p0,i=this.p1,o=this.p2;return s.set(a(e,u.x,i.x,o.x),a(e,u.y,i.y,o.y))},draw:function(e,s){s===void 0&&(s=32);var u=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<u.length;i++)e.lineTo(u[i].x,u[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,u=new r(s[0],s[1]),i=new r(s[2],s[3]),o=new r(s[4],s[5]);return new n(u,i,o)},p.exports=n},11956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14976),c=t(56694),a=t(38517),r=t(93736),n=new c({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var u=new r;typeof e[s]=="number"?(u.x=e[s],u.y=e[s+1],s++):Array.isArray(e[s])?(u.x=e[s][0],u.y=e[s][1]):(u.x=e[s].x,u.y=e[s].y),this.points.push(u)}return this},addPoint:function(e,s){var u=new r(e,s);return this.points.push(u),u},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var u=this.points,i=(u.length-1)*e,o=Math.floor(i),h=i-o,l=u[o===0?o:o-1],d=u[o],v=u[o>u.length-2?u.length-1:o+1],m=u[o>u.length-3?u.length-1:o+2];return s.set(f(h,l.x,d.x,v.x,m.x),f(h,l.y,d.y,v.y,m.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},p.exports=n},73962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(n,e){this.active=!1,this.p0=new c(n,e)},getPoint:function(r,n){return n===void 0&&(n=new c),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=a},12822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(63120),a=t(48835),r=t(61286),n=t(58084),e=t(53639),s=t(64761),u=t(74118),i=t(11956),o=t(93736),h=t(83392),l=new f({initialize:function(v,m){v===void 0&&(v=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,m)},add:function(d){return this.curves.push(d),this},circleTo:function(d,v,m){return v===void 0&&(v=!1),this.ellipseTo(d,d,0,360,v,m)},closePath:function(){var d=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return d.equals(v)||this.curves.push(new n(v,d)),this},cubicBezierTo:function(d,v,m,x,g,y){var T=this.getEndPoint(),E,C,A;return d instanceof o?(E=d,C=v,A=m):(E=new o(m,x),C=new o(g,y),A=new o(d,v)),this.add(new c(T,E,C,A))},quadraticBezierTo:function(d,v,m,x){var g=this.getEndPoint(),y,T;return d instanceof o?(y=d,T=v):(y=new o(m,x),T=new o(d,v)),this.add(new s(g,y,T))},draw:function(d,v){for(var m=0;m<this.curves.length;m++){var x=this.curves[m];!x.active||x.draw(d,v)}return d},ellipseTo:function(d,v,m,x,g,y){var T=new a(0,0,d,v,m,x,g,y),E=this.getEndPoint(this._tmpVec2A),C=T.getStartPoint(this._tmpVec2B);return E.subtract(C),T.x=E.x,T.y=E.y,this.add(T)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var v=0;v<d.curves.length;v++){var m=d.curves[v];switch(m.type){case"LineCurve":this.add(n.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(c.fromJSON(m));break;case"QuadraticBezierCurve":this.add(s.fromJSON(m));break}}return this},getBounds:function(d,v){d===void 0&&(d=new u),v===void 0&&(v=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var m=new u,x=h.MIN_SAFE_INTEGER,g=h.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];!T.active||(T.getBounds(m,v),d.x=Math.min(d.x,m.x),d.y=Math.min(d.y,m.y),x=Math.max(x,m.right),g=Math.max(g,m.bottom))}return d.right=x,d.bottom=g,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],v=0,m=0;m<this.curves.length;m++)v+=this.curves[m].getLength(),d.push(v);return this.cacheLengths=d,d},getCurveAt:function(d){for(var v=d*this.getLength(),m=this.getCurveLengths(),x=0;x<m.length;){if(m[x]>=v)return this.curves[x];x++}return null},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,v){v===void 0&&(v=new o);for(var m=d*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var y=x[g]-m,T=this.curves[g],E=T.getLength(),C=E===0?0:1-y/E;return T.getPointAt(C,v)}g++}return null},getPoints:function(d,v){!d&&!v&&(d=this.defaultDivisions);for(var m=[],x,g=0;g<this.curves.length;g++){var y=this.curves[g];if(!!y.active)for(var T=y.getResolution(d),E=y.getPoints(T,v),C=0;C<E.length;C++){var A=E[C];x&&x.equals(A)||(m.push(A),x=A)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var v=[],m=0;m<=d;m++)v.push(this.getPoint(m/d));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,v){v===void 0&&(v=new o);for(var m=d*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var y=x[g]-m,T=this.curves[g],E=T.getLength(),C=E===0?0:1-y/E;return T.getTangentAt(C,v)}g++}return null},lineTo:function(d,v){d instanceof o?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,v);var m=this.getEndPoint(this._tmpVec2A);return this.add(new n([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,v){return d instanceof o?this.add(new e(d.x,d.y)):this.add(new e(d,v))},toJSON:function(){for(var d=[],v=0;v<this.curves.length;v++)d.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,v){return new l(d,v)}),p.exports=l},81078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(35026),a=new f({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(c.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,u=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(o){if(!e._frozen){var h=s[r];s[r]=o,u.emit(c.CHANGE_DATA,i,r,o,h),u.emit(c.CHANGE_DATA_KEY+r,i,o,h)}}}),s[r]=n,u.emit(c.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var u in this.list)e[1]=u,e[2]=this.list[u],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(c.CHANGE_DATA),this.events.off(c.SET_DATA),this.events.off(c.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});p.exports=a},76508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(81078),a=t(91963),r=t(7599),n=new f({Extends:c,initialize:function(s){c.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){c.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",n,"data"),p.exports=n},73569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},15590:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},37669:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},87090:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},90142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},35026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1350),c={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return c;c.audioData=!!window.Audio,c.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,o){var h=r.canPlayType("audio/"+i).replace(/^no$/,"");return Boolean(o?h||r.canPlayType("audio/"+o).replace(/^no$/,""):h)};if(c.ogg=e('ogg; codecs="vorbis"'),c.opus=e('ogg; codecs="opus"',"opus"),c.mp3=e("mpeg"),c.wav=e("wav"),c.m4a=e("x-m4a"),c.aac=e("aac"),c.flac=e("flac","x-flac"),c.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(f.edge)c.dolby=!0;else if(f.safari&&f.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),u=parseInt(RegExp.$2,10);(s===10&&u>=11||s>10)&&(c.dolby=!0)}}}}catch{}return c}p.exports=a()},1350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36580),c={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(c.edge=!0,c.es2019=!0):/OPR/.test(r)?(c.opera=!0,c.es2019=!0):/Chrome\/(\d+)/.test(r)&&!f.windowsPhone?(c.chrome=!0,c.chromeVersion=parseInt(RegExp.$1,10),c.es2019=c.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(c.firefox=!0,c.firefoxVersion=parseInt(RegExp.$1,10),c.es2019=c.firefoxVersion>10):/AppleWebKit/.test(r)&&f.iOS?(c.mobileSafari=!0,c.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(c.ie=!0,c.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(r)&&!f.windowsPhone?(c.safari=!0,c.safariVersion=parseInt(RegExp.$1,10),c.es2019=c.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(c.ie=!0,c.trident=!0,c.tridentVersion=parseInt(RegExp.$1,10),c.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(c.silk=!0),c}p.exports=a()},98581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var i=new Image;i.onload=function(){var o=f.create2D(i,6),h=o.getContext("2d",{willReadFrequently:!0});if(h.globalCompositeOperation="multiply",h.drawImage(u,0,0),h.drawImage(i,2,0),!h.getImageData(2,0,1,1))return!1;var l=h.getImageData(2,0,1,1).data;f.remove(i),c.supportNewBlendModes=l[0]===255&&l[1]===0&&l[2]===0},i.src=e+"/wCKxvRF"+s},u.src=e+"AP804Oa6"+s,!1}function r(){var e=f.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var u=s.getImageData(0,0,1,1);if(u===null)return!1;s.putImageData(u,1,0);var i=s.getImageData(1,0,1,1),o=i.data[0]===u.data[0]&&i.data[1]===u.data[1]&&i.data[2]===u.data[2]&&i.data[3]===u.data[3];return f.remove(this),o}function n(){return typeof importScripts!="function"&&document!==void 0&&(c.supportNewBlendModes=a(),c.supportInverseAlpha=r()),c}p.exports=n()},90185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36580),c=t(1350),a=t(61068),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),u=new Uint8Array(s),i=new Uint32Array(s);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,u=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),o=i.getContext("webgl")||i.getContext("experimental-webgl"),h=a.create2D(this),l=h.getContext("2d",{willReadFrequently:!0}),d=l.createImageData(1,1);return s=d.data instanceof Uint8ClampedArray,a.remove(i),a.remove(h),!!o}catch{return!1}return!1};return r.webGL=u(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,c.firefox&&c.firefoxVersion<21&&(r.getUserMedia=!1),!f.iOS&&(c.ie||c.firefox||c.chrome)&&(r.canvasBitBltShift=!0),(c.safari||c.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}p.exports=e()},33553:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var f,c="Fullscreen",a="FullScreen",r=["request"+c,"request"+a,"webkitRequest"+c,"webkitRequest"+a,"msRequest"+c,"msRequest"+a,"mozRequest"+a,"mozRequest"+c];for(f=0;f<r.length;f++)if(document.documentElement[r[f]]){S.available=!0,S.request=r[f];break}var n=["cancel"+a,"exit"+c,"webkitCancel"+a,"webkitExit"+c,"msCancel"+a,"msExit"+c,"mozCancel"+a,"mozExit"+c];if(S.available){for(f=0;f<n.length;f++)if(document[n[f]]){S.cancel=n[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},95872:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1350),c={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(c.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(c.mspointer=!0),navigator.getGamepads&&(c.gamepads=!0),"onwheel"in window||f.ie&&"WheelEvent"in window?c.wheelEvent="wheel":"onmousewheel"in window?c.wheelEvent="mousewheel":f.firefox&&"MouseScrollEvent"in window&&(c.wheelEvent="DOMMouseScroll")),c}p.exports=a()},36580:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var f=navigator.userAgent;/Windows/.test(f)?S.windows=!0:/Mac OS/.test(f)&&!/like Mac OS/.test(f)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(f)?S.android=!0:/Linux/.test(f)?S.linux=!0:/iP[ao]d|iPhone/i.test(f)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=f.toLowerCase().indexOf("iphone")!==-1,S.iPad=f.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(f)||/\bKF[A-Z][A-Z]+/.test(f)||/Silk.*Mobile Safari/.test(f)?S.kindle=!0:/CrOS/.test(f)&&(S.chromeOS=!0),(/Windows Phone/i.test(f)||/IEMobile/i.test(f))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var c=/Silk/.test(f);return(S.windows||S.macOS||S.linux&&!c||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(f)&&/Touch/i.test(f))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(f)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},53861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return c;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(c.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(c.h264=!0,c.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(c.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(c.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(c.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(c.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),c.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var i=f(s[u],"url",s[u]);if(i.indexOf("blob:")===0)return{url:i,type:""};var o;if(i.indexOf("data:")===0?o=i.split(",")[0].match(/\/(.*?);/):o=i.match(/\.([a-zA-Z0-9]+)($|\?)/),o=f(s[u],"type",o?o[1]:"").toLowerCase(),c[o])return{url:i,type:o}}return null},c}p.exports=a()},77290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new Float32Array(20),a=new f({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),u=.213,i=.715,o=.072;return this.multiply([u+e*(1-u)+s*-u,i+e*-i+s*-i,o+e*-o+s*(1-o),0,0,u+e*-u+s*.143,i+e*(1-i)+s*.14,o+e*-o+s*-.283,0,0,u+e*-u+s*-(1-u),i+e*-i+s*i,o+e*(1-o)+s*o,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=c;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=a},39298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72283),a=new f({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=c,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=a},84093:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},32058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(59994),a=t(73174),r=t(28417),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},85535:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(73174),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},9605:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(70271),a=t(73174),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},22529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(21843),c=t(59994),a=t(29568),r=function(n,e,s,u){return s===void 0&&(s=0),u===void 0&&(u=0),f(n,c(e)+s,a(e)+u),n};p.exports=r},5739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(40163),a=t(81711),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},40327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=[];c[f.BOTTOM_CENTER]=t(32058),c[f.BOTTOM_LEFT]=t(85535),c[f.BOTTOM_RIGHT]=t(9605),c[f.CENTER]=t(22529),c[f.LEFT_CENTER]=t(5739),c[f.RIGHT_CENTER]=t(27683),c[f.TOP_CENTER]=t(96439),c[f.TOP_LEFT]=t(81447),c[f.TOP_RIGHT]=t(47888),c[f.LEFT_BOTTOM]=c[f.BOTTOM_LEFT],c[f.LEFT_TOP]=c[f.TOP_LEFT],c[f.RIGHT_BOTTOM]=c[f.BOTTOM_RIGHT],c[f.RIGHT_TOP]=c[f.TOP_RIGHT];var a=function(r,n,e,s,u){return c[e](r,n,s,u)};p.exports=a},27683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(70271),a=t(81711),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},96439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59994),c=t(47196),a=t(28417),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)+u),r(e,c(s)-i),e};p.exports=n},81447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40163),c=t(47196),a=t(74465),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)-u),r(e,c(s)-i),e};p.exports=n},47888:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70271),c=t(47196),a=t(19298),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)+u),r(e,c(s)-i),e};p.exports=n},46997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=t(98611),a={In:t(46997),To:t(86639)};a=c(!1,a,f),p.exports=a},27118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(59994),a=t(28417),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,c(s)+u),r(e,f(s)+i),e};p.exports=n},84469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(74465),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,c(s)-u),r(e,f(s)+i),e};p.exports=n},51577:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(70271),a=t(19298),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,c(s)+u),r(e,f(s)+i),e};p.exports=n},90271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(73174),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},30466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(40163),a=t(81711),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)-u),a(e,f(s)+i),e};p.exports=n},50087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40163),c=t(47196),a=t(19298),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)-u),r(e,c(s)-i),e};p.exports=n},82590:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=[];c[f.BOTTOM_CENTER]=t(27118),c[f.BOTTOM_LEFT]=t(84469),c[f.BOTTOM_RIGHT]=t(51577),c[f.LEFT_BOTTOM]=t(90271),c[f.LEFT_CENTER]=t(30466),c[f.LEFT_TOP]=t(50087),c[f.RIGHT_BOTTOM]=t(13555),c[f.RIGHT_CENTER]=t(99049),c[f.RIGHT_TOP]=t(67788),c[f.TOP_CENTER]=t(78170),c[f.TOP_LEFT]=t(54145),c[f.TOP_RIGHT]=t(75548);var a=function(r,n,e,s,u){return c[e](r,n,s,u)};p.exports=a},13555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(70271),a=t(73174),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},99049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29568),c=t(70271),a=t(81711),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,c(s)+u),a(e,f(s)+i),e};p.exports=n},67788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70271),c=t(47196),a=t(74465),r=t(84349),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),a(e,f(s)+u),r(e,c(s)-i),e};p.exports=n},78170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59994),c=t(47196),a=t(73174),r=t(28417),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,f(s)+u),a(e,c(s)-i),e};p.exports=n},54145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(40163),c=t(47196),a=t(73174),r=t(74465),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,f(s)-u),a(e,c(s)-i),e};p.exports=n},75548:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70271),c=t(47196),a=t(73174),r=t(19298),n=function(e,s,u,i){return u===void 0&&(u=0),i===void 0&&(i=0),r(e,f(s)+u),a(e,c(s)-i),e};p.exports=n},86639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28417),c=t(81711),a=function(r,n,e){return f(r,n),c(r,e)};p.exports=a},97328:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},7126:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97328),c=t(40163),a=t(70271),r=t(47196),n=t(74118),e=function(s,u){u===void 0&&(u=new n);var i=c(s),o=r(s);return u.x=i,u.y=o,u.width=a(s)-i,u.height=f(s)-o,u};p.exports=e},59994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},29568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},40163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},52088:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},23379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},70271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},47196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},73174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.y=f-t.height+t.height*t.originY,t};p.exports=S},28417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.width*t.originX;return t.x=f+c-t.width*.5,t};p.exports=S},81711:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.height*t.originY;return t.y=f+c-t.height*.5,t};p.exports=S},74465:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x=f+t.width*t.originX,t};p.exports=S},19298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x=f-t.width+t.width*t.originX,t};p.exports=S},84349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.y=f+t.height*t.originY,t};p.exports=S},15252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(c){t.style["image-rendering"]=c}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},61068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86459),c=t(8213),a=[],r=!1,n=function(){var e=function(m,x,g,y,T){x===void 0&&(x=1),g===void 0&&(g=1),y===void 0&&(y=f.CANVAS),T===void 0&&(T=!1);var E,C=i(y);return C===null?(C={parent:m,canvas:document.createElement("canvas"),type:y},y===f.CANVAS&&a.push(C),E=C.canvas):(C.parent=m,E=C.canvas),T&&(C.parent=E),E.width=x,E.height=g,r&&y===f.CANVAS&&c.disable(E.getContext("2d",{willReadFrequently:!1})),E},s=function(m,x,g){return e(m,x,g,f.CANVAS)},u=function(m,x,g){return e(m,x,g,f.WEBGL)},i=function(m){if(m===void 0&&(m=f.CANVAS),m===f.WEBGL)return null;for(var x=0;x<a.length;x++){var g=a[x];if(!g.parent&&g.type===m)return g}return null},o=function(m){var x=m instanceof HTMLCanvasElement;a.forEach(function(g){(x&&g.canvas===m||!x&&g.parent===m)&&(g.parent=null,g.canvas.width=1,g.canvas.height=1)})},h=function(){var m=0;return a.forEach(function(x){x.parent&&m++}),m},l=function(){return a.length-h()},d=function(){r=!0},v=function(){r=!1};return{create2D:s,create:e,createWebGL:u,disableSmoothing:d,enableSmoothing:v,first:i,free:l,pool:a,remove:o,total:h}};p.exports=n()},8213:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var f=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var u=e[s]+"mageSmoothingEnabled";if(u in n)return u}return null},c=function(n){return S===""&&(S=f(n)),S&&(n[S]=!0),n},a=function(n){return S===""&&(S=f(n)),S&&(n[S]=!1),n},r=function(n){return S!==null?n[S]:null};return{disable:a,enable:c,getPrefix:f,isEnabled:r}};p.exports=t()},59271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f="none"),t.style.msTouchAction=f,t.style["ms-touch-action"]=f,t.style["touch-action"]=f,t};p.exports=S},36505:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f="none");var c=["-webkit-","-khtml-","-moz-","-ms-",""];return c.forEach(function(a){t.style[a+"user-select"]=f}),t.style["-webkit-touch-callout"]=f,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},23514:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(22946),a=t(5657),r=t(24650),n=t(68033),e=new f({initialize:function(u,i,o,h){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,i,o,h)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,u,i,o,h){return o===void 0&&(o=255),h===void 0&&(h=!0),this._locked=!0,this.red=s,this.green=u,this.blue=i,this.alpha=o,this._locked=!1,this.update(h)},setGLTo:function(s,u,i,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=s,this.greenGL=u,this.blueGL=i,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,u,i){return r(s,u,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var u=this.r,i=this.g,o=this.b,h=this.a;return this._color=c(u,i,o),this._color32=a(u,i,o,h),this._rgba="rgba("+u+","+i+","+o+","+h/255+")",s&&n(u,i,o,this),this},updateHSV:function(){var s=this.r,u=this.g,i=this.b;return n(s,u,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,u){s===void 0&&(s=0),u===void 0&&(u=255);var i=Math.floor(s+Math.random()*(u-s)),o=Math.floor(s+Math.random()*(u-s)),h=Math.floor(s+Math.random()*(u-s));return this.setTo(i,o,h)},randomGray:function(s,u){s===void 0&&(s=0),u===void 0&&(u=255);var i=Math.floor(s+Math.random()*(u-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var u=this.r,i=this.g,o=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),this.setTo(u,i,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});p.exports=e},30245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22946),c=function(a){a===void 0&&(a=1024);var r=[],n=255,e,s=255,u=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:f(s,e,i)});for(u=255,e=n;e>=0;e--)r.push({r:e,g:u,b:i,color:f(e,u,i)});for(s=0,e=0;e<=n;e++,u--)r.push({r:s,g:u,b:e,color:f(s,u,e)});for(u=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:u,b:i,color:f(s,u,i)});if(a===1024)return r;var o=[],h=0,l=1024/a;for(e=0;e<a;e++)o.push(r[Math.floor(h)]),h+=l;return o};p.exports=c},86672:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(f.a=t>>>24),f};p.exports=S},25409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.toString(16);return f.length===1?"0"+f:f};p.exports=S},22946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t<<16|f<<8|c};p.exports=S},5657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return a<<24|t<<16|f<<8|c};p.exports=S},74777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=t(59998),a=function(r,n,e){var s=e,u=e,i=e;if(n!==0){var o=e<.5?e*(1+n):e+n-e*n,h=2*e-o;s=c(h,o,r+1/3),u=c(h,o,r),i=c(h,o,r-1/3)}var l=new f;return l.setGLTo(s,u,i,1)};p.exports=a},89263:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(24650),c=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(f(e/359,a,r));return n};p.exports=c},24650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22946);function c(r,n,e,s){var u=(r+n*6)%6,i=Math.min(u,4-u,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var u=c(5,r,n,e),i=c(3,r,n,e),o=c(1,r,n,e);return s?s.setTo?s.setTo(u,i,o,s.alpha,!0):(s.r=u,s.g=i,s.b=o,s.color=f(u,i,o),s):{r:u,g:i,b:o,color:f(u,i,o)}};p.exports=a},91487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=function(a){var r=new f;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,o,h,l){return o+o+h+h+l+l});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),u=parseInt(n[3],16);r.setTo(e,s,u)}return r};p.exports=c},59998:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?t+(f-t)*6*c:c<.5?f:c<.6666666666666666?t+(f-t)*(.6666666666666666-c)*6:t};p.exports=S},74853:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=t(15978),a=function(r){var n=c(r);return new f(n.r,n.g,n.b,n.a)};p.exports=a},15978:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},53756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(42798),c=function(n,e,s,u,i,o,h,l){h===void 0&&(h=100),l===void 0&&(l=0);var d=l/h;return{r:f(n,u,d),g:f(e,i,d),b:f(s,o,d)}},a=function(n,e,s,u){return s===void 0&&(s=100),u===void 0&&(u=0),c(n.r,n.g,n.b,e.r,e.g,e.b,s,u)},r=function(n,e,s,u,i,o){return i===void 0&&(i=100),o===void 0&&(o=0),c(n.r,n.g,n.b,e,s,u,i,o)};p.exports={RGBWithRGB:c,ColorWithRGB:r,ColorWithColor:a}},73904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=function(a){return new f(a.r,a.g,a.b,a.a)};p.exports=c},26841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119),c=function(a){var r=new f,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),u=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,u,i*255)}return r};p.exports=c},68033:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,f/=255,c/=255;var r=Math.min(t,f,c),n=Math.max(t,f,c),e=n-r,s=0,u=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(f-c)/e+(f<c?6:0):n===f?s=(c-t)/e+2:n===c&&(s=(t-f)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=u,a._v=i):(a.h=s,a.s=u,a.v=i),a};p.exports=S},4880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25409),c=function(a,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+f(e)+f(a)+f(r)+f(n)};p.exports=c},37243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(27119),a=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new c(f(r,n),f(r,n),f(r,n))};p.exports=a},93222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(91487),c=t(74853),a=t(73904),r=t(26841),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):f(e);case"number":return c(e);case"object":return a(e)}};p.exports=n},95509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27119);f.ColorSpectrum=t(30245),f.ColorToRGBA=t(86672),f.ComponentToHex=t(25409),f.GetColor=t(22946),f.GetColor32=t(5657),f.HexStringToColor=t(91487),f.HSLToColor=t(74777),f.HSVColorWheel=t(89263),f.HSVToRGB=t(24650),f.HueToComponent=t(59998),f.IntegerToColor=t(74853),f.IntegerToRGB=t(15978),f.Interpolate=t(53756),f.ObjectToColor=t(73904),f.RandomRGB=t(37243),f.RGBStringToColor=t(26841),f.RGBToHSV=t(68033),f.RGBToString=t(4880),f.ValueToColor=t(93222),p.exports=f},24816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(61286),a=new f({initialize:function(n,e,s,u,i,o){e||(e=n.sys.make.image({x:s,y:u,key:i,frame:o,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});c.register("bitmapMask",function(r,n,e,s,u){return new a(this.scene,r,n,e,s,u)}),p.exports=a},63037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,n){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:n}),this.applyStencil(a,n,!0),a.maskCount++},applyStencil:function(a,r,n){var e=a.gl,s=this.geometryMask,u=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,u,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),u++):(e.stencilFunc(e.EQUAL,u+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=u,s.renderWebGL(a,s,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,u,i):e.stencilFunc(e.EQUAL,u,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var n=a.currentMask;if(a.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(a,r,n){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,n,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=c},93310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});p.exports=c},99584:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c;if(f)typeof f=="string"?c=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(c=f);else if(t.parentElement||f===null)return t;return c||(c=document.body),c.appendChild(t),t};p.exports=S},85178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99584),c=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=n,f(n,r.parent)}};p.exports=c},21546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36580),c=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?f.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=c},74181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var f=Math.abs(window.orientation),c={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),c.w=f===90?a.offsetHeight:window.innerWidth,c.h=f===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?c.h:c.w};p.exports=S},9229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(55301),c=function(a,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return f.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return f.ORIENTATION.LANDSCAPE}else return r>a?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE};p.exports=c},2893:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f;return t!==""&&(typeof t=="string"?f=document.getElementById(t):t&&t.nodeType===1&&(f=t)),f||(f=document.body),f};p.exports=S},89200:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f="";try{if(window.DOMParser){var c=new DOMParser;f=c.parseFromString(t,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(t)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f};p.exports=S},55638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},27385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72283),a=new f({initialize:function(){this.isRunning=!1,this.callback=c,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=c}});p.exports=a},3590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};p.exports=f},78491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(91963),r=new f({Extends:c,initialize:function(){c.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),p.exports=r},95146:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(78491)}},20170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s){s===void 0&&(s=1),c.call(this,a.BARREL,e),this.amount=s}});p.exports=r},51182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l){u===void 0&&(u=1),i===void 0&&(i=1),o===void 0&&(o=1),h===void 0&&(h=1),l===void 0&&(l=4),c.call(this,a.BLOOM,e),this.steps=l,this.offsetX=u,this.offsetY=i,this.blurStrength=o,this.strength=h,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},51498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l){s===void 0&&(s=0),u===void 0&&(u=2),i===void 0&&(i=2),o===void 0&&(o=1),l===void 0&&(l=4),c.call(this,a.BLUR,e),this.quality=s,this.x=u,this.y=i,this.steps=l,this.strength=o,this.glcolor=[1,1,1],h!=null&&(this.color=h)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},12042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d){s===void 0&&(s=.5),u===void 0&&(u=1),i===void 0&&(i=.2),o===void 0&&(o=!1),h===void 0&&(h=1),l===void 0&&(l=1),d===void 0&&(d=1),c.call(this,a.BOKEH,e),this.radius=s,this.amount=u,this.contrast=i,this.isTiltShift=o,this.strength=d,this.blurX=h,this.blurY=l}});p.exports=r},69900:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h){s===void 0&&(s=8),o===void 0&&(o=1),h===void 0&&(h=.005),c.call(this,a.CIRCLE,e),this.scale=o,this.feather=h,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],u!=null&&(this.color=u),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});p.exports=r},48991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65246),a=t(47406),r=new f({Extends:c,initialize:function(e){c.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},47551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=c},47909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i){s===void 0&&(s="__WHITE"),u===void 0&&(u=.005),i===void 0&&(i=.005),c.call(this,a.DISPLACEMENT,e),this.x=u,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},18919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){u===void 0&&(u=4),i===void 0&&(i=0),o===void 0&&(o=!1),c.call(this,a.GLOW,e),this.outerStrength=u,this.innerStrength=i,this.knockout=o,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},62494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d,v){i===void 0&&(i=.2),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=1),v===void 0&&(v=0),c.call(this,a.GRADIENT,e),this.alpha=i,this.size=v,this.fromX=o,this.fromY=h,this.toX=l,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),u!=null&&(this.color2=u)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});p.exports=r},68897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s){s===void 0&&(s=1),c.call(this,a.PIXELATE,e),this.amount=s}});p.exports=r},58575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=.1),o===void 0&&(o=1),l===void 0&&(l=6),d===void 0&&(d=1),c.call(this,a.SHADOW,e),this.x=s,this.y=u,this.decay=i,this.power=o,this.glcolor=[0,0,0,1],this.samples=l,this.intensity=d,h!==void 0&&(this.color=h)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},33755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){s===void 0&&(s=.5),u===void 0&&(u=.5),i===void 0&&(i=3),o===void 0&&(o=!1),c.call(this,a.SHINE,e),this.speed=s,this.lineWidth=u,this.gradient=i,this.reveal=o}});p.exports=r},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){s===void 0&&(s=.5),u===void 0&&(u=.5),i===void 0&&(i=.5),o===void 0&&(o=.5),c.call(this,a.VIGNETTE,e),this.x=s,this.y=u,this.radius=i,this.strength=o}});p.exports=r},66241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(47551),a=t(47406),r=new f({Extends:c,initialize:function(e,s,u,i,o){s===void 0&&(s=.1),u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=!1),c.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=u,this.axis=i,this.reveal=o}});p.exports=r},47406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},96910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(47406),a={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};a=f(!1,a,c),p.exports=a},88933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(20494),a=function(r,n,e){n.x=c(e,"x",0),n.y=c(e,"y",0),n.depth=c(e,"depth",0),n.flipX=c(e,"flipX",!1),n.flipY=c(e,"flipY",!1);var s=c(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=c(s,"x",1),n.scaleY=c(s,"y",1));var u=c(e,"scrollFactor",null);typeof u=="number"?n.setScrollFactor(u):u!==null&&(n.scrollFactorX=c(u,"x",1),n.scrollFactorY=c(u,"y",1)),n.rotation=c(e,"rotation",0);var i=c(e,"angle",null);i!==null&&(n.angle=i),n.alpha=c(e,"alpha",1);var o=c(e,"origin",null);if(typeof o=="number")n.setOrigin(o);else if(o!==null){var h=c(o,"x",.5),l=c(o,"y",.5);n.setOrigin(h,l)}n.blendMode=c(e,"blendMode",f.NORMAL),n.visible=c(e,"visible",!0);var d=c(e,"add",!0);return d&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};p.exports=a},32291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(20494),c=function(a,r){var n=f(r,"anims",null);if(n===null)return a;if(typeof n=="string")a.anims.play(n);else if(typeof n=="object"){var e=a.anims,s=f(n,"key",void 0);if(s){var u=f(n,"startFrame",void 0),i=f(n,"delay",0),o=f(n,"repeat",0),h=f(n,"repeatDelay",0),l=f(n,"yoyo",!1),d=f(n,"play",!1),v=f(n,"delayedPlay",0),m={key:s,delay:i,repeat:o,repeatDelay:h,yoyo:l,startFrame:u};d?e.play(m):v>0?e.playAfterDelay(m,v):e.load(m)}}return a};p.exports=c},91713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(71207),a=t(91963),r=t(56631),n=t(7599),e=t(17922),s=new f({Extends:c,initialize:function(i){c.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.parentContainer&&u.parentContainer.remove(u),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(r.ADDED_TO_SCENE,u,this.scene),this.events.emit(n.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(r.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,i){return u._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list;u.length;)u[0].destroy(!0);this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),p.exports=s},89980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(48129),a=t(81078),r=t(6659),n=t(56631),e=t(7599),s=new f({Extends:r,initialize:function(i,o){r.call(this),this.scene=i,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(u,i){return this.data||(this.data=new a(this)),this.data.set(u,i),this},incData:function(u,i){return this.data||(this.data=new a(this)),this.data.inc(u,i),this},toggleData:function(u){return this.data||(this.data=new a(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new a(this)),this.data.get(u)},setInteractive:function(u,i,o){return this.scene.sys.input.enable(this,u,i,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(u){var i=this.displayList&&this.displayList.active?this.displayList.willRender(u):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,i=this.parentContainer,o=[];i&&(o.unshift(i.getIndex(u)),u=i,i.parentContainer);)i=i.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(u)):o.unshift(this.scene.sys.displayList.getIndex(u)),o},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),u.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u&&u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,p.exports=s},99325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91963),a=t(7599),r=new f({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},c.register("GameObjectCreator",r,"make"),p.exports=r},61286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91963),a=t(7599),r=new f({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},c.register("GameObjectFactory",r,"add"),p.exports=r},73329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(69360),c=new f,a=new f,r=new f,n={camera:c,sprite:a,calc:r},e=function(s,u,i){var o=c,h=a,l=r;return h.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),o.copyFrom(u.matrix),i?(o.multiplyWithOffset(i,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),h.e=s.x,h.f=s.y):(h.e-=u.scrollX*s.scrollFactorX,h.f-=u.scrollY*s.scrollFactorY),o.multiply(h,l),n};p.exports=e},92034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74623),a=t(91963),r=t(7599),n=new f({Extends:c,initialize:function(s){c.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var u=this._active,i=u.length,o=0;o<i;o++){var h=u[o];h.active&&h.preUpdate.call(h,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",n,"updateList"),p.exports=n},8810:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n,e,s,u,i,o,h,l,d,v){var m=c.x-f.displayOriginX+r,x=c.y-f.displayOriginY+n,g=m+c.w,y=x+c.h,T=e.getXRound(m,x,s),E=e.getYRound(m,x,s),C=e.getXRound(m,y,s),A=e.getYRound(m,y,s),P=e.getXRound(g,y,s),F=e.getYRound(g,y,s),O=e.getXRound(g,x,s),I=e.getYRound(g,x,s);t.batchQuad(f,T,E,C,A,P,F,O,I,a.u0,a.v0,a.u1,a.v1,u,i,o,h,l,d,v)};p.exports=S},82173:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){if(c===void 0&&(c=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,u=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,h=0,l=t.fontData.chars,d=t.fontData.lineHeight,v=t.letterSpacing,m=t.lineSpacing,x=0,g=0,y=0,T=null,E=t._align,C=0,A=0,P=t.fontSize/t.fontData.size,F=P*t.scaleX,O=P*t.scaleY,I=null,G=0,z=[],X=Number.MAX_VALUE,H=0,N=0,U=0,R,D=[],B=[],V=null;if(e>0){for(R=0;R<n;R++){if(y=r.charCodeAt(R),y===10){V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O,cr:!0}),V=null),x=0,g+=d+m,I=null;continue}if(T=l[y],!!T){if(I!==null)var Y=T.kerning[G];y===s?V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O,cr:!1}),V=null):(V===null&&(V={word:"",i:R,x,y:g,w:0,h:d,cr:!1}),V.word=V.word.concat(r[R]),V.w+=T.xOffset+T.xAdvance+(Y!==void 0?Y:0)),x+=T.xAdvance+v,I=T,G=y}}V!==null&&D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O,cr:!1}),x=0,g=0,I=null,G=0;var K,$=0,J=[];for(R=0;R<D.length;R++){var Q=D[R],k=Q.x,q=Q.x+Q.w;if(K){var tt=k-(K.x+K.w);$=k-(tt+K.w),K=null}var _=k-$,it=q-$;_>e||it>e?(J.push(Q.i-1),Q.cr?(J.push(Q.i+Q.word.length),$=0,K=null):K=Q):Q.cr&&(J.push(Q.i+Q.word.length),$=0,K=null)}var st=function(ft,ct,mt){return ft.substr(0,ct)+mt+ft.substr(ct+1)};for(R=J.length-1;R>=0;R--)r=st(r,J[R],`
`);a.wrappedText=r,n=r.length,D=[],V=null}var ht=0;for(R=0;R<n;R++){if(y=r.charCodeAt(R),y===10){V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O}),V=null),x=0,g+=d+m,I=null,z[N]=U,U>H&&(H=U),U<X&&(X=U),N++,U=0;continue}if(T=l[y],!!T){if(C=x,A=g,I!==null){var ut=T.kerning[G];C+=ut!==void 0?ut:0}u>C&&(u=C),i>A&&(i=A);var et=C+T.xAdvance,rt=A+d;o<et&&(o=et),h<rt&&(h=rt);var nt=T.xOffset+T.xAdvance+(ut!==void 0?ut:0);y===s?V!==null&&(D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O}),V=null):(V===null&&(V={word:"",i:ht,x,y:g,w:0,h:d}),V.word=V.word.concat(r[R]),V.w+=nt),B.push({i:ht,idx:R,char:r[R],code:y,x:(T.xOffset+C)*P,y:(T.yOffset+g)*P,w:T.width*P,h:T.height*P,t:g*P,r:et*P,b:d*P,line:N,glyph:T}),x+=T.xAdvance+v+(ut!==void 0?ut:0),I=T,G=y,U=et*P,ht++}}if(V!==null&&D.push({word:V.word,i:V.i,x:V.x*F,y:V.y*O,w:V.w*F,h:V.h*O}),z[N]=U,U>H&&(H=U),U<X&&(X=U),E>0)for(var pt=0;pt<B.length;pt++){var gt=B[pt];if(E===1){var Tt=(H-z[gt.line])/2;gt.x+=Tt,gt.r+=Tt}else if(E===2){var lt=H-z[gt.line];gt.x+=lt,gt.r+=lt}}var ot=a.local,at=a.global,dt=a.lines;return ot.x=u*P,ot.y=i*P,ot.width=o*P,ot.height=h*P,at.x=t.x-t._displayOriginX+u*F,at.y=t.y-t._displayOriginY+i*O,at.width=o*F,at.height=h*O,dt.shortest=X,dt.longest=H,dt.lengths=z,f&&(ot.x=Math.ceil(ot.x),ot.y=Math.ceil(ot.y),ot.width=Math.ceil(ot.width),ot.height=Math.ceil(ot.height),at.x=Math.ceil(at.x),at.y=Math.ceil(at.y),at.width=Math.ceil(at.width),at.height=Math.ceil(at.height),dt.shortest=Math.ceil(X),dt.longest=Math.ceil(H)),c&&(t._displayOriginX=t.originX*ot.width,t._displayOriginY=t.originY*ot.height,at.x=t.x-t._displayOriginX*t.scaleX,at.y=t.y-t._displayOriginY*t.scaleY,f&&(at.x=Math.ceil(at.x),at.y=Math.ceil(at.y))),a.words=D,a.characters=B,a.lines.height=d,a.scale=P,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};p.exports=S},68298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(31476),c=function(a,r,n,e,s,u,i){var o=a.sys.textures.get(n),h=o.get(e),l=a.sys.cache.xml.get(s);if(h&&l){var d=f(l,h,u,i,o);return a.sys.cache.bitmapFont.add(r,{data:d,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=c},39860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=function(a,r){var n=r.width,e=r.height,s=Math.floor(n/2),u=Math.floor(e/2),i=f(r,"chars","");if(i!==""){var o=f(r,"image",""),h=a.sys.textures.getFrame(o),l=h.cutX,d=h.cutY,v=h.source.width,m=h.source.height,x=f(r,"offset.x",0),g=f(r,"offset.y",0),y=f(r,"spacing.x",0),T=f(r,"spacing.y",0),E=f(r,"lineSpacing",0),C=f(r,"charsPerRow",null);C===null&&(C=v/n,C>i.length&&(C=i.length));for(var A=x,P=g,F={retroFont:!0,font:o,size:n,lineHeight:e+E,chars:{}},O=0,I=0;I<i.length;I++){var G=i.charCodeAt(I),z=(l+A)/v,X=(d+P)/m,H=(l+A+n)/v,N=(d+P+e)/m;F.chars[G]={x:A,y:P,width:n,height:e,centerX:s,centerY:u,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:z,v0:X,u1:H,v1:N},O++,O===C?(O=0,A=x,P+=e+T):A+=n+y}var U={data:F,frame:null,texture:o};return U}};p.exports=c},31476:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(f,c){return parseInt(f.getAttribute(c),10)}var t=function(f,c,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0);var e=c.cutX,s=c.cutY,u=c.source.width,i=c.source.height,o=c.sourceIndex,h={},l=f.getElementsByTagName("info")[0],d=f.getElementsByTagName("common")[0];h.font=l.getAttribute("face"),h.size=S(l,"size"),h.lineHeight=S(d,"lineHeight")+r,h.chars={};var v=f.getElementsByTagName("char"),m=c!==void 0&&c.trimmed;if(m)var x=c.height,g=c.width;for(var y=0;y<v.length;y++){var T=v[y],E=S(T,"id"),C=String.fromCharCode(E),A=S(T,"x"),P=S(T,"y"),F=S(T,"width"),O=S(T,"height");m&&(A<g&&(g=A),P<x&&(x=P)),m&&x!==0&&g!==0&&(A-=c.x,P-=c.y);var I=(e+A)/u,G=(s+P)/i,z=(e+A+F)/u,X=(s+P+O)/i;if(h.chars[E]={x:A,y:P,width:F,height:O,centerX:Math.floor(F/2),centerY:Math.floor(O/2),xOffset:S(T,"xoffset"),yOffset:S(T,"yoffset"),xAdvance:S(T,"xadvance")+a,data:{},kerning:{},u0:I,v0:G,u1:z,v1:X},n&&F!==0&&O!==0){var H=n.add(C,o,A,P,F,O);H&&H.setUVs(F,O,I,G,z,X)}}var N=f.getElementsByTagName("kerning");for(y=0;y<N.length;y++){var U=N[y],R=S(U,"first"),D=S(U,"second"),B=S(U,"amount");h.chars[D].kerning[R]=B}return h};p.exports=t},55873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66863),c=t(98611),a={Parse:t(39860)};a=c(!1,a,f),p.exports=a},66863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},13468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44616),c=t(56694),a=t(88899),r=new c({Extends:f,Mixins:[a],initialize:function(e,s,u,i,o,h,l){f.call(this,e,s,u,i,o,h,l),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});p.exports=r},93438:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(49584),c=function(a,r,n,e){var s=r._text,u=s.length,i=a.currentContext;if(!(u===0||!f(a,i,r,n,e))){n.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,h=r.displayCallback,l=r.callbackData,d=r.fontData.chars,v=r.fontData.lineHeight,m=r._letterSpacing,x=0,g=0,y=0,T=null,E=0,C=0,A=0,P=0,F=0,O=0,I=null,G=0,z=r.frame.source.image,X=o.cutX,H=o.cutY,N=0,U=0,R=r._fontSize/r.fontData.size,D=r._align,B=0,V=0;r.getTextBounds(!1);var Y=r._bounds.lines;D===1?V=(Y.longest-Y.lengths[0])/2:D===2&&(V=Y.longest-Y.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var K=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var $=0;$<u;$++){if(U=R,N=0,y=s.charCodeAt($),y===10){B++,D===1?V=(Y.longest-Y.lengths[B])/2:D===2&&(V=Y.longest-Y.lengths[B]),x=0,g+=v,I=null;continue}if(T=d[y],!!T){if(E=X+T.x,C=H+T.y,A=T.width,P=T.height,F=T.xOffset+x-r.scrollX,O=T.yOffset+g-r.scrollY,I!==null){var J=T.kerning[G];F+=J!==void 0?J:0}if(h){l.index=$,l.charCode=y,l.x=F,l.y=O,l.scale=U,l.rotation=N,l.data=T.data;var Q=h(l);F=Q.x,O=Q.y,U=Q.scale,N=Q.rotation}F*=U,O*=U,F+=V,x+=T.xAdvance+m+(J!==void 0?J:0),I=T,G=y,!(A===0||P===0||y===32)&&(K&&(F=Math.round(F),O=Math.round(O)),i.save(),i.translate(F,O),i.rotate(N),i.scale(U,U),i.drawImage(z,E,C,A,P,0,0,A,P),i.restore())}}i.restore()}};p.exports=c},67513:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(13468),c=t(88933),a=t(99325),r=t(20494);a.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),u=r(n,"text",""),i=r(n,"size",!1),o=new f(this.scene,0,0,s,u,i);return e!==void 0&&(n.add=e),c(this.scene,o,n),o})},94145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(13468),c=t(61286);c.register("dynamicBitmapText",function(a,r,n,e,s){return this.displayList.add(new f(this.scene,a,r,n,e,s))})},88899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(16873),a=t(93438),p.exports={renderWebGL:c,renderCanvas:a}},16873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(69360),a=t(75512),r=new c,n=function(e,s,u,i){var o=s.text,h=o.length;if(h!==0){u.addToRenderList(s);var l=e.pipelines.set(s.pipeline,s),d=f(s,u,i);e.pipelines.preBatch(s);var v=d.sprite,m=d.calc,x=r,g=s.cropWidth>0||s.cropHeight>0;g&&(l.flush(),e.pushScissor(m.tx,m.ty,s.cropWidth*m.scaleX,s.cropHeight*m.scaleY));var y=s.frame,T=y.glTexture,E=s.tintFill,C=a.getTintAppendFloatAlpha(s.tintTopLeft,u.alpha*s._alphaTL),A=a.getTintAppendFloatAlpha(s.tintTopRight,u.alpha*s._alphaTR),P=a.getTintAppendFloatAlpha(s.tintBottomLeft,u.alpha*s._alphaBL),F=a.getTintAppendFloatAlpha(s.tintBottomRight,u.alpha*s._alphaBR),O=l.setGameObject(s),I=0,G=0,z=0,X=0,H=s.letterSpacing,N,U=0,R=0,D,B=s.scrollX,V=s.scrollY,Y=s.fontData,K=Y.chars,$=Y.lineHeight,J=s.fontSize/Y.size,Q=0,k=s._align,q=0,tt=0,_=s.getTextBounds(!1);s.maxWidth>0&&(o=_.wrappedText,h=o.length);var it=s._bounds.lines;k===1?tt=(it.longest-it.lengths[0])/2:k===2&&(tt=it.longest-it.lengths[0]);for(var st=u.roundPixels,ht=s.displayCallback,ut=s.callbackData,et=0;et<h;et++){if(z=o.charCodeAt(et),z===10){q++,k===1?tt=(it.longest-it.lengths[q])/2:k===2&&(tt=it.longest-it.lengths[q]),I=0,G+=$,D=null;continue}if(N=K[z],!!N){U=N.width,R=N.height;var rt=N.xOffset+I-B,nt=N.yOffset+G-V;if(D!==null){var pt=N.kerning[X];rt+=pt!==void 0?pt:0}if(I+=N.xAdvance+H,D=N,X=z,!(U===0||R===0||z===32)){if(J=s.fontSize/s.fontData.size,Q=0,ht){ut.color=0,ut.tint.topLeft=C,ut.tint.topRight=A,ut.tint.bottomLeft=P,ut.tint.bottomRight=F,ut.index=et,ut.charCode=z,ut.x=rt,ut.y=nt,ut.scale=J,ut.rotation=Q,ut.data=N.data;var gt=ht(ut);rt=gt.x,nt=gt.y,J=gt.scale,Q=gt.rotation,gt.color?(C=gt.color,A=gt.color,P=gt.color,F=gt.color):(C=gt.tint.topLeft,A=gt.tint.topRight,P=gt.tint.bottomLeft,F=gt.tint.bottomRight),C=a.getTintAppendFloatAlpha(C,u.alpha*s._alphaTL),A=a.getTintAppendFloatAlpha(A,u.alpha*s._alphaTR),P=a.getTintAppendFloatAlpha(P,u.alpha*s._alphaBL),F=a.getTintAppendFloatAlpha(F,u.alpha*s._alphaBR)}rt*=J,nt*=J,rt-=s.displayOriginX,nt-=s.displayOriginY,rt+=tt,x.applyITRS(rt,nt,Q,J,J),m.multiply(x,v);var Tt=N.u0,lt=N.v0,ot=N.u1,at=N.v1,dt=U,ft=R,ct=v.e,mt=v.f,Et=ft*v.c+v.e,Pt=ft*v.d+v.f,Ft=dt*v.a+ft*v.c+v.e,Yt=dt*v.b+ft*v.d+v.f,Vt=dt*v.a+v.e,$t=dt*v.b+v.f;st&&(ct=Math.round(ct),mt=Math.round(mt),Et=Math.round(Et),Pt=Math.round(Pt),Ft=Math.round(Ft),Yt=Math.round(Yt),Vt=Math.round(Vt),$t=Math.round($t)),l.shouldFlush(6)&&(l.flush(),O=l.setGameObject(s)),l.batchQuad(s,ct,mt,Et,Pt,Ft,Yt,Vt,$t,Tt,lt,ot,at,C,A,P,F,E,T,O)}}}g&&(l.flush(),e.popScissor()),e.pipelines.postBatch(s)}};p.exports=n},44616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82897),a=t(64937),r=t(89980),n=t(82173),e=t(68298),s=t(31476),u=t(74118),i=t(84557),o=new f({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(l,d,v,m,x,g,y){x===void 0&&(x=""),y===void 0&&(y=0),r.call(this,l,"BitmapText"),this.font=m;var T=this.scene.sys.cache.bitmapFont.get(m);T||console.warn("Invalid BitmapText key: "+m),this.fontData=T.data,this._text="",this._fontSize=g||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=y,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(d,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(h){return this._fontSize=h,this._dirty=!0,this},setLetterSpacing:function(h){return h===void 0&&(h=0),this._letterSpacing=h,this._dirty=!0,this},setLineSpacing:function(h){return h===void 0&&(h=0),this.lineSpacing=h,this},setText:function(h){return!h&&h!==0&&(h=""),Array.isArray(h)&&(h=h.join(`
`)),h!==this.text&&(this._text=h.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(h,l,d,v){return h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=.5),this.dropShadowX=h,this.dropShadowY=l,this.dropShadowColor=d,this.dropShadowAlpha=v,this},setCharacterTint:function(h,l,d,v,m,x,g){h===void 0&&(h=0),l===void 0&&(l=1),d===void 0&&(d=!1),v===void 0&&(v=-1),m===void 0&&(m=v,x=v,g=v);var y=this.text.length;l===-1&&(l=y),h<0&&(h=y+h),h=c(h,0,y-1);for(var T=c(h+l,h,y),E=this.charColors,C=h;C<T;C++){var A=E[C];if(v===-1)E[C]=null;else{var P=d?1:0;A?(A.tintEffect=P,A.tintTL=v,A.tintTR=m,A.tintBL=x,A.tintBR=g):E[C]={tintEffect:P,tintTL:v,tintTR:m,tintBL:x,tintBR:g}}}return this},setWordTint:function(h,l,d,v,m,x,g){l===void 0&&(l=1);for(var y=this.getTextBounds(),T=y.words,E=typeof h=="number",C=0,A=0;A<T.length;A++){var P=T[A];if((E&&A===h||!E&&P.word===h)&&(this.setCharacterTint(P.i,P.word.length,d,v,m,x,g),C++,C===l))return this}return this},getTextBounds:function(h){var l=this._bounds;return(this._dirty||h||this.scaleX!==l.scaleX||this.scaleY!==l.scaleY)&&(n(this,h,!0,l),this._dirty=!1),l},getCharacterAt:function(h,l,d){for(var v=this.getLocalPoint(h,l,null,d),m=this.getTextBounds(),x=m.characters,g=new u,y=0;y<x.length;y++){var T=x[y];if(g.setTo(T.x,T.t,T.r-T.x,T.b),g.contains(v.x,v.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(h,l,d){if(l===void 0&&(l=this._fontSize),d===void 0&&(d=this._align),h!==this.font){var v=this.scene.sys.cache.bitmapFont.get(h);v&&(this.font=h,this.fontData=v.data,this._fontSize=l,this._align=d,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),n(this,!1,!0,this._bounds))}return this},setMaxWidth:function(h,l){return this._maxWidth=h,this._dirty=!0,l!==void 0&&(this.wordWrapCharCode=l),this},align:{set:function(h){this._align=h,this._dirty=!0},get:function(){return this._align}},text:{set:function(h){this.setText(h)},get:function(){return this._text}},fontSize:{set:function(h){this._fontSize=h,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(h){this._letterSpacing=h,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(h){this._lineSpacing=h,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(h){this._maxWidth=h,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var h=a.ToJSON(this),l={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return h.data=l,h},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=e,o.ParseXMLBitmapFont=s,p.exports=o},97545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(49584),c=function(a,r,n,e){var s=r._text,u=s.length,i=a.currentContext;if(!(u===0||!f(a,i,r,n,e))){n.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,h=r.fontData.chars,l=r.fontData.lineHeight,d=r._letterSpacing,v=r._lineSpacing,m=0,x=0,g=0,y=null,T=0,E=0,C=0,A=0,P=0,F=0,O=null,I=0,G=o.source.image,z=o.cutX,X=o.cutY,H=r._fontSize/r.fontData.size,N=r._align,U=0,R=0,D=r.getTextBounds(!1);r.maxWidth>0&&(s=D.wrappedText,u=s.length);var B=r._bounds.lines;N===1?R=(B.longest-B.lengths[0])/2:N===2&&(R=B.longest-B.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var V=n.roundPixels,Y=0;Y<u;Y++){if(g=s.charCodeAt(Y),g===10){U++,N===1?R=(B.longest-B.lengths[U])/2:N===2&&(R=B.longest-B.lengths[U]),m=0,x+=l+v,O=null;continue}if(y=h[g],!!y){if(T=z+y.x,E=X+y.y,C=y.width,A=y.height,P=y.xOffset+m,F=y.yOffset+x,O!==null){var K=y.kerning[I];P+=K!==void 0?K:0}P*=H,F*=H,P+=R,m+=y.xAdvance+d+(K!==void 0?K:0),O=y,I=g,!(C===0||A===0||g===32)&&(V&&(P=Math.round(P),F=Math.round(F)),i.save(),i.translate(P,F),i.scale(H,H),i.drawImage(G,T,E,C,A,0,0,C,A),i.restore())}}i.restore()}};p.exports=c},95499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44616),c=t(88933),a=t(99325),r=t(20494),n=t(10850);a.register("bitmapText",function(e,s){e===void 0&&(e={});var u=n(e,"font",""),i=r(e,"text",""),o=r(e,"size",!1),h=n(e,"align",0),l=new f(this.scene,0,0,u,i,o,h);return s!==void 0&&(e.add=s),c(this.scene,l,e),l})},21797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44616),c=t(61286);c.register("bitmapText",function(a,r,n,e,s,u){return this.displayList.add(new f(this.scene,a,r,n,e,s,u))})},84557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(26372),a=t(97545),p.exports={renderWebGL:c,renderCanvas:a}},26372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8810),c=t(73329),a=t(75512),r=function(n,e,s,u){var i=e._text,o=i.length;if(o!==0){s.addToRenderList(e);var h=n.pipelines.set(e.pipeline,e),l=c(e,s,u).calc;n.pipelines.preBatch(e);var d=s.roundPixels,v=s.alpha,m=e.charColors,x=e.tintFill,g=a.getTintAppendFloatAlpha,y=g(e.tintTopLeft,v*e._alphaTL),T=g(e.tintTopRight,v*e._alphaTR),E=g(e.tintBottomLeft,v*e._alphaBL),C=g(e.tintBottomRight,v*e._alphaBR),A=e.frame.glTexture,P=h.setGameObject(e),F=e.getTextBounds(!1),O,I,G,z=F.characters,X=e.dropShadowX,H=e.dropShadowY,N=X!==0||H!==0;if(N){var U=e.dropShadowColor,R=e.dropShadowAlpha,D=g(U,v*R*e._alphaTL),B=g(U,v*R*e._alphaTR),V=g(U,v*R*e._alphaBL),Y=g(U,v*R*e._alphaBR);for(O=0;O<z.length;O++)I=z[O],G=I.glyph,!(I.code===32||G.width===0||G.height===0)&&f(h,e,I,G,X,H,l,d,D,B,V,Y,1,A,P)}for(O=0;O<z.length;O++)if(I=z[O],G=I.glyph,!(I.code===32||G.width===0||G.height===0))if(h.shouldFlush(6)&&(h.flush(),P=h.setGameObject(e)),m[I.i]){var K=m[I.i],$=K.tintEffect,J=g(K.tintTL,v*e._alphaTL),Q=g(K.tintTR,v*e._alphaTR),k=g(K.tintBL,v*e._alphaBL),q=g(K.tintBR,v*e._alphaBR);f(h,e,I,G,0,0,l,d,J,Q,k,q,$,A,P)}else f(h,e,I,G,0,0,l,d,y,T,E,C,x,A,P);n.pipelines.postBatch(e)}};p.exports=r},52816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92246),c=t(41664),a=t(56694),r=t(64937),n=t(82047),e=t(89980),s=t(71207),u=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,f],initialize:function(o,h,l,d,v){e.call(this,o,"Blitter"),this.setTexture(d,v),this.setPosition(h,l),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,o,h,l,d){l===void 0&&(l=!0),d===void 0&&(d=this.children.length),h===void 0?h=this.frame:h instanceof n||(h=this.texture.get(h));var v=new c(this,i,o,h,l);return this.children.addAt(v,d,!1),this.dirty=!0,v},createFromCallback:function(i,o,h,l){for(var d=this.createMultiple(o,h,l),v=0;v<d.length;v++){var m=d[v];i.call(this,m,v)}return d},createMultiple:function(i,o,h){o===void 0&&(o=this.frame.name),h===void 0&&(h=!0),Array.isArray(o)||(o=[o]);var l=[],d=this;return o.forEach(function(v){for(var m=0;m<i;m++)l.push(d.create(0,0,v,h))}),l},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=u},33177:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=f.getRenderList();if(r.length!==0){var n=t.currentContext,e=c.alpha*f.alpha;if(e!==0){c.addToRenderList(f),n.globalCompositeOperation=t.blendModes[f.blendMode],n.imageSmoothingEnabled=!f.frame.source.scaleMode;var s=f.x-c.scrollX*f.scrollFactorX,u=f.y-c.scrollY*f.scrollFactorY;n.save(),a&&a.copyToContext(n);for(var i=c.roundPixels,o=0;o<r.length;o++){var h=r[o],l=h.flipX||h.flipY,d=h.frame,v=d.canvasData,m=d.x,x=d.y,g=1,y=1,T=h.alpha*e;T!==0&&(n.globalAlpha=T,l?(h.flipX&&(g=-1,m-=v.width),h.flipY&&(y=-1,x-=v.height),v.width>0&&v.height>0&&(n.save(),n.translate(h.x+s,h.y+u),n.scale(g,y),n.drawImage(d.source.image,v.x,v.y,v.width,v.height,m,x,v.width,v.height),n.restore())):(i&&(m=Math.round(m),x=Math.round(x)),v.width>0&&v.height>0&&n.drawImage(d.source.image,v.x,v.y,v.width,v.height,m+h.x+s,x+h.y+u,v.width,v.height)))}n.restore()}}};p.exports=S},68452:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(52816),c=t(88933),a=t(99325),r=t(20494);a.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),u=r(n,"frame",null),i=new f(this.scene,0,0,s,u);return e!==void 0&&(n.add=e),c(this.scene,i,n),i})},38906:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(52816),c=t(61286);c.register("blitter",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},92246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(89165),a=t(33177),p.exports={renderWebGL:c,renderCanvas:a}},89165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(69360),c=t(75512),a=new f,r=function(n,e,s,u){var i=e.getRenderList(),o=s.alpha*e.alpha;if(!(i.length===0||o===0)){s.addToRenderList(e);var h=n.pipelines.set(this.pipeline,e),l=s.scrollX*e.scrollFactorX,d=s.scrollY*e.scrollFactorY,v=a.copyFrom(s.matrix);u&&(v.multiplyWithOffset(u,-l,-d),l=0,d=0);var m=e.x-l,x=e.y-d,g=-1,y=!1;n.pipelines.preBatch(e);for(var T=0;T<i.length;T++){var E=i[T],C=E.frame,A=E.alpha*o;if(A!==0){var P=C.width,F=C.height,O=m+E.x+C.x,I=x+E.y+C.y;E.flipX&&(P*=-1,O+=C.width),E.flipY&&(F*=-1,I+=C.height);var G=v.setQuad(O,I,O+P,I+F),z=c.getTintAppendFloatAlpha(E.tint,A);if(C.sourceIndex!==g){var X=h.setGameObject(e,C);g=C.sourceIndex}h.batchQuad(e,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],C.u0,C.v0,C.u1,C.v1,z,z,z,z,y,C.glTexture,X)&&(g=-1)}}n.pipelines.postBatch(e)}};p.exports=r},41664:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82047),a=new f({initialize:function(n,e,s,u,i){this.parent=n,this.x=e,this.y=s,this.frame=u,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof c&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=a},97123:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=f(r,0,1),this._alphaTR=f(n,0,1),this._alphaBL=f(e,0,1),this._alphaBR=f(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=f(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=~c:this.renderFlags|=c}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=f(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=c)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=f(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=c)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=f(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=c)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=f(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=c)}}};p.exports=a},15720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=f(r,0,1);this._alpha=n,n===0?this.renderFlags&=~c:this.renderFlags|=c}}};p.exports=a},69732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c={_blendMode:f.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=f[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};p.exports=c},28284:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,f){return this.width=t,this.height=f,this},setDisplaySize:function(t,f){return this.displayWidth=t,this.displayHeight=f,this}};p.exports=S},85293:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,f,c,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,f,c,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},14975:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=S},88677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(96910),a=t(72677),r=new f({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var u=s[e];if(u.controller===n){this.gameObject.removePostPipeline(u),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(a(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var u=this.gameObject.getPostPipeline(s);if(u)return Array.isArray(u)&&(u=u.pop()),u.controller=n,n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,u,i,o){return this.add(new c.Glow(this.gameObject,n,e,s,u),{quality:i,distance:o})},addShadow:function(n,e,s,u,i,o,h){return this.add(new c.Shadow(this.gameObject,n,e,s,u,i,o,h))},addPixelate:function(n){return this.add(new c.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,u){return this.add(new c.Vignette(this.gameObject,n,e,s,u))},addShine:function(n,e,s,u){return this.add(new c.Shine(this.gameObject,n,e,s,u))},addBlur:function(n,e,s,u,i,o){return this.add(new c.Blur(this.gameObject,n,e,s,u,i,o))},addGradient:function(n,e,s,u,i,o,h,l){return this.add(new c.Gradient(this.gameObject,n,e,s,u,i,o,h,l))},addBloom:function(n,e,s,u,i,o){return this.add(new c.Bloom(this.gameObject,n,e,s,u,i,o))},addColorMatrix:function(){return this.add(new c.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,u,i){return this.add(new c.Circle(this.gameObject,n,e,s,u,i))},addBarrel:function(n){return this.add(new c.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new c.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new c.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new c.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new c.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,u,i,o){return this.add(new c.Bokeh(this.gameObject,n,e,s,!0,u,i,o))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},92972:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,f){return this.flipX=t,this.flipY=f,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},80693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(2386),a=t(93736),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&c(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new f);var e,s,u,i,o,h,l,d;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),v.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),v.transformPoint(n.x,n.y,n),u=n.x,i=n.y,this.getBottomLeft(n),v.transformPoint(n.x,n.y,n),o=n.x,h=n.y,this.getBottomRight(n),v.transformPoint(n.x,n.y,n),l=n.x,d=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),u=n.x,i=n.y,this.getBottomLeft(n),o=n.x,h=n.y,this.getBottomRight(n),l=n.x,d=n.y;return n.x=Math.min(e,u,o,l),n.y=Math.min(s,i,h,d),n.width=Math.max(e,u,o,l)-n.x,n.height=Math.max(s,i,h,d)-n.y,n}};p.exports=r},39171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(76756),c=t(63037),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,u){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new f(this.scene,r,n,e,s,u)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new c(this.scene,r)}};p.exports=a},28072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,f){return t===void 0&&(t=.5),f===void 0&&(f=t),this.originX=t,this.originY=f,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,f){return t===void 0&&(t=0),f===void 0&&(f=t),this.displayOriginX=t,this.displayOriginY=f,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},54211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75606),c=t(63130),a=t(10850),r=t(55303),n=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,u){u===void 0&&(u=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,u&&this.startFollow(u),this},setRotateToPath:function(s,u){return u===void 0&&(u=0),this.rotateToPath=s,this.pathRotationOffset=u,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,u){s===void 0&&(s={}),u===void 0&&(u=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var o=c(s,"positionOnPath",!1);this.rotateToPath=c(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var h=a(s,"startAt",u);if(h&&(s.onStart=function(d){var v=d.data[0];v.progress=h,v.elapsed=v.duration*h;var m=v.ease(v.progress);v.current=v.start+(v.end-v.start)*m,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var l=this.path.getPoint(.1);this.rotation=Math.atan2(l.y-this.y,l.x-this.x)+f(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var u=s.data[0],i=this.pathDelta,o=this.pathVector;if(i.copy(o).negate(),u.state===r.COMPLETE){this.path.getPoint(u.end,o),i.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(u.state!==r.PLAYING_FORWARD&&u.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),o),i.add(o),o.add(this.pathOffset);var h=this.x,l=this.y;this.setPosition(o.x,o.y);var d=this.x-h,v=this.y-l;if(d===0&&v===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,d)+f(this.pathRotationOffset))}}};p.exports=e},58210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28699),c={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){a===void 0&&(a=n.default);var e=n.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var u=s.get(a);u&&(this.pipeline=u),r&&(this.pipelineData=n?f(r):r)}return this},setPipelineData:function(a,r){var n=this.pipelineData;return r===void 0?delete n[a]:n[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=c},44086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28699),c=t(88677),a=t(72677),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new c(this,!0),n&&(this.preFX=new c(this,!1))},setPostPipeline:function(n,e,s){var u=this.scene.sys.renderer;if(!u)return this;var i=u.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var h=i.getPostPipeline(n[o],this,e);h&&this.postPipelines.push(h)}e&&(this.postPipelineData=s?f(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,u=[],i=0;i<s.length;i++){var o=s[i];(e&&o.name===n||!e&&o instanceof n)&&u.push(o)}return u.length===1?u[0]:u},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,u=s.length-1;u>=0;u--){var i=s[u];(e&&i.name===n||!e&&i===n)&&(i.destroy(),a(s,u))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},45900:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,f){return f===void 0&&(f=t),this.scrollFactorX=t,this.scrollFactorY=f,this}};p.exports=S},31654:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setSize:function(t,f){return this.width=t,this.height=f,this},setDisplaySize:function(t,f){return this.displayWidth=t,this.displayHeight=f,this}};p.exports=S},82081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,n,e,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n,e,s)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof f?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=a},21850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var u=r;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof f?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=a},58072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,f,c,a){return t===void 0&&(t=16777215),f===void 0&&(f=t,c=t,a=t),this.tintTopLeft=t,this.tintTopRight=f,this.tintBottomLeft=c,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,f,c,a){return this.setTint(t,f,c,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},48129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(f.textureKey=t.texture.key,f.frameKey=t.frame.name),f};p.exports=S},56584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(69360),a=t(64462),r=t(35786),n=t(62138),e=t(93736),s=4,u={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~s:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~s:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*f.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*f.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,o,h,l){return i===void 0&&(i=0),o===void 0&&(o=i),h===void 0&&(h=0),l===void 0&&(l=0),this.x=i,this.y=o,this.z=h,this.w=l,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,o,h,l){return i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=this.scene.sys.scale.width),l===void 0&&(l=this.scene.sys.scale.height),this.x=i+Math.random()*h,this.y=o+Math.random()*l,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=i),this.scaleX=i,this.scaleY=o,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new c),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,o){i===void 0&&(i=new c);var h=this.parentContainer;if(!h)return this.getLocalTransformMatrix(i);for(o||(o=new c),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);h;)o.applyITRS(h.x,h.y,h._rotation,h._scaleX,h._scaleY),o.multiply(i,i),h=h.parentContainer;return i},getLocalPoint:function(i,o,h,l){h||(h=new e),l||(l=this.scene.sys.cameras.main);var d=l.scrollX,v=l.scrollY,m=i+d*this.scrollFactorX-d,x=o+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,x,h):a(m,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,h),this._originComponent&&(h.x+=this._displayOriginX,h.y+=this._displayOriginY),h},getParentRotation:function(){for(var i=0,o=this.parentContainer;o;)i+=o.rotation,o=o.parentContainer;return i}};p.exports=u},69360:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(83392),a=t(93736),r=new f({initialize:function(e,s,u,i,o,h){e===void 0&&(e=1),s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=1),o===void 0&&(o=0),h===void 0&&(h=0),this.matrix=new Float32Array([e,s,u,i,o,h,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],u=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):u||i?c.TAU-(i>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),u=this.matrix,i=u[0],o=u[1],h=u[2],l=u[3];return u[0]=i*s+h*e,u[1]=o*s+l*e,u[2]=i*-e+h*s,u[3]=o*-e+l*s,this},multiply:function(n,e){var s=this.matrix,u=n.matrix,i=s[0],o=s[1],h=s[2],l=s[3],d=s[4],v=s[5],m=u[0],x=u[1],g=u[2],y=u[3],T=u[4],E=u[5],C=e===void 0?s:e.matrix;return C[0]=m*i+x*h,C[1]=m*o+x*l,C[2]=g*i+y*h,C[3]=g*o+y*l,C[4]=T*i+E*h+d,C[5]=T*o+E*l+v,C},multiplyWithOffset:function(n,e,s){var u=this.matrix,i=n.matrix,o=u[0],h=u[1],l=u[2],d=u[3],v=u[4],m=u[5],x=e*o+s*l+v,g=e*h+s*d+m,y=i[0],T=i[1],E=i[2],C=i[3],A=i[4],P=i[5];return u[0]=y*o+T*l,u[1]=y*h+T*d,u[2]=E*o+C*l,u[3]=E*h+C*d,u[4]=A*o+P*l+x,u[5]=A*h+P*d+g,this},transform:function(n,e,s,u,i,o){var h=this.matrix,l=h[0],d=h[1],v=h[2],m=h[3],x=h[4],g=h[5];return h[0]=n*l+e*v,h[1]=n*d+e*m,h[2]=s*l+u*v,h[3]=s*d+u*m,h[4]=i*l+o*v+x,h[5]=i*d+o*m+g,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var u=this.matrix,i=u[0],o=u[1],h=u[2],l=u[3],d=u[4],v=u[5];return s.x=n*i+e*h+d,s.y=n*o+e*l+v,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],u=n[2],i=n[3],o=n[4],h=n[5],l=e*i-s*u;return n[0]=i/l,n[1]=-s/l,n[2]=-u/l,n[3]=e/l,n[4]=(u*h-i*o)/l,n[5]=-(e*h-s*o)/l,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,u,i,o){var h=this.matrix;return h[0]=n,h[1]=e,h[2]=s,h[3]=u,h[4]=i,h[5]=o,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],u=e[1],i=e[2],o=e[3],h=s*o-u*i;if(n.translateX=e[4],n.translateY=e[5],s||u){var l=Math.sqrt(s*s+u*u);n.rotation=u>0?Math.acos(s/l):-Math.acos(s/l),n.scaleX=l,n.scaleY=h/l}else if(i||o){var d=Math.sqrt(i*i+o*o);n.rotation=Math.PI*.5-(o>0?Math.acos(-i/d):-Math.acos(i/d)),n.scaleX=h/d,n.scaleY=d}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,u,i){var o=this.matrix,h=Math.sin(s),l=Math.cos(s);return o[4]=n,o[5]=e,o[0]=l*u,o[1]=h*u,o[2]=-h*i,o[3]=l*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new a);var u=this.matrix,i=u[0],o=u[1],h=u[2],l=u[3],d=u[4],v=u[5],m=1/(i*l+h*-o);return s.x=l*m*n+-h*m*e+(v*h-d*l)*m,s.y=i*m*e+-o*m*n+(-v*i+d*o)*m,s},setQuad:function(n,e,s,u,i,o){i===void 0&&(i=!1),o===void 0&&(o=this.quad);var h=this.matrix,l=h[0],d=h[1],v=h[2],m=h[3],x=h[4],g=h[5];return i?(o[0]=Math.round(n*l+e*v+x),o[1]=Math.round(n*d+e*m+g),o[2]=Math.round(n*l+u*v+x),o[3]=Math.round(n*d+u*m+g),o[4]=Math.round(s*l+u*v+x),o[5]=Math.round(s*d+u*m+g),o[6]=Math.round(s*l+e*v+x),o[7]=Math.round(s*d+e*m+g)):(o[0]=n*l+e*v+x,o[1]=n*d+e*m+g,o[2]=n*l+u*v+x,o[3]=n*d+u*m+g,o[4]=s*l+u*v+x,o[5]=s*d+u*m+g,o[6]=s*l+e*v+x,o[7]=s*d+e*m+g),o},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var u=this.getX(n,e);return s&&(u=Math.round(u)),u},getYRound:function(n,e,s){var u=this.getY(n,e);return s&&(u=Math.round(u)),u},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(f){f?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(f){return this.visible=f,this}};p.exports=t},64937:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59959),c=t(95723),a=t(56694),r=t(64937),n=t(56631),e=t(89980),s=t(74118),u=t(98524),i=t(58795),o=t(93736),h=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,u],initialize:function(d,v,m,x){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(v,m),this.setBlendMode(c.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(l){return l===void 0&&(l=!0),this.exclusive=l,this},getBounds:function(l){if(l===void 0&&(l=new s),l.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),v=d.transformPoint(this.x,this.y);l.setTo(v.x,v.y,0,0)}if(this.list.length>0){var m=this.list,x=new s,g=!1;l.setEmpty();for(var y=0;y<m.length;y++){var T=m[y];T.getBounds&&(T.getBounds(x),g?i(x,l,l):(l.setTo(x.x,x.y,x.width,x.height),g=!0))}}return l},addHandler:function(l){l.once(n.DESTROY,this.remove,this),this.exclusive&&(l.parentContainer&&l.parentContainer.remove(l),l.parentContainer=this,l.removeFromDisplayList(),l.addedToScene())},removeHandler:function(l){l.off(n.DESTROY,this.remove,this),this.exclusive&&(l.parentContainer=null,l.removedFromScene(),l.addToDisplayList())},pointToContainer:function(l,d){d===void 0&&(d=new o),this.parentContainer?this.parentContainer.pointToContainer(l,d):(d.x=l.x,d.y=l.y);var v=this.tempTransformMatrix;return v.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),v.invert(),v.transformPoint(l.x,l.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(l){return f.Add(this.list,l,this.maxSize,this.addHandler,this),this},addAt:function(l,d){return f.AddAt(this.list,l,d,this.maxSize,this.addHandler,this),this},getAt:function(l){return this.list[l]},getIndex:function(l){return this.list.indexOf(l)},sort:function(l,d){return l?(d===void 0&&(d=function(v,m){return v[l]-m[l]}),f.StableSort(this.list,d),this):this},getByName:function(l){return f.GetFirst(this.list,"name",l)},getRandom:function(l,d){return f.GetRandom(this.list,l,d)},getFirst:function(l,d,v,m){return f.GetFirst(this.list,l,d,v,m)},getAll:function(l,d,v,m){return f.GetAll(this.list,l,d,v,m)},count:function(l,d,v,m){return f.CountAllMatching(this.list,l,d,v,m)},swap:function(l,d){return f.Swap(this.list,l,d),this},moveTo:function(l,d){return f.MoveTo(this.list,l,d),this},moveAbove:function(l,d){return f.MoveAbove(this.list,l,d),this},moveBelow:function(l,d){return f.MoveBelow(this.list,l,d),this},remove:function(l,d){var v=f.Remove(this.list,l,this.removeHandler,this);if(d&&v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)v[m].destroy()}return this},removeAt:function(l,d){var v=f.RemoveAt(this.list,l,this.removeHandler,this);return d&&v&&v.destroy(),this},removeBetween:function(l,d,v){var m=f.RemoveBetween(this.list,l,d,this.removeHandler,this);if(v)for(var x=0;x<m.length;x++)m[x].destroy();return this},removeAll:function(l){var d=this.list;if(l){for(var v=0;v<d.length;v++)d[v]&&d[v].scene&&(d[v].off(n.DESTROY,this.remove,this),d[v].destroy());this.list=[]}else f.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(l){return f.BringToTop(this.list,l),this},sendToBack:function(l){return f.SendToBack(this.list,l),this},moveUp:function(l){return f.MoveUp(this.list,l),this},moveDown:function(l){return f.MoveDown(this.list,l),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(l,d,v){var m=f.Replace(this.list,l,d);return m&&(this.addHandler(d),this.removeHandler(l),v&&l.destroy()),this},exists:function(l){return this.list.indexOf(l)>-1},setAll:function(l,d,v,m){return f.SetAll(this.list,l,d,v,m),this},each:function(l,d){var v=[null],m,x=this.list.slice(),g=x.length;for(m=2;m<arguments.length;m++)v.push(arguments[m]);for(m=0;m<g;m++)v[0]=x[m],l.apply(d,v);return this},iterate:function(l,d){var v=[null],m;for(m=2;m<arguments.length;m++)v.push(arguments[m]);for(m=0;m<this.list.length;m++)v[0]=this.list[m],l.apply(d,v);return this},setScrollFactor:function(l,d,v){return d===void 0&&(d=l),v===void 0&&(v=!1),this.scrollFactorX=l,this.scrollFactorY=d,v&&(f.SetAll(this.list,"scrollFactorX",l),f.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=h},13916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f);var r=f.list;if(r.length!==0){var n=f.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(f.x,f.y),n.rotate(f.rotation),n.scale(f.scaleX,f.scaleY)):n.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var e=f.blendMode!==-1;e||t.setBlendMode(0);var s=f._alpha,u=f.scrollFactorX,i=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(t,null,c);for(var o=0;o<r.length;o++){var h=r[o];if(!!h.willRender(c)){var l=h.alpha,d=h.scrollFactorX,v=h.scrollFactorY;!e&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode),h.setScrollFactor(d*u,v*i),h.setAlpha(l*s),h.renderCanvas(t,h,c,n),h.setAlpha(l),h.setScrollFactor(d,v)}}f.mask&&f.mask.postRenderCanvas(t)}};p.exports=S},44516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(70339),a=t(99325),r=t(20494);a.register("container",function(n,e){n===void 0&&(n={});var s=r(n,"x",0),u=r(n,"y",0),i=r(n,"children",null),o=new c(this.scene,s,u,i);return e!==void 0&&(n.add=e),f(this.scene,o,n),o})},23400:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70339),c=t(61286);c.register("container",function(a,r,n){return this.displayList.add(new f(this.scene,a,r,n))})},98524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(36934),a=t(13916),p.exports={renderWebGL:c,renderCanvas:a}},36934:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f);var r=f.list,n=r.length;if(n!==0){var e=f.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(f.x,f.y),e.rotate(f.rotation),e.scale(f.scaleX,f.scaleY)):e.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),t.pipelines.preBatch(f);var s=f.blendMode!==-1;s||t.setBlendMode(0);for(var u=f.alpha,i=f.scrollFactorX,o=f.scrollFactorY,h=0;h<n;h++){var l=r[h];if(!!l.willRender(c)){var d,v,m,x;if(l.alphaTopLeft!==void 0)d=l.alphaTopLeft,v=l.alphaTopRight,m=l.alphaBottomLeft,x=l.alphaBottomRight;else{var g=l.alpha;d=g,v=g,m=g,x=g}var y=l.scrollFactorX,T=l.scrollFactorY;!s&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var E=l.mask;E&&E.preRenderWebGL(t,l,c);var C=l.type;C!==t.currentType&&(t.newType=!0,t.currentType=C),t.nextTypeMatch=h<n-1?r[h+1].type===t.currentType:!1,l.setScrollFactor(y*i,T*o),l.setAlpha(d*u,v*u,m*u,x*u),l.renderWebGL(t,l,c,e,f),l.setAlpha(d,v,m,x),l.setScrollFactor(y,T),E&&E.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(f)}};p.exports=S},2452:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(11603),r=t(89980),n=t(42911),e=t(55638),s=t(7599),u=t(51729),i=new f({Extends:r,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Origin,c.ScrollFactor,c.Transform,c.Visible,a],initialize:function(h,l,d,v,m,x){r.call(this,h,"DOMElement"),this.parent=h.sys.game.domContainer,this.cache=h.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(l,d),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),m,x):this.createElement(v,m,x):v&&this.setElement(v,m,x),h.sys.events.on(s.SLEEP,this.handleSceneEvent,this),h.sys.events.on(s.WAKE,this.handleSceneEvent,this),h.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var h=this.node,l=h.style;h&&(l.display=o.settings.visible?"block":"none")},setSkew:function(o,h){return o===void 0&&(o=0),h===void 0&&(h=o),this.skewX=o,this.skewY=h,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var h=0;h<o.length;h++)this.node.addEventListener(o[h],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var h=0;h<o.length;h++)this.node.removeEventListener(o[h],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,h,l){return this.setElement(document.createElement(o),h,l)},setElement:function(o,h,l){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,h&&n(h))for(var v in h)d.style[v]=h[v];else typeof h=="string"&&(d.style=h);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),l&&(d.innerText=l),this.updateSize()},createFromCache:function(o,h){var l=this.cache.get(o);return l&&this.createFromHTML(l,h),this},createFromHTML:function(o,h){h===void 0&&(h="div"),this.removeElement();var l=document.createElement(h);return this.node=l,l.style.zIndex="0",l.style.display="inline",l.style.position="absolute",l.phaser=this,this.parent&&this.parent.appendChild(l),l.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var o=this.node,h=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=h.width||0,this.displayHeight=h.height||0,this},getChildByProperty:function(o,h){if(this.node){for(var l=this.node.querySelectorAll("*"),d=0;d<l.length;d++)if(l[d][o]===h)return l[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,h=this.node;h&&o&&!o.willRender()&&(h.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});p.exports=i},66070:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(2452),c=t(89980),a=t(69360),r=new a,n=new a,e=new a,s=function(u,i,o,h){if(!!i.node){var l=i.node.style,d=i.scene.sys.settings;if(!l||!d.visible||c.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&o.id||i.parentContainer&&!i.parentContainer.willRender()){l.display="none";return}var v=i.parentContainer,m=o.alpha*i.alpha;v&&(m*=v.alpha);var x=r,g=n,y=e,T=0,E=0,C="0%",A="0%";h?(T=i.width*i.scaleX*i.originX,E=i.height*i.scaleY*i.originY,g.applyITRS(i.x-T,i.y-E,i.rotation,i.scaleX,i.scaleY),x.copyFrom(o.matrix),x.multiplyWithOffset(h,-o.scrollX*i.scrollFactorX,-o.scrollY*i.scrollFactorY),g.e=i.x-T,g.f=i.y-E,x.multiply(g,y)):(T=i.width*i.originX,E=i.height*i.originY,g.applyITRS(i.x-T,i.y-E,i.rotation,i.scaleX,i.scaleY),x.copyFrom(o.matrix),C=100*i.originX+"%",A=100*i.originY+"%",g.e-=o.scrollX*i.scrollFactorX,g.f-=o.scrollY*i.scrollFactorY,x.multiply(g,y)),i.transformOnly||(l.display="block",l.opacity=m,l.zIndex=i._depth,l.pointerEvents=i.pointerEvents,l.mixBlendMode=f[i._blendMode]),l.transform=y.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",l.transformOrigin=C+" "+A}};p.exports=s},66788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(38943),c=t(61286);c.register("dom",function(a,r,n,e,s){var u=new f(this.scene,a,r,n,e,s);return this.displayList.add(u),u})},11603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(66070),a=t(66070),p.exports={renderWebGL:c,renderCanvas:a}},65492:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},98398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},40239:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},17286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},31496:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},89587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},59792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},96342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},6017:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},49614:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},24418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},87318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},50009:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},61922:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},79501:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4052:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},54857:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},56631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(79394),n=new f({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.Origin,c.ScrollFactor,c.Size,c.Texture,c.Tint,c.Transform,c.Visible,r],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=n},96699:()=>{},41155:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(39419),c=t(61286);c.register("extern",function(){var a=new f(this.scene);return this.displayList.add(a),a})},79394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(81410),a=t(96699),p.exports={renderWebGL:c,renderCanvas:a}},81410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){a.pipelines.clear();var s=f(r,n,e).calc;r.render.call(r,a,n,s),a.pipelines.rebind()};p.exports=c},36266:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(51052),c=t(56694),a=t(36266),r=t(64937),n=t(95669),e=t(89980),s=t(72632),u=t(10850),i=t(83392),o=t(60898),h=new c({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,o],initialize:function(d,v){var m=u(v,"x",0),x=u(v,"y",0);e.call(this,d,"Graphics"),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(v)},setDefaultStyles:function(l){return u(l,"lineStyle",null)&&(this.defaultStrokeWidth=u(l,"lineStyle.width",1),this.defaultStrokeColor=u(l,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(l,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(l,"fillStyle",null)&&(this.defaultFillColor=u(l,"fillStyle.color",16777215),this.defaultFillAlpha=u(l,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(l,d,v){return v===void 0&&(v=1),this.commandBuffer.push(a.LINE_STYLE,l,d,v),this._lineWidth=l,this},fillStyle:function(l,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,l,d),this},fillGradientStyle:function(l,d,v,m,x,g,y,T){return x===void 0&&(x=1),g===void 0&&(g=x),y===void 0&&(y=x),T===void 0&&(T=x),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,x,g,y,T,l,d,v,m),this},lineGradientStyle:function(l,d,v,m,x,g){return g===void 0&&(g=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,l,g,d,v,m,x),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(l){return this.fillCircle(l.x,l.y,l.radius)},strokeCircleShape:function(l){return this.strokeCircle(l.x,l.y,l.radius)},fillCircle:function(l,d,v){return this.beginPath(),this.arc(l,d,v,0,i.PI2),this.fillPath(),this},strokeCircle:function(l,d,v){return this.beginPath(),this.arc(l,d,v,0,i.PI2),this.strokePath(),this},fillRectShape:function(l){return this.fillRect(l.x,l.y,l.width,l.height)},strokeRectShape:function(l){return this.strokeRect(l.x,l.y,l.width,l.height)},fillRect:function(l,d,v,m){return this.commandBuffer.push(a.FILL_RECT,l,d,v,m),this},strokeRect:function(l,d,v,m){var x=this._lineWidth/2,g=l-x,y=l+x;return this.beginPath(),this.moveTo(l,d),this.lineTo(l,d+m),this.strokePath(),this.beginPath(),this.moveTo(l+v,d),this.lineTo(l+v,d+m),this.strokePath(),this.beginPath(),this.moveTo(g,d),this.lineTo(y+v,d),this.strokePath(),this.beginPath(),this.moveTo(g,d+m),this.lineTo(y+v,d+m),this.strokePath(),this},fillRoundedRect:function(l,d,v,m,x){x===void 0&&(x=20);var g=x,y=x,T=x,E=x;typeof x!="number"&&(g=s(x,"tl",20),y=s(x,"tr",20),T=s(x,"bl",20),E=s(x,"br",20));var C=g>=0,A=y>=0,P=T>=0,F=E>=0;return g=Math.abs(g),y=Math.abs(y),T=Math.abs(T),E=Math.abs(E),this.beginPath(),this.moveTo(l+g,d),this.lineTo(l+v-y,d),A?this.arc(l+v-y,d+y,y,-i.TAU,0):this.arc(l+v,d,y,Math.PI,i.TAU,!0),this.lineTo(l+v,d+m-E),F?this.arc(l+v-E,d+m-E,E,0,i.TAU):this.arc(l+v,d+m,E,-i.TAU,Math.PI,!0),this.lineTo(l+T,d+m),P?this.arc(l+T,d+m-T,T,i.TAU,Math.PI):this.arc(l,d+m,T,0,-i.TAU,!0),this.lineTo(l,d+g),C?this.arc(l+g,d+g,g,-Math.PI,-i.TAU):this.arc(l,d,g,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(l,d,v,m,x){x===void 0&&(x=20);var g=x,y=x,T=x,E=x,C=Math.min(v,m)/2;typeof x!="number"&&(g=s(x,"tl",20),y=s(x,"tr",20),T=s(x,"bl",20),E=s(x,"br",20));var A=g>=0,P=y>=0,F=T>=0,O=E>=0;return g=Math.min(Math.abs(g),C),y=Math.min(Math.abs(y),C),T=Math.min(Math.abs(T),C),E=Math.min(Math.abs(E),C),this.beginPath(),this.moveTo(l+g,d),this.lineTo(l+v-y,d),this.moveTo(l+v-y,d),P?this.arc(l+v-y,d+y,y,-i.TAU,0):this.arc(l+v,d,y,Math.PI,i.TAU,!0),this.lineTo(l+v,d+m-E),this.moveTo(l+v,d+m-E),O?this.arc(l+v-E,d+m-E,E,0,i.TAU):this.arc(l+v,d+m,E,-i.TAU,Math.PI,!0),this.lineTo(l+T,d+m),this.moveTo(l+T,d+m),F?this.arc(l+T,d+m-T,T,i.TAU,Math.PI):this.arc(l,d+m,T,0,-i.TAU,!0),this.lineTo(l,d+g),this.moveTo(l,d+g),A?this.arc(l+g,d+g,g,-Math.PI,-i.TAU):this.arc(l,d,g,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(l,d){return this.fillPoint(l.x,l.y,d)},fillPoint:function(l,d,v){return!v||v<1?v=1:(l-=v/2,d-=v/2),this.commandBuffer.push(a.FILL_RECT,l,d,v,v),this},fillTriangleShape:function(l){return this.fillTriangle(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)},strokeTriangleShape:function(l){return this.strokeTriangle(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)},fillTriangle:function(l,d,v,m,x,g){return this.commandBuffer.push(a.FILL_TRIANGLE,l,d,v,m,x,g),this},strokeTriangle:function(l,d,v,m,x,g){return this.commandBuffer.push(a.STROKE_TRIANGLE,l,d,v,m,x,g),this},strokeLineShape:function(l){return this.lineBetween(l.x1,l.y1,l.x2,l.y2)},lineBetween:function(l,d,v,m){return this.beginPath(),this.moveTo(l,d),this.lineTo(v,m),this.strokePath(),this},lineTo:function(l,d){return this.commandBuffer.push(a.LINE_TO,l,d),this},moveTo:function(l,d){return this.commandBuffer.push(a.MOVE_TO,l,d),this},strokePoints:function(l,d,v,m){d===void 0&&(d=!1),v===void 0&&(v=!1),m===void 0&&(m=l.length),this.beginPath(),this.moveTo(l[0].x,l[0].y);for(var x=1;x<m;x++)this.lineTo(l[x].x,l[x].y);return d&&this.lineTo(l[0].x,l[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(l,d,v,m){d===void 0&&(d=!1),v===void 0&&(v=!1),m===void 0&&(m=l.length),this.beginPath(),this.moveTo(l[0].x,l[0].y);for(var x=1;x<m;x++)this.lineTo(l[x].x,l[x].y);return d&&this.lineTo(l[0].x,l[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(l,d){d===void 0&&(d=32);var v=l.getPoints(d);return this.strokePoints(v,!0)},strokeEllipse:function(l,d,v,m,x){x===void 0&&(x=32);var g=new n(l,d,v,m),y=g.getPoints(x);return this.strokePoints(y,!0)},fillEllipseShape:function(l,d){d===void 0&&(d=32);var v=l.getPoints(d);return this.fillPoints(v,!0)},fillEllipse:function(l,d,v,m,x){x===void 0&&(x=32);var g=new n(l,d,v,m),y=g.getPoints(x);return this.fillPoints(y,!0)},arc:function(l,d,v,m,x,g,y){return g===void 0&&(g=!1),y===void 0&&(y=0),this.commandBuffer.push(a.ARC,l,d,v,m,x,g,y),this},slice:function(l,d,v,m,x,g,y){return g===void 0&&(g=!1),y===void 0&&(y=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,l,d),this.commandBuffer.push(a.ARC,l,d,v,m,x,g,y),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(l,d){return this.commandBuffer.push(a.TRANSLATE,l,d),this},scaleCanvas:function(l,d){return this.commandBuffer.push(a.SCALE,l,d),this},rotateCanvas:function(l){return this.commandBuffer.push(a.ROTATE,l),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(l,d,v){var m=this.scene.sys,x=m.game.renderer;d===void 0&&(d=m.scale.width),v===void 0&&(v=m.scale.height),h.TargetCamera.setScene(this.scene),h.TargetCamera.setViewport(0,0,d,v),h.TargetCamera.scrollX=this.x,h.TargetCamera.scrollY=this.y;var g,y,T={willReadFrequently:!0};if(typeof l=="string")if(m.textures.exists(l)){g=m.textures.get(l);var E=g.getSourceImage();E instanceof HTMLCanvasElement&&(y=E.getContext("2d",T))}else g=m.textures.createCanvas(l,d,v),y=g.getSourceImage().getContext("2d",T);else l instanceof HTMLCanvasElement&&(y=l.getContext("2d",T));return y&&(this.renderCanvas(x,this,h.TargetCamera,null,y,!1),g&&g.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});h.TargetCamera=new f,p.exports=h},91543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36266),c=t(49584),a=function(r,n,e,s,u,i){var o=n.commandBuffer,h=o.length,l=u||r.currentContext;if(!(h===0||!c(r,l,n,e,s))){e.addToRenderList(n);var d=1,v=1,m=0,x=0,g=1,y=0,T=0,E=0;l.beginPath();for(var C=0;C<h;++C){var A=o[C];switch(A){case f.ARC:l.arc(o[C+1],o[C+2],o[C+3],o[C+4],o[C+5],o[C+6]),C+=7;break;case f.LINE_STYLE:g=o[C+1],m=o[C+2],d=o[C+3],y=(m&16711680)>>>16,T=(m&65280)>>>8,E=m&255,l.strokeStyle="rgba("+y+","+T+","+E+","+d+")",l.lineWidth=g,C+=3;break;case f.FILL_STYLE:x=o[C+1],v=o[C+2],y=(x&16711680)>>>16,T=(x&65280)>>>8,E=x&255,l.fillStyle="rgba("+y+","+T+","+E+","+v+")",C+=2;break;case f.BEGIN_PATH:l.beginPath();break;case f.CLOSE_PATH:l.closePath();break;case f.FILL_PATH:i||l.fill();break;case f.STROKE_PATH:i||l.stroke();break;case f.FILL_RECT:i?l.rect(o[C+1],o[C+2],o[C+3],o[C+4]):l.fillRect(o[C+1],o[C+2],o[C+3],o[C+4]),C+=4;break;case f.FILL_TRIANGLE:l.beginPath(),l.moveTo(o[C+1],o[C+2]),l.lineTo(o[C+3],o[C+4]),l.lineTo(o[C+5],o[C+6]),l.closePath(),i||l.fill(),C+=6;break;case f.STROKE_TRIANGLE:l.beginPath(),l.moveTo(o[C+1],o[C+2]),l.lineTo(o[C+3],o[C+4]),l.lineTo(o[C+5],o[C+6]),l.closePath(),i||l.stroke(),C+=6;break;case f.LINE_TO:l.lineTo(o[C+1],o[C+2]),C+=2;break;case f.MOVE_TO:l.moveTo(o[C+1],o[C+2]),C+=2;break;case f.LINE_FX_TO:l.lineTo(o[C+1],o[C+2]),C+=5;break;case f.MOVE_FX_TO:l.moveTo(o[C+1],o[C+2]),C+=5;break;case f.SAVE:l.save();break;case f.RESTORE:l.restore();break;case f.TRANSLATE:l.translate(o[C+1],o[C+2]),C+=2;break;case f.SCALE:l.scale(o[C+1],o[C+2]),C+=2;break;case f.ROTATE:l.rotate(o[C+1]),C+=1;break;case f.GRADIENT_FILL_STYLE:C+=5;break;case f.GRADIENT_LINE_STYLE:C+=6;break}}l.restore()}};p.exports=a},41286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(33182);f.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var n=new c(this.scene,a);return a.add&&this.scene.sys.displayList.add(n),n})},13122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(33182),c=t(61286);c.register("graphics",function(a){return this.displayList.add(new f(this.scene,a))})},60898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(34429),a=t(91543),a=t(91543),p.exports={renderWebGL:c,renderCanvas:a}},34429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(36266),c=t(73329),a=t(69360),r=t(75512),n=function(o,h,l){this.x=o,this.y=h,this.width=l},e=function(o,h,l){this.points=[],this.pointsLength=1,this.points[0]=new n(o,h,l)},s=[],u=new a,i=function(o,h,l,d){if(h.commandBuffer.length!==0){l.addToRenderList(h);var v=o.pipelines.set(h.pipeline,h);o.pipelines.preBatch(h);for(var m=c(h,l,d).calc,x=u.loadIdentity(),g=h.commandBuffer,y=l.alpha*h.alpha,T=1,E=v.fillTint,C=v.strokeTint,A=0,P=0,F=0,O=.01,I=Math.PI*2,G,z=[],X=0,H=!0,N=null,U=r.getTintAppendFloatAlpha,R=0;R<g.length;R++)switch(G=g[R],G){case f.BEGIN_PATH:{z.length=0,N=null,H=!0;break}case f.CLOSE_PATH:{H=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case f.FILL_PATH:{for(X=0;X<z.length;X++)v.batchFillPath(z[X].points,x,m);break}case f.STROKE_PATH:{for(X=0;X<z.length;X++)v.batchStrokePath(z[X].points,T,H,x,m);break}case f.LINE_STYLE:{T=g[++R];var D=g[++R],B=g[++R]*y,V=U(D,B);C.TL=V,C.TR=V,C.BL=V,C.BR=V;break}case f.FILL_STYLE:{var Y=g[++R],K=g[++R]*y,$=U(Y,K);E.TL=$,E.TR=$,E.BL=$,E.BR=$;break}case f.GRADIENT_FILL_STYLE:{var J=g[++R]*y,Q=g[++R]*y,k=g[++R]*y,q=g[++R]*y;E.TL=U(g[++R],J),E.TR=U(g[++R],Q),E.BL=U(g[++R],k),E.BR=U(g[++R],q);break}case f.GRADIENT_LINE_STYLE:{T=g[++R];var tt=g[++R]*y;C.TL=U(g[++R],tt),C.TR=U(g[++R],tt),C.BL=U(g[++R],tt),C.BR=U(g[++R],tt);break}case f.ARC:{var _=0,it=g[++R],st=g[++R],ht=g[++R],ut=g[++R],et=g[++R],rt=g[++R],nt=g[++R];for(et-=ut,rt?et<-I?et=-I:et>0&&(et=-I+et%I):et>I?et=I:et<0&&(et=I+et%I),N===null&&(N=new e(it+Math.cos(ut)*ht,st+Math.sin(ut)*ht,T),z.push(N),_+=O);_<1+nt;)F=et*_+ut,A=it+Math.cos(F)*ht,P=st+Math.sin(F)*ht,N.points.push(new n(A,P,T)),_+=O;F=et+ut,A=it+Math.cos(F)*ht,P=st+Math.sin(F)*ht,N.points.push(new n(A,P,T));break}case f.FILL_RECT:{v.batchFillRect(g[++R],g[++R],g[++R],g[++R],x,m);break}case f.FILL_TRIANGLE:{v.batchFillTriangle(g[++R],g[++R],g[++R],g[++R],g[++R],g[++R],x,m);break}case f.STROKE_TRIANGLE:{v.batchStrokeTriangle(g[++R],g[++R],g[++R],g[++R],g[++R],g[++R],T,x,m);break}case f.LINE_TO:{N!==null?N.points.push(new n(g[++R],g[++R],T)):(N=new e(g[++R],g[++R],T),z.push(N));break}case f.MOVE_TO:{N=new e(g[++R],g[++R],T),z.push(N);break}case f.SAVE:{s.push(x.copyToArray());break}case f.RESTORE:{x.copyFromArray(s.pop());break}case f.TRANSLATE:{it=g[++R],st=g[++R],x.translate(it,st);break}case f.SCALE:{it=g[++R],st=g[++R],x.scale(it,st);break}case f.ROTATE:{x.rotate(g[++R]);break}}o.pipelines.postBatch(h)}};p.exports=i},59192:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83979),c=t(56694),a=t(56631),r=t(6659),n=t(71608),e=t(72632),s=t(10850),u=t(19256),i=t(42911),o=t(75757),h=t(58403),l=t(13747),d=new c({Extends:r,initialize:function(m,x,g){r.call(this),g?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?i(x[0])&&(g=x,x=null):i(x)&&(g=x,x=null),this.scene=m,this.children=new h,this.isParent=!0,this.type="Group",this.classType=e(g,"classType",l),this.name=e(g,"name",""),this.active=e(g,"active",!0),this.maxSize=e(g,"maxSize",-1),this.defaultKey=e(g,"defaultKey",null),this.defaultFrame=e(g,"defaultFrame",null),this.runChildUpdate=e(g,"runChildUpdate",!1),this.createCallback=e(g,"createCallback",null),this.removeCallback=e(g,"removeCallback",null),this.createMultipleCallback=e(g,"createMultipleCallback",null),this.internalCreateCallback=e(g,"internalCreateCallback",null),this.internalRemoveCallback=e(g,"internalRemoveCallback",null),x&&this.addMultiple(x),g&&this.createMultiple(g),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,m,x,g,y,T){if(v===void 0&&(v=0),m===void 0&&(m=0),x===void 0&&(x=this.defaultKey),g===void 0&&(g=this.defaultFrame),y===void 0&&(y=!0),T===void 0&&(T=!0),this.isFull())return null;var E=new this.classType(this.scene,v,m,x,g);return E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList(),E.visible=y,E.setActive(T),this.add(E),E},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var m=[];if(v[0].key)for(var x=0;x<v.length;x++){var g=this.createFromConfig(v[x]);m=m.concat(g)}return m},createFromConfig:function(v){if(this.isFull())return[];this.classType=e(v,"classType",this.classType);var m=e(v,"key",void 0),x=e(v,"frame",null),g=e(v,"visible",!0),y=e(v,"active",!0),T=[];if(m===void 0)return T;Array.isArray(m)||(m=[m]),Array.isArray(x)||(x=[x]);var E=e(v,"repeat",0),C=e(v,"randomKey",!1),A=e(v,"randomFrame",!1),P=e(v,"yoyo",!1),F=e(v,"quantity",!1),O=e(v,"frameQuantity",1),I=e(v,"max",0),G=o(m,x,{max:I,qty:F||O,random:C,randomB:A,repeat:E,yoyo:P});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback),v.internalCreateCallback&&(this.internalCreateCallback=v.internalCreateCallback),v.internalRemoveCallback&&(this.internalRemoveCallback=v.internalRemoveCallback);for(var z=0;z<G.length;z++){var X=this.create(0,0,G[z].a,G[z].b,g,y);if(!X)break;T.push(X)}if(u(v,"setXY")){var H=s(v,"setXY.x",0),N=s(v,"setXY.y",0),U=s(v,"setXY.stepX",0),R=s(v,"setXY.stepY",0);f.SetXY(T,H,N,U,R)}if(u(v,"setRotation")){var D=s(v,"setRotation.value",0),B=s(v,"setRotation.step",0);f.SetRotation(T,D,B)}if(u(v,"setScale")){var V=s(v,"setScale.x",1),Y=s(v,"setScale.y",V),K=s(v,"setScale.stepX",0),$=s(v,"setScale.stepY",0);f.SetScale(T,V,Y,K,$)}if(u(v,"setOrigin")){var J=s(v,"setOrigin.x",.5),Q=s(v,"setOrigin.y",J),k=s(v,"setOrigin.stepX",0),q=s(v,"setOrigin.stepY",0);f.SetOrigin(T,J,Q,k,q)}if(u(v,"setAlpha")){var tt=s(v,"setAlpha.value",1),_=s(v,"setAlpha.step",0);f.SetAlpha(T,tt,_)}if(u(v,"setDepth")){var it=s(v,"setDepth.value",0),st=s(v,"setDepth.step",0);f.SetDepth(T,it,st)}if(u(v,"setScrollFactor")){var ht=s(v,"setScrollFactor.x",1),ut=s(v,"setScrollFactor.y",ht),et=s(v,"setScrollFactor.stepX",0),rt=s(v,"setScrollFactor.stepY",0);f.SetScrollFactor(T,ht,ut,et,rt)}var nt=e(v,"hitArea",null),pt=e(v,"hitAreaCallback",null);nt&&f.SetHitArea(T,nt,pt);var gt=e(v,"gridAlign",!1);return gt&&f.GridAlign(T,gt),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(v,m){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),g=0;g<x.length;g++){var y=x[g];y.active&&y.update(v,m)}},add:function(v,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),m&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(a.DESTROY,this.remove,this),this)},addMultiple:function(v,m){if(m===void 0&&(m=!1),Array.isArray(v))for(var x=0;x<v.length;x++)this.add(v[x],m);return this},remove:function(v,m,x){return m===void 0&&(m=!1),x===void 0&&(x=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(a.DESTROY,this.remove,this),x?v.destroy():m&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1);for(var x=this.children,g=0;g<x.size;g++){var y=x.entries[g];y.off(a.DESTROY,this.remove,this),m?y.destroy():v&&(y.removeFromDisplayList(),y.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,m,x,g){return n(this.children.entries,v,m,x,g)},getFirst:function(v,m,x,g,y,T,E){return this.getHandler(!0,1,v,m,x,g,y,T,E)},getFirstNth:function(v,m,x,g,y,T,E,C){return this.getHandler(!0,v,m,x,g,y,T,E,C)},getLast:function(v,m,x,g,y,T,E){return this.getHandler(!1,1,v,m,x,g,y,T,E)},getLastNth:function(v,m,x,g,y,T,E,C){return this.getHandler(!1,v,m,x,g,y,T,E,C)},getHandler:function(v,m,x,g,y,T,E,C,A){x===void 0&&(x=!1),g===void 0&&(g=!1);var P,F,O=0,I=this.children.entries;if(v)for(F=0;F<I.length;F++)if(P=I[F],P.active===x){if(O++,O===m)break}else P=null;else for(F=I.length-1;F>=0;F--)if(P=I[F],P.active===x){if(O++,O===m)break}else P=null;return P?(typeof y=="number"&&(P.x=y),typeof T=="number"&&(P.y=T),P):g?this.create(y,T,E,C,A):null},get:function(v,m,x,g,y){return this.getFirst(!1,!0,v,m,x,g,y)},getFirstAlive:function(v,m,x,g,y,T){return this.getFirst(!0,v,m,x,g,y,T)},getFirstDead:function(v,m,x,g,y,T){return this.getFirst(!1,v,m,x,g,y,T)},playAnimation:function(v,m){return f.PlayAnimation(this.children.entries,v,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var m=0,x=0;x<this.children.size;x++)this.children.entries[x].active===v&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,m,x,g,y){return f.PropertyValueSet(this.children.entries,v,m,x,g,y),this},propertyValueInc:function(v,m,x,g,y){return f.PropertyValueInc(this.children.entries,v,m,x,g,y),this},setX:function(v,m){return f.SetX(this.children.entries,v,m),this},setY:function(v,m){return f.SetY(this.children.entries,v,m),this},setXY:function(v,m,x,g){return f.SetXY(this.children.entries,v,m,x,g),this},incX:function(v,m){return f.IncX(this.children.entries,v,m),this},incY:function(v,m){return f.IncY(this.children.entries,v,m),this},incXY:function(v,m,x,g){return f.IncXY(this.children.entries,v,m,x,g),this},shiftPosition:function(v,m,x){return f.ShiftPosition(this.children.entries,v,m,x),this},angle:function(v,m){return f.Angle(this.children.entries,v,m),this},rotate:function(v,m){return f.Rotate(this.children.entries,v,m),this},rotateAround:function(v,m){return f.RotateAround(this.children.entries,v,m),this},rotateAroundDistance:function(v,m,x){return f.RotateAroundDistance(this.children.entries,v,m,x),this},setAlpha:function(v,m){return f.SetAlpha(this.children.entries,v,m),this},setTint:function(v,m,x,g){return f.SetTint(this.children.entries,v,m,x,g),this},setOrigin:function(v,m,x,g){return f.SetOrigin(this.children.entries,v,m,x,g),this},scaleX:function(v,m){return f.ScaleX(this.children.entries,v,m),this},scaleY:function(v,m){return f.ScaleY(this.children.entries,v,m),this},scaleXY:function(v,m,x,g){return f.ScaleXY(this.children.entries,v,m,x,g),this},setDepth:function(v,m){return f.SetDepth(this.children.entries,v,m),this},setBlendMode:function(v){return f.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,m){return f.SetHitArea(this.children.entries,v,m),this},shuffle:function(){return f.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,m,x){return f.SetVisible(this.children.entries,v,m,x),this},toggleVisible:function(){return f.ToggleVisible(this.children.entries),this},destroy:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,v),this.scene=void 0,this.children=void 0)}});p.exports=d},61295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(59192);f.register("group",function(a){return new c(this.scene,null,a)})},62598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59192),c=t(61286);c.register("group",function(a,r){return this.updateList.add(new f(this.scene,a,r))})},1539:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(57322),n=new f({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,r],initialize:function(s,u,i,o,h){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,h),this.setPosition(u,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},57786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),t.batchSprite(f,f.frame,c,a)};p.exports=S},83556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(1539);c.register("image",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"frame",null),i=new r(this.scene,0,0,s,u);return e!==void 0&&(n.add=e),f(this.scene,i,n),i})},20927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1539),c=t(61286);c.register("image",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},57322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(59390),a=t(57786),p.exports={renderWebGL:c,renderCanvas:a}},59390:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),this.pipeline.batchSprite(f,c,a)};p.exports=S},48013:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};f.Shader=t(27902),f.Mesh=t(83321),f.NineSlice=t(44139),f.PointLight=t(13171),f.Plane=t(33412),f.Factories.Shader=t(51979),f.Factories.Mesh=t(8767),f.Factories.NineSlice=t(53778),f.Factories.PointLight=t(91201),f.Factories.Plane=t(58322),f.Creators.Shader=t(13908),f.Creators.Mesh=t(41839),f.Creators.NineSlice=t(40964),f.Creators.PointLight=t(162),f.Creators.Plane=t(10912),f.Light=t(14455),f.LightsManager=t(26193),f.LightsPlugin=t(50296),p.exports=f},85305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(56694),a=t(64937),r=t(48129),n=t(81078),e=t(6659),s=t(56631),u=t(71207),i=t(47427),o=t(58010),h=t(7599),l=t(17922),d=new c({Extends:u,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,o],initialize:function(m,x){u.call(this,m),e.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),x&&this.add(x),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(v,m){return this.data||(this.data=new n(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new n(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new n(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new n(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},add:function(v){return u.prototype.add.call(this,v),this},remove:function(v,m){var x=u.prototype.remove.call(this,v);if(m&&x){Array.isArray(x)||(x=[x]);for(var g=0;g<x.length;g++)x[g].destroy()}return this},removeAll:function(v){var m=this.list;if(v){for(var x=0;x<m.length;x++)m[x]&&m[x].scene&&(m[x].off(s.DESTROY,this.remove,this),m[x].destroy());this.list=[]}else i(m,0,m.length,this.removeChildCallback,this);return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,x=[];m&&(x.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return x.unshift(this.displayList.getIndex(v)),x},addChildCallback:function(v){v.once(s.DESTROY,this.remove,this),v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(s.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){v.off(s.DESTROY,this.remove,this),this.queueDepthSort(),v.displayList=null,v.emit(s.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),v.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=d},834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=f.list;if(a.length!==0){f.depthSort();var r=f.blendMode!==-1;r||t.setBlendMode(0);var n=f._alpha;f.mask&&f.mask.preRenderCanvas(t,null,c);for(var e=0;e<a.length;e++){var s=a[e];if(!!s.willRender(c)){var u=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(u*n),s.renderCanvas(t,s,c),s.setAlpha(u)}}f.mask&&f.mask.postRenderCanvas(t)}};p.exports=S},56378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(85305),a=t(99325),r=t(20494);a.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),u=new c(this.scene,s);return e!==void 0&&(n.add=e),f(this.scene,u,n),u})},17676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85305),c=t(61286);c.register("layer",function(a){return this.displayList.add(new f(this.scene,a))})},58010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(17576),a=t(834),p.exports={renderWebGL:c,renderCanvas:a}},17576:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=f.list,r=a.length;if(r!==0){f.depthSort(),t.pipelines.preBatch(f);var n=f.blendMode!==-1;n||t.setBlendMode(0);for(var e=f.alpha,s=0;s<r;s++){var u=a[s];if(!!u.willRender(c)){var i,o,h,l;if(u.alphaTopLeft!==void 0)i=u.alphaTopLeft,o=u.alphaTopRight,h=u.alphaBottomLeft,l=u.alphaBottomRight;else{var d=u.alpha;i=d,o=d,h=d,l=d}!n&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var v=u.mask;v&&v.preRenderWebGL(t,u,c);var m=u.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=s<r-1?a[s+1].type===t.currentType:!1,u.setAlpha(i*e,o*e,h*e,l*e),u.renderWebGL(t,u,c),u.setAlpha(i,o,h,l),v&&v.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(f)}};p.exports=S},14455:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=t(56694),a=t(64937),r=t(39298),n=t(75512),e=new c({Extends:f,Mixins:[a.Origin,a.ScrollFactor,a.Transform,a.Visible],initialize:function(u,i,o,h,l,d,v){f.call(this,u,i,o),this.color=new r(h,l,d),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var u=n.getFloatsFromUintRGB(s);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,p.exports=e},26193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26535),c=t(56694),a=t(53996),r=t(14455),n=t(13171),e=t(39298),s=t(72677),u=t(17922),i=t(75512),o=new c({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(h,l,d,v,m,x){return this.systems.displayList.add(new n(this.scene,h,l,d,v,m,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(h){for(var l=this.lights,d=h.worldView,v=[],m=0;m<l.length;m++){var x=l[m];x.willRender(h)&&f(x,d)&&v.push({light:x,distance:a(x.x,x.y,d.centerX,d.centerY)})}return v.length>this.maxLights&&(u(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(h,l){return h.distance>=l.distance},setAmbientColor:function(h){var l=i.getFloatsFromUintRGB(h);return this.ambientColor.set(l[0],l[1],l[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(h,l,d,v,m){h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=128),v===void 0&&(v=16777215),m===void 0&&(m=1);var x=i.getFloatsFromUintRGB(v),g=new r(h,l,d,x[0],x[1],x[2],m);return this.lights.push(g),g},removeLight:function(h){var l=this.lights.indexOf(h);return l>=0&&s(this.lights,l),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=o},50296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(26193),a=t(91963),r=t(7599),n=new f({Extends:c,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),c.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",n,"lights"),p.exports=n},83321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(75606),r=t(18693),n=t(89980),e=t(53267),s=t(67623),u=t(73329),i=t(16650),o=t(23464),h=t(23701),l=t(17922),d=t(70015),v=t(85769),m=new f({Extends:n,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,o],initialize:function(g,y,T,E,C,A,P,F,O,I,G,z){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E="__WHITE"),n.call(this,g,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var X=g.sys.renderer;this.setPosition(y,T),this.setTexture(E,C),this.setSize(X.width,X.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(X.width,X.height),A&&this.addVertices(A,P,F,O,I,G,z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(d.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=d.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,g,y,T,E){return y===void 0&&(y=45),T===void 0&&(T=.01),E===void 0&&(E=1e3),this.fov=y,this.projectionMatrix.perspective(a(y),x/g,T,E),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,g,y,T){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),g===void 0&&(g=1),y===void 0&&(y=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-g,g,y,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,g,y,T,E,C,A,P,F){var O=this.scene.sys.cache.obj.get(x),I;return O&&(I=e(O,this,g,y,T,E,C,A,P,F)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,g){return x.depth-g.depth},depthSort:function(){return l(this.faces,this.sortByDepth),this},addVertex:function(x,g,y,T,E,C,A){var P=new v(x,g,y,T,E,C,A);return this.vertices.push(P),P},addFace:function(x,g,y){var T=new r(x,g,y);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(x,g,y,T,E,C,A){var P=s(x,g,y,T,E,C,A);return P?(this.faces=this.faces.concat(P.faces),this.vertices=this.vertices.concat(P.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,g,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=u(this,y).calc,E=this.faces,C=0;C<E.length;C++){var A=E[C];if(A.contains(x,g,T))return!0}return!1},getFaceAt:function(x,g,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=u(this,y).calc,E=this.faces,C=[],A=0;A<E.length;A++){var P=E[A];P.contains(x,g,T)&&C.push(P)}return l(C,this.sortByDepth)},setDebug:function(x,g){return this.debugGraphic=x,!x&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,g=this.modelRotation,y=this.modelScale,T=this.dirtyCache,E=x.x,C=x.y,A=x.z,P=g.x,F=g.y,O=g.z,I=y.x,G=y.y,z=y.z,X=this.getFaceCount(),H=T[0],N=T[1],U=T[2],R=T[3],D=T[4],B=T[5],V=T[6],Y=T[7],K=T[8],$=T[9];return T[0]=E,T[1]=C,T[2]=A,T[3]=P,T[4]=F,T[5]=O,T[6]=I,T[7]=G,T[8]=z,T[9]=X,H!==E||N!==C||U!==A||R!==P||D!==F||B!==O||V!==I||Y!==G||K!==z||$!==X},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var g=this.width,y=this.height,T=this.viewMatrix,E=this.viewPosition;x[10]&&(T.identity(),T.translate(E),T.invert(),x[10]=0);var C=this.transformMatrix;C.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var A=E.z,P=this.faces,F=0;F<P.length;F++)P[F].transformCoordinatesLocal(C,g,y,A);this.depthSort()}},renderDebug:function(x,g){for(var y=x.debugGraphic,T=0;T<g.length;T++){var E=g[T],C=E.vertex1.tx,A=E.vertex1.ty,P=E.vertex2.tx,F=E.vertex2.ty,O=E.vertex3.tx,I=E.vertex3.ty;y.strokeTriangle(C,A,P,F,O,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var x=function(g,y,T){for(var E=this.faces,C=0;C<E.length;C++){var A=E[C];if(A.contains(y,T))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,x),this},setTint:function(x){x===void 0&&(x=16777215);for(var g=this.vertices,y=0;y<g.length;y++)g[y].color=x;return this},uvScroll:function(x,g){for(var y=this.faces,T=0;T<y.length;T++)y[T].scrollUV(x,g);return this},uvScale:function(x,g){for(var y=this.faces,T=0;T<y.length;T++)y[T].scaleUV(x,g);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return h(this.modelRotation.x)},set:function(x){this.modelRotation.x=a(x)}},rotateY:{get:function(){return h(this.modelRotation.y)},set:function(x){this.modelRotation.y=a(x)}},rotateZ:{get:function(){return h(this.modelRotation.z)},set:function(x){this.modelRotation.z=a(x)}}});p.exports=m},6317:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},41839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(10850),n=t(83321);c.register("mesh",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=a(e,"frame",null),o=r(e,"vertices",[]),h=r(e,"uvs",[]),l=r(e,"indicies",[]),d=r(e,"containsZ",!1),v=r(e,"normals",[]),m=r(e,"colors",16777215),x=r(e,"alphas",1),g=new n(this.scene,0,0,u,i,o,h,l,d,v,m,x);return s!==void 0&&(e.add=s),f(this.scene,g,e),g})},8767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83321),c=t(61286);c.register("mesh",function(a,r,n,e,s,u,i,o,h,l,d){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o,h,l,d))})},23464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(57410),a=t(6317),p.exports={renderWebGL:c,renderCanvas:a}},57410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){var s=r.faces,u=s.length;if(u!==0){n.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),o=f(r,n,e).calc;a.pipelines.preBatch(r);for(var h=i.setGameObject(r),l=i.vertexViewF32,d=i.vertexViewU32,v=i.vertexCount*i.currentShader.vertexComponentCount-1,m=r.tintFill,x=[],g=r.debugCallback,y=o.a,T=o.b,E=o.c,C=o.d,A=o.e,P=o.f,F=r.viewPosition.z,O=r.hideCCW,I=n.roundPixels,G=n.alpha*r.alpha,z=0,X=0;X<u;X++){var H=s[X];!H.isInView(n,O,F,G,y,T,E,C,A,P,I)||(i.shouldFlush(3)&&(i.flush(),h=i.setGameObject(r),v=0),v=H.load(l,d,v,h,m),z++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,g&&x.push(H))}r.totalFrame+=z,g&&g.call(r,r,x),a.pipelines.postBatch(r)}};p.exports=c},44139:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(94456),n=t(85769),e=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,r],initialize:function(u,i,o,h,l,d,v,m,x,g,y){a.call(this,u,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var T=u.textures.getFrame(h,l);this.is3Slice=!g&&!y,T.scale9&&(this.is3Slice=T.is3Slice);for(var E=this.is3Slice?18:54,C=0;C<E;C++)this.vertices.push(new n);this.setPosition(i,o),this.setTexture(h,l),this.setSlices(d,v,m,x,g,y,!1),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,u,i,o,h,l,d){i===void 0&&(i=10),o===void 0&&(o=10),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=!1);var v=this.frame,m=!1;if(this.is3Slice&&d&&h!==0&&l!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(v.scale9&&!d){var x=v.data.scale9Borders,g=x.x,y=x.y;i=g,o=v.width-x.w-g,h=y,l=v.height-x.h-y,s===void 0&&(s=v.width),u===void 0&&(u=v.height)}else s===void 0&&(s=256),u===void 0&&(u=256);this._width=s,this._height=u,this.leftWidth=i,this.rightWidth=o,this.topHeight=h,this.bottomHeight=l,this.is3Slice&&(u=v.height,this._height=u,this.topHeight=u,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,u=this.rightWidth,i=this.topHeight,o=this.bottomHeight,h=this.frame.width,l=this.frame.height;this.updateQuadUVs(0,0,0,s/h,i/l),this.updateQuadUVs(6,s/h,0,1-u/h,i/l),this.updateQuadUVs(12,1-u/h,0,1,i/l),this.is3Slice||(this.updateQuadUVs(18,0,i/l,s/h,1-o/l),this.updateQuadUVs(24,s/h,i/l,1-u/h,1-o/l),this.updateQuadUVs(30,1-u/h,i/l,1,1-o/l),this.updateQuadUVs(36,0,1-o/l,s/h,1),this.updateQuadUVs(42,s/h,1-o/l,1-u/h,1),this.updateQuadUVs(48,1-u/h,1-o/l,1,1))},updateVertices:function(){var s=this.leftWidth,u=this.rightWidth,i=this.topHeight,o=this.bottomHeight,h=this.width,l=this.height;this.updateQuad(0,-.5,.5,-.5+s/h,.5-i/l),this.updateQuad(6,-.5+s/h,.5,.5-u/h,.5-i/l),this.updateQuad(12,.5-u/h,.5,.5,.5-i/l),this.is3Slice||(this.updateQuad(18,-.5,.5-i/l,-.5+s/h,-.5+o/l),this.updateQuad(24,-.5+s/h,.5-i/l,.5-u/h,-.5+o/l),this.updateQuad(30,.5-u/h,.5-i/l,.5,-.5+o/l),this.updateQuad(36,-.5,-.5+o/l,-.5+s/h,-.5),this.updateQuad(42,-.5+s/h,-.5+o/l,.5-u/h,-.5),this.updateQuad(48,.5-u/h,-.5+o/l,.5,-.5))},updateQuad:function(s,u,i,o,h){var l=this.width,d=this.height,v=this.originX,m=this.originY,x=this.vertices;x[s+0].resize(u,i,l,d,v,m),x[s+1].resize(u,h,l,d,v,m),x[s+2].resize(o,i,l,d,v,m),x[s+3].resize(u,h,l,d,v,m),x[s+4].resize(o,h,l,d,v,m),x[s+5].resize(o,i,l,d,v,m)},updateQuadUVs:function(s,u,i,o,h){var l=this.vertices,d=this.frame,v=d.u0,m=d.v0,x=d.u1,g=d.v1;if(v!==0||x!==1){var y=x-v;u=v+u*y,o=v+o*y}if(m!==0||g!==1){var T=g-m;i=m+i*T,h=m+h*T}l[s+0].setUVs(u,i),l[s+1].setUVs(u,h),l[s+2].setUVs(o,i),l[s+3].setUVs(u,h),l[s+4].setUVs(o,h),l[s+5].setUVs(o,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,u){this.width=s,this.height=u;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,u){return this.displayWidth=s,this.displayHeight=u,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,u){return s===void 0&&(s=.5),u===void 0&&(u=s),this._originX=s,this._originY=u,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},40964:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(10850),n=t(44139);c.register("nineslice",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=a(e,"frame",null),o=r(e,"width",256),h=r(e,"height",256),l=r(e,"leftWidth",10),d=r(e,"rightWidth",10),v=r(e,"topHeight",0),m=r(e,"bottomHeight",0),x=new n(this.scene,0,0,u,i,o,h,l,d,v,m);return s!==void 0&&(e.add=s),f(this.scene,x,e),x})},53778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44139),c=t(61286);c.register("nineslice",function(a,r,n,e,s,u,i,o,h,l){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o,h,l))})},94456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(27420),p.exports={renderWebGL:c,renderCanvas:a}},27420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){var u=n.vertices,i=u.length;if(i!==0){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline,n),h=f(n,e,s,!1).calc;r.pipelines.preBatch(n);var l=o.setGameObject(n),d=o.vertexViewF32,v=o.vertexViewU32,m=o.vertexCount*o.currentShader.vertexComponentCount-1,x=e.roundPixels,g=n.tintFill,y=e.alpha*n.alpha,T=c.getTintAppendFloatAlpha(n.tint,y),E=o.vertexAvailable(),C=-1;E<i&&(C=E);for(var A=0;A<i;A++){var P=u[A];A===C&&(o.flush(),l=o.setGameObject(n),m=0),d[++m]=h.getXRound(P.vx,P.vy,x),d[++m]=h.getYRound(P.vx,P.vy,x),d[++m]=P.u,d[++m]=P.v,d[++m]=l,d[++m]=g,v[++m]=T,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}r.pipelines.postBatch(n)}};p.exports=a},19737:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93025),a=t(22946),r=t(21902),n=t(4840),e=t(15978),s=new f({Extends:c,initialize:function(i){c.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var u=this.propertyValue,i=u,o=this.defaultEmit,h=this.defaultUpdate;if(this.method===9){this.start=u[0],this.ease=r("Linear"),this.interpolation=n("linear"),o=this.easedValueEmit,h=this.easeValueUpdate,i=u[0],this.active=!0;for(var l=0;l<u.length;l++){var d=e(u[l]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=o,this.onUpdate=h,this.current=i,this},setEase:function(u){this.easeName=u,this.ease=r(u)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(u,i,o){var h=this.ease(o),l=this.interpolation(this.r,h),d=this.interpolation(this.g,h),v=this.interpolation(this.b,h),m=a(l,d,v);return this.current=m,m}});p.exports=s},93025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(82897),a=t(56694),r=t(61616),n=t(21902),e=t(72632),s=t(4840),u=t(88462),i=t(1071),o=new a({initialize:function(l,d,v){v===void 0&&(v=!1),this.propertyKey=l,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(h,l){h===void 0&&(h={}),l&&(this.propertyKey=l),this.propertyValue=e(h,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(h){var l;switch(this.method){case 1:case 3:case 8:l=h;break;case 2:this.propertyValue.indexOf(h)>=0&&(l=h);break;case 4:var d=(this.end-this.start)/this.steps;l=u(h,d),this.counter=l;break;case 5:case 6:case 7:l=c(h,this.start,this.end);break;case 9:l=this.start[0];break}return this.current=l,this},getMethod:function(){var h=this.propertyValue;if(h===null)return 0;var l=typeof h;if(l==="number")return 1;if(Array.isArray(h))return 2;if(l==="function")return 3;if(l==="object"){if(this.hasBoth(h,"start","end"))return this.has(h,"steps")?4:5;if(this.hasBoth(h,"min","max"))return 6;if(this.has(h,"random"))return 7;if(this.hasEither(h,"onEmit","onUpdate"))return 8;if(this.hasEither(h,"values","interpolation"))return 9}return 0},setMethods:function(){var h=this.propertyValue,l=h,d=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,l=h[0];break;case 3:this._onEmit=h,d=this.proxyEmit;break;case 4:this.start=h.start,this.end=h.end,this.steps=h.steps,this.counter=this.start,this.yoyo=this.has(h,"yoyo")?h.yoyo:!1,this.direction=0,d=this.steppedEmit,l=this.start;break;case 5:this.start=h.start,this.end=h.end;var m=this.has(h,"ease")?h.ease:"Linear";this.ease=n(m,h.easeParams),d=this.has(h,"random")&&h.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,l=this.start;break;case 6:this.start=h.min,this.end=h.max,d=this.has(h,"int")&&h.int?this.randomRangedIntEmit:this.randomRangedValueEmit,l=this.start;break;case 7:var x=h.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),d=this.randomRangedIntEmit,l=this.start;break;case 8:this._onEmit=this.has(h,"onEmit")?h.onEmit:this.defaultEmit,this._onUpdate=this.has(h,"onUpdate")?h.onUpdate:this.defaultUpdate,d=this.proxyEmit,v=this.proxyUpdate;break;case 9:this.start=h.values;var g=this.has(h,"ease")?h.ease:"Linear";this.ease=n(g,h.easeParams),this.interpolation=s(h.interpolation),d=this.easedValueEmit,v=this.easeValueUpdate,l=this.start[0];break}return this.onEmit=d,this.onUpdate=v,this.current=l,this},has:function(h,l){return h.hasOwnProperty(l)},hasBoth:function(h,l,d){return h.hasOwnProperty(l)&&h.hasOwnProperty(d)},hasEither:function(h,l,d){return h.hasOwnProperty(l)||h.hasOwnProperty(d)},defaultEmit:function(h,l,d){return d},defaultUpdate:function(h,l,d,v){return v},proxyEmit:function(h,l,d){var v=this._onEmit(h,l,d);return this.current=v,v},proxyUpdate:function(h,l,d,v){var m=this._onUpdate(h,l,d,v);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var h=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[h],this.current},randomRangedValueEmit:function(h,l){var d=r(this.start,this.end);return h&&h.data[l]&&(h.data[l].min=d,h.data[l].max=this.end),this.current=d,d},randomRangedIntEmit:function(h,l){var d=f(this.start,this.end);return h&&h.data[l]&&(h.data[l].min=d,h.data[l].max=this.end),this.current=d,d},steppedEmit:function(){var h=this.counter,l=h,d=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(l+=d,l>=this.end&&(v=l-this.end,l=this.end-v,this.direction=1)):(l-=d,l<=this.start&&(v=this.start-l,l=this.start+v,this.direction=0)),this.counter=l}else this.counter=i(l+d,this.start,this.end);return this.current=h,h},easedValueEmit:function(h,l){if(h&&h.data[l]){var d=h.data[l];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(h,l,d){var v=h.data[l],m,x=this.ease(d);return this.interpolation?m=this.interpolation(this.start,x):m=(v.max-v.min)*x+v.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=o},87811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(30891),r=new f({Extends:a,initialize:function(e,s,u,i,o){if(typeof e=="object"){var h=e;e=c(h,"x",0),s=c(h,"y",0),u=c(h,"power",0),i=c(h,"epsilon",100),o=c(h,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=100),o===void 0&&(o=50);a.call(this,e,s,!0),this._gravity=o,this._power=u*o,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,u=this.y-n.y,i=s*s+u*u;if(i!==0){var o=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var h=this._power*e/(i*o)*100;n.velocityX+=s*h,n.velocityY+=u*h}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});p.exports=r},14909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(82897),a=t(56694),r=t(75606),n=t(74118),e=t(2386),s=t(93736),u=new a({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new f(this),this.bounds=new n},emit:function(i,o,h,l,d,v){return this.emitter.emit(i,o,h,l,d,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,o){i===void 0&&(i=0),o===void 0&&(o=0),this.x=i,this.y=o},fire:function(i,o){var h=this.emitter,l=h.ops,d=h.getAnim();if(d?this.anims.play(d):(this.frame=h.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(h.getEmitZone(this),i===void 0?this.x+=l.x.onEmit(this,"x"):l.x.steps>0?this.x+=i+l.x.onEmit(this,"x"):this.x+=i,o===void 0?this.y+=l.y.onEmit(this,"y"):l.y.steps>0?this.y+=o+l.y.onEmit(this,"y"):this.y+=o,this.life=l.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=l.delay.onEmit(this,"delay"),this.holdCurrent=l.hold.onEmit(this,"hold"),this.scaleX=l.scaleX.onEmit(this,"scaleX"),this.scaleY=l.scaleY.active?l.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=l.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),h.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&h.getDeathZone(this))return this.lifeCurrent=0,!1;var v=l.speedX.onEmit(this,"speedX"),m=l.speedY.active?l.speedY.onEmit(this,"speedY"):v;if(h.radial){var x=r(l.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(v),this.velocityY=Math.sin(x)*Math.abs(m)}else if(h.moveTo){var g=l.moveToX.onEmit(this,"moveToX"),y=l.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(g-this.x)/T,this.velocityY=(y-this.y)/T}else this.velocityX=v,this.velocityY=m;return h.acceleration&&(this.accelerationX=l.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=l.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=l.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=l.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=l.bounce.onEmit(this,"bounce"),this.alpha=l.alpha.onEmit(this,"alpha"),l.color.active?this.tint=l.color.onEmit(this,"tint"):this.tint=l.tint.onEmit(this,"tint"),!0},update:function(i,o,h){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var l=this.emitter,d=l.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=d.x.onUpdate(this,"x",v,this.x),this.y=d.y.onUpdate(this,"y",v,this.y),l.moveTo){var m=d.moveToX.onUpdate(this,"moveToX",v,l.moveToX),x=d.moveToY.onUpdate(this,"moveToY",v,l.moveToY),g=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/g,this.velocityY=(x-this.y)/g}return this.computeVelocity(l,i,o,h,v),this.scaleX=d.scaleX.onUpdate(this,"scaleX",v,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",v,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=r(this.angle),l.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=c(d.alpha.onUpdate(this,"alpha",v,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",v,this.tint):this.tint=d.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,o,h,l,d){var v=i.ops,m=this.velocityX,x=this.velocityY,g=v.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),y=v.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),T=v.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),E=v.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",d,this.bounce),m+=i.gravityX*h+g*h,x+=i.gravityY*h+y*h,m=c(m,-T,T),x=c(x,-E,E),this.velocityX=m,this.velocityY=x,this.x+=m*h,this.y+=x*h,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var C=0;C<l.length;C++){var A=l[C];A.active&&A.update(this,o,h,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var o=Math.abs(i.scaleX)*this.scaleX,h=Math.abs(i.scaleY)*this.scaleY,l=this.x,d=this.y,v=this.rotation,m=this.frame.width*o/2,x=this.frame.height*h/2,g=this.bounds,y=new s(l-m,d-x),T=new s(l+m,d-x),E=new s(l-m,d+x),C=new s(l+m,d+x);return v!==0&&(e(y,l,d,v),e(T,l,d,v),e(E,l,d,v),e(C,l,d,v)),i.transformPoint(y.x,y.y,y),i.transformPoint(T.x,T.y,T),i.transformPoint(E.x,E.y,E),i.transformPoint(C.x,C.y,C),g.x=Math.min(y.x,T.x,E.x,C.x),g.y=Math.min(y.y,T.y,E.y,C.y),g.width=Math.max(y.x,T.x,E.x,C.x)-g.x,g.height=Math.max(y.y,T.y,E.y,C.y)-g.y,g},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=u},73106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(30891),a=t(74118),r=new f({Extends:c,initialize:function(e,s,u,i,o,h,l,d){o===void 0&&(o=!0),h===void 0&&(h=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),c.call(this,e,s,!0),this.bounds=new a(e,s,u,i),this.collideLeft=o,this.collideRight=h,this.collideTop=l,this.collideBottom=d},update:function(n){var e=this.bounds,s=-n.bounce,u=n.worldPosition;u.x<e.x&&this.collideLeft?(n.x+=e.x-u.x,n.velocityX*=s):u.x>e.right&&this.collideRight&&(n.x-=u.x-e.right,n.velocityX*=s),u.y<e.y&&this.collideTop?(n.y+=e.y-u.y,n.velocityY*=s):u.y>e.bottom&&this.collideBottom&&(n.y-=u.y-e.bottom,n.velocityY*=s)}});p.exports=r},9216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(48129),r=t(29538),n=t(69361),e=t(54213),s=t(19737),u=t(93025),i=t(40629),o=t(89980),h=t(72632),l=t(72861),d=t(87811),v=t(53523),m=t(19256),x=t(7782),g=t(71207),y=t(14655),T=t(14909),E=t(68433),C=t(74118),A=t(90205),P=t(66458),F=t(69116),O=t(17922),I=t(69360),G=t(93736),z=t(1071),X=t(73106),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],N=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new f({Extends:o,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,F],initialize:function(D,B,V,Y,K){o.call(this,D,"ParticleEmitter"),this.particleClass=T,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new s("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new g(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(B,V),this.setTexture(Y),K&&this.setConfig(K)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(R){if(!R)return this;var D=0,B="",V=this.ops;for(D=0;D<N.length;D++)B=N[D],V[B].loadConfig(R);for(D=0;D<H.length;D++)B=H[D],m(R,B)&&(this[B]=h(R,B));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(R,"speed")&&(V.speedX.loadConfig(R,"speed"),V.speedY.active=!1),(v(R,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(R,"scale")&&(V.scaleX.loadConfig(R,"scale"),V.scaleY.active=!1),m(R,"callbackScope")){var Y=h(R,"callbackScope",null);this.emitCallbackScope=Y,this.deathCallbackScope=Y}if(m(R,"emitZone")&&this.addEmitZone(R.emitZone),m(R,"deathZone")&&this.addDeathZone(R.deathZone),m(R,"bounds")){var K=this.addParticleBounds(R.bounds);K.collideLeft=h(R,"collideLeft",!0),K.collideRight=h(R,"collideRight",!0),K.collideTop=h(R,"collideTop",!0),K.collideBottom=h(R,"collideBottom",!0)}return m(R,"followOffset")&&this.followOffset.setFromObject(h(R,"followOffset",0)),m(R,"texture")&&this.setTexture(R.texture),m(R,"frame")?this.setEmitterFrame(R.frame):m(R,"anim")&&this.setAnim(R.anim),m(R,"reserve")&&this.reserve(R.reserve),m(R,"advance")&&this.fastForward(R.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},toJSON:function(){var R=a(this),D=0,B="";for(D=0;D<H.length;D++)B=H[D],R[B]=this[B];var V=this.ops;for(D=0;D<N.length;D++)B=N[D],V[B]&&(R[B]=V[B].toJSON());return V.speedY.active||(delete R.speedX,R.speed=V.speedX.toJSON()),this.scaleX===this.scaleY&&(delete R.scaleX,delete R.scaleY,R.scale=V.scaleX.toJSON()),R},resetCounters:function(R,D){var B=this.counters;B.fill(0),B[0]=R,D&&(B[5]=1)},startFollow:function(R,D,B,V){return D===void 0&&(D=0),B===void 0&&(B=0),V===void 0&&(V=!1),this.follow=R,this.followOffset.set(D,B),this.trackVisible=V,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var R=this.frames,D=R.length,B;return D===1?B=R[0]:this.randomFrame?B=l(R):(B=R[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===D&&(this.currentFrame=0))),this.texture.get(B)},setEmitterFrame:function(R,D,B){D===void 0&&(D=!0),B===void 0&&(B=1),this.randomFrame=D,this.frameQuantity=B,this.currentFrame=0;var V=typeof R;if(this.frames.length=0,Array.isArray(R))this.frames=this.frames.concat(R);else if(V==="string"||V==="number")this.frames.push(R);else if(V==="object"){var Y=R;R=h(Y,"frames",null),R&&(this.frames=this.frames.concat(R));var K=h(Y,"cycle",!1);this.randomFrame=!K,this.frameQuantity=h(Y,"quantity",B)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var R=this.anims,D=R.length;if(D===0)return null;if(D===1)return R[0];if(this.randomAnim)return l(R);var B=R[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,D)),B},setAnim:function(R,D,B){D===void 0&&(D=!0),B===void 0&&(B=1),this.randomAnim=D,this.animQuantity=B,this.currentAnim=0;var V=typeof R;if(this.anims.length=0,Array.isArray(R))this.anims=this.anims.concat(R);else if(V==="string")this.anims.push(R);else if(V==="object"){var Y=R;R=h(Y,"anims",null),R&&(this.anims=this.anims.concat(R));var K=h(Y,"cycle",!1);this.randomAnim=!K,this.animQuantity=h(Y,"quantity",B)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(R){return R===void 0&&(R=!0),this.radial=R,this},addParticleBounds:function(R,D,B,V,Y,K,$,J){if(typeof R=="object"){var Q=R;R=Q.x,D=Q.y,B=m(Q,"w")?Q.w:Q.width,V=m(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new X(R,D,B,V,Y,K,$,J))},setParticleSpeed:function(R,D){return D===void 0&&(D=R),this.ops.speedX.onChange(R),R===D?this.ops.speedY.active=!1:this.ops.speedY.onChange(D),this.radial=!0,this},setParticleScale:function(R,D){return R===void 0&&(R=1),D===void 0&&(D=R),this.ops.scaleX.onChange(R),this.ops.scaleY.onChange(D),this},setParticleGravity:function(R,D){return this.gravityX=R,this.gravityY=D,this},setParticleAlpha:function(R){return this.ops.alpha.onChange(R),this},setParticleTint:function(R){return this.ops.tint.onChange(R),this},setEmitterAngle:function(R){return this.ops.angle.onChange(R),this},setParticleLifespan:function(R){return this.ops.lifespan.onChange(R),this},setQuantity:function(R){return this.quantity=R,this},setFrequency:function(R,D){return this.frequency=R,this.flowCounter=R>0?R:0,D&&(this.quantity=D),this},addDeathZone:function(R){Array.isArray(R)||(R=[R]);for(var D,B=[],V=0;V<R.length;V++)if(D=R[V],D instanceof n)B.push(D);else if(typeof D.contains=="function")D=new n(D,!0),B.push(D);else{var Y=h(D,"type","onEnter"),K=h(D,"source",null);if(K&&typeof K.contains=="function"){var $=Y==="onEnter";D=new n(K,$),B.push(D)}}return this.deathZones=this.deathZones.concat(B),B},removeDeathZone:function(R){return P(this.deathZones,R),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(R){Array.isArray(R)||(R=[R]);for(var D,B=[],V=0;V<R.length;V++)if(D=R[V],D instanceof E||D instanceof e)B.push(D);else{var Y=h(D,"source",null);if(Y){var K=h(D,"type","random");if(K==="random"&&typeof Y.getRandomPoint=="function")D=new E(Y),B.push(D);else if(K==="edge"&&typeof Y.getPoints=="function"){var $=h(D,"quantity",1),J=h(D,"stepRate",0),Q=h(D,"yoyo",!1),k=h(D,"seamless",!0),q=h(D,"total",-1);D=new e(Y,$,J,Q,k,q),B.push(D)}}}return this.emitZones=this.emitZones.concat(B),B},removeEmitZone:function(R){return P(this.emitZones,R),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(R){var D=this.emitZones,B=D.length;if(B!==0){var V=D[this.zoneIndex];V.getPoint(R),V.total>-1&&(this.zoneTotal++,this.zoneTotal===V.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===B&&(this.zoneIndex=0)))}},getDeathZone:function(R){for(var D=this.deathZones,B=0;B<D.length;B++){var V=D[B];if(V.willKill(R))return this.emit(i.DEATH_ZONE,this,R,V),!0}return!1},setEmitZone:function(R){var D;return isFinite(R)?D=R:D=this.emitZones.indexOf(R),D>=0&&(this.zoneIndex=D),this},addParticleProcessor:function(R){return this.processors.exists(R)||(R.emitter&&R.emitter.removeParticleProcessor(R),this.processors.add(R),R.emitter=this),R},removeParticleProcessor:function(R){return this.processors.exists(R)&&(this.processors.remove(R,!0),R.emitter=null),R},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(R){return this.addParticleProcessor(new d(R))},reserve:function(R){var D=this.dead;if(this.maxParticles>0){var B=this.getParticleCount();B+R>this.maxParticles&&(R=this.maxParticles-(B+R))}for(var V=0;V<R;V++)D.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(R,D){return R===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof R=="function"&&(this.emitCallback=R,D&&(this.emitCallbackScope=D)),this},onParticleDeath:function(R,D){return R===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof R=="function"&&(this.deathCallback=R,D&&(this.deathCallbackScope=D)),this},killAll:function(){for(var R=this.dead,D=this.alive;D.length>0;)R.push(D.pop());return this},forEachAlive:function(R,D){for(var B=this.alive,V=B.length,Y=0;Y<V;Y++)R.call(D,B[Y],this);return this},forEachDead:function(R,D){for(var B=this.dead,V=B.length,Y=0;Y<V;Y++)R.call(D,B[Y],this);return this},start:function(R,D){return R===void 0&&(R=0),this.emitting||(R>0&&this.fastForward(R),this.emitting=!0,this.resetCounters(this.frequency,!0),D!==void 0&&(this.duration=Math.abs(D)),this.emit(i.START,this)),this},stop:function(R){return R===void 0&&(R=!1),this.emitting&&(this.emitting=!1,R&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(R,D){return R===void 0&&(R=""),D===void 0&&(D=this.true),this.sortProperty=R,this.sortOrderAsc=D,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(R){return this.sortProperty!==""?R=this.depthSortCallback:R=null,this.sortCallback=R,this},depthSort:function(){return O(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(R,D){var B=this.sortProperty;return this.sortOrderAsc?R[B]-D[B]:D[B]-R[B]},flow:function(R,D,B){return D===void 0&&(D=1),this.emitting=!1,this.frequency=R,this.quantity=D,B!==void 0&&(this.stopAfter=B),this.start()},explode:function(R,D,B){this.frequency=-1,this.resetCounters(-1,!0);var V=this.emitParticle(R,D,B);return this.emit(i.EXPLODE,this,V),V},emitParticleAt:function(R,D,B){return this.emitParticle(B,R,D)},emitParticle:function(R,D,B){if(!this.atLimit()){R===void 0&&(R=this.ops.quantity.onEmit());for(var V=this.dead,Y=this.stopAfter,K=this.follow?this.follow.x+this.followOffset.x:D,$=this.follow?this.follow.y+this.followOffset.y:B,J=0;J<R;J++){var Q=V.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(K,$)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),Y>0&&(this.stopCounter++,this.stopCounter>=Y)||this.atLimit())break}return Q}},fastForward:function(R,D){D===void 0&&(D=1e3/60);var B=0;for(this.skipping=!0;B<Math.abs(R);)this.preUpdate(0,D),B+=D;return this.skipping=!1,this},preUpdate:function(R,D){D*=this.timeScale;var B=D/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var V=this.getProcessors(),Y=this.alive,K=this.dead,$=0,J=[],Q=Y.length;for($=0;$<Q;$++){var k=Y[$];k.update(D,B,V)&&J.push({index:$,particle:k})}if(Q=J.length,Q>0){var q=this.deathCallback,tt=this.deathCallbackScope;for($=Q-1;$>=0;$--){var _=J[$];Y.splice(_.index,1),K.push(_.particle),q&&q.call(tt,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Y.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=D;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=D,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(R){for(var D=this.getWorldTransformMatrix(),B=this.alive,V=B.length,Y=[],K=0;K<V;K++){var $=B[K];A(R,$.getBounds(D))&&Y.push($)}return Y},getBounds:function(R,D,B,V){R===void 0&&(R=0),D===void 0&&(D=0),B===void 0&&(B=1e3/60),V===void 0&&(V=new C);var Y=this.getWorldTransformMatrix(),K,$,J=this.alive,Q=!1;if(V.setTo(0,0,0,0),D>0){var k=0;for(this.skipping=!0;k<Math.abs(D);){for(this.preUpdate(0,B),K=0;K<J.length;K++)$=J[K].getBounds(Y),Q?y(V,$):(Q=!0,r($,V));k+=B}this.skipping=!1}else for(K=0;K<J.length;K++)$=J[K].getBounds(Y),Q?y(V,$):(Q=!0,r($,V));return R>0&&x(V,R,R),V},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(R){this.ops.x.onChange(R)}},particleY:{get:function(){return this.ops.y.current},set:function(R){this.ops.y.onChange(R)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(R){this.ops.accelerationX.onChange(R)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(R){this.ops.accelerationY.onChange(R)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(R){this.ops.maxVelocityX.onChange(R)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(R){this.ops.maxVelocityY.onChange(R)}},speed:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R),this.ops.speedY.onChange(R)}},speedX:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R)}},speedY:{get:function(){return this.ops.speedY.current},set:function(R){this.ops.speedY.onChange(R)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(R){this.ops.moveToX.onChange(R)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(R){this.ops.moveToY.onChange(R)}},bounce:{get:function(){return this.ops.bounce.current},set:function(R){this.ops.bounce.onChange(R)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(R){this.ops.scaleX.onChange(R)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(R){this.ops.scaleY.onChange(R)}},particleColor:{get:function(){return this.ops.color.current},set:function(R){this.ops.color.onChange(R)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(R){this.ops.color.setEase(R)}},particleTint:{get:function(){return this.ops.tint.current},set:function(R){this.ops.tint.onChange(R)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(R){this.ops.alpha.onChange(R)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(R){this.ops.lifespan.onChange(R)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(R){this.ops.angle.onChange(R)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(R){this.ops.rotate.onChange(R)}},quantity:{get:function(){return this.ops.quantity.current},set:function(R){this.ops.quantity.onChange(R)}},delay:{get:function(){return this.ops.delay.current},set:function(R){this.ops.delay.onChange(R)}},hold:{get:function(){return this.ops.hold.current},set:function(R){this.ops.hold.onChange(R)}},flowCounter:{get:function(){return this.counters[0]},set:function(R){this.counters[0]=R}},frameCounter:{get:function(){return this.counters[1]},set:function(R){this.counters[1]=R}},animCounter:{get:function(){return this.counters[2]},set:function(R){this.counters[2]=R}},elapsed:{get:function(){return this.counters[3]},set:function(R){this.counters[3]=R}},stopCounter:{get:function(){return this.counters[4]},set:function(R){this.counters[4]=R}},completeFlag:{get:function(){return this.counters[5]},set:function(R){this.counters[5]=R}},zoneIndex:{get:function(){return this.counters[6]},set:function(R){this.counters[6]=R}},zoneTotal:{get:function(){return this.counters[7]},set:function(R){this.counters[7]=R}},currentFrame:{get:function(){return this.counters[8]},set:function(R){this.counters[8]=R}},currentAnim:{get:function(){return this.counters[9]},set:function(R){this.counters[9]=R}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var R,D=this.ops;for(R=0;R<N.length;R++){var B=N[R];D[B].destroy()}for(R=0;R<this.alive.length;R++)this.alive[R].destroy();for(R=0;R<this.dead.length;R++)this.dead[R].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=U},10456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(90205),c=t(69360),a=new c,r=new c,n=new c,e=new c,s=function(u,i,o,h){var l=a,d=r,v=n,m=e;h?(m.loadIdentity(),m.multiply(h),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var x=u.currentContext,g=o.roundPixels,y=o.alpha,T=i.alpha,E=i.alive,C=E.length,A=i.viewBounds;if(!(!i.visible||C===0||A&&!f(A,o.worldView))){i.sortCallback&&i.depthSort(),o.addToRenderList(i);var P=i.scrollFactorX,F=i.scrollFactorY;x.save(),x.globalCompositeOperation=u.blendModes[i.blendMode];for(var O=0;O<C;O++){var I=E[O],G=I.alpha*T*y;if(!(G<=0||I.scaleX===0||I.scaleY===0)){v.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),l.copyFrom(o.matrix),l.multiplyWithOffset(m,-o.scrollX*P,-o.scrollY*F),v.e=I.x,v.f=I.y,l.multiply(v,d);var z=I.frame,X=z.canvasData;if(X.width>0&&X.height>0){var H=-z.halfWidth,N=-z.halfHeight;x.globalAlpha=G,x.save(),d.setToContext(x),g&&(H=Math.round(H),N=Math.round(N)),x.imageSmoothingEnabled=!z.source.scaleMode,x.drawImage(z.source.image,X.x,X.y,X.width,X.height,H,N,X.width,X.height),x.restore()}}}x.restore()}};p.exports=s},765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(72632),n=t(9216);c.register("particles",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=r(e,"config",null),o=new n(this.scene,0,0,u);return s!==void 0&&(e.add=s),f(this.scene,o,e),i&&o.setConfig(i),o})},81212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(9216);f.register("particles",function(a,r,n,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new c(this.scene,a,r,n,e))})},69116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(10275),a=t(10456),p.exports={renderWebGL:c,renderCanvas:a}},10275:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(90205),c=t(69360),a=t(75512),r=new c,n=new c,e=new c,s=new c,u=function(i,o,h,l){var d=i.pipelines.set(o.pipeline),v=r,m=n,x=e,g=s;l?(g.loadIdentity(),g.multiply(l),g.translate(o.x,o.y),g.rotate(o.rotation),g.scale(o.scaleX,o.scaleY)):g.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var y=a.getTintAppendFloatAlpha,T=h.alpha,E=o.alpha;i.pipelines.preBatch(o);var C=o.alive,A=C.length,P=o.viewBounds;if(!(A===0||P&&!f(P,h.worldView))){o.sortCallback&&o.depthSort(),h.addToRenderList(o),v.copyFrom(h.matrix),v.multiplyWithOffset(g,-h.scrollX*o.scrollFactorX,-h.scrollY*o.scrollFactorY),i.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(i,o,h),i.pipelines.set(o.pipeline));for(var F=o.tintFill,O,I,G=0;G<A;G++){var z=C[G],X=z.alpha*E*T;if(!(X<=0||z.scaleX===0||z.scaleY===0)){x.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),x.e=z.x,x.f=z.y,v.multiply(x,m);var H=z.frame;H.glTexture!==I&&(I=H.glTexture,O=d.setGameObject(o,H));var N=-H.halfWidth,U=-H.halfHeight,R=m.setQuad(N,U,N+H.width,U+H.height),D=y(z.tint,X);d.shouldFlush(6)&&(d.flush(),O=d.setGameObject(o,H)),d.batchQuad(o,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],H.u0,H.v0,H.u1,H.v1,D,D,D,D,F,I,O)}}o.mask&&o.mask.postRenderWebGL(i,h),i.pipelines.postBatch(o)}};p.exports=u},30891:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=c},76100:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},26677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},62736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},56490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},85715:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},40629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(a){var r=a.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});p.exports=c},54213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u,i){s===void 0&&(s=!1),u===void 0&&(u=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});p.exports=c},68433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(n){this.source=n,this._tempVec=new c,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});p.exports=a},25962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(13747),r=new f({Extends:a,Mixins:[c.PathFollower],initialize:function(e,s,u,i,o,h){a.call(this,e,u,i,o,h),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});p.exports=r},19626:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(29598);f.register("follower",function(a,r,n,e,s){var u=new c(this.scene,a,r,n,e,s);return this.displayList.add(u),this.updateList.add(u),u})},33412:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(99425),r=t(15978),n=t(83321),e=t(76583),s=new c({Extends:n,initialize:function(i,o,h,l,d,v,m,x){l||(l="__DEFAULT"),n.call(this,i,o,h,l,d),this.type="Plane",this.anims=new f(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,m,x),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(u,i,o){u===void 0&&(u=8),i===void 0&&(i=8),o===void 0&&(o=!1);var h=!1;return o&&(h=!0),this.gridWidth=u,this.gridHeight=i,this.isTiled=o,this.clear(),a({mesh:this,widthSegments:u,heightSegments:i,isOrtho:!1,tile:o,flipY:h}),this},setSizeToFrame:function(u){u===void 0&&(u=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!u)return this;var o=this.gridWidth,h=this.gridHeight,l=this.vertices,d=i.u0,v=i.u1,m=i.v0,x=i.v1,g,y,T=0;if(this.isTiled)for(m=i.v1,x=i.v0,y=0;y<h;y++)for(g=0;g<o;g++)l[T++].setUVs(d,x),l[T++].setUVs(d,m),l[T++].setUVs(v,x),l[T++].setUVs(d,m),l[T++].setUVs(v,m),l[T++].setUVs(v,x);else{var E=o+1,C=h+1,A=v-d,P=x-m,F=[];for(y=0;y<C;y++)for(g=0;g<E;g++){var O=d+A*(g/o),I=m+P*(y/h);F.push(O,I)}for(y=0;y<h;y++)for(g=0;g<o;g++){var G=(g+E*y)*2,z=(g+E*(y+1))*2,X=(g+1+E*(y+1))*2,H=(g+1+E*y)*2;l[T++].setUVs(F[G],F[G+1]),l[T++].setUVs(F[z],F[z+1]),l[T++].setUVs(F[H],F[H+1]),l[T++].setUVs(F[z],F[z+1]),l[T++].setUVs(F[X],F[X+1]),l[T++].setUVs(F[H],F[H+1])}}return this},setViewHeight:function(u){u===void 0&&(u=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/u/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(u,i,o,h,l){u===void 0&&(u=16777215),i===void 0&&(i=255),o===void 0&&(o=255),h===void 0&&(h=255),l===void 0&&(l=128);var d=this.scene.sys.renderer.gl,v=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,v),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);for(var m=r(u),x=r(i),g=[],y=0;y<16;y++)for(var T=0;T<16;T++)y<8&&T<8||y>7&&T>7?g.push(m.r,m.g,m.b,o):g.push(x.r,x.g,x.b,h);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(g)),v.isAlphaPremultiplied=!0,v.isRenderTexture=!1,v.width=16,v.height=16;var E=this.scene.sys.textures.addGLTexture(e(),v,16,16);return this.removeCheckerboard(),this._checkerboard=E,d.bindTexture(d.TEXTURE_2D,null),this.setTexture(E),this.setSizeToFrame(),this.setViewHeight(l),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(u,i){return this.anims.play(u,i)},playReverse:function(u,i){return this.anims.playReverse(u,i)},playAfterDelay:function(u,i){return this.anims.playAfterDelay(u,i)},playAfterRepeat:function(u,i){return this.anims.playAfterRepeat(u,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},preUpdate:function(u,i){n.prototype.preUpdate.call(this,u,i),this.anims.update(u,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=s},10912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(32291),a=t(99325),r=t(20494),n=t(10850),e=t(33412);a.register("plane",function(s,u){s===void 0&&(s={});var i=r(s,"key",null),o=r(s,"frame",null),h=n(s,"width",8),l=n(s,"height",8),d=n(s,"tile",!1),v=new e(this.scene,0,0,i,o,h,l,d);u!==void 0&&(s.add=u);var m=n(s,"checkerboard",null);if(m){var x=n(m,"color1",16777215),g=n(m,"color2",255),y=n(m,"alpha1",255),T=n(m,"alpha2",255),E=n(m,"height",128);v.createCheckerboard(x,g,y,T,E)}return f(this.scene,v,s),c(v,s),v})},58322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(33412),c=t(61286);c.register("plane",function(a,r,n,e,s,u,i){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i))})},13171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(74853),n=t(65641),e=t(71606),s=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible,e],initialize:function(i,o,h,l,d,v,m){l===void 0&&(l=16777215),d===void 0&&(d=128),v===void 0&&(v=1),m===void 0&&(m=.1),a.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,h),this.color=r(l),this.intensity=v,this.attenuation=m,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=s},162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(13171);c.register("pointlight",function(n,e){n===void 0&&(n={});var s=a(n,"color",16777215),u=a(n,"radius",128),i=a(n,"intensity",1),o=a(n,"attenuation",.1),h=new r(this.scene,0,0,s,u,i,o);return e!==void 0&&(n.add=e),f(this.scene,h,n),h})},91201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(13171);f.register("pointlight",function(a,r,n,e,s,u){return this.displayList.add(new c(this.scene,a,r,n,e,s,u))})},71606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(80590),p.exports={renderWebGL:c,renderCanvas:a}},80590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){n.addToRenderList(r);var s=a.pipelines.set(r.pipeline),u=f(r,n,e).calc,i=r.width,o=r.height,h=-r._radius,l=-r._radius,d=h+i,v=l+o,m=u.getX(0,0),x=u.getY(0,0),g=u.getX(h,l),y=u.getY(h,l),T=u.getX(h,v),E=u.getY(h,v),C=u.getX(d,v),A=u.getY(d,v),P=u.getX(d,l),F=u.getY(d,l);a.pipelines.preBatch(r),s.batchPointLight(r,n,g,y,T,E,C,A,P,F,m,x),a.pipelines.postBatch(r)};p.exports=c},15996:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(845),a=t(1539),r=new f({Extends:a,initialize:function(e,s,u,i,o){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=32),o===void 0&&(o=32);var h=new c(e.sys.textures,"",i,o);a.call(this,e,s,u,h),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.texture.setSize(n,e),this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e){return this.setSize(n,e),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,u,i,o){return this.texture.fill(n,e,s,u,i,o),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,u,i){return this.texture.stamp(n,e,s,u,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,u,i){return this.texture.draw(n,e,s,u,i),this},drawFrame:function(n,e,s,u,i,o){return this.texture.drawFrame(n,e,s,u,i,o),this},repeat:function(n,e,s,u,i,o,h,l,d){return this.texture.repeat(n,e,s,u,i,o,h,l,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,u,i){return this.texture.batchDraw(n,e,s,u,i),this},batchDrawFrame:function(n,e,s,u,i,o){return this.texture.batchDrawFrame(n,e,s,u,i,o),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,u,i,o,h){return this.texture.snapshotArea(n,e,s,u,i,o,h),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});p.exports=r},85692:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(15996);c.register("renderTexture",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),u=a(n,"y",0),i=a(n,"width",32),o=a(n,"height",32),h=new r(this.scene,s,u,i,o);return e!==void 0&&(n.add=e),f(this.scene,h,n),h})},29599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(15996);f.register("renderTexture",function(a,r,n,e){return this.displayList.add(new c(this.scene,a,r,n,e))})},79968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(64937),r=t(89980),n=t(65641),e=t(58912),s=t(93736),u=new c({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(o,h,l,d,v,m,x,g,y){d===void 0&&(d="__DEFAULT"),m===void 0&&(m=2),x===void 0&&(x=!0),r.call(this,o,"Rope"),this.anims=new f(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,v),this.setPosition(h,l),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,g,y),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,o){var h=this.anims.currentFrame;this.anims.update(i,o),this.anims.currentFrame!==h&&(this.updateUVs(),this.updateVertices())},play:function(i,o,h){return this.anims.play(i,o,h),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,o,h){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,o,h))},setVertical:function(i,o,h){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,o,h)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,o){var h=this.points.length;if(h<1)return this;var l=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&o===void 0&&(i=[i]);var d,v=0;if(o!==void 0)for(d=0;d<h;d++)v=d*2,l[v]=i,l[v+1]=o;else if(i.length===h)for(d=0;d<h;d++)v=d*2,l[v]=i[d],l[v+1]=i[d];else{var m=i[0];for(d=0;d<h;d++)v=d*2,i.length>v&&(m=i[v]),l[v]=m,i.length>v+1&&(m=i[v+1]),l[v+1]=m}return this},setColors:function(i){var o=this.points.length;if(o<1)return this;var h=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var l,d=0;if(i.length===o)for(l=0;l<o;l++)d=l*2,h[d]=i[l],h[d+1]=i[l];else{var v=i[0];for(l=0;l<o;l++)d=l*2,i.length>d&&(v=i[d]),h[d]=v,i.length>d+1&&(v=i[d+1]),h[d+1]=v}return this},setPoints:function(i,o,h){if(i===void 0&&(i=2),typeof i=="number"){var l=i;l<2&&(l=2),i=[];var d,v,m;if(this.horizontal)for(m=-this.frame.halfWidth,v=this.frame.width/(l-1),d=0;d<l;d++)i.push({x:m+d*v,y:0});else for(m=-this.frame.halfHeight,v=this.frame.height/(l-1),d=0;d<l;d++)i.push({x:0,y:m+d*v})}var x=i.length,g=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(i.unshift({x:0,y:0}),x++),g!==x&&this.resizeArrays(x),this.dirty=!0,this.points=i,this.updateUVs(),o!=null&&this.setColors(o),h!=null&&this.setAlphas(h),this)},updateUVs:function(){for(var i=this.uv,o=this.points.length,h=this.frame.u0,l=this.frame.v0,d=this.frame.u1,v=this.frame.v1,m=(d-h)/(o-1),x=(v-l)/(o-1),g=0;g<o;g++){var y=g*4,T,E,C,A;this.horizontal?(this._flipX?(T=d-g*m,C=d-g*m):(T=h+g*m,C=h+g*m),this._flipY?(E=v,A=l):(E=l,A=v)):(this._flipX?(T=h,C=d):(T=d,C=h),this._flipY?(E=v-g*x,A=v-g*x):(E=l+g*x,A=l+g*x)),i[y+0]=T,i[y+1]=E,i[y+2]=C,i[y+3]=A}return this},resizeArrays:function(i){var o=this.colors,h=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),o=new Uint32Array(i*2),h=new Float32Array(i*2);for(var l=0;l<i*2;l++)o[l]=16777215,h[l]=1;return this.colors=o,this.alphas=h,this.dirty=!0,this},updateVertices:function(){var i=this._perp,o=this.points,h=this.vertices,l=o.length;if(this.dirty=!1,!(l<1)){for(var d,v=o[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<l;x++){var g=o[x],y=x*4;x<l-1?d=o[x+1]:d=g,i.x=d.y-v.y,i.y=-(d.x-v.x);var T=i.length();i.x/=T,i.y/=T,i.x*=m,i.y*=m,h[y]=g.x+i.x,h[y+1]=g.y+i.y,h[y+2]=g.x-i.x,h[y+3]=g.y-i.y,v=g}return this}},setDebug:function(i,o){return this.debugGraphic=i,!i&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,o,h){var l=i.debugGraphic,d=h[0],v=h[1],m=h[2],x=h[3];l.lineBetween(d,v,m,x);for(var g=4;g<o;g+=4){var y=h[g+0],T=h[g+1],E=h[g+2],C=h[g+3];l.lineBetween(d,v,y,T),l.lineBetween(m,x,E,C),l.lineBetween(m,x,y,T),l.lineBetween(y,T,E,C),d=y,v=T,m=E,x=C}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});p.exports=u},44598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},96027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(10850),n=t(79968);c.register("rope",function(e,s){e===void 0&&(e={});var u=a(e,"key",null),i=a(e,"frame",null),o=a(e,"horizontal",!0),h=r(e,"points",void 0),l=r(e,"colors",void 0),d=r(e,"alphas",void 0),v=new n(this.scene,0,0,u,i,h,o,l,d);return s!==void 0&&(e.add=s),f(this.scene,v,e),v})},31982:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79968),c=t(61286);c.register("rope",function(a,r,n,e,s,u,i,o){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o))})},58912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(49489),a=t(44598),p.exports={renderWebGL:c,renderCanvas:a}},49489:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline,n),i=f(n,e,s).calc,o=n.vertices,h=n.uv,l=n.colors,d=n.alphas,v=n.alpha,m=c.getTintAppendFloatAlpha,x=e.roundPixels,g=o.length,y=Math.floor(g*.5);u.flush(),r.pipelines.preBatch(n);var T=u.setGameObject(n),E=u.vertexViewF32,C=u.vertexViewU32,A=u.vertexCount*u.currentShader.vertexComponentCount-1,P=0,F=n.tintFill;n.dirty&&n.updateVertices();for(var O=n.debugCallback,I=[],G=0;G<g;G+=2){var z=o[G+0],X=o[G+1],H=z*i.a+X*i.c+i.e,N=z*i.b+X*i.d+i.f;x&&(H=Math.round(H),N=Math.round(N)),E[++A]=H,E[++A]=N,E[++A]=h[G+0],E[++A]=h[G+1],E[++A]=T,E[++A]=F,C[++A]=m(l[P],e.alpha*(d[P]*v)),P++,O&&(I[G+0]=H,I[G+1]=N)}O&&O.call(n,n,g,I),u.vertexCount+=y,u.currentBatch.count=u.vertexCount-u.currentBatch.start,r.pipelines.postBatch(n)};p.exports=a},27902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(72632),n=t(98611),e=t(22440),s=t(24252),u=t(69360),i=new f({Extends:a,Mixins:[c.ComputedSize,c.Depth,c.GetBounds,c.Mask,c.Origin,c.ScrollFactor,c.Transform,c.Visible,s],initialize:function(h,l,d,v,m,x,g,y){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=128),x===void 0&&(x=128),a.call(this,h,"Shader"),this.blendMode=-1,this.shader;var T=h.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,v),this.setSize(m,x),this.setOrigin(.5,.5),this.setShader(l,g,y)},willRender:function(o){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,h){if(h===void 0&&(h=!1),!this.renderToTexture){var l=this.width,d=this.height,v=this.renderer;this.glTexture=v.createTextureFromSource(null,l,d,0),this.glTexture.flipY=h,this.framebuffer=v.createFramebuffer(l,d,this.glTexture,!1),this._rendererWidth=l,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,l,d))}return this.shader&&(v.pipelines.clear(),this.load(),this.flush(),v.pipelines.rebind()),this},setShader:function(o,h,l){if(h===void 0&&(h=[]),typeof o=="string"){var d=this.scene.sys.cache.shader;if(!d.has(o))return console.warn("Shader missing: "+o),this;this.shader=d.get(o)}else this.shader=o;var v=this.gl,m=this.renderer;this.program&&v.deleteProgram(this.program);var x=m.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);v.uniformMatrix4fv(v.getUniformLocation(x,"uViewMatrix"),!1,this.viewMatrix),v.uniformMatrix4fv(v.getUniformLocation(x,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(x,"uResolution"),this.width,this.height),this.program=x;var g=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[g.getFullYear(),g.getMonth(),g.getDate(),g.getHours()*60*60+g.getMinutes()*60+g.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)h[T]&&this.setSampler2D("iChannel"+T,h[T],T,l);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,h,l,d){var v=-1e3,m=1e3,x=1/(o-h),g=1/(l-d),y=1/(v-m),T=this.projectionMatrix;T[0]=-2*x,T[5]=-2*g,T[10]=2*y,T[12]=(o+h)*x,T[13]=(d+l)*g,T[14]=(m+v)*y;var E=this.program,C=this.gl,A=this.renderer;A.setProgram(E),C.uniformMatrix4fv(C.getUniformLocation(E,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=h,this._rendererHeight=l},initUniforms:function(){var o=this.gl,h=this.renderer.glFuncMap,l=this.program;this._textureCount=0;for(var d in this.uniforms){var v=this.uniforms[d],m=v.type,x=h[m];v.uniformLocation=o.getUniformLocation(l,d),m!=="sampler2D"&&(v.glMatrix=x.matrix,v.glValueLength=x.length,v.glFunc=x.func)}},setSampler2DBuffer:function(o,h,l,d,v,m){v===void 0&&(v=0),m===void 0&&(m={});var x=this.uniforms[o];return x.value=h,m.width=l,m.height=d,x.textureData=m,this._textureCount=v,this.initSampler2D(x),this},setSampler2D:function(o,h,l,d){l===void 0&&(l=0);var v=this.scene.sys.textures;if(v.exists(h)){var m=v.getFrame(h);if(m.glTexture&&m.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,m.glTexture,m.width,m.height,l,d);var x=this.uniforms[o],g=m.source;x.textureKey=h,x.source=g.image,x.value=m.glTexture,g.isGLTexture&&(d||(d={}),d.width=g.width,d.height=g.height),d&&(x.textureData=d),this._textureCount=l,this.initSampler2D(x)}return this},setUniform:function(o,h){return e(this.uniforms,o,h),this},getUniform:function(o){return r(this.uniforms,o,null)},setChannel0:function(o,h){return this.setSampler2D("iChannel0",o,0,h)},setChannel1:function(o,h){return this.setSampler2D("iChannel1",o,1,h)},setChannel2:function(o,h){return this.setSampler2D("iChannel2",o,2,h)},setChannel3:function(o,h){return this.setSampler2D("iChannel3",o,3,h)},initSampler2D:function(o){if(!!o.value){var h=this.gl;h.activeTexture(h.TEXTURE0+this._textureCount),h.bindTexture(h.TEXTURE_2D,o.value);var l=o.textureData;if(l&&!o.value.isRenderTexture){var d=h[r(l,"magFilter","linear").toUpperCase()],v=h[r(l,"minFilter","linear").toUpperCase()],m=h[r(l,"wrapS","repeat").toUpperCase()],x=h[r(l,"wrapT","repeat").toUpperCase()],g=h[r(l,"format","rgba").toUpperCase()];if(l.repeat&&(m=h.REPEAT,x=h.REPEAT),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!!l.flipY),l.width){var y=r(l,"width",512),T=r(l,"height",2),E=r(l,"border",0);h.texImage2D(h.TEXTURE_2D,0,g,y,T,E,g,h.UNSIGNED_BYTE,null)}else h.texImage2D(h.TEXTURE_2D,0,g,h.RGBA,h.UNSIGNED_BYTE,o.source);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,d),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,v),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,m),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,x)}this.renderer.setProgram(this.program),h.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,h=this.uniforms,l,d,v,m,x,g=0;for(var y in h)l=h[y],v=l.glFunc,d=l.glValueLength,m=l.uniformLocation,x=l.value,x!==null&&(d===1?l.glMatrix?v.call(o,m,l.transpose,x):v.call(o,m,x):d===2?v.call(o,m,x.x,x.y):d===3?v.call(o,m,x.x,x.y,x.z):d===4?v.call(o,m,x.x,x.y,x.z,x.w):l.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+g),o.bindTexture(o.TEXTURE_2D,x),o.uniform1i(m,g),g++))},load:function(o){var h=this.gl,l=this.width,d=this.height,v=this.renderer,m=this.program,x=this.viewMatrix;if(!this.renderToTexture){var g=-this._displayOriginX,y=-this._displayOriginY;x[0]=o[0],x[1]=o[1],x[4]=o[2],x[5]=o[3],x[8]=o[4],x[9]=o[5],x[12]=x[0]*g+x[4]*y,x[13]=x[1]*g+x[5]*y}h.useProgram(m),h.uniformMatrix4fv(h.getUniformLocation(m,"uViewMatrix"),!1,x),h.uniform2f(h.getUniformLocation(m,"uResolution"),this.width,this.height);var T=this.uniforms,E=T.resolution;E.value.x=l,E.value.y=d,T.time.value=v.game.loop.getDuration();var C=this.pointer;if(C){var A=T.mouse,P=C.x/l,F=1-C.y/d;A.value.x=P.toFixed(2),A.value.y=F.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,h=this.height,l=this.program,d=this.gl,v=this.vertexBuffer,m=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(m.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,v);var g=d.getAttribLocation(l,"inPosition");g!==-1&&(d.enableVertexAttribArray(g),d.vertexAttribPointer(g,2,d.FLOAT,!1,x,0));var y=this.vertexViewF32;y[3]=h,y[4]=o,y[5]=h,y[8]=o,y[9]=h,y[10]=o;var T=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,T*x)),d.drawArrays(d.TRIANGLES,0,T),this.renderToTexture&&m.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=i},10612:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},13908:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(27902);c.register("shader",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),u=a(n,"x",0),i=a(n,"y",0),o=a(n,"width",128),h=a(n,"height",128),l=new r(this.scene,s,u,i,o,h);return e!==void 0&&(n.add=e),f(this.scene,l,n),l})},51979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27902),c=t(61286);c.register("shader",function(a,r,n,e,s,u,i){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i))})},24252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(19782),a=t(10612),p.exports={renderWebGL:c,renderCanvas:a}},19782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e){if(!!r.shader){if(n.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=f(r,n,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(s.matrix),r.flush()}a.pipelines.rebind()}};p.exports=c},19543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e,s,u){for(var i=f.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),o=n.pathData,h=n.pathIndexes,l=0;l<h.length;l+=3){var d=h[l]*2,v=h[l+1]*2,m=h[l+2]*2,x=o[d+0]-s,g=o[d+1]-u,y=o[v+0]-s,T=o[v+1]-u,E=o[m+0]-s,C=o[m+1]-u,A=r.getX(x,g),P=r.getY(x,g),F=r.getX(y,T),O=r.getY(y,T),I=r.getX(E,C),G=r.getY(E,C);a.batchTri(n,A,P,F,O,I,G,0,0,1,1,i,i,i,2)}};p.exports=c},15608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=c||f.fillColor,n=a||f.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,u=r&255;t.fillStyle="rgba("+e+","+s+","+u+","+n+")"};p.exports=S},17876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=c||f.strokeColor,n=a||f.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,u=r&255;t.strokeStyle="rgba("+e+","+s+","+u+","+n+")",t.lineWidth=f.lineWidth};p.exports=S},91461:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(89980),r=t(88829),n=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible],initialize:function(s,u,i){u===void 0&&(u="Shape"),a.call(this,s,u),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,u){return u===void 0&&(u=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=n},50262:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e,s){var u=a.strokeTint,i=f.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);u.TL=i,u.TR=i,u.BL=i,u.BR=i;var o=r.pathData,h=o.length-1,l=r.lineWidth,d=l/2,v=o[0]-e,m=o[1]-s;r.closePath||(h-=2);for(var x=2;x<h;x+=2){var g=o[x]-e,y=o[x+1]-s;a.batchLine(v,m,g,y,d,d,l,x-2,r.closePath?x===h-1:!1),v=g,m=y}};p.exports=c},28593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(2213),c=t(56694),a=t(75606),r=t(11117),n=t(26673),e=t(83392),s=t(91461),u=new c({Extends:s,Mixins:[f],initialize:function(o,h,l,d,v,m,x,g,y){h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=128),v===void 0&&(v=0),m===void 0&&(m=360),x===void 0&&(x=!1),s.call(this,o,"Arc",new n(0,0,d)),this._startAngle=v,this._endAngle=m,this._anticlockwise=x,this._iterations=.01,this.setPosition(h,l);var T=this.geom.radius*2;this.setSize(T,T),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var o=i*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,o){return this._startAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(i,o){return this._endAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var i=this._iterations,o=i,h=this.geom.radius,l=a(this._startAngle),d=a(this._endAngle),v=this._anticlockwise,m=h,x=h;d-=l,v?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var g=[m+Math.cos(l)*h,x+Math.sin(l)*h],y;o<1;)y=d*o+l,g.push(m+Math.cos(y)*h,x+Math.sin(y)*h),o+=i;return y=d+l,g.push(m+Math.cos(y)*h,x+Math.sin(y)*h),g.push(m+Math.cos(l)*h,x+Math.sin(l)*h),this.pathIndexes=r(g),this.pathData=g,this}});p.exports=u},23560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75606),c=t(15608),a=t(17876),r=t(49584),n=function(e,s,u,i){u.addToRenderList(s);var o=e.currentContext;if(r(e,o,s,u,i)){var h=s.radius;o.beginPath(),o.arc(h-s.originX*(h*2),h-s.originY*(h*2),h,f(s._startAngle),f(s._endAngle),s.anticlockwise),s.closePath&&o.closePath(),s.isFilled&&(c(o,s),o.fill()),s.isStroked&&(a(o,s),o.stroke()),o.restore()}};p.exports=n},10369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28593),c=t(61286);c.register("arc",function(a,r,n,e,s,u,i,o){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i,o))}),c.register("circle",function(a,r,n,e,s){return this.displayList.add(new f(this.scene,a,r,n,0,360,!1,e,s))})},2213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(58356),a=t(23560),p.exports={renderWebGL:c,renderCanvas:a}},58356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(19543),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=f(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&c(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},15220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(87203),a=t(11117),r=t(74118),n=t(91461),e=new f({Extends:n,Mixins:[c],initialize:function(u,i,o,h,l,d){i===void 0&&(i=0),o===void 0&&(o=0),n.call(this,u,"Curve",h),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,o),l!==void 0&&this.setFillStyle(l,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,u=this._smoothness;this.geom.getBounds(s,u),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],o=this.geom.getPoints(u),h=0;h<o.length;h++)i.push(o[h].x,o[h].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=e},4024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX+e._curveBounds.x,h=e._displayOriginY+e._curveBounds.y,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}e.closePath&&i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},10147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(15220);f.register("curve",function(a,r,n,e,s){return this.displayList.add(new c(this.scene,a,r,n,e,s))})},87203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(82958),a=t(4024),p.exports={renderWebGL:c,renderCanvas:a}},82958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},28591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(11117),a=t(84171),r=t(95669),n=t(91461),e=new f({Extends:n,Mixins:[a],initialize:function(u,i,o,h,l,d,v){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=128),l===void 0&&(l=128),n.call(this,u,"Ellipse",new r(h/2,l/2,h,l)),this._smoothness=64,this.setPosition(i,o),this.width=h,this.height=l,d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,u){return this.width=s,this.height=u,this.geom.setPosition(s/2,u/2),this.geom.setSize(s,u),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],u=this.geom.getPoints(this._smoothness),i=0;i<u.length;i++)s.push(u[i].x,u[i].y);return s.push(u[0].x,u[0].y),this.pathIndexes=c(s),this.pathData=s,this}});p.exports=e},55881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},99869:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28591),c=t(61286);c.register("ellipse",function(a,r,n,e,s,u){return this.displayList.add(new f(this.scene,a,r,n,e,s,u))})},84171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(17554),a=t(55881),p.exports={renderWebGL:c,renderCanvas:a}},17554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},39169:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91461),a=t(88059),r=new f({Extends:c,Mixins:[a],initialize:function(e,s,u,i,o,h,l,d,v,m,x){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=128),o===void 0&&(o=128),h===void 0&&(h=32),l===void 0&&(l=32),c.call(this,e,"Grid",null),this.cellWidth=h,this.cellHeight=l,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,u),this.setSize(i,o),this.setFillStyle(d,v),m!==void 0&&this.setOutlineStyle(m,x),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},95525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=-e._displayOriginX,h=-e._displayOriginY,l=s.alpha*e.alpha,d=e.width,v=e.height,m=e.cellWidth,x=e.cellHeight,g=Math.ceil(d/m),y=Math.ceil(v/x),T=m,E=x,C=m-(g*m-d),A=x-(y*x-v),P=e.showCells,F=e.showAltCells,O=e.showOutline,I=0,G=0,z=0,X=0,H=0;if(O&&(T--,E--,C===m&&C--,A===x&&A--),P&&e.fillAlpha>0)for(f(i,e),G=0;G<y;G++)for(F&&(z=G%2),I=0;I<g;I++){if(F&&z){z=0;continue}z++,X=I<g-1?T:C,H=G<y-1?E:A,i.fillRect(o+I*m,h+G*x,X,H)}if(F&&e.altFillAlpha>0)for(f(i,e,e.altFillColor,e.altFillAlpha*l),G=0;G<y;G++)for(F&&(z=G%2),I=0;I<g;I++){if(F&&!z){z=1;continue}z=0,X=I<g-1?T:C,H=G<y-1?E:A,i.fillRect(o+I*m,h+G*x,X,H)}if(O&&e.outlineFillAlpha>0){for(c(i,e,e.outlineFillColor,e.outlineFillAlpha*l),I=1;I<g;I++){var N=I*m;i.beginPath(),i.moveTo(N+o,h),i.lineTo(N+o,v+h),i.stroke()}for(G=1;G<y;G++){var U=G*x;i.beginPath(),i.moveTo(o,U+h),i.lineTo(o+d,U+h),i.stroke()}}i.restore()}};p.exports=r},9326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(39169);f.register("grid",function(a,r,n,e,s,u,i,o,h,l){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o,h,l))})},88059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(50639),a=t(95525),p.exports={renderWebGL:c,renderCanvas:a}},50639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s),o=u.calcMatrix.copyFrom(i.calc);o.translate(-n._displayOriginX,-n._displayOriginY);var h=e.alpha*n.alpha,l=n.width,d=n.height,v=n.cellWidth,m=n.cellHeight,x=Math.ceil(l/v),g=Math.ceil(d/m),y=v,T=m,E=v-(x*v-l),C=m-(g*m-d),A,P,F=n.showCells,O=n.showAltCells,I=n.showOutline,G=0,z=0,X=0,H=0,N=0;if(I&&(y--,T--,E===v&&E--,C===m&&C--),r.pipelines.preBatch(n),F&&n.fillAlpha>0)for(A=u.fillTint,P=c.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*h),A.TL=P,A.TR=P,A.BL=P,A.BR=P,z=0;z<g;z++)for(O&&(X=z%2),G=0;G<x;G++){if(O&&X){X=0;continue}X++,H=G<x-1?y:E,N=z<g-1?T:C,u.batchFillRect(G*v,z*m,H,N)}if(O&&n.altFillAlpha>0)for(A=u.fillTint,P=c.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*h),A.TL=P,A.TR=P,A.BL=P,A.BR=P,z=0;z<g;z++)for(O&&(X=z%2),G=0;G<x;G++){if(O&&!X){X=1;continue}X=0,H=G<x-1?y:E,N=z<g-1?T:C,u.batchFillRect(G*v,z*m,H,N)}if(I&&n.outlineFillAlpha>0){var U=u.strokeTint,R=c.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*h);for(U.TL=R,U.TR=R,U.BL=R,U.BR=R,G=1;G<x;G++){var D=G*v;u.batchLine(D,0,D,d,1,1,1,0,!1)}for(z=1;z<g;z++){var B=z*m;u.batchLine(0,B,l,B,1,1,1,0,!1)}}r.pipelines.postBatch(n)};p.exports=a},4415:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72296),c=t(56694),a=t(91461),r=new c({Extends:a,Mixins:[f],initialize:function(e,s,u,i,o,h,l,d){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=48),o===void 0&&(o=32),h===void 0&&(h=15658734),l===void 0&&(l=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=h,this.fillLeft=l,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,u),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},32884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(49584),a=function(r,n,e,s){e.addToRenderList(n);var u=r.currentContext;if(c(r,u,n,e,s)&&n.isFilled){var i=n.width,o=n.height,h=i/2,l=i/n.projection;n.showTop&&(f(u,n,n.fillTop),u.beginPath(),u.moveTo(-h,-o),u.lineTo(0,-l-o),u.lineTo(h,-o),u.lineTo(h,-1),u.lineTo(0,l-1),u.lineTo(-h,-1),u.lineTo(-h,-o),u.fill()),n.showLeft&&(f(u,n,n.fillLeft),u.beginPath(),u.moveTo(-h,0),u.lineTo(0,l),u.lineTo(0,l-o),u.lineTo(-h,-o),u.lineTo(-h,0),u.fill()),n.showRight&&(f(u,n,n.fillRight),u.beginPath(),u.moveTo(h,0),u.lineTo(0,l),u.lineTo(0,l-o),u.lineTo(h,-o),u.lineTo(h,0),u.fill()),u.restore()}};p.exports=a},88154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(4415);f.register("isobox",function(a,r,n,e,s,u,i){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i))})},72296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(33101),a=t(32884),p.exports={renderWebGL:c,renderCanvas:a}},33101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s),o=u.calcMatrix.copyFrom(i.calc),h=n.width,l=n.height,d=h/2,v=h/n.projection,m=e.alpha*n.alpha;if(!!n.isFilled){var x,g,y,T,E,C,A,P,F;r.pipelines.preBatch(n),n.showTop&&(x=c.getTintAppendFloatAlpha(n.fillTop,m),g=o.getX(-d,-l),y=o.getY(-d,-l),T=o.getX(0,-v-l),E=o.getY(0,-v-l),C=o.getX(d,-l),A=o.getY(d,-l),P=o.getX(0,v-l),F=o.getY(0,v-l),u.batchQuad(n,g,y,T,E,C,A,P,F,0,0,1,1,x,x,x,x,2)),n.showLeft&&(x=c.getTintAppendFloatAlpha(n.fillLeft,m),g=o.getX(-d,0),y=o.getY(-d,0),T=o.getX(0,v),E=o.getY(0,v),C=o.getX(0,v-l),A=o.getY(0,v-l),P=o.getX(-d,-l),F=o.getY(-d,-l),u.batchQuad(n,g,y,T,E,C,A,P,F,0,0,1,1,x,x,x,x,2)),n.showRight&&(x=c.getTintAppendFloatAlpha(n.fillRight,m),g=o.getX(d,0),y=o.getY(d,0),T=o.getX(0,v),E=o.getY(0,v),C=o.getX(0,v-l),A=o.getY(0,v-l),P=o.getX(d,-l),F=o.getY(d,-l),u.batchQuad(n,g,y,T,E,C,A,P,F,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(n)}};p.exports=a},65159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93387),a=t(91461),r=new f({Extends:a,Mixins:[c],initialize:function(e,s,u,i,o,h,l,d,v){s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i=48),o===void 0&&(o=32),h===void 0&&(h=!1),l===void 0&&(l=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=l,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=h,this.isFilled=!0,this.setPosition(s,u),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},9923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(49584),a=function(r,n,e,s){e.addToRenderList(n);var u=r.currentContext;if(c(r,u,n,e,s)&&n.isFilled){var i=n.width,o=n.height,h=i/2,l=i/n.projection,d=n.isReversed;n.showTop&&d&&(f(u,n,n.fillTop),u.beginPath(),u.moveTo(-h,-o),u.lineTo(0,-l-o),u.lineTo(h,-o),u.lineTo(0,l-o),u.fill()),n.showLeft&&(f(u,n,n.fillLeft),u.beginPath(),d?(u.moveTo(-h,-o),u.lineTo(0,l),u.lineTo(0,l-o)):(u.moveTo(-h,0),u.lineTo(0,l),u.lineTo(0,l-o)),u.fill()),n.showRight&&(f(u,n,n.fillRight),u.beginPath(),d?(u.moveTo(h,-o),u.lineTo(0,l),u.lineTo(0,l-o)):(u.moveTo(h,0),u.lineTo(0,l),u.lineTo(0,l-o)),u.fill()),u.restore()}};p.exports=a},67765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(65159);f.register("isotriangle",function(a,r,n,e,s,u,i,o){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o))})},93387:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(54946),a=t(9923),p.exports={renderWebGL:c,renderCanvas:a}},54946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s),o=u.calcMatrix.copyFrom(i.calc),h=n.width,l=n.height,d=h/2,v=h/n.projection,m=n.isReversed,x=e.alpha*n.alpha;if(!!n.isFilled){r.pipelines.preBatch(n);var g,y,T,E,C,A,P;if(n.showTop&&m){g=c.getTintAppendFloatAlpha(n.fillTop,x),y=o.getX(-d,-l),T=o.getY(-d,-l),E=o.getX(0,-v-l),C=o.getY(0,-v-l),A=o.getX(d,-l),P=o.getY(d,-l);var F=o.getX(0,v-l),O=o.getY(0,v-l);u.batchQuad(n,y,T,E,C,A,P,F,O,0,0,1,1,g,g,g,g,2)}n.showLeft&&(g=c.getTintAppendFloatAlpha(n.fillLeft,x),m?(y=o.getX(-d,-l),T=o.getY(-d,-l),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)):(y=o.getX(-d,0),T=o.getY(-d,0),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)),u.batchTri(n,y,T,E,C,A,P,0,0,1,1,g,g,g,2)),n.showRight&&(g=c.getTintAppendFloatAlpha(n.fillRight,x),m?(y=o.getX(d,-l),T=o.getY(d,-l),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)):(y=o.getX(d,0),T=o.getY(d,0),E=o.getX(0,v),C=o.getY(0,v),A=o.getX(0,v-l),P=o.getY(0,v-l)),u.batchTri(n,y,T,E,C,A,P,0,0,1,1,g,g,g,2)),r.pipelines.postBatch(n)}};p.exports=a},579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91461),a=t(88829),r=t(52660),n=new f({Extends:c,Mixins:[r],initialize:function(s,u,i,o,h,l,d,v,m){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=128),d===void 0&&(d=0),c.call(this,s,"Line",new a(o,h,l,d));var x=Math.max(1,this.geom.right-this.geom.left),g=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,i),this.setSize(x,g),v!==void 0&&this.setStrokeStyle(1,v,m),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,u,i){return this.geom.setTo(e,s,u,i),this}});p.exports=n},52044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17876),c=t(49584),a=function(r,n,e,s){e.addToRenderList(n);var u=r.currentContext;if(c(r,u,n,e,s)){var i=n._displayOriginX,o=n._displayOriginY;n.isStroked&&(f(u,n),u.beginPath(),u.moveTo(n.geom.x1-i,n.geom.y1-o),u.lineTo(n.geom.x2-i,n.geom.y2-o),u.stroke()),u.restore()}};p.exports=a},85665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(579);f.register("line",function(a,r,n,e,s,u,i,o){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o))})},52660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(46952),a=t(52044),p.exports={renderWebGL:c,renderCanvas:a}},46952:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(75512),a=function(r,n,e,s){e.addToRenderList(n);var u=r.pipelines.set(n.pipeline),i=f(n,e,s);u.calcMatrix.copyFrom(i.calc);var o=n._displayOriginX,h=n._displayOriginY,l=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var d=u.strokeTint,v=c.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*l);d.TL=v,d.TR=v,d.BL=v,d.BR=v,u.batchLine(n.geom.x1-o,n.geom.y1-h,n.geom.x2-o,n.geom.y2-h,n._startWidth/2,n._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};p.exports=a},91249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70573),c=t(56694),a=t(11117),r=t(14045),n=t(8580),e=t(91461),s=t(18974),u=new c({Extends:e,Mixins:[f],initialize:function(o,h,l,d,v,m){h===void 0&&(h=0),l===void 0&&(l=0),e.call(this,o,"Polygon",new n(d));var x=r(this.geom);this.setPosition(h,l),this.setSize(x.width,x.height),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var o=0;o<i;o++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var o=r(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],o=this.geom.points,h=0;h<o.length;h++)i.push(o[h].x,o[h].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=u},40834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}e.closePath&&i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},88203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(91249);f.register("polygon",function(a,r,n,e,s){return this.displayList.add(new c(this.scene,a,r,n,e,s))})},70573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(72841),a=t(40834),p.exports={renderWebGL:c,renderCanvas:a}},72841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74118),a=t(91461),r=t(37673),n=new f({Extends:a,Mixins:[r],initialize:function(s,u,i,o,h,l,d){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=128),h===void 0&&(h=128),a.call(this,s,"Rectangle",new c(0,0,o,h)),this.setPosition(u,i),this.setSize(o,h),l!==void 0&&this.setFillStyle(l,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=e,u.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,u=this._tempLine;return s.getLineA(u),e.push(u.x1,u.y1,u.x2,u.y2),s.getLineB(u),e.push(u.x2,u.y2),s.getLineC(u),e.push(u.x2,u.y2),s.getLineD(u),e.push(u.x2,u.y2),this.pathData=e,this}});p.exports=n},4091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY;e.isFilled&&(f(i,e),i.fillRect(-o,-h,e.width,e.height)),e.isStroked&&(c(i,e),i.beginPath(),i.rect(-o,-h,e.width,e.height),i.stroke()),i.restore()}};p.exports=r},94355:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(517);f.register("rectangle",function(a,r,n,e,s,u){return this.displayList.add(new c(this.scene,a,r,n,e,s,u))})},37673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(43532),a=t(4091),p.exports={renderWebGL:c,renderCanvas:a}},43532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(50262),a=t(75512),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=f(e,s,u);i.calcMatrix.copyFrom(o.calc);var h=e._displayOriginX,l=e._displayOriginY,d=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m,i.batchFillRect(-h,-l,e.width,e.height)}e.isStroked&&c(i,e,d,h,l),n.pipelines.postBatch(e)};p.exports=r},77843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(87956),c=t(56694),a=t(11117),r=t(91461),n=new c({Extends:r,Mixins:[f],initialize:function(s,u,i,o,h,l,d,v){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=5),h===void 0&&(h=32),l===void 0&&(l=64),r.call(this,s,"Star",null),this._points=o,this._innerRadius=h,this._outerRadius=l,this.setPosition(u,i),this.setSize(l*2,l*2),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,u=this._innerRadius,i=this._outerRadius,o=Math.PI/2*3,h=Math.PI/s,l=i,d=i;e.push(l,d+-i);for(var v=0;v<s;v++)e.push(l+Math.cos(o)*i,d+Math.sin(o)*i),o+=h,e.push(l+Math.cos(o)*u,d+Math.sin(o)*u),o+=h;return e.push(l,d+-i),this.pathIndexes=a(e),this.pathData=e,this}});p.exports=n},11401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.pathData,d=l.length-1,v=l[0]-o,m=l[1]-h;i.beginPath(),i.moveTo(v,m),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var g=l[x]-o,y=l[x+1]-h;i.lineTo(g,y)}i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},23962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(77843),c=t(61286);c.register("star",function(a,r,n,e,s,u,i){return this.displayList.add(new f(this.scene,a,r,n,e,s,u,i))})},87956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(12037),a=t(11401),p.exports={renderWebGL:c,renderCanvas:a}},12037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19543),c=t(73329),a=t(50262),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=c(e,s,u),h=i.calcMatrix.copyFrom(o.calc),l=e._displayOriginX,d=e._displayOriginY,v=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&f(i,h,e,v,l,d),e.isStroked&&a(i,e,v,l,d),n.pipelines.postBatch(e)};p.exports=r},21873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91461),a=t(66349),r=t(70498),n=new f({Extends:c,Mixins:[r],initialize:function(s,u,i,o,h,l,d,v,m,x,g){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=128),l===void 0&&(l=64),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=128),c.call(this,s,"Triangle",new a(o,h,l,d,v,m));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(u,i),this.setSize(y,T),x!==void 0&&this.setFillStyle(x,g),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,u,i,o,h){return this.geom.setTo(e,s,u,i,o,h),this.updateData()},updateData:function(){var e=[],s=this.geom,u=this._tempLine;return s.getLineA(u),e.push(u.x1,u.y1,u.x2,u.y2),s.getLineB(u),e.push(u.x2,u.y2),s.getLineC(u),e.push(u.x2,u.y2),this.pathData=e,this}});p.exports=n},60213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15608),c=t(17876),a=t(49584),r=function(n,e,s,u){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,u)){var o=e._displayOriginX,h=e._displayOriginY,l=e.geom.x1-o,d=e.geom.y1-h,v=e.geom.x2-o,m=e.geom.y2-h,x=e.geom.x3-o,g=e.geom.y3-h;i.beginPath(),i.moveTo(l,d),i.lineTo(v,m),i.lineTo(x,g),i.closePath(),e.isFilled&&(f(i,e),i.fill()),e.isStroked&&(c(i,e),i.stroke()),i.restore()}};p.exports=r},79296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(21873);f.register("triangle",function(a,r,n,e,s,u,i,o,h,l){return this.displayList.add(new c(this.scene,a,r,n,e,s,u,i,o,h,l))})},70498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(72291),a=t(60213),p.exports={renderWebGL:c,renderCanvas:a}},72291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=t(50262),a=t(75512),r=function(n,e,s,u){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),o=f(e,s,u);i.calcMatrix.copyFrom(o.calc);var h=e._displayOriginX,l=e._displayOriginY,d=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m;var x=e.geom.x1-h,g=e.geom.y1-l,y=e.geom.x2-h,T=e.geom.y2-l,E=e.geom.x3-h,C=e.geom.y3-l;i.batchFillTriangle(x,g,y,T,E,C,o.sprite,o.camera)}e.isStroked&&c(i,e,d,h,l),n.pipelines.postBatch(e)};p.exports=r},13747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(64937),r=t(89980),n=t(20791),e=new c({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,n],initialize:function(u,i,o,h,l){r.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(h,l),this.setPosition(i,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){this.anims.update(s,u)},play:function(s,u){return this.anims.play(s,u)},playReverse:function(s,u){return this.anims.playReverse(s,u)},playAfterDelay:function(s,u){return this.anims.playAfterDelay(s,u)},playAfterRepeat:function(s,u){return this.anims.playAfterRepeat(s,u)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},27573:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),t.batchSprite(f,f.frame,c,a)};p.exports=S},89219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(32291),a=t(99325),r=t(20494),n=t(13747);a.register("sprite",function(e,s){e===void 0&&(e={});var u=r(e,"key",null),i=r(e,"frame",null),o=new n(this.scene,0,0,u,i);return s!==void 0&&(e.add=s),f(this.scene,o,e),c(o,e),o})},66135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(13747);f.register("sprite",function(a,r,n,e){return this.displayList.add(new c(this.scene,a,r,n,e))})},20791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(21034),a=t(27573),p.exports={renderWebGL:c,renderCanvas:a}},21034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c.addToRenderList(f),f.pipeline.batchSprite(f,c,a)};p.exports=S},32979:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.canvas,r=t.context,n=t.style,e=[],s=0,u=c.length;n.maxLines>0&&n.maxLines<c.length&&(u=n.maxLines),n.syncFont(a,r);for(var i=0;i<u;i++){var o=n.strokeThickness;o+=r.measureText(c[i]).width,c[i].length>1&&(o+=t.letterSpacing*(c[i].length-1)),n.wordWrap&&(o-=r.measureText(" ").width),e[i]=Math.ceil(o),s=Math.max(s,e[i])}var h=f.fontSize+n.strokeThickness,l=h*u,d=t.lineSpacing;return u>1&&(l+=d*(u-1)),{width:s,height:l,lines:u,lineWidths:e,lineSpacing:d,lineHeight:h}};p.exports=S},27030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=function(a){var r=f.create(this),n=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,n);var e=n.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,u=e.actualBoundingBoxDescent;return f.remove(r),{ascent:s,descent:u,fontSize:s+u}}var i=Math.ceil(e.width*a.baselineX),o=i,h=2*o;o=o*a.baselineY|0,r.width=i,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,i,h),n.font=a._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a.testString,0,o);var l={ascent:0,descent:0,fontSize:0},d=n.getImageData(0,0,i,h);if(!d)return l.ascent=o,l.descent=o+6,l.fontSize=l.ascent+l.descent,f.remove(r),l;var v=d.data,m=v.length,x=i*4,g,y,T=0,E=!1;for(g=0;g<o;g++){for(y=0;y<x;y+=4)if(v[T+y]!==255){E=!0;break}if(!E)T+=x;else break}for(l.ascent=o-g,T=m-x,E=!1,g=h;g>o;g--){for(y=0;y<x;y+=4)if(v[T+y]!==255){E=!0;break}if(!E)T-=x;else break}return l.descent=g-o,l.fontSize=l.ascent+l.descent,f.remove(r),l};p.exports=c},76555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99584),c=t(61068),a=t(56694),r=t(64937),n=t(89980),e=t(32979),s=t(10850),u=t(55638),i=t(80032),o=t(74744),h=new a({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(d,v,m,x,g){v===void 0&&(v=0),m===void 0&&(m=0),n.call(this,d,"Text"),this.renderer=d.sys.renderer,this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=c.create(this),this.context,this.style=new o(this,g),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),g&&g.padding&&this.setPadding(g.padding),g&&g.lineSpacing&&this.setLineSpacing(g.lineSpacing)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(l){var d=this.style;if(d.wordWrapCallback){var v=d.wordWrapCallback.call(d.wordWrapCallbackScope,l,this);return Array.isArray(v)&&(v=v.join(`
`)),v}else return d.wordWrapWidth?d.wordWrapUseAdvanced?this.advancedWordWrap(l,this.context,this.style.wordWrapWidth):this.basicWordWrap(l,this.context,this.style.wordWrapWidth):l},advancedWordWrap:function(l,d,v){for(var m="",x=l.replace(/ +/gi," ").split(this.splitRegExp),g=x.length,y=0;y<g;y++){var T=x[y],E="";T=T.replace(/^ *|\s*$/gi,"");var C=d.measureText(T).width;if(C<v){m+=T+`
`;continue}for(var A=v,P=T.split(" "),F=0;F<P.length;F++){var O=P[F],I=O+" ",G=d.measureText(I).width;if(G>A){if(F===0){for(var z=I;z.length&&(z=z.slice(0,-1),G=d.measureText(z).width,!(G<=A)););if(!z.length)throw new Error("wordWrapWidth < a single character");var X=O.substr(z.length);P[F]=X,E+=z}var H=P[F].length?F:F+1,N=P.slice(H).join(" ").replace(/[ \n]*$/gi,"");x.splice(y+1,0,N),g=x.length;break}else E+=I,A-=G}m+=E.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(l,d,v){for(var m="",x=l.split(this.splitRegExp),g=x.length-1,y=d.measureText(" ").width,T=0;T<=g;T++){for(var E=v,C=x[T].split(" "),A=C.length-1,P=0;P<=A;P++){var F=C[P],O=d.measureText(F).width,I=O;P<A&&(I+=y),I>E&&P>0&&(m+=`
`,E=v),m+=F,P<A?(m+=" ",E-=I):E-=O}T<g&&(m+=`
`)}return m},getWrappedText:function(l){l===void 0&&(l=this._text),this.style.syncFont(this.canvas,this.context);var d=this.runWordWrap(l);return d.split(this.splitRegExp)},setText:function(l){return!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l!==this._text&&(this._text=l.toString(),this.updateText()),this},appendText:function(l,d){d===void 0&&(d=!0),!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l=l.toString();var v=this._text.concat(d?`
`+l:l);return v!==this._text&&(this._text=v,this.updateText()),this},setStyle:function(l){return this.style.setStyle(l)},setFont:function(l){return this.style.setFont(l)},setFontFamily:function(l){return this.style.setFontFamily(l)},setFontSize:function(l){return this.style.setFontSize(l)},setFontStyle:function(l){return this.style.setFontStyle(l)},setFixedSize:function(l,d){return this.style.setFixedSize(l,d)},setBackgroundColor:function(l){return this.style.setBackgroundColor(l)},setFill:function(l){return this.style.setFill(l)},setColor:function(l){return this.style.setColor(l)},setStroke:function(l,d){return this.style.setStroke(l,d)},setShadow:function(l,d,v,m,x,g){return this.style.setShadow(l,d,v,m,x,g)},setShadowOffset:function(l,d){return this.style.setShadowOffset(l,d)},setShadowColor:function(l){return this.style.setShadowColor(l)},setShadowBlur:function(l){return this.style.setShadowBlur(l)},setShadowStroke:function(l){return this.style.setShadowStroke(l)},setShadowFill:function(l){return this.style.setShadowFill(l)},setWordWrapWidth:function(l,d){return this.style.setWordWrapWidth(l,d)},setWordWrapCallback:function(l,d){return this.style.setWordWrapCallback(l,d)},setAlign:function(l){return this.style.setAlign(l)},setResolution:function(l){return this.style.setResolution(l)},setLineSpacing:function(l){return this.lineSpacing=l,this.updateText()},setLetterSpacing:function(l){return this.letterSpacing=l,this.updateText()},setPadding:function(l,d,v,m){if(typeof l=="object"){var x=l,g=s(x,"x",null);g!==null?(l=g,v=g):(l=s(x,"left",0),v=s(x,"right",l));var y=s(x,"y",null);y!==null?(d=y,m=y):(d=s(x,"top",0),m=s(x,"bottom",d))}else l===void 0&&(l=0),d===void 0&&(d=l),v===void 0&&(v=l),m===void 0&&(m=d);return this.padding.left=l,this.padding.top=d,this.padding.right=v,this.padding.bottom=m,this.updateText()},setMaxLines:function(l){return this.style.setMaxLines(l)},setRTL:function(l){l===void 0&&(l=!0);var d=this.style;return d.rtl===l?this:(d.rtl=l,l?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),d.align==="left"?d.align="right":d.align==="right"&&(d.align="left"),this)},updateText:function(){var l=this.canvas,d=this.context,v=this.style,m=v.resolution,x=v.metrics;v.syncFont(l,d);var g=this._text;(v.wordWrapWidth||v.wordWrapCallback)&&(g=this.runWordWrap(this._text));var y=g.split(this.splitRegExp),T=e(this,x,y),E=this.padding,C;v.fixedWidth===0?(this.width=T.width+E.left+E.right,C=T.width):(this.width=v.fixedWidth,C=this.width-E.left-E.right,C<T.width&&(C=T.width)),v.fixedHeight===0?this.height=T.height+E.top+E.bottom:this.height=v.fixedHeight;var A=this.width,P=this.height;this.updateDisplayOrigin(),A*=m,P*=m,A=Math.max(A,1),P=Math.max(P,1),l.width!==A||l.height!==P?(l.width=A,l.height=P,this.frame.setSize(A,P),v.syncFont(l,d),v.rtl&&(d.direction="rtl")):d.clearRect(0,0,A,P),d.save(),d.scale(m,m),v.backgroundColor&&(d.fillStyle=v.backgroundColor,d.fillRect(0,0,A,P)),v.syncStyle(l,d),d.translate(E.left,E.top);for(var F,O,I=0;I<T.lines;I++){if(F=v.strokeThickness/2,O=v.strokeThickness/2+I*T.lineHeight+x.ascent,I>0&&(O+=T.lineSpacing*I),v.rtl)F=A-F-E.left-E.right;else if(v.align==="right")F+=C-T.lineWidths[I];else if(v.align==="center")F+=(C-T.lineWidths[I])/2;else if(v.align==="justify"){var G=.85;if(T.lineWidths[I]/T.width>=G){var z=T.width-T.lineWidths[I],X=d.measureText(" ").width,H=y[I].trim(),N=H.split(" ");z+=(y[I].length-H.length)*X;for(var U=Math.floor(z/X),R=0;U>0;)N[R]+=" ",R=(R+1)%(N.length-1||1),--U;y[I]=N.join(" ")}}if(this.autoRound&&(F=Math.round(F),O=Math.round(O)),v.strokeThickness&&(v.syncShadow(d,v.shadowStroke),d.strokeText(y[I],F,O)),v.color){v.syncShadow(d,v.shadowFill);var D=this.letterSpacing;if(D!==0)for(var B=0,V=y[I].split(""),Y=0;Y<V.length;Y++)d.fillText(V[Y],F+B,O),B+=d.measureText(V[Y]).width+D;else d.fillText(y[I],F,O)}}d.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture);var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(l){this.setText(l)}},toJSON:function(){var l=r.ToJSON(this),d={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return l.data=d,l},preDestroy:function(){u(this.canvas),c.remove(this.canvas),this.texture.destroy()}});p.exports=h},71649:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.width===0||f.height===0||(c.addToRenderList(f),t.batchSprite(f,f.frame,c,a))};p.exports=S},75397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(76555);c.register("text",function(n,e){n===void 0&&(n={});var s=a(n,"text",""),u=a(n,"style",null),i=a(n,"padding",null);i!==null&&(u.padding=i);var o=new r(this.scene,0,0,s,u);return e!==void 0&&(n.add=e),f(this.scene,o,n),o.autoRound=a(n,"autoRound",!0),o.resolution=a(n,"resolution",1),o})},94627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(76555),c=t(61286);c.register("text",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},80032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(76128),a=t(71649),p.exports={renderWebGL:c,renderCanvas:a}},74744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(20494),a=t(10850),r=t(27030),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new f({initialize:function(u,i){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,u,i){u===void 0&&(u=!0),i===void 0&&(i=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var o in n){var h=i?n[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=a(s,n[o][0],h):this[o]=c(s,n[o][0],h)}var l=a(s,"font",null);l!==null&&this.setFont(l,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(s,"fill",null);d!==null&&(this.color=d);var v=a(s,"metrics",!1);return v?this.metrics={ascent:a(v,"ascent",0),descent:a(v,"descent",0),fontSize:a(v,"fontSize",0)}:(u||!this.metrics)&&(this.metrics=r(this)),u?this.parent.updateText():this.parent},syncFont:function(s,u){u.font=this._font},syncStyle:function(s,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(s,u){u?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,u){u===void 0&&(u=!0);var i=s,o="",h="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),o=a(s,"fontSize","16px"),h=a(s,"fontStyle","");else{var l=s.split(" "),d=0;h=l.length>2?l[d++]:"",o=l[d++]||"16px",i=l[d++]||"Courier"}return(i!==this.fontFamily||o!==this.fontSize||h!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=o,this.fontStyle=h,u&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,u){return this.fixedWidth=s,this.fixedHeight=u,s&&(this.parent.width=s),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,u){return u===void 0&&(u=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==u)&&(this.stroke=s,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(s,u,i,o,h,l){return s===void 0&&(s=0),u===void 0&&(u=0),i===void 0&&(i="#000"),o===void 0&&(o=0),h===void 0&&(h=!1),l===void 0&&(l=!0),this.shadowOffsetX=s,this.shadowOffsetY=u,this.shadowColor=i,this.shadowBlur=o,this.shadowStroke=h,this.shadowFill=l,this.update(!1)},setShadowOffset:function(s,u){return s===void 0&&(s=0),u===void 0&&(u=s),this.shadowOffsetX=s,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,u){return u===void 0&&(u=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(s,u){return u===void 0&&(u=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var u in n)s[u]=this[u];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});p.exports=e},76128:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,u=s.width,i=s.height,o=f.getTintAppendFloatAlpha,h=a.pipelines.set(r.pipeline,r),l=h.setTexture2D(s.glTexture,r);h.batchTexture(r,s.glTexture,u,i,r.x,r.y,u/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,u,i,o(r.tintTopLeft,n.alpha*r._alphaTL),o(r.tintTopRight,n.alpha*r._alphaTR),o(r.tintBottomLeft,n.alpha*r._alphaBL),o(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,l)}};p.exports=c},35856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(56694),a=t(64937),r=t(89980),n=t(3504),e=t(8213),s=t(9271),u=t(93736),i=8,o=new c({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(l,d,v,m,x,g,y){var T=l.sys.renderer;r.call(this,l,"TileSprite");var E=l.sys.textures.get(g),C=E.get(y);C.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),E=l.sys.textures.get("__MISSING"),C=E.get()),E.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),E=l.sys.textures.get("__MISSING"),C=E.get()),!m||!x?(m=C.width,x=C.height):(m=Math.floor(m),x=Math.floor(x)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=T,this.canvas=f.create(this,m,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=E,this.displayFrame=C,this._crop=this.resetCropObject(),this.texture=l.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(C.width),this.potHeight=n(C.height),this.fillCanvas=f.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(d,v),this.setSize(m,x),this.setFrame(y),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(h,l){return this.displayTexture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h){var l=this.displayTexture.get(h);return this.potWidth=n(l.width),this.potHeight=n(l.height),this.canvas.width=0,!l.cutWidth||!l.cutHeight?this.renderFlags&=~i:this.renderFlags|=i,this.displayFrame=l,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(h,l){return h!==void 0&&(this.tilePositionX=h),l!==void 0&&(this.tilePositionY=l),this},setTileScale:function(h,l){return h===void 0&&(h=this.tileScaleX),l===void 0&&(l=h),this.tileScaleX=h,this.tileScaleY=l,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var h=this.displayFrame;if(h.source.isRenderTexture||h.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var l=this.fillContext,d=this.fillCanvas,v=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(v=h.cutWidth,m=h.cutHeight),l.clearRect(0,0,v,m),d.width=v,d.height=m,l.drawImage(h.source.image,h.cutX,h.cutY,h.cutWidth,h.cutHeight,0,0,v,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(d,this.fillPattern):this.fillPattern=l.createPattern(d,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var h=this.canvas;if((h.width!==this.width||h.height!==this.height)&&(h.width=this.width,h.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var l=this.context;this.scene.sys.game.config.antialias||e.disable(l);var d=this._tileScale.x,v=this._tileScale.y,m=this._tilePosition.x,x=this._tilePosition.y;l.clearRect(0,0,this.width,this.height),l.save(),l.scale(d,v),l.translate(-m,-x),l.fillStyle=this.fillPattern,l.fillRect(m,x,this.width/d,this.height/v),l.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),f.remove(this.canvas),f.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(h){this._tilePosition.x=h,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(h){this._tilePosition.y=h,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(h){this._tileScale.x=h,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(h){this._tileScale.y=h,this.dirty=!0}}});p.exports=o},93305:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.updateCanvas(),c.addToRenderList(f),t.batchSprite(f,f.frame,c,a)};p.exports=S},63950:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(35856);c.register("tileSprite",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),u=a(n,"y",0),i=a(n,"width",512),o=a(n,"height",512),h=a(n,"key",""),l=a(n,"frame",""),d=new r(this.scene,s,u,i,o,h,l);return e!==void 0&&(n.add=e),f(this.scene,d,n),d})},20509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(35856),c=t(61286);c.register("tileSprite",function(a,r,n,e,s,u){return this.displayList.add(new f(this.scene,a,r,n,e,s,u))})},9271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(74287),a=t(93305),p.exports={renderWebGL:c,renderCanvas:a}},74287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n,e){r.updateCanvas();var s=r.width,u=r.height;if(!(s===0||u===0)){n.addToRenderList(r);var i=f.getTintAppendFloatAlpha,o=a.pipelines.set(r.pipeline,r),h=o.setTexture2D(r.fillPattern,r);o.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,u,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*u,0,0,s,u,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,h)}};p.exports=c},8630:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(64937),r=t(56631),n=t(97081),e=t(89980),s=t(83392),u=t(76038),i=t(76583),o=t(77974),h=new c({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,o],initialize:function(d,v,m,x){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var g=d.sys.game;this._device=g.device.video,this.setPosition(v,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),g.events.on(n.PAUSE,this.globalPause,this),g.events.on(n.RESUME,this.globalResume,this);var y=d.sys.sound;y&&y.on(u.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(l){var d=this.scene.sys.cache.video.get(l);return d?(this.cacheKey=l,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+l),this},changeSource:function(l,d,v,m,x){d===void 0&&(d=!0),v===void 0&&(v=!1),this.cacheKey!==l&&(this.load(l),d&&this.play(v,m,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(l,d,v){d===void 0&&(d=!1);var m=this._device.getVideoURL(l);return m?(this.cacheKey="",this.loadHandler(m.url,d,v)):console.warn("No supported video format found for "+l),this},loadMediaStream:function(l,d,v){return this.loadHandler(null,d,v,l)},loadHandler:function(l,d,v,m){d||(d=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),d?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),v?x.setAttribute("crossorigin",v):x.removeAttribute("crossorigin"),m)if("srcObject"in x)try{x.srcObject=m}catch(g){if(g.name!=="TypeError")throw g;x.src=URL.createObjectURL(m)}else x.src=URL.createObjectURL(m);else x.src=l;return this.addLoadEventHandlers(),this.retry=0,this.video=x,this._playCalled=!1,x.load(),this},requestVideoFrame:function(l,d){var v=this.video;if(!!v){var m=d.width,x=d.height,g=this.videoTexture,y=this.videoTextureSource,T=!g||y.source!==v;T?(this._codePaused=v.paused,this._codeMuted=v.muted,g?(y.source=v,y.width=m,y.height=x,g.get().setSize(m,x)):(g=this.scene.sys.textures.create(this._key,v,m,x),g.add("__BASE",0,0,0,m,x),this.setTexture(g),this.videoTexture=g,this.videoTextureSource=g.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,g)),this.setSizeToFrame(),this.updateDisplayOrigin()):y.update(),this.isStalled=!1,this.metadata=d;var E=d.mediaTime;T&&(this._lastUpdate=E,this.emit(r.VIDEO_CREATED,this,m,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?E>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):E<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=E,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(l,d,v){d===void 0&&(d=-1),v===void 0&&(v=s.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(l===void 0&&(l=m.loop),m.loop=l,this._markerIn=d,this._markerOut=v,this._playingMarker=d>-1&&v>d&&v<s.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var l=this.video;l&&(l.addEventListener("error",this._loadCallbackHandler),l.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var l=this.video;l&&(l.removeEventListener("error",this._loadCallbackHandler),l.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var l=this.video;if(l){var d=this._callbacks;for(var v in d)l.addEventListener(v,d[v])}},removeEventHandlers:function(){var l=this.video;if(l){var d=this._callbacks;for(var v in d)l.removeEventListener(v,d[v])}},createPlayPromise:function(l){l===void 0&&(l=!0);var d=this.video,v=d.play();if(v!==void 0){var m=this.playSuccess.bind(this),x=this.playError.bind(this);if(!l){var g=this;x=function(){g.failedPlayAttempts++}}v.then(m).catch(x)}else d.addEventListener("playing",this._callbacks.legacy),l||this.failedPlayAttempts++},addMarker:function(l,d,v){return!isNaN(d)&&d>=0&&!isNaN(v)&&v>d&&(this.markers[l]=[d,v]),this},playMarker:function(l,d){var v=this.markers[l];return v&&this.play(d,v[0],v[1]),this},removeMarker:function(l){return delete this.markers[l],this},snapshot:function(l,d){return l===void 0&&(l=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,l,d)},snapshotArea:function(l,d,v,m,x,g){l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=this.width),m===void 0&&(m=this.height),x===void 0&&(x=v),g===void 0&&(g=m);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(x,g),y&&T.context.drawImage(y,l,d,v,m,0,0,x,g)):(T=this.scene.sys.textures.createCanvas(i(),x,g),this.snapshotTexture=T,y&&T.context.drawImage(y,l,d,v,m,0,0,x,g)),T.update()},saveSnapshotTexture:function(l){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,l):this.snapshotTexture=this.scene.sys.textures.createCanvas(l,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(!!this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var l=this.scene.sys.sound;l&&l.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(l){var d=l.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,l)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,l))},legacyPlayHandler:function(){var l=this.video;l&&(this.playSuccess(),l.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(l){this.stop(!1),this.emit(r.VIDEO_ERROR,this,l)},stalledHandler:function(l){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,l)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(l,d){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(l){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v)){var m=v*l;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(l){var d=this.video;if(d){if(typeof l=="string"){var v=l[0],m=parseFloat(l.substr(1));v==="+"?l=d.currentTime+m:v==="-"&&(l=d.currentTime-m)}d.currentTime=l}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var l=this.video;if(l){var d=l.duration;if(d!==1/0&&!isNaN(d))return l.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(l){l===void 0&&(l=!0),this._codeMuted=l;var d=this.video;return d&&(d.muted=this._systemMuted?!0:l),this},isMuted:function(){return this._codeMuted},globalMute:function(l,d){this._systemMuted=d;var v=this.video;v&&(v.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(l){l===void 0&&(l=!0);var d=this.video;return this._codePaused=l,d&&!d.ended&&(l?d.paused||(this.removeEventHandlers(),d.pause()):l||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(l){return l===void 0&&(l=1),this.video&&(this.video.volume=f(l,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(l){return this.video&&(this.video.playbackRate=l),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(l){return l===void 0&&(l=!0),this.video&&(this.video.loop=l),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(l,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,l),this.videoTextureSource.setFlipY(d)),this._key=l,this.flipY=d,!!this.videoTexture},stop:function(l){l===void 0&&(l=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,l&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var l=this.video;if(!!l){for(l.parentNode&&l.parentNode.removeChild(l);l.hasChildNodes();)l.removeChild(l.firstChild);l.removeAttribute("autoplay"),l.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var l=this.scene.sys.game.events;l.off(n.PAUSE,this.globalPause,this),l.off(n.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(u.GLOBAL_MUTE,this.globalMute,this)}});p.exports=h},56933:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.videoTexture&&(c.addToRenderList(f),t.batchSprite(f,f.frame,c,a))};p.exports=S},65601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88933),c=t(99325),a=t(20494),r=t(8630);c.register("video",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),u=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),f(this.scene,u,n),u})},215:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8630),c=t(61286);c.register("video",function(a,r,n){return this.displayList.add(new f(this.scene,a,r,n))})},77974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(83572),a=t(56933),p.exports={renderWebGL:c,renderCanvas:a}},83572:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f.videoTexture&&(c.addToRenderList(f),f.pipeline.batchSprite(f,c,a))};p.exports=S},71030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(26673),a=t(65650),r=t(56694),n=t(64937),e=t(89980),s=t(74118),u=t(94287),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(h,l,d,v,m){v===void 0&&(v=1),m===void 0&&(m=v),e.call(this,h,"Zone"),this.setPosition(l,d),this.width=v,this.height=m,this.blendMode=f.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,h,l){l===void 0&&(l=!0),this.width=o,this.height=h,this.updateDisplayOrigin();var d=this.input;return l&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=h),this},setDisplaySize:function(o,h){return this.displayWidth=o,this.displayHeight=h,this},setCircleDropZone:function(o){return this.setDropZone(new c(0,0,o),a)},setRectangleDropZone:function(o,h){return this.setDropZone(new s(0,0,o,h),u)},setDropZone:function(o,h){return this.input||this.setInteractive(o,h,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,h,l){l.addToRenderList(h)},renderWebGL:function(o,h,l){l.addToRenderList(h)}});p.exports=i},24067:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(20494),a=t(71030);f.register("zone",function(r){var n=c(r,"x",0),e=c(r,"y",0),s=c(r,"width",1),u=c(r,"height",s);return new a(this.scene,n,e,s,u)})},34546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(71030),c=t(61286);c.register("zone",function(a,r,n,e){return this.displayList.add(new f(this.scene,a,r,n,e))})},95847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},26673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65650),a=t(94026),r=t(62941),n=t(52394),e=t(30977),s=new f({initialize:function(i,o,h){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),this.type=n.CIRCLE,this.x=i,this.y=o,this._radius=h,this._diameter=h*2},contains:function(u,i){return c(this,u,i)},getPoint:function(u,i){return a(this,u,i)},getPoints:function(u,i,o){return r(this,u,i,o)},getRandomPoint:function(u){return e(this,u)},setTo:function(u,i,o){return this.x=u,this.y=i,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,i){return i===void 0&&(i=u),this.x=u,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});p.exports=s},37964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},72233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){return n===void 0&&(n=new f),n.x=a.x+a.radius*Math.cos(r),n.y=a.y+a.radius*Math.sin(r),n};p.exports=c},61761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=function(a){return new f(a.x,a.y,a.radius)};p.exports=c},65650:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(t.radius>0&&f>=t.left&&f<=t.right&&c>=t.top&&c<=t.bottom){var a=(t.x-f)*(t.x-f),r=(t.y-c)*(t.y-c);return a+r<=t.radius*t.radius}else return!1};p.exports=S},39187:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},58672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=function(a,r){return f(a,r.x,r.y)&&f(a,r.right,r.y)&&f(a,r.x,r.bottom)&&f(a,r.right,r.bottom)};p.exports=c},42997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y,t.radius)};p.exports=S},94894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y&&t.radius===f.radius};p.exports=S},48027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){return r===void 0&&(r=new f),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};p.exports=c},94026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72233),c=t(91806),a=t(83392),r=t(79967),n=function(e,s,u){u===void 0&&(u=new r);var i=c(s,0,a.PI2);return f(e,i,u)};p.exports=n},62941:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(37964),c=t(72233),a=t(91806),r=t(83392),n=function(e,s,u,i){i===void 0&&(i=[]),!s&&u>0&&(s=f(e)/u);for(var o=0;o<s;o++){var h=a(o/s,0,r.PI2);i.push(c(e,h))}return i};p.exports=n},34585:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x+=f,t.y+=c,t};p.exports=S},88665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x+=f.x,t.y+=f.y,t};p.exports=S},30977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,u=s*Math.cos(n),i=s*Math.sin(n);return r.x=a.x+u*a.radius,r.y=a.y+i*a.radius,r};p.exports=c},6112:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673);f.Area=t(95847),f.Circumference=t(37964),f.CircumferencePoint=t(72233),f.Clone=t(61761),f.Contains=t(65650),f.ContainsPoint=t(39187),f.ContainsRect=t(58672),f.CopyFrom=t(42997),f.Equals=t(94894),f.GetBounds=t(48027),f.GetPoint=t(94026),f.GetPoints=t(62941),f.Offset=t(34585),f.OffsetPoint=t(88665),f.Random=t(30977),p.exports=f},52394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},58605:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},39507:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.width/2,c=t.height/2,a=Math.pow(f-c,2)/Math.pow(f+c,2);return Math.PI*(f+c)*(1+3*a/(10+Math.sqrt(4-3*a)))};p.exports=S},86998:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){n===void 0&&(n=new f);var e=a.width/2,s=a.height/2;return n.x=a.x+e*Math.cos(r),n.y=a.y+s*Math.sin(r),n};p.exports=c},81773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95669),c=function(a){return new f(a.x,a.y,a.width,a.height)};p.exports=c},72313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(t.width<=0||t.height<=0)return!1;var a=(f-t.x)/t.width,r=(c-t.y)/t.height;return a*=a,r*=r,a+r<.25};p.exports=S},34368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72313),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},71431:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72313),c=function(a,r){return f(a,r.x,r.y)&&f(a,r.right,r.y)&&f(a,r.x,r.bottom)&&f(a,r.right,r.bottom)};p.exports=c},75459:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y,t.width,t.height)};p.exports=S},95669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72313),a=t(95340),r=t(54978),n=t(52394),e=t(72006),s=new f({initialize:function(i,o,h,l){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),this.type=n.ELLIPSE,this.x=i,this.y=o,this.width=h,this.height=l},contains:function(u,i){return c(this,u,i)},getPoint:function(u,i){return a(this,u,i)},getPoints:function(u,i,o){return r(this,u,i,o)},getRandomPoint:function(u){return e(this,u)},setTo:function(u,i,o,h){return this.x=u,this.y=i,this.width=o,this.height=h,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,i){return i===void 0&&(i=u),this.x=u,this.y=i,this},setSize:function(u,i){return i===void 0&&(i=u),this.width=u,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});p.exports=s},98068:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y&&t.width===f.width&&t.height===f.height};p.exports=S},72897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){return r===void 0&&(r=new f),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};p.exports=c},95340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86998),c=t(91806),a=t(83392),r=t(79967),n=function(e,s,u){u===void 0&&(u=new r);var i=c(s,0,a.PI2);return f(e,i,u)};p.exports=n},54978:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(39507),c=t(86998),a=t(91806),r=t(83392),n=function(e,s,u,i){i===void 0&&(i=[]),!s&&u>0&&(s=f(e)/u);for(var o=0;o<s;o++){var h=a(o/s,0,r.PI2);i.push(c(e,h))}return i};p.exports=n},77951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x+=f,t.y+=c,t};p.exports=S},36233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x+=f.x,t.y+=f.y,t};p.exports=S},72006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(n)*a.width/2,r.y=a.y+e*Math.sin(n)*a.height/2,r};p.exports=c},40652:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95669);f.Area=t(58605),f.Circumference=t(39507),f.CircumferencePoint=t(86998),f.Clone=t(81773),f.Contains=t(72313),f.ContainsPoint=t(34368),f.ContainsRect=t(71431),f.CopyFrom=t(75459),f.Equals=t(98068),f.GetBounds=t(72897),f.GetPoint=t(95340),f.GetPoints=t(54978),f.Offset=t(77951),f.OffsetPoint=t(36233),f.Random=t(72006),p.exports=f},84068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(52394),c=t(98611),a={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};a=c(!1,a,f),p.exports=a},22184:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53996),c=function(a,r){return f(a.x,a.y,r.x,r.y)<=a.radius+r.radius};p.exports=c},26535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=f.width/2,a=f.height/2,r=Math.abs(t.x-f.x-c),n=Math.abs(t.y-f.y-a),e=c+t.radius,s=a+t.radius;if(r>e||n>s)return!1;if(r<=c||n<=a)return!0;var u=r-c,i=n-a,o=u*u,h=i*i,l=t.radius*t.radius;return o+h<=l};p.exports=S},71145:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(22184),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.x,u=r.y,i=r.radius,o=n.x,h=n.y,l=n.radius,d,v,m,x,g;if(u===h)g=(l*l-i*i-o*o+s*s)/(2*(s-o)),d=1,v=-2*h,m=o*o+g*g-2*o*g+h*h-l*l,x=v*v-4*d*m,x===0?e.push(new f(g,-v/(2*d))):x>0&&(e.push(new f(g,(-v+Math.sqrt(x))/(2*d))),e.push(new f(g,(-v-Math.sqrt(x))/(2*d))));else{var y=(s-o)/(u-h),T=(l*l-i*i-o*o+s*s-h*h+u*u)/(2*(u-h));d=y*y+1,v=2*u*y-2*T*y-2*s,m=s*s+u*u+T*T-i*i-2*u*T,x=v*v-4*d*m,x===0?(g=-v/(2*d),e.push(new f(g,T-g*y))):x>0&&(g=(-v+Math.sqrt(x))/(2*d),e.push(new f(g,T-g*y)),g=(-v-Math.sqrt(x))/(2*d),e.push(new f(g,T-g*y)))}}return e};p.exports=a},62508:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26111),c=t(26535),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=n.getLineA(),u=n.getLineB(),i=n.getLineC(),o=n.getLineD();f(s,r,e),f(u,r,e),f(i,r,e),f(o,r,e)}return e};p.exports=a},26111:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(61472),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.x1,u=r.y1,i=r.x2,o=r.y2,h=n.x,l=n.y,d=n.radius,v=i-s,m=o-u,x=s-h,g=u-l,y=v*v+m*m,T=2*(v*x+m*g),E=x*x+g*g-d*d,C=T*T-4*y*E,A,P;if(C===0){var F=-T/(2*y);A=s+F*v,P=u+F*m,F>=0&&F<=1&&e.push(new f(A,P))}else if(C>0){var O=(-T-Math.sqrt(C))/(2*y);A=s+O*v,P=u+O*m,O>=0&&O<=1&&e.push(new f(A,P));var I=(-T+Math.sqrt(C))/(2*y);A=s+I*v,P=u+I*m,I>=0&&I<=1&&e.push(new f(A,P))}}return e};p.exports=a},96537:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70015),c=function(a,r,n,e){n===void 0&&(n=!1);var s=a.x1,u=a.y1,i=a.x2,o=a.y2,h=r.x1,l=r.y1,d=r.x2,v=r.y2,m=i-s,x=o-u,g=d-h,y=v-l,T=m*y-x*g;if(T===0)return null;var E,C,A;if(n){if(E=(m*(l-u)+x*(s-h))/(g*x-y*m),C=(h+g*E-s)/m,C<0||E<0||E>1)return null;A=C}else{if(E=((h-s)*y-(l-u)*g)/T,C=((u-l)*m-(s-h)*x)/T,E<0||E>1||C<0||C>1)return null;A=E}return e===void 0&&(e=new f),e.set(s+m*A,u+x*A,A)};p.exports=c},17647:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(96537),c=t(88829),a=t(70015),r=new c,n=new a,e=function(s,u,i,o){i===void 0&&(i=!1),o===void 0&&(o=new a);var h=!1;o.set(),n.set();for(var l=u[u.length-1],d=0;d<u.length;d++){var v=u[d];r.setTo(l.x,l.y,v.x,v.y),l=v,f(s,r,i,n)&&(!h||n.z<o.z)&&(o.copy(n),h=!0)}return h?o:null};p.exports=e},68439:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70015),c=t(51729),a=t(17647),r=new f,n=function(e,s,u,i){i===void 0&&(i=new c),Array.isArray(s)||(s=[s]);var o=!1;i.set(),r.set();for(var h=0;h<s.length;h++)a(e,s[h].points,u,r)&&(!o||r.z<i.z)&&(i.set(r.x,r.y,r.z,h),o=!0);return o?i:null};p.exports=n},9569:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(25227),a=t(47910),r=function(n,e,s){if(s===void 0&&(s=[]),a(n,e))for(var u=e.getLineA(),i=e.getLineB(),o=e.getLineC(),h=e.getLineD(),l=[new f,new f,new f,new f],d=[c(u,n,l[0]),c(i,n,l[1]),c(o,n,l[2]),c(h,n,l[3])],v=0;v<4;v++)d[v]&&s.push(l[v]);return s};p.exports=r},7449:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(51729),c=t(68439),a=t(88829),r=new a;function n(u,i,o,h,l){var d=Math.cos(u),v=Math.sin(u);r.setTo(i,o,i+d,o+v);var m=c(r,h,!0);m&&l.push(new f(m.x,m.y,u,m.w))}function e(u,i){return u.z-i.z}var s=function(u,i,o){Array.isArray(o)||(o=[o]);for(var h=[],l=[],d=0;d<o.length;d++)for(var v=o[d].points,m=0;m<v.length;m++){var x=Math.atan2(v[m].y-i,v[m].x-u);l.indexOf(x)===-1&&(n(x,u,i,o,h),n(x-1e-5,u,i,o,h),n(x+1e-5,u,i,o,h),l.push(x))}return h.sort(e)};p.exports=s},82931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(90205),a=function(r,n,e){return e===void 0&&(e=new f),c(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};p.exports=a},1946:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(9569),c=t(90205),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.getLineA(),u=r.getLineB(),i=r.getLineC(),o=r.getLineD();f(s,n,e),f(u,n,e),f(i,n,e),f(o,n,e)}return e};p.exports=a},34211:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(20370),c=t(9569),a=function(r,n,e){if(e===void 0&&(e=[]),f(r,n)){var s=n.getLineA(),u=n.getLineB(),i=n.getLineC();c(s,r,e),c(u,r,e),c(i,r,e)}return e};p.exports=a},80511:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26111),c=t(48411),a=function(r,n,e){if(e===void 0&&(e=[]),c(r,n)){var s=r.getLineA(),u=r.getLineB(),i=r.getLineC();f(s,n,e),f(u,n,e),f(i,n,e)}return e};p.exports=a},31343:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(86117),a=t(25227),r=function(n,e,s){if(s===void 0&&(s=[]),c(n,e))for(var u=n.getLineA(),i=n.getLineB(),o=n.getLineC(),h=[new f,new f,new f],l=[a(u,e,h[0]),a(i,e,h[1]),a(o,e,h[2])],d=0;d<3;d++)l[d]&&s.push(h[d]);return s};p.exports=r},70534:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(23589),c=t(31343),a=function(r,n,e){if(e===void 0&&(e=[]),f(r,n)){var s=n.getLineA(),u=n.getLineB(),i=n.getLineC();c(r,s,e),c(r,u,e),c(r,i,e)}return e};p.exports=a},61472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=t(79967),a=new c,r=function(n,e,s){if(s===void 0&&(s=a),f(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(f(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var u=n.x2-n.x1,i=n.y2-n.y1,o=e.x-n.x1,h=e.y-n.y1,l=u*u+i*i,d=u,v=i;if(l>0){var m=(o*u+h*i)/l;d*=m,v*=m}s.x=n.x1+d,s.y=n.y1+v;var x=d*d+v*v;return x<=l&&d*u+v*i>=0&&f(e,s.x,s.y)};p.exports=r},25227:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.x1,r=t.y1,n=t.x2,e=t.y2,s=f.x1,u=f.y1,i=f.x2,o=f.y2;if(a===n&&r===e||s===i&&u===o)return!1;var h=(o-u)*(n-a)-(i-s)*(e-r);if(h===0)return!1;var l=((i-s)*(r-u)-(o-u)*(a-s))/h,d=((n-a)*(r-u)-(e-r)*(a-s))/h;return l<0||l>1||d<0||d>1?!1:(c&&(c.x=a+l*(n-a),c.y=r+l*(e-r)),!0)};p.exports=S},47910:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x1,a=t.y1,r=t.x2,n=t.y2,e=f.x,s=f.y,u=f.right,i=f.bottom,o=0;if(c>=e&&c<=u&&a>=s&&a<=i||r>=e&&r<=u&&n>=s&&n<=i)return!0;if(c<e&&r>=e){if(o=a+(n-a)*(e-c)/(r-c),o>s&&o<=i)return!0}else if(c>u&&r<=u&&(o=a+(n-a)*(u-c)/(r-c),o>=s&&o<=i))return!0;if(a<s&&n>=s){if(o=c+(r-c)*(s-a)/(n-a),o>=e&&o<=u)return!0}else if(a>i&&n<=i&&(o=c+(r-c)*(i-a)/(n-a),o>=e&&o<=u))return!0;return!1};p.exports=S},34426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){c===void 0&&(c=1);var a=f.x1,r=f.y1,n=f.x2,e=f.y2,s=t.x,u=t.y,i=(n-a)*(n-a)+(e-r)*(e-r);if(i===0)return!1;var o=((s-a)*(n-a)+(u-r)*(e-r))/i;if(o<0)return Math.sqrt((a-s)*(a-s)+(r-u)*(r-u))<=c;if(o>=0&&o<=1){var h=((r-u)*(n-a)-(a-s)*(e-r))/i;return Math.abs(h)*Math.sqrt(i)<=c}else return Math.sqrt((n-s)*(n-s)+(e-u)*(e-u))<=c};p.exports=S},81414:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(34426),c=function(a,r){if(!f(a,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),u=Math.max(r.y1,r.y2);return a.x>=n&&a.x<=e&&a.y>=s&&a.y<=u};p.exports=c},90205:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.width<=0||t.height<=0||f.width<=0||f.height<=0?!1:!(t.right<f.x||t.bottom<f.y||t.x>f.right||t.y>f.bottom)};p.exports=S},20370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25227),c=t(94287),a=t(86875),r=t(87279),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var u=s.getLineA(),i=s.getLineB(),o=s.getLineC();if(c(e,u.x1,u.y1)||c(e,u.x2,u.y2)||c(e,i.x1,i.y1)||c(e,i.x2,i.y2)||c(e,o.x1,o.y1)||c(e,o.x2,o.y2))return!0;var h=e.getLineA(),l=e.getLineB(),d=e.getLineC(),v=e.getLineD();if(f(u,h)||f(u,l)||f(u,d)||f(u,v)||f(i,h)||f(i,l)||f(i,d)||f(i,v)||f(o,h)||f(o,l)||f(o,d)||f(o,v))return!0;var m=r(e),x=a(s,m,!0);return x.length>0};p.exports=n},8786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){return n===void 0&&(n=0),!(f>t.right+n||c<t.left-n||a>t.bottom+n||r<t.top-n)};p.exports=S},48411:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61472),c=t(60689),a=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(c(r,n.x,n.y)||f(r.getLineA(),n)||f(r.getLineB(),n)||f(r.getLineC(),n))};p.exports=a},86117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25227),c=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||f(a.getLineA(),r)||f(a.getLineB(),r)||f(a.getLineC(),r))};p.exports=c},23589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(86875),c=t(18680),a=t(25227),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),u=n.getLineB(),i=n.getLineC(),o=e.getLineA(),h=e.getLineB(),l=e.getLineC();if(a(s,o)||a(s,h)||a(s,l)||a(u,o)||a(u,h)||a(u,l)||a(i,o)||a(i,h)||a(i,l))return!0;var d=c(n),v=f(e,d,!0);return v.length>0||(d=c(e),v=f(n,d,!0),v.length>0)};p.exports=r},7563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},58813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=1),c===void 0&&(c=[]);var a=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-a),u=Math.abs(e-r),i=a<n?1:-1,o=r<e?1:-1,h=s-u;c.push({x:a,y:r});for(var l=1;!(a===n&&r===e);){var d=h<<1;d>-u&&(h-=u,a+=i),d<s&&(h+=s,r+=o),l%f===0&&c.push({x:a,y:r}),l++}return c};p.exports=S},88513:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=f-(t.x1+t.x2)/2,r=c-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};p.exports=S},26718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88829),c=function(a){return new f(a.x1,a.y1,a.x2,a.y2)};p.exports=c},88930:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},90656:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x1===f.x1&&t.y1===f.y1&&t.x2===f.x2&&t.y2===f.y2};p.exports=S},30897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=function(a,r,n){n===void 0&&(n=r);var e=f(a),s=a.x2-a.x1,u=a.y2-a.y1;return r&&(a.x1=a.x1-s/e*r,a.y1=a.y1-u/e*r),n&&(a.x2=a.x2+s/e*n,a.y2=a.y2+u/e*n),a};p.exports=c},30684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92951),c=t(21902),a=t(79967),r=function(n,e,s,u,i){u===void 0&&(u=0),i===void 0&&(i=[]);var o=[],h=n.x1,l=n.y1,d=n.x2-h,v=n.y2-l,m=c(e,i),x,g,y=s-1;for(x=0;x<y;x++)g=m(x/y),o.push(new a(h+d*g,l+v*g));if(g=m(1),o.push(new a(h+d*g,l+v*g)),u>0){var T=o[0],E=[T];for(x=1;x<o.length-1;x++){var C=o[x];f(T,C)>=u&&(E.push(C),T=C)}var A=o[o.length-1];return f(T,A)<u&&E.pop(),E.push(A),E}else return o};p.exports=r},20487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};p.exports=c},11222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){n===void 0&&(n=new f);var e=a.x1,s=a.y1,u=a.x2,i=a.y2,o=(u-e)*(u-e)+(i-s)*(i-s);if(o===0)return n;var h=((r.x-e)*(u-e)+(r.y-s)*(i-s))/o;return n.x=e+h*(u-e),n.y=s+h*(i-s),n};p.exports=c},7377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(50599),a=t(79967),r=function(n,e){e===void 0&&(e=new a);var s=c(n)-f.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};p.exports=r},66464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){return n===void 0&&(n=new f),n.x=a.x1+(a.x2-a.x1)*r,n.y=a.y1+(a.y2-a.y1)*r,n};p.exports=c},8570:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(79967),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=f(r)/e);for(var u=r.x1,i=r.y1,o=r.x2,h=r.y2,l=0;l<n;l++){var d=l/n,v=u+(o-u)*d,m=i+(h-i)*d;s.push(new c(v,m))}return s};p.exports=a},65269:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x1,a=t.y1,r=t.x2,n=t.y2,e=(r-c)*(r-c)+(n-a)*(n-a);if(e===0)return!1;var s=((a-f.y)*(r-c)-(c-f.x)*(n-a))/e;return Math.abs(s)*Math.sqrt(e)};p.exports=S},82996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},16028:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},88829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(66464),a=t(8570),r=t(52394),n=t(74077),e=t(93736),s=new f({initialize:function(i,o,h,l){i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),this.type=r.LINE,this.x1=i,this.y1=o,this.x2=h,this.y2=l},getPoint:function(u,i){return c(this,u,i)},getPoints:function(u,i,o){return a(this,u,i,o)},getRandomPoint:function(u){return n(this,u)},setTo:function(u,i,o,h){return u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),this.x1=u,this.y1=i,this.x2=o,this.y2=h,this},setFromObjects:function(u,i){return this.x1=u.x,this.y1=u.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(u){return u===void 0&&(u=new e),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new e),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});p.exports=s},73273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(1071),a=t(50599),r=function(n){var e=a(n)-f.TAU;return c(e,-Math.PI,Math.PI)};p.exports=r},96936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(50599),a=function(r){return Math.cos(c(r)-f.TAU)};p.exports=a},43581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(50599),a=function(r){return Math.sin(c(r)-f.TAU)};p.exports=a},13990:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x1+=f,t.y1+=c,t.x2+=f,t.y2+=c,t};p.exports=S},1298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},74077:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=Math.random();return r.x=a.x1+n*(a.x2-a.x1),r.y=a.y1+n*(a.y2-a.y1),r};p.exports=c},30473:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50599),c=t(73273),a=function(r,n){return 2*c(n)-Math.PI-f(r)};p.exports=a},25968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1809),c=function(a,r){var n=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return f(a,n,e,r)};p.exports=c},24296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1809),c=function(a,r,n){return f(a,r.x,r.y,n)};p.exports=c},1809:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-f,s=t.y1-c;return t.x1=e*r-s*n+f,t.y1=e*n+s*r+c,e=t.x2-f,s=t.y2-c,t.x2=e*r-s*n+f,t.y2=e*n+s*r+c,t};p.exports=S},88171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){return t.x1=f,t.y1=c,t.x2=f+Math.cos(a)*r,t.y2=c+Math.sin(a)*r,t};p.exports=S},82797:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},41067:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},28482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(88829);f.Angle=t(50599),f.BresenhamPoints=t(58813),f.CenterOn=t(88513),f.Clone=t(26718),f.CopyFrom=t(88930),f.Equals=t(90656),f.Extend=t(30897),f.GetEasedPoints=t(30684),f.GetMidPoint=t(20487),f.GetNearestPoint=t(11222),f.GetNormal=t(7377),f.GetPoint=t(66464),f.GetPoints=t(8570),f.GetShortestDistance=t(65269),f.Height=t(82996),f.Length=t(16028),f.NormalAngle=t(73273),f.NormalX=t(96936),f.NormalY=t(43581),f.Offset=t(13990),f.PerpSlope=t(1298),f.Random=t(74077),f.ReflectAngle=t(30473),f.Rotate=t(25968),f.RotateAroundPoint=t(24296),f.RotateAroundXY=t(1809),f.SetToAngle=t(88171),f.Slope=t(82797),f.Width=t(41067),p.exports=f},18693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74118),a=t(93736);function r(e,s,u,i){var o=e-u,h=s-i,l=o*o+h*h;return Math.sqrt(l)}var n=new f({initialize:function(s,u,i){this.vertex1=s,this.vertex2=u,this.vertex3=i,this.bounds=new c,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,u=this.vertex2,i=this.vertex3,o,h,l,d,v,m;e?(o=s.x,h=s.y,l=u.x,d=u.y,v=i.x,m=i.y):(o=s.vx,h=s.vy,l=u.vx,d=u.vy,v=i.vx,m=i.vy);var x=r(v,m,l,d),g=r(o,h,v,m),y=r(l,d,o,h),T=x+g+y;return this._inCenter.set((o*x+l*g+v*y)/T,(h*x+d*g+m*y)/T)},contains:function(e,s,u){var i=this.vertex1,o=this.vertex2,h=this.vertex3,l=i.vx,d=i.vy,v=o.vx,m=o.vy,x=h.vx,g=h.vy;if(u){var y=u.a,T=u.b,E=u.c,C=u.d,A=u.e,P=u.f;l=i.vx*y+i.vy*E+A,d=i.vx*T+i.vy*C+P,v=o.vx*y+o.vy*E+A,m=o.vx*T+o.vy*C+P,x=h.vx*y+h.vy*E+A,g=h.vx*T+h.vy*C+P}var F=x-l,O=g-d,I=v-l,G=m-d,z=e-l,X=s-d,H=F*F+O*O,N=F*I+O*G,U=F*z+O*X,R=I*I+G*G,D=I*z+G*X,B=H*R-N*N,V=B===0?0:1/B,Y=(R*U-N*D)*V,K=(H*D-N*U)*V;return Y>=0&&K>=0&&Y+K<1},isCounterClockwise:function(e){var s=this.vertex1,u=this.vertex2,i=this.vertex3,o=(u.vx-s.vx)*(i.vy-s.vy)-(u.vy-s.vy)*(i.vx-s.vx);return e<=0?o>=0:o<0},load:function(e,s,u,i,o){return u=this.vertex1.load(e,s,u,i,o),u=this.vertex2.load(e,s,u,i,o),u=this.vertex3.load(e,s,u,i,o),u},transformCoordinatesLocal:function(e,s,u,i){return this.vertex1.transformCoordinatesLocal(e,s,u,i),this.vertex2.transformCoordinatesLocal(e,s,u,i),this.vertex3.transformCoordinatesLocal(e,s,u,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,u=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,u.vx),i.y=Math.min(e.vy,s.vy,u.vy),i.width=Math.max(e.vx,s.vx,u.vx)-i.x,i.height=Math.max(e.vy,s.vy,u.vy)-i.y,this},isInView:function(e,s,u,i,o,h,l,d,v,m,x){this.update(i,o,h,l,d,v,m,x);var g=this.vertex1,y=this.vertex2,T=this.vertex3;if(g.ta<=0&&y.ta<=0&&T.ta<=0||s&&!this.isCounterClockwise(u))return!1;var E=this.bounds;E.x=Math.min(g.tx,y.tx,T.tx),E.y=Math.min(g.ty,y.ty,T.ty),E.width=Math.max(g.tx,y.tx,T.tx)-E.x,E.height=Math.max(g.ty,y.ty,T.ty)-E.y;var C=e.x+e.width,A=e.y+e.height;return E.width<=0||E.height<=0||e.width<=0||e.height<=0?!1:!(E.right<e.x||E.bottom<e.y||E.x>C||E.y>A)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,u,i,o,h,l,d){return this.vertex1.update(s,u,i,o,h,l,d,e),this.vertex2.update(s,u,i,o,h,l,d,e),this.vertex3.update(s,u,i,o,h,l,d,e),this},translate:function(e,s){s===void 0&&(s=0);var u=this.vertex1,i=this.vertex2,o=this.vertex3;return u.x+=e,u.y+=s,i.x+=e,i.y+=s,o.x+=e,o.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,u=this.vertex3;return(e.alpha+s.alpha+u.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,u=this.vertex3;return(e.vz+s.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=n},99425:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18693),c=t(72632),a=t(16650),r=t(70015),n=t(85769),e=new r,s=new r,u=new a,i=function(o){var h=c(o,"mesh"),l=c(o,"texture",null),d=c(o,"frame"),v=c(o,"width",1),m=c(o,"height",v),x=c(o,"widthSegments",1),g=c(o,"heightSegments",x),y=c(o,"x",0),T=c(o,"y",0),E=c(o,"z",0),C=c(o,"rotateX",0),A=c(o,"rotateY",0),P=c(o,"rotateZ",0),F=c(o,"zIsUp",!0),O=c(o,"isOrtho",h?h.dirtyCache[11]:!1),I=c(o,"colors",[16777215]),G=c(o,"alphas",[1]),z=c(o,"tile",!1),X=c(o,"flipY",!1),H=c(o,"width",null),N={faces:[],verts:[]};e.set(y,T,E),s.set(C,A,P),u.fromRotationXYTranslation(s,e,F);var U;if(!l&&h)l=h.texture,d||(U=h.frame);else if(h&&typeof l=="string")l=h.scene.sys.textures.get(l);else if(!l)return N;U||(U=l.get(d)),!H&&O&&l&&h&&(v=U.width/h.height,m=U.height/h.height);var R=v/2,D=m/2,B=Math.floor(x),V=Math.floor(g),Y=B+1,K=V+1,$=v/B,J=m/V,Q=[],k=[],q,tt,_=0,it=1,st=0,ht=1;U&&(_=U.u0,it=U.u1,X?(st=U.v1,ht=U.v0):(st=U.v0,ht=U.v1));var ut=it-_,et=ht-st;for(tt=0;tt<K;tt++){var rt=tt*J-D;for(q=0;q<Y;q++){var nt=q*$-R;k.push(nt,-rt);var pt=_+ut*(q/B),gt=st+et*(tt/V);Q.push(pt,gt)}}Array.isArray(I)||(I=[I]),Array.isArray(G)||(G=[G]);var Tt=0,lt=0;for(tt=0;tt<V;tt++)for(q=0;q<B;q++){var ot=(q+Y*tt)*2,at=(q+Y*(tt+1))*2,dt=(q+1+Y*(tt+1))*2,ft=(q+1+Y*tt)*2,ct=I[lt],mt=G[Tt],Et=new n(k[ot],k[ot+1],0,Q[ot],Q[ot+1],ct,mt).transformMat4(u),Pt=new n(k[at],k[at+1],0,Q[at],Q[at+1],ct,mt).transformMat4(u),Ft=new n(k[ft],k[ft+1],0,Q[ft],Q[ft+1],ct,mt).transformMat4(u),Yt=new n(k[at],k[at+1],0,Q[at],Q[at+1],ct,mt).transformMat4(u),Vt=new n(k[dt],k[dt+1],0,Q[dt],Q[dt+1],ct,mt).transformMat4(u),$t=new n(k[ft],k[ft+1],0,Q[ft],Q[ft+1],ct,mt).transformMat4(u);z&&(Et.setUVs(_,ht),Pt.setUVs(_,st),Ft.setUVs(it,ht),Yt.setUVs(_,st),Vt.setUVs(it,st),$t.setUVs(it,ht)),lt++,lt===I.length&&(lt=0),Tt++,Tt===G.length&&(Tt=0),N.verts.push(Et,Pt,Ft,Yt,Vt,$t),N.faces.push(new f(Et,Pt,Ft),new f(Yt,Vt,$t))}return h&&(h.faces=h.faces.concat(N.faces),h.vertices=h.vertices.concat(N.verts)),N};p.exports=i},53267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18693),c=t(16650),a=t(70015),r=t(85769),n=new a,e=new a,s=new c,u=function(i,o,h,l,d,v,m,x,g,y){h===void 0&&(h=1),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=0),y===void 0&&(y=!0);var T={faces:[],verts:[]},E=i.materials;n.set(l,d,v),e.set(m,x,g),s.fromRotationXYTranslation(e,n,y);for(var C=0;C<i.models.length;C++)for(var A=i.models[C],P=A.vertices,F=A.textureCoords,O=A.faces,I=0;I<O.length;I++){var G=O[I],z=G.vertices[0],X=G.vertices[1],H=G.vertices[2],N=P[z.vertexIndex],U=P[X.vertexIndex],R=P[H.vertexIndex],D=z.textureCoordsIndex,B=X.textureCoordsIndex,V=H.textureCoordsIndex,Y=D===-1?{u:0,v:1}:F[D],K=B===-1?{u:0,v:0}:F[B],$=V===-1?{u:1,v:1}:F[V],J=16777215;G.material!==""&&E[G.material]&&(J=E[G.material]);var Q=new r(N.x*h,N.y*h,N.z*h,Y.u,Y.v,J).transformMat4(s),k=new r(U.x*h,U.y*h,U.z*h,K.u,K.v,J).transformMat4(s),q=new r(R.x*h,R.y*h,R.z*h,$.u,$.v,J).transformMat4(s);T.verts.push(Q,k,q),T.faces.push(new f(Q,k,q))}return o&&(o.faces=o.faces.concat(T.faces),o.vertices=o.vertices.concat(T.verts)),T};p.exports=u},67623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(18693),c=t(85769),a=function(r,n,e,s,u,i,o,h){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),o===void 0&&(o=1),h===void 0&&(h=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var l={faces:[],vertices:[]},d,v,m,x,g,y,T,E,C,A,P,F=s?3:2,O=Array.isArray(i),I=Array.isArray(o);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var G=e[d],z=e[d]*2,X=e[d]*F;v=r[X],m=r[X+1],x=s?r[X+2]:0,g=n[z],y=n[z+1],h&&(y=1-y),T=O?i[G]:i,E=I?o[G]:o,C=0,A=0,P=0,u&&(C=u[X],A=u[X+1],P=s?u[X+2]:0),l.vertices.push(new c(v,m,x,g,y,T,E,C,A,P))}else{var H=0,N=0;for(d=0;d<r.length;d+=F)v=r[d],m=r[d+1],x=s?r[d+2]:0,g=n[H],y=n[H+1],T=O?i[N]:i,E=I?o[N]:o,C=0,A=0,P=0,u&&(C=u[d],A=u[d+1],P=s?u[d+2]:0),l.vertices.push(new c(v,m,x,g,y,T,E,C,A,P)),H+=2,N++}for(d=0;d<l.vertices.length;d+=3){var U=l.vertices[d],R=l.vertices[d+1],D=l.vertices[d+2];l.faces.push(new f(U,R,D))}return l};p.exports=a},27291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",f="",c="";function a(v){var m=v.indexOf("#");return m>-1?v.substring(0,m):v}function r(v){return v.models.length===0&&v.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),f="",v.models[v.models.length-1]}function n(v,m){var x=v.length>=2?v[1]:t;m.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),f=""}function e(v){v.length===2&&(f=v[1])}function s(v,m){var x=v.length,g=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;r(m).vertices.push({x:g,y,z:T})}function u(v,m){var x=v.length,g=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;isNaN(g)&&(g=0),isNaN(y)&&(y=0),isNaN(T)&&(T=0),S&&(y=1-y),r(m).textureCoords.push({u:g,v:y,w:T})}function i(v,m){var x=v.length,g=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;r(m).vertexNormals.push({x:g,y,z:T})}function o(v,m){var x=v.length-1;if(!(x<3)){for(var g={group:f,material:c,vertices:[]},y=0;y<x;y++){var T=v[y+1],E=T.split("/"),C=E.length;if(!(C<1||C>3)){var A=0,P=0,F=0;A=parseInt(E[0],10),C>1&&E[1]!==""&&(P=parseInt(E[1],10)),C>2&&(F=parseInt(E[2],10)),A!==0&&(A<0&&(A=r(m).vertices.length+1+A),P-=1,A-=1,F-=1,g.vertices.push({textureCoordsIndex:P,vertexIndex:A,vertexNormalIndex:F}))}}r(m).faces.push(g)}}function h(v,m){v.length>=2&&m.materialLibraries.push(v[1])}function l(v){v.length>=2&&(c=v[1])}var d=function(v,m){m===void 0&&(m=!0),S=m;var x={materials:{},materialLibraries:[],models:[]};f="",c="";for(var g=v.split(`
`),y=0;y<g.length;y++){var T=a(g[y]),E=T.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":n(E,x);break;case"g":e(E);break;case"v":s(E,x);break;case"vt":u(E,x);break;case"vn":i(E,x);break;case"f":o(E,x);break;case"mtllib":h(E,x);break;case"usemtl":l(E);break}}return x};p.exports=d},76799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22946),c=function(a){for(var r={},n=a.split(`
`),e="",s=0;s<n.length;s++){var u=n[s].trim();if(!(u.indexOf("#")===0||u==="")){var i=u.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var o=Math.floor(i[1]*255),h=i.length>=2?Math.floor(i[2]*255):o,l=i.length>=3?Math.floor(i[3]*255):o;r[e]=f(o,h,l);break}}}}return r};p.exports=c},15313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r,n;if(c===void 0&&a===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(f),u=Math.sin(f),i=t.vertex1,o=t.vertex2,h=t.vertex3,l=i.x-r,d=i.y-n;i.set(l*s-d*u+r,l*u+d*s+n),l=o.x-r,d=o.y-n,o.set(l*s-d*u+r,l*u+d*s+n),l=h.x-r,d=h.y-n,h.set(l*s-d*u+r,l*u+d*s+n)};p.exports=S},85769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(75512),a=t(70015),r=new f({Extends:a,initialize:function(e,s,u,i,o,h,l,d,v,m){h===void 0&&(h=16777215),l===void 0&&(l=1),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),a.call(this,e,s,u),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=v,this.nz=m,this.u=i,this.v=o,this.color=h,this.alpha=l,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=o},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,u){var i=this.x,o=this.y,h=this.z,l=n.val,d=i*l[0]+o*l[4]+h*l[8]+l[12],v=i*l[1]+o*l[5]+h*l[9]+l[13],m=i*l[2]+o*l[6]+h*l[10]+l[14],x=i*l[3]+o*l[7]+h*l[11]+l[15];this.vx=d/x*e,this.vy=-(v/x)*s,u<=0?this.vz=m/x:this.vz=-(m/x)},resize:function(n,e,s,u,i,o){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*u,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),o<.5?this.vy+=u*(.5-o):o>.5&&(this.vy-=u*(o-.5)),this},update:function(n,e,s,u,i,o,h,l){var d=this.vx*n+this.vy*s+i,v=this.vx*e+this.vy*u+o;return h&&(d=Math.round(d),v=Math.round(v)),this.tx=d,this.ty=v,this.ta=this.alpha*l,this},load:function(n,e,s,u,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=u,n[++s]=i,e[++s]=c.getTintAppendFloatAlpha(this.color,this.ta),s}});p.exports=r},14293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};p.exports=f},77601:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},38933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a){return new f(a.x,a.y)};p.exports=c},47103:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y)};p.exports=S},13625:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y};p.exports=S},12536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){if(r===void 0&&(r=new f),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var n=a.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<n;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=n,r.y/=n}return r};p.exports=c},50083:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},82712:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){r===void 0&&(r=new f);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var o=a[i];o.x>n&&(n=o.x),o.x<e&&(e=o.x),o.y>s&&(s=o.y),o.y<u&&(u=o.y)}return r.x=e,r.y=u,r.width=n-e,r.height=s-u,r};p.exports=c},77154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new f),e.x=a.x+(r.x-a.x)*n,e.y=a.y+(r.y-a.y)*n,e};p.exports=c},42397:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},59464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.setTo(-a.x,-a.y)};p.exports=c},79967:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(52394),a=new f({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=c.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});p.exports=a},53581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(82712),a=function(r,n,e){e===void 0&&(e=new f);var s=r.x*n.x+r.y*n.y,u=s/c(n);return u!==0&&(e.x=u*n.x,e.y=u*n.y),e};p.exports=a},50817:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r,n){n===void 0&&(n=new f);var e=a.x*r.x+a.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};p.exports=c},40525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50083),c=function(a,r){if(a.x!==0||a.y!==0){var n=f(a);a.x/=n,a.y/=n}return a.x*=r,a.y*=r,a};p.exports=c},63472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967);f.Ceil=t(77601),f.Clone=t(38933),f.CopyFrom=t(47103),f.Equals=t(13625),f.Floor=t(12536),f.GetCentroid=t(54205),f.GetMagnitude=t(50083),f.GetMagnitudeSq=t(82712),f.GetRectangleFromPoints=t(20052),f.Interpolate=t(77154),f.Invert=t(42397),f.Negative=t(59464),f.Project=t(53581),f.ProjectUnit=t(50817),f.SetMagnitude=t(40525),p.exports=f},19631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8580),c=function(a){return new f(a.points)};p.exports=c},45604:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,u=t.points[n].x,i=t.points[n].y;(s<=c&&c<i||i<=c&&c<s)&&f<(u-e)*(c-s)/(i-s)+e&&(a=!a)}return a};p.exports=S},87289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45604),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},11117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(N,U,R){R=R||2;var D=U&&U.length,B=D?U[0]*R:N.length,V=t(N,0,B,R,!0),Y=[];if(!V||V.next===V.prev)return Y;var K,$,J,Q,k,q,tt;if(D&&(V=s(N,U,V,R)),N.length>80*R){K=J=N[0],$=Q=N[1];for(var _=R;_<B;_+=R)k=N[_],q=N[_+1],k<K&&(K=k),q<$&&($=q),k>J&&(J=k),q>Q&&(Q=q);tt=Math.max(J-K,Q-$),tt=tt!==0?32767/tt:0}return c(V,Y,R,K,$,tt,0),Y}function t(N,U,R,D,B){var V,Y;if(B===H(N,U,R,D)>0)for(V=U;V<R;V+=D)Y=G(V,N[V],N[V+1],Y);else for(V=R-D;V>=U;V-=D)Y=G(V,N[V],N[V+1],Y);return Y&&T(Y,Y.next)&&(z(Y),Y=Y.next),Y}function f(N,U){if(!N)return N;U||(U=N);var R=N,D;do if(D=!1,!R.steiner&&(T(R,R.next)||y(R.prev,R,R.next)===0)){if(z(R),R=U=R.prev,R===R.next)break;D=!0}else R=R.next;while(D||R!==U);return U}function c(N,U,R,D,B,V,Y){if(!!N){!Y&&V&&l(N,D,B,V);for(var K=N,$,J;N.prev!==N.next;){if($=N.prev,J=N.next,V?r(N,D,B,V):a(N)){U.push($.i/R|0),U.push(N.i/R|0),U.push(J.i/R|0),z(N),N=J.next,K=J.next;continue}if(N=J,N===K){Y?Y===1?(N=n(f(N),U,R),c(N,U,R,D,B,V,2)):Y===2&&e(N,U,R,D,B,V):c(f(N),U,R,D,B,V,1);break}}}}function a(N){var U=N.prev,R=N,D=N.next;if(y(U,R,D)>=0)return!1;for(var B=U.x,V=R.x,Y=D.x,K=U.y,$=R.y,J=D.y,Q=B<V?B<Y?B:Y:V<Y?V:Y,k=K<$?K<J?K:J:$<J?$:J,q=B>V?B>Y?B:Y:V>Y?V:Y,tt=K>$?K>J?K:J:$>J?$:J,_=D.next;_!==U;){if(_.x>=Q&&_.x<=q&&_.y>=k&&_.y<=tt&&x(B,K,V,$,Y,J,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function r(N,U,R,D){var B=N.prev,V=N,Y=N.next;if(y(B,V,Y)>=0)return!1;for(var K=B.x,$=V.x,J=Y.x,Q=B.y,k=V.y,q=Y.y,tt=K<$?K<J?K:J:$<J?$:J,_=Q<k?Q<q?Q:q:k<q?k:q,it=K>$?K>J?K:J:$>J?$:J,st=Q>k?Q>q?Q:q:k>q?k:q,ht=v(tt,_,U,R,D),ut=v(it,st,U,R,D),et=N.prevZ,rt=N.nextZ;et&&et.z>=ht&&rt&&rt.z<=ut;){if(et.x>=tt&&et.x<=it&&et.y>=_&&et.y<=st&&et!==B&&et!==Y&&x(K,Q,$,k,J,q,et.x,et.y)&&y(et.prev,et,et.next)>=0||(et=et.prevZ,rt.x>=tt&&rt.x<=it&&rt.y>=_&&rt.y<=st&&rt!==B&&rt!==Y&&x(K,Q,$,k,J,q,rt.x,rt.y)&&y(rt.prev,rt,rt.next)>=0))return!1;rt=rt.nextZ}for(;et&&et.z>=ht;){if(et.x>=tt&&et.x<=it&&et.y>=_&&et.y<=st&&et!==B&&et!==Y&&x(K,Q,$,k,J,q,et.x,et.y)&&y(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;rt&&rt.z<=ut;){if(rt.x>=tt&&rt.x<=it&&rt.y>=_&&rt.y<=st&&rt!==B&&rt!==Y&&x(K,Q,$,k,J,q,rt.x,rt.y)&&y(rt.prev,rt,rt.next)>=0)return!1;rt=rt.nextZ}return!0}function n(N,U,R){var D=N;do{var B=D.prev,V=D.next.next;!T(B,V)&&E(B,D,D.next,V)&&F(B,V)&&F(V,B)&&(U.push(B.i/R|0),U.push(D.i/R|0),U.push(V.i/R|0),z(D),z(D.next),D=N=V),D=D.next}while(D!==N);return f(D)}function e(N,U,R,D,B,V){var Y=N;do{for(var K=Y.next.next;K!==Y.prev;){if(Y.i!==K.i&&g(Y,K)){var $=I(Y,K);Y=f(Y,Y.next),$=f($,$.next),c(Y,U,R,D,B,V,0),c($,U,R,D,B,V,0);return}K=K.next}Y=Y.next}while(Y!==N)}function s(N,U,R,D){var B=[],V,Y,K,$,J;for(V=0,Y=U.length;V<Y;V++)K=U[V]*D,$=V<Y-1?U[V+1]*D:N.length,J=t(N,K,$,D,!1),J===J.next&&(J.steiner=!0),B.push(m(J));for(B.sort(u),V=0;V<B.length;V++)R=i(B[V],R);return R}function u(N,U){return N.x-U.x}function i(N,U){var R=o(N,U);if(!R)return U;var D=I(R,N);return f(D,D.next),f(R,R.next)}function o(N,U){var R=U,D=N.x,B=N.y,V=-1/0,Y;do{if(B<=R.y&&B>=R.next.y&&R.next.y!==R.y){var K=R.x+(B-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(K<=D&&K>V&&(V=K,Y=R.x<R.next.x?R:R.next,K===D))return Y}R=R.next}while(R!==U);if(!Y)return null;var $=Y,J=Y.x,Q=Y.y,k=1/0,q;R=Y;do D>=R.x&&R.x>=J&&D!==R.x&&x(B<Q?D:V,B,J,Q,B<Q?V:D,B,R.x,R.y)&&(q=Math.abs(B-R.y)/(D-R.x),F(R,N)&&(q<k||q===k&&(R.x>Y.x||R.x===Y.x&&h(Y,R)))&&(Y=R,k=q)),R=R.next;while(R!==$);return Y}function h(N,U){return y(N.prev,N,U.prev)<0&&y(U.next,N,N.next)<0}function l(N,U,R,D){var B=N;do B.z===0&&(B.z=v(B.x,B.y,U,R,D)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==N);B.prevZ.nextZ=null,B.prevZ=null,d(B)}function d(N){var U,R,D,B,V,Y,K,$,J=1;do{for(R=N,N=null,V=null,Y=0;R;){for(Y++,D=R,K=0,U=0;U<J&&(K++,D=D.nextZ,!!D);U++);for($=J;K>0||$>0&&D;)K!==0&&($===0||!D||R.z<=D.z)?(B=R,R=R.nextZ,K--):(B=D,D=D.nextZ,$--),V?V.nextZ=B:N=B,B.prevZ=V,V=B;R=D}V.nextZ=null,J*=2}while(Y>1);return N}function v(N,U,R,D,B){return N=(N-R)*B|0,U=(U-D)*B|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,N|U<<1}function m(N){var U=N,R=N;do(U.x<R.x||U.x===R.x&&U.y<R.y)&&(R=U),U=U.next;while(U!==N);return R}function x(N,U,R,D,B,V,Y,K){return(B-Y)*(U-K)>=(N-Y)*(V-K)&&(N-Y)*(D-K)>=(R-Y)*(U-K)&&(R-Y)*(V-K)>=(B-Y)*(D-K)}function g(N,U){return N.next.i!==U.i&&N.prev.i!==U.i&&!P(N,U)&&(F(N,U)&&F(U,N)&&O(N,U)&&(y(N.prev,N,U.prev)||y(N,U.prev,U))||T(N,U)&&y(N.prev,N,N.next)>0&&y(U.prev,U,U.next)>0)}function y(N,U,R){return(U.y-N.y)*(R.x-U.x)-(U.x-N.x)*(R.y-U.y)}function T(N,U){return N.x===U.x&&N.y===U.y}function E(N,U,R,D){var B=A(y(N,U,R)),V=A(y(N,U,D)),Y=A(y(R,D,N)),K=A(y(R,D,U));return!!(B!==V&&Y!==K||B===0&&C(N,R,U)||V===0&&C(N,D,U)||Y===0&&C(R,N,D)||K===0&&C(R,U,D))}function C(N,U,R){return U.x<=Math.max(N.x,R.x)&&U.x>=Math.min(N.x,R.x)&&U.y<=Math.max(N.y,R.y)&&U.y>=Math.min(N.y,R.y)}function A(N){return N>0?1:N<0?-1:0}function P(N,U){var R=N;do{if(R.i!==N.i&&R.next.i!==N.i&&R.i!==U.i&&R.next.i!==U.i&&E(R,R.next,N,U))return!0;R=R.next}while(R!==N);return!1}function F(N,U){return y(N.prev,N,N.next)<0?y(N,U,N.next)>=0&&y(N,N.prev,U)>=0:y(N,U,N.prev)<0||y(N,N.next,U)<0}function O(N,U){var R=N,D=!1,B=(N.x+U.x)/2,V=(N.y+U.y)/2;do R.y>V!=R.next.y>V&&R.next.y!==R.y&&B<(R.next.x-R.x)*(V-R.y)/(R.next.y-R.y)+R.x&&(D=!D),R=R.next;while(R!==N);return D}function I(N,U){var R=new X(N.i,N.x,N.y),D=new X(U.i,U.x,U.y),B=N.next,V=U.prev;return N.next=U,U.prev=N,R.next=B,B.prev=R,D.next=R,R.prev=D,V.next=D,D.prev=V,D}function G(N,U,R,D){var B=new X(N,U,R);return D?(B.next=D.next,B.prev=D,D.next.prev=B,D.next=B):(B.prev=B,B.next=B),B}function z(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function X(N,U,R){this.i=N,this.x=U,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(N,U,R,D){var B=U&&U.length,V=B?U[0]*R:N.length,Y=Math.abs(H(N,0,V,R));if(B)for(var K=0,$=U.length;K<$;K++){var J=U[K]*R,Q=K<$-1?U[K+1]*R:N.length;Y-=Math.abs(H(N,J,Q,R))}var k=0;for(K=0;K<D.length;K+=3){var q=D[K]*R,tt=D[K+1]*R,_=D[K+2]*R;k+=Math.abs((N[q]-N[_])*(N[tt+1]-N[q+1])-(N[q]-N[tt])*(N[_+1]-N[q+1]))}return Y===0&&k===0?0:Math.abs((k-Y)/Y)};function H(N,U,R,D){for(var B=0,V=U,Y=R-D;V<R;V+=D)B+=(N[Y]-N[V])*(N[V+1]+N[Y+1]),Y=V;return B}S.flatten=function(N){for(var U=N[0][0].length,R={vertices:[],holes:[],dimensions:U},D=0,B=0;B<N.length;B++){for(var V=0;V<N[B].length;V++)for(var Y=0;Y<U;Y++)R.vertices.push(N[B][V][Y]);B>0&&(D+=N[B-1].length,R.holes.push(D))}return R},p.exports=S},14045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r){r===void 0&&(r=new f);for(var n=1/0,e=1/0,s=-n,u=-e,i,o=0;o<a.points.length;o++)i=a.points[o],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),u=Math.max(u,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=u-e,r};p.exports=c},98286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=[]);for(var c=0;c<t.points.length;c++)f.push(t.points[c].x),f.push(t.points[c].y);return f};p.exports=S},89294:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(88829),a=t(5159),r=function(n,e,s,u){u===void 0&&(u=[]);var i=n.points,o=a(n);!e&&s>0&&(e=o/s);for(var h=0;h<e;h++)for(var l=o*(h/e),d=0,v=0;v<i.length;v++){var m=i[v],x=i[(v+1)%i.length],g=new c(m.x,m.y,x.x,x.y),y=f(g);if(l<d||l>d+y){d+=y;continue}var T=g.getPoint((l-d)/y);u.push(T);break}return u};p.exports=r},5159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(88829),a=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var u=n[s],i=n[(s+1)%n.length],o=new c(u.x,u.y,i.x,i.y);e+=f(o)}return e};p.exports=a},8580:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(45604),a=t(89294),r=t(52394),n=new f({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return c(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,u=0;u<e.length;u++)s={x:0,y:0},typeof e[u]=="number"||typeof e[u]=="string"?(s.x=parseFloat(e[u]),s.y=parseFloat(e[u+1]),u++):Array.isArray(e[u])?(s.x=e[u][0],s.y=e[u][1]):(s.x=e[u].x,s.y=e[u].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,u,i=0;i<this.points.length-1;i++)s=this.points[i],u=this.points[i+1],e+=(u.x-s.x)*(s.y+u.y);return s=this.points[0],u=this.points[this.points.length-1],e+=(s.x-u.x)*(u.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,u){return a(this,e,s,u)}});p.exports=n},32244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},95874:p=>{function S(n,e){var s=n.x-e.x,u=n.y-e.y;return s*s+u*u}function t(n,e,s){var u=e.x,i=e.y,o=s.x-u,h=s.y-i;if(o!==0||h!==0){var l=((n.x-u)*o+(n.y-i)*h)/(o*o+h*h);l>1?(u=s.x,i=s.y):l>0&&(u+=o*l,i+=h*l)}return o=n.x-u,h=n.y-i,o*o+h*h}function f(n,e){for(var s=n[0],u=[s],i,o=1,h=n.length;o<h;o++)i=n[o],S(i,s)>e&&(u.push(i),s=i);return s!==i&&u.push(i),u}function c(n,e,s,u,i){for(var o=u,h,l=e+1;l<s;l++){var d=t(n[l],n[e],n[s]);d>o&&(h=l,o=d)}o>u&&(h-e>1&&c(n,e,h,u,i),i.push(n[h]),s-h>1&&c(n,h,s,u,i))}function a(n,e){var s=n.length-1,u=[n[0]];return c(n,0,s,e,u),u.push(n[s]),u}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var u=n.points;if(u.length>2){var i=e*e;s||(u=f(u,i)),n.setTo(a(u,i))}return n};p.exports=r},18974:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(f,c){return f[0]=c[0],f[1]=c[1],f},t=function(f){var c,a=[],r=f.points;for(c=0;c<r.length;c++)a.push([r[c].x,r[c].y]);var n=[];for(a.length>0&&n.push(S([0,0],a[0])),c=0;c<a.length-1;c++){var e=a[c],s=a[c+1],u=e[0],i=e[1],o=s[0],h=s[1];n.push([.85*u+.15*o,.85*i+.15*h]),n.push([.15*u+.85*o,.15*i+.85*h])}return a.length>1&&n.push(S([0,0],a[a.length-1])),f.setTo(n)};p.exports=t},23490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=f,a[r].y+=c;return t};p.exports=S},44359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8580);f.Clone=t(19631),f.Contains=t(45604),f.ContainsPoint=t(87289),f.Earcut=t(11117),f.GetAABB=t(14045),f.GetNumberArray=t(98286),f.GetPoints=t(89294),f.Perimeter=t(5159),f.Reverse=t(32244),f.Simplify=t(95874),f.Smooth=t(18974),f.Translate=t(23490),p.exports=f},1653:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},33943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},58662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},79993:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x=f-t.width/2,t.y=c-t.height/2,t};p.exports=S},81572:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a){return new f(a.x,a.y,a.width,a.height)};p.exports=c},94287:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.width<=0||t.height<=0?!1:t.x<=f&&t.x+t.width>=f&&t.y<=c&&t.y+t.height>=c};p.exports=S},28687:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(94287),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},73222:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.width*f.height>t.width*t.height?!1:f.x>t.x&&f.x<t.right&&f.right>t.x&&f.right<t.right&&f.y>t.y&&f.y<t.bottom&&f.bottom>t.y&&f.bottom<t.bottom};p.exports=S},29538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x,t.y,t.width,t.height)};p.exports=S},87279:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=[]),f.push({x:t.x,y:t.y}),f.push({x:t.right,y:t.y}),f.push({x:t.right,y:t.bottom}),f.push({x:t.x,y:t.bottom}),f};p.exports=S},19989:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x===f.x&&t.y===f.y&&t.width===f.width&&t.height===f.height};p.exports=S},92628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6700),c=function(a,r){var n=f(a);return n<f(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=c},85028:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6700),c=function(a,r){var n=f(a);return n>f(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=c},71356:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},21687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},80222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(83392),a=function(r,n){if(n===void 0&&(n=new f),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,u=c.MIN_SAFE_INTEGER,i=c.MIN_SAFE_INTEGER,o,h,l,d=0;d<r.length;d++)o=r[d],Array.isArray(o)?(h=o[0],l=o[1]):(h=o.x,l=o.y),e=Math.min(e,h),s=Math.min(s,l),u=Math.max(u,h),i=Math.max(i,l);return n.x=e,n.y=s,n.width=u-e,n.height=i-s,n};p.exports=a},75785:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r,n,e,s){return s===void 0&&(s=new f),s.setTo(Math.min(a,n),Math.min(r,e),Math.abs(a-n),Math.abs(r-e))};p.exports=c},6700:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},35242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=a.centerX,r.y=a.centerY,r};p.exports=c},47698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85876),c=t(79967),a=function(r,n,e){if(e===void 0&&(e=new c),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=f(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};p.exports=a},54932:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47698),c=t(85876),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=c(r)/e);for(var u=0;u<n;u++){var i=u/n;s.push(f(r,i))}return s};p.exports=a},31591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=a.width,r.y=a.height,r};p.exports=c},7782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79993),c=function(a,r,n){var e=a.centerX,s=a.centerY;return a.setSize(a.width+r*2,a.height+n*2),f(a,e,s)};p.exports=c},66217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(90205),a=function(r,n,e){return e===void 0&&(e=new f),c(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};p.exports=a},40053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(85876),c=t(79967),a=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(f(r)/n):n=f(r)/e;for(var u=r.x,i=r.y,o=0,h=0;h<e;h++)switch(s.push(new c(u,i)),o){case 0:u+=n,u>=r.right&&(o=1,i+=u-r.right,u=r.right);break;case 1:i+=n,i>=r.bottom&&(o=2,u-=i-r.bottom,i=r.bottom);break;case 2:u-=n,u<=r.left&&(o=3,i-=r.left-u,u=r.left);break;case 3:i-=n,i<=r.top&&(o=0,i=r.top);break}return s};p.exports=a},86673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=t.x,a=t.right,r=t.y,n=t.bottom,e=0;e<f.length;e++)c=Math.min(c,f[e].x),a=Math.max(a,f[e].x),r=Math.min(r,f[e].y),n=Math.max(n,f[e].y);return t.x=c,t.y=r,t.width=a-c,t.height=n-r,t};p.exports=S},14655:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=Math.min(t.x,f.x),a=Math.max(t.right,f.right);t.x=c,t.width=a-c;var r=Math.min(t.y,f.y),n=Math.max(t.bottom,f.bottom);return t.y=r,t.height=n-r,t};p.exports=S},44755:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=Math.min(t.x,f),r=Math.max(t.right,f);t.x=a,t.width=r-a;var n=Math.min(t.y,c),e=Math.max(t.bottom,c);return t.y=n,t.height=e-n,t};p.exports=S},74466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x+=f,t.y+=c,t};p.exports=S},55946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x+=f.x,t.y+=f.y,t};p.exports=S},97474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x<f.right&&t.right>f.x&&t.y<f.bottom&&t.bottom>f.y};p.exports=S},85876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},20243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(75606),a=function(r,n,e){e===void 0&&(e=new f),n=c(n);var s=Math.sin(n),u=Math.cos(n),i=u>0?r.width/2:r.width/-2,o=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(o*u)?o=i*s/u:i=o*u/s,e.x=i+r.centerX,e.y=o+r.centerY,e};p.exports=a},30001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};p.exports=c},97691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(73222),a=t(79967),r=function(n,e,s){if(s===void 0&&(s=new a),c(n,e))switch(f(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};p.exports=r},74118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(94287),a=t(47698),r=t(54932),n=t(52394),e=t(88829),s=t(30001),u=new f({initialize:function(o,h,l,d){o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),this.type=n.RECTANGLE,this.x=o,this.y=h,this.width=l,this.height=d},contains:function(i,o){return c(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,h){return r(this,i,o,h)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,o,h,l){return this.x=i,this.y=o,this.width=h,this.height=l,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,o){return o===void 0&&(o=i),this.x=i,this.y=o,this},setSize:function(i,o){return o===void 0&&(o=i),this.width=i,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});p.exports=u},51828:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.width===f.width&&t.height===f.height};p.exports=S},5691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=f),t.width*=f,t.height*=c,t};p.exports=S},58795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=function(a,r,n){n===void 0&&(n=new f);var e=Math.min(a.x,r.x),s=Math.min(a.y,r.y),u=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-s;return n.setTo(e,s,u,i)};p.exports=c},66658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118);f.Area=t(1653),f.Ceil=t(33943),f.CeilAll=t(58662),f.CenterOn=t(79993),f.Clone=t(81572),f.Contains=t(94287),f.ContainsPoint=t(28687),f.ContainsRect=t(73222),f.CopyFrom=t(29538),f.Decompose=t(87279),f.Equals=t(19989),f.FitInside=t(92628),f.FitOutside=t(85028),f.Floor=t(71356),f.FloorAll=t(21687),f.FromPoints=t(80222),f.FromXY=t(75785),f.GetAspectRatio=t(6700),f.GetCenter=t(35242),f.GetPoint=t(47698),f.GetPoints=t(54932),f.GetSize=t(31591),f.Inflate=t(7782),f.Intersection=t(66217),f.MarchingAnts=t(40053),f.MergePoints=t(86673),f.MergeRect=t(14655),f.MergeXY=t(44755),f.Offset=t(74466),f.OffsetPoint=t(55946),f.Overlaps=t(97474),f.Perimeter=t(85876),f.PerimeterPoint=t(20243),f.Random=t(30001),f.RandomOutside=t(97691),f.SameDimensions=t(51828),f.Scale=t(5691),f.Union=t(58795),p.exports=f},19108:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.x1,c=t.y1,a=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-f)*(r-c)-(a-f)*(e-c))/2)};p.exports=S},41199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349),c=function(a,r,n){var e=n*(Math.sqrt(3)/2),s=a,u=r,i=a+n/2,o=r+e,h=a-n/2,l=r+e;return new f(s,u,i,o,h,l)};p.exports=c},88730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(11117),c=t(66349),a=function(r,n,e,s,u){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),u===void 0&&(u=[]);for(var i=f(r,n),o,h,l,d,v,m,x,g,y,T=0;T<i.length;T+=3)o=i[T],h=i[T+1],l=i[T+2],d=r[o*2]*e,v=r[o*2+1]*s,m=r[h*2]*e,x=r[h*2+1]*s,g=r[l*2]*e,y=r[l*2+1]*s,u.push(new c(d,v,m,x,g,y));return u};p.exports=a},3635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349),c=function(a,r,n,e){e===void 0&&(e=n);var s=a,u=r,i=a,o=r-e,h=a+n,l=r;return new f(s,u,i,o,h,l)};p.exports=c},1882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56595),c=t(9640),a=function(r,n,e,s){s===void 0&&(s=f);var u=s(r),i=n-u.x,o=e-u.y;return c(r,i,o)};p.exports=a},56595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){return r===void 0&&(r=new f),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};p.exports=c},91835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736);function c(r,n,e,s){return r*s-n*e}var a=function(r,n){n===void 0&&(n=new f);var e=r.x3,s=r.y3,u=r.x1-e,i=r.y1-s,o=r.x2-e,h=r.y2-s,l=2*c(u,i,o,h),d=c(i,u*u+i*i,h,o*o+h*h),v=c(u,u*u+i*i,o,o*o+h*h);return n.x=e-d/l,n.y=s+v/l,n};p.exports=a},97073:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=function(a,r){r===void 0&&(r=new f);var n=a.x1,e=a.y1,s=a.x2,u=a.y2,i=a.x3,o=a.y3,h=s-n,l=u-e,d=i-n,v=o-e,m=h*(n+s)+l*(e+u),x=d*(n+i)+v*(e+o),g=2*(h*(o-u)-l*(i-s)),y,T;if(Math.abs(g)<1e-6){var E=Math.min(n,s,i),C=Math.min(e,u,o);y=(Math.max(n,s,i)-E)*.5,T=(Math.max(e,u,o)-C)*.5,r.x=E+y,r.y=C+T,r.radius=Math.sqrt(y*y+T*T)}else r.x=(v*m-l*x)/g,r.y=(h*x-d*m)/g,y=r.x-n,T=r.y-e,r.radius=Math.sqrt(y*y+T*T);return r};p.exports=c},75974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349),c=function(a){return new f(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};p.exports=c},60689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=f-t.x1,u=c-t.y1,i=a*a+r*r,o=a*n+r*e,h=a*s+r*u,l=n*n+e*e,d=n*s+e*u,v=i*l-o*o,m=v===0?0:1/v,x=(l*h-o*d)*m,g=(i*d-o*h)*m;return x>=0&&g>=0&&x+g<1};p.exports=S},86875:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,u=r*r+n*n,i=r*e+n*s,o=e*e+s*s,h=u*o-i*i,l=h===0?0:1/h,d,v,m,x,g,y,T=t.x1,E=t.y1,C=0;C<f.length&&(m=f[C].x-T,x=f[C].y-E,g=r*m+n*x,y=e*m+s*x,d=(o*g-i*y)*l,v=(u*y-i*g)*l,!(d>=0&&v>=0&&d+v<1&&(a.push({x:f[C].x,y:f[C].y}),c)));C++);return a};p.exports=S},51532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60689),c=function(a,r){return f(a,r.x,r.y)};p.exports=c},42538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},18680:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=[]),f.push({x:t.x1,y:t.y1}),f.push({x:t.x2,y:t.y2}),f.push({x:t.x3,y:t.y3}),f};p.exports=S},29977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.x1===f.x1&&t.y1===f.y1&&t.x2===f.x2&&t.y2===f.y2&&t.x3===f.x3&&t.y3===f.y3};p.exports=S},56088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=t(16028),a=function(r,n,e){e===void 0&&(e=new f);var s=r.getLineA(),u=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var o=c(s),h=c(u),l=c(i),d=o+h+l,v=d*n,m=0;return v<o?(m=v/o,e.x=s.x1+(s.x2-s.x1)*m,e.y=s.y1+(s.y2-s.y1)*m):v>o+h?(v-=o+h,m=v/l,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):(v-=o,m=v/h,e.x=u.x1+(u.x2-u.x1)*m,e.y=u.y1+(u.y2-u.y1)*m),e};p.exports=a},24402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=t(79967),a=function(r,n,e,s){s===void 0&&(s=[]);var u=r.getLineA(),i=r.getLineB(),o=r.getLineC(),h=f(u),l=f(i),d=f(o),v=h+l+d;!n&&e>0&&(n=v/e);for(var m=0;m<n;m++){var x=v*(m/n),g=0,y=new c;x<h?(g=x/h,y.x=u.x1+(u.x2-u.x1)*g,y.y=u.y1+(u.y2-u.y1)*g):x>h+l?(x-=h+l,g=x/d,y.x=o.x1+(o.x2-o.x1)*g,y.y=o.y1+(o.y2-o.y1)*g):(x-=h,g=x/l,y.x=i.x1+(i.x2-i.x1)*g,y.y=i.y1+(i.y2-i.y1)*g),s.push(y)}return s};p.exports=a},83648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967);function c(r,n,e,s){var u=r-e,i=n-s,o=u*u+i*i;return Math.sqrt(o)}var a=function(r,n){n===void 0&&(n=new f);var e=r.x1,s=r.y1,u=r.x2,i=r.y2,o=r.x3,h=r.y3,l=c(o,h,u,i),d=c(e,s,o,h),v=c(u,i,e,s),m=l+d+v;return n.x=(e*l+u*d+o*v)/m,n.y=(s*l+i*d+h*v)/m,n};p.exports=a},9640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t.x1+=f,t.y1+=c,t.x2+=f,t.y2+=c,t.x3+=f,t.y3+=c,t};p.exports=S},95290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16028),c=function(a){var r=a.getLineA(),n=a.getLineB(),e=a.getLineC();return f(r)+f(n)+f(e)};p.exports=c},99761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(79967),c=function(a,r){r===void 0&&(r=new f);var n=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,u=a.y3-a.y1,i=Math.random(),o=Math.random();return i+o>=1&&(i=1-i,o=1-o),r.x=a.x1+(n*i+s*o),r.y=a.y1+(e*i+u*o),r};p.exports=c},21934:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19211),c=t(83648),a=function(r,n){var e=c(r);return f(r,e.x,e.y,n)};p.exports=a},68454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19211),c=function(a,r,n){return f(a,r.x,r.y,n)};p.exports=c},19211:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-f,s=t.y1-c;return t.x1=e*r-s*n+f,t.y1=e*n+s*r+c,e=t.x2-f,s=t.y2-c,t.x2=e*r-s*n+f,t.y2=e*n+s*r+c,e=t.x3-f,s=t.y3-c,t.x3=e*r-s*n+f,t.y3=e*n+s*r+c,t};p.exports=S},66349:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(60689),a=t(56088),r=t(24402),n=t(52394),e=t(88829),s=t(99761),u=new f({initialize:function(o,h,l,d,v,m){o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=n.TRIANGLE,this.x1=o,this.y1=h,this.x2=l,this.y2=d,this.x3=v,this.y3=m},contains:function(i,o){return c(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,h){return r(this,i,o,h)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,o,h,l,d,v){return i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),this.x1=i,this.y1=o,this.x2=h,this.y2=l,this.x3=d,this.y3=v,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}}});p.exports=u},87619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66349);f.Area=t(19108),f.BuildEquilateral=t(41199),f.BuildFromPolygon=t(88730),f.BuildRight=t(3635),f.CenterOn=t(1882),f.Centroid=t(56595),f.CircumCenter=t(91835),f.CircumCircle=t(97073),f.Clone=t(75974),f.Contains=t(60689),f.ContainsArray=t(86875),f.ContainsPoint=t(51532),f.CopyFrom=t(42538),f.Decompose=t(18680),f.Equals=t(29977),f.GetPoint=t(56088),f.GetPoints=t(24402),f.InCenter=t(83648),f.Perimeter=t(95290),f.Offset=t(9640),f.Random=t(99761),f.Rotate=t(21934),f.RotateAroundPoint=t(68454),f.RotateAroundXY=t(19211),p.exports=f},27395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:c,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=S},18104:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return function(c,a,r,n){var e=t.getPixelAlpha(a,r,n.texture.key,n.frame.name);return e&&e>=f}};p.exports=S},69898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72687),a=t(6659),r=t(33963),n=t(97081),e=t(71064),s=t(7905),u=t(40398),i=t(37579),o=t(69360),h=t(64462),l=new f({initialize:function(v,m){this.game=v,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new s(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers,m.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var x=0;x<=this.pointersTotal;x++){var g=new u(this,x);g.smoothFactor=m.inputSmoothFactor,this.pointers.push(g)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(n.BOOT,this.boot,this)},boot:function(){var d=this.game,v=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),v.on(n.PRE_RENDER,this.preRender,this),v.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,v=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input&&g.sys.input.updatePoll(d,v)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var v=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var m=0;m<d;m++){var x=this.pointers.length,g=new u(this,x);g.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(g),this.pointersTotal++,v.push(g)}return v},updateInputPlugins:function(d,v){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input){var y=g.sys.input.update(d,v);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(!T.active){T.touchstart(g,d),this.activePointer=T,m.push(T);break}}this.updateInputPlugins(c.TOUCH_START,m)},onTouchMove:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===g.identifier){var E=document.elementFromPoint(g.pageX,g.pageY),C=E===this.canvas;!this.isOver&&C?this.setCanvasOver(d):this.isOver&&!C&&this.setCanvasOut(d),this.isOver&&(T.touchmove(g,d),this.activePointer=T,m.push(T));break}}this.updateInputPlugins(c.TOUCH_MOVE,m)},onTouchEnd:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===g.identifier){T.touchend(g,d),m.push(T);break}}this.updateInputPlugins(c.TOUCH_END,m)},onTouchCancel:function(d){for(var v=this.pointers,m=[],x=0;x<d.changedTouches.length;x++)for(var g=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===g.identifier){T.touchcancel(g,d),m.push(T);break}}this.updateInputPlugins(c.TOUCH_CANCEL,m)},onMouseDown:function(d){var v=this.mousePointer;v.down(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var v=this.mousePointer;v.move(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var v=this.mousePointer;v.up(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var v=this.mousePointer;v.wheel(d),this.activePointer=v,this.updateInputPlugins(c.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(r.POINTERLOCK_CHANGE,d,v)},inputCandidate:function(d,v){var m=d.input;if(!m||!m.enabled||!d.willRender(v))return!1;var x=!0,g=d.parentContainer;if(g)do{if(!g.willRender(v)){x=!1;break}g=g.parentContainer}while(g);return x},hitTest:function(d,v,m,x){x===void 0&&(x=this._tempHitTest);var g=this._tempPoint,y=m.scrollX,T=m.scrollY;x.length=0;var E=d.x,C=d.y;m.getWorldPoint(E,C,g),d.worldX=g.x,d.worldY=g.y;for(var A={x:0,y:0},P=this._tempMatrix,F=this._tempMatrix2,O=0;O<v.length;O++){var I=v[O];if(!!this.inputCandidate(I,m)){var G=g.x+y*I.scrollFactorX-y,z=g.y+T*I.scrollFactorY-T;I.parentContainer?(I.getWorldTransformMatrix(P,F),P.applyInverse(G,z,A)):h(G,z,I.x,I.y,I.rotation,I.scaleX,I.scaleY,A),this.pointWithinHitArea(I,A.x,A.y)&&x.push(I)}}return x},pointWithinHitArea:function(d,v,m){v+=d.displayOriginX,m+=d.displayOriginY;var x=d.input;return x&&x.hitAreaCallback(x.hitArea,v,m,d)?(x.localX=v,x.localY=m,!0):!1},pointWithinInteractiveObject:function(d,v,m){return d.hitArea?(v+=d.gameObject.displayOriginX,m+=d.gameObject.displayOriginY,d.localX=v,d.localY=m,d.hitAreaCallback(d.hitArea,v,m,d)):!1},transformPointer:function(d,v,m,x){var g=d.position,y=d.prevPosition;y.x=g.x,y.y=g.y;var T=this.scaleManager.transformX(v),E=this.scaleManager.transformY(m),C=d.smoothFactor;!x||C===0?(g.x=T,g.y=E):(g.x=T*C+y.x*(1-C),g.y=E*C+y.y*(1-C))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=l},12499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(26673),c=t(65650),a=t(56694),r=t(72687),n=t(27395),e=t(18104),s=t(53996),u=t(95669),i=t(72313),o=t(33963),h=t(6659),l=t(72632),d=t(52394),v=t(63399),m=t(42911),x=t(91963),g=t(74118),y=t(94287),T=t(7599),E=t(66349),C=t(60689),A=new a({Extends:h,initialize:function(F){h.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new h,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(T.BOOT,this.boot,this),F.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var P=this.systems.events;P.on(T.TRANSITION_START,this.transitionIn,this),P.on(T.TRANSITION_OUT,this.transitionOut,this),P.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),P.on(T.PRE_UPDATE,this.preUpdate,this),P.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(P){this.isActive()&&this.emit(o.GAME_OVER,P.timeStamp,P)},onGameOut:function(P){this.isActive()&&this.emit(o.GAME_OUT,P.timeStamp,P)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var P=this._pendingRemoval,F=this._pendingInsertion,O=P.length,I=F.length;if(!(O===0&&I===0)){for(var G=this._list,z=0;z<O;z++){var X=P[z],H=G.indexOf(X);H>-1&&(G.splice(H,1),this.clear(X,!0))}this._pendingRemoval.length=0,this._list=G.concat(F.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(P,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,P,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,I=this.manager,G=I.pointers,z=I.pointersTotal;for(O=0;O<z;O++)G[O].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(O=0;O<z;O++){var N=0,U=G[O];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),N+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,P),N>0&&(H=!0)}return H},update:function(P,F){if(!this.isActive())return!1;for(var O=F.length,I=!1,G=0;G<O;G++){var z=0,X=F[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),P){case r.MOUSE_DOWN:z+=this.processDragDownEvent(X),z+=this.processDownEvents(X),z+=this.processOverOutEvents(X);break;case r.MOUSE_UP:z+=this.processDragUpEvent(X),z+=this.processUpEvents(X),z+=this.processOverOutEvents(X);break;case r.TOUCH_START:z+=this.processDragDownEvent(X),z+=this.processDownEvents(X),z+=this.processOverEvents(X);break;case r.TOUCH_END:case r.TOUCH_CANCEL:z+=this.processDragUpEvent(X),z+=this.processUpEvents(X),z+=this.processOutEvents(X);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:z+=this.processDragMoveEvent(X),z+=this.processMoveEvents(X),z+=this.processOverOutEvents(X);break;case r.MOUSE_WHEEL:z+=this.processWheelEvent(X);break}z>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(P,F){F===void 0&&(F=!1),this.disable(P);var O=P.input;O&&(this.removeDebug(P),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,P.input=null),F||this.queueForRemoval(P);var I=this._draggable.indexOf(P);return I>-1&&this._draggable.splice(I,1),P},disable:function(P){var F=P.input;F&&(F.enabled=!1,F.dragState=0);var O=this._temp,I=this._drag,G=this._over,z=this.manager,X=O.indexOf(P);X>-1&&O.splice(X,1);for(var H=0;H<z.pointersTotal;H++)X=I[H].indexOf(P),X>-1&&I[H].splice(X,1),X=G[H].indexOf(P),X>-1&&(G[H].splice(X,1),z.resetCursor(F));return this},enable:function(P,F,O,I){return I===void 0&&(I=!1),P.input?P.input.enabled=!0:this.setHitArea(P,F,O),P.input&&I&&!P.input.dropZone&&(P.input.dropZone=I),this},hitTestPointer:function(P){for(var F=this.cameras.getCamerasBelowPointer(P),O=0;O<F.length;O++){for(var I=F[O],G=this.manager.hitTest(P,this._list,I),z=0;z<G.length;z++){var X=G[z];X.input.dropZone&&this._tempZones.push(X)}if(G.length>0)return P.camera=I,G}return P.camera=F[0],[]},processDownEvents:function(P){var F=0,O=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var z=!1,X=0;X<O.length;X++){var H=O[X];if(!(!H.input||!H.input.enabled)){if(F++,H.emit(o.GAMEOBJECT_POINTER_DOWN,P,H.input.localX,H.input.localY,G),I.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,P,H,G),I.cancelled||!H.input){z=!0;break}}}return!z&&this.manager&&(P.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,P,O):this.emit(o.POINTER_DOWN_OUTSIDE,P)),F},getDragState:function(P){return this._dragState[P.id]},setDragState:function(P,F){this._dragState[P.id]=F},processDragThresholdEvent:function(P,F){var O=!1,I=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&s(P.x,P.y,P.downX,P.downY)>=G||I>0&&F>=P.downTime+I)&&(O=!0),O)return this.setDragState(P,3),this.processDragStartList(P)},processDragStartList:function(P){if(this.getDragState(P)!==3)return 0;for(var F=this._drag[P.id],O=0;O<F.length;O++){var I=F[O],G=I.input;G.dragState=2,G.dragStartX=I.x,G.dragStartY=I.y,G.dragStartXGlobal=P.worldX,G.dragStartYGlobal=P.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,I.emit(o.GAMEOBJECT_DRAG_START,P,G.dragX,G.dragY),this.emit(o.DRAG_START,P,I)}return this.setDragState(P,4),F.length},processDragDownEvent:function(P){var F=this._temp;if(this._draggable.length===0||F.length===0||!P.primaryDown||this.getDragState(P)!==0)return 0;this.setDragState(P,1);for(var O=[],I=0;I<F.length;I++){var G=F[I];G.input.draggable&&G.input.dragState===0&&O.push(G)}return O.length===0?(this.setDragState(P,0),0):(O.length>1&&(this.sortGameObjects(O,P),this.topOnly&&O.splice(1)),this._drag[P.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(P,3),this.processDragStartList(P)):(this.setDragState(P,2),0))},processDragMoveEvent:function(P){if(this.getDragState(P)===2&&this.processDragThresholdEvent(P,this.manager.game.loop.now),this.getDragState(P)!==4)return 0;for(var F=this._tempZones,O=this._drag[P.id],I=0;I<O.length;I++){var G=O[I],z=G.input,X=z.target;if(X){var H=F.indexOf(X);H===0?(G.emit(o.GAMEOBJECT_DRAG_OVER,P,X),this.emit(o.DRAG_OVER,P,G,X)):H>0?(G.emit(o.GAMEOBJECT_DRAG_LEAVE,P,X),this.emit(o.DRAG_LEAVE,P,G,X),z.target=F[0],X=z.target,G.emit(o.GAMEOBJECT_DRAG_ENTER,P,X),this.emit(o.DRAG_ENTER,P,G,X)):(G.emit(o.GAMEOBJECT_DRAG_LEAVE,P,X),this.emit(o.DRAG_LEAVE,P,G,X),F[0]?(z.target=F[0],X=z.target,G.emit(o.GAMEOBJECT_DRAG_ENTER,P,X),this.emit(o.DRAG_ENTER,P,G,X)):z.target=null)}else!X&&F[0]&&(z.target=F[0],X=z.target,G.emit(o.GAMEOBJECT_DRAG_ENTER,P,X),this.emit(o.DRAG_ENTER,P,G,X));var N,U;if(!G.parentContainer)N=P.worldX-z.dragX,U=P.worldY-z.dragY;else{var R=P.worldX-z.dragStartXGlobal,D=P.worldY-z.dragStartYGlobal,B=G.getParentRotation(),V=R*Math.cos(B)+D*Math.sin(B),Y=D*Math.cos(B)-R*Math.sin(B);V*=1/G.parentContainer.scaleX,Y*=1/G.parentContainer.scaleY,N=V+z.dragStartX,U=Y+z.dragStartY}G.emit(o.GAMEOBJECT_DRAG,P,N,U),this.emit(o.DRAG,P,G,N,U)}return O.length},processDragUpEvent:function(P){for(var F=this._drag[P.id],O=0;O<F.length;O++){var I=F[O],G=I.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-I.displayOriginX,G.dragY=G.localY-I.displayOriginY;var z=!1,X=G.target;X&&(I.emit(o.GAMEOBJECT_DROP,P,X),this.emit(o.DROP,P,I,X),G.target=null,z=!0),I.input&&I.input.enabled&&(I.emit(o.GAMEOBJECT_DRAG_END,P,G.dragX,G.dragY,z),this.emit(o.DRAG_END,P,I,z))}}return this.setDragState(P,0),F.splice(0),0},processMoveEvents:function(P){var F=0,O=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var z=!1,X=0;X<O.length;X++){var H=O[X];if(!(!H.input||!H.input.enabled)){if(F++,H.emit(o.GAMEOBJECT_POINTER_MOVE,P,H.input.localX,H.input.localY,G),I.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,P,H,G),I.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.topOnly)break}}return z||this.emit(o.POINTER_MOVE,P,O),F},processWheelEvent:function(P){var F=0,O=this._temp,I=this._eventData,G=this._eventContainer;I.cancelled=!1;for(var z=!1,X=P.deltaX,H=P.deltaY,N=P.deltaZ,U=0;U<O.length;U++){var R=O[U];if(!(!R.input||!R.input.enabled)){if(F++,R.emit(o.GAMEOBJECT_POINTER_WHEEL,P,X,H,N,G),I.cancelled||!R.input||!R.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,P,R,X,H,N,G),I.cancelled||!R.input||!R.input.enabled){z=!0;break}}}return z||this.emit(o.POINTER_WHEEL,P,O,X,H,N),F},processOverEvents:function(P){var F=this._temp,O=0,I=F.length,G=[];if(I>0){var z=this.manager,X=this._eventData,H=this._eventContainer;X.cancelled=!1;for(var N=!1,U=0;U<I;U++){var R=F[U];if(!(!R.input||!R.input.enabled)){if(G.push(R),z.setCursor(R.input),R.emit(o.GAMEOBJECT_POINTER_OVER,P,R.input.localX,R.input.localY,H),O++,X.cancelled||!R.input||!R.input.enabled){N=!0;break}if(this.emit(o.GAMEOBJECT_OVER,P,R,H),X.cancelled||!R.input||!R.input.enabled){N=!0;break}}}N||this.emit(o.POINTER_OVER,P,G)}return this._over[P.id]=G,O},processOutEvents:function(P){var F=this._over[P.id],O=0,I=F.length;if(I>0){var G=this.manager,z=this._eventData,X=this._eventContainer;z.cancelled=!1;var H=!1;this.sortGameObjects(F,P);for(var N=0;N<I;N++){var U=F[N];if(U=F[N],!(!U.input||!U.input.enabled)){if(G.resetCursor(U.input),U.emit(o.GAMEOBJECT_POINTER_OUT,P,X),O++,z.cancelled||!U.input||!U.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_OUT,P,U,X),z.cancelled||!U.input||!U.input.enabled){H=!0;break}H||this.emit(o.POINTER_OUT,P,F)}}this._over[P.id]=[]}return O},processOverOutEvents:function(P){var F=this._temp,O,I,G=[],z=[],X=[],H=this._over[P.id],N=this._drag[P.id],U=this.manager;for(O=0;O<H.length;O++)I=H[O],F.indexOf(I)===-1&&N.indexOf(I)===-1?G.push(I):X.push(I);for(O=0;O<F.length;O++)I=F[O],H.indexOf(I)===-1&&z.push(I);var R=G.length,D=0,B=this._eventData,V=this._eventContainer;B.cancelled=!1;var Y=!1;if(R>0){for(this.sortGameObjects(G,P),O=0;O<R;O++)if(I=G[O],!(!I.input||!I.input.enabled)){if(U.resetCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OUT,P,V),D++,B.cancelled||!I.input||!I.input.enabled){Y=!0;break}if(this.emit(o.GAMEOBJECT_OUT,P,I,V),B.cancelled||!I.input||!I.input.enabled){Y=!0;break}}Y||this.emit(o.POINTER_OUT,P,G)}if(R=z.length,B.cancelled=!1,Y=!1,R>0){for(this.sortGameObjects(z,P),O=0;O<R;O++)if(I=z[O],!(!I.input||!I.input.enabled)){if(U.setCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OVER,P,I.input.localX,I.input.localY,V),D++,B.cancelled||!I.input||!I.input.enabled){Y=!0;break}if(this.emit(o.GAMEOBJECT_OVER,P,I,V),B.cancelled||!I.input||!I.input.enabled){Y=!0;break}}Y||this.emit(o.POINTER_OVER,P,z)}return H=X.concat(z),this._over[P.id]=this.sortGameObjects(H,P),D},processUpEvents:function(P){var F=this._temp,O=this._eventData,I=this._eventContainer;O.cancelled=!1;for(var G=!1,z=0;z<F.length;z++){var X=F[z];if(!(!X.input||!X.input.enabled)){if(X.emit(o.GAMEOBJECT_POINTER_UP,P,X.input.localX,X.input.localY,I),O.cancelled||!X.input||!X.input.enabled){G=!0;break}if(this.emit(o.GAMEOBJECT_UP,P,X,I),O.cancelled||!X.input||!X.input.enabled){G=!0;break}}}return!G&&this.manager&&(P.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,P,F):this.emit(o.POINTER_UP_OUTSIDE,P)),F.length},queueForInsertion:function(P){return this._pendingInsertion.indexOf(P)===-1&&this._list.indexOf(P)===-1&&this._pendingInsertion.push(P),this},queueForRemoval:function(P){return this._pendingRemoval.push(P),this},setDraggable:function(P,F){F===void 0&&(F=!0),Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var I=P[O];I.input.draggable=F;var G=this._draggable.indexOf(I);F&&G===-1?this._draggable.push(I):!F&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(P){P===void 0&&(P=1);var F=this.systems.textures;return e(F,P)},setHitArea:function(P,F,O){if(F===void 0)return this.setHitAreaFromTexture(P);Array.isArray(P)||(P=[P]);var I=!1,G=!1,z=!1,X=!1,H=!1,N=!0;if(m(F)){var U=F;F=l(U,"hitArea",null),O=l(U,"hitAreaCallback",null),I=l(U,"draggable",!1),G=l(U,"dropZone",!1),z=l(U,"cursor",!1),X=l(U,"useHandCursor",!1),H=l(U,"pixelPerfect",!1);var R=l(U,"alphaTolerance",1);H&&(F={},O=this.makePixelPerfect(R)),(!F||!O)&&(this.setHitAreaFromTexture(P),N=!1)}else typeof F=="function"&&!O&&(O=F,F={});for(var D=0;D<P.length;D++){var B=P[D];if(H&&B.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var V=B.input?B.input:n(B,F,O);V.customHitArea=N,V.dropZone=G,V.cursor=X?"pointer":z,B.input=V,I&&this.setDraggable(B),this.queueForInsertion(B)}return this},setHitAreaCircle:function(P,F,O,I,G){G===void 0&&(G=c);var z=new f(F,O,I);return this.setHitArea(P,z,G)},setHitAreaEllipse:function(P,F,O,I,G,z){z===void 0&&(z=i);var X=new u(F,O,I,G);return this.setHitArea(P,X,z)},setHitAreaFromTexture:function(P,F){F===void 0&&(F=y),Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var I=P[O],G=I.frame,z=0,X=0;if(I.width?(z=I.width,X=I.height):G&&(z=G.realWidth,X=G.realHeight),I.type==="Container"&&(z===0||X===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&X!==0&&(I.input=n(I,new g(0,0,z,X),F),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(P,F,O,I,G,z){z===void 0&&(z=y);var X=new g(F,O,I,G);return this.setHitArea(P,X,z)},setHitAreaTriangle:function(P,F,O,I,G,z,X,H){H===void 0&&(H=C);var N=new E(F,O,I,G,z,X);return this.setHitArea(P,N,H)},enableDebug:function(P,F){F===void 0&&(F=65280);var O=P.input;if(!O||!O.hitArea)return this;var I=O.hitArea,G=I.type,z=O.hitAreaDebug,X=this.systems.add,H=this.systems.updateList;z&&(H.remove(z),z.destroy(),z=null);var N=0,U=0;switch(G){case d.CIRCLE:z=X.arc(0,0,I.radius),N=I.x-I.radius,U=I.y-I.radius;break;case d.ELLIPSE:z=X.ellipse(0,0,I.width,I.height),N=I.x-I.width/2,U=I.y-I.height/2;break;case d.LINE:z=X.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case d.POLYGON:z=X.polygon(0,0,I.points);break;case d.RECTANGLE:z=X.rectangle(0,0,I.width,I.height),N=I.x,U=I.y;break;case d.TRIANGLE:z=X.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return z&&(z.isFilled=!1,z.strokeColor=F,z.preUpdate=function(){z.setStrokeStyle(1/P.scale,z.strokeColor),z.setDisplayOrigin(P.displayOriginX,P.displayOriginY);var R=P.x,D=P.y,B=P.rotation,V=P.scaleX,Y=P.scaleY;if(P.parentContainer){var K=P.getWorldTransformMatrix();R=K.tx,D=K.ty,B=K.rotation,V=K.scaleX,Y=K.scaleY}z.setRotation(B),z.setScale(V,Y),z.setPosition(R+N*V,D+U*Y),z.setScrollFactor(P.scrollFactorX,P.scrollFactorY),z.setDepth(P.depth)},H.add(z),O.hitAreaDebug=z),this},removeDebug:function(P){var F=P.input;if(F&&F.hitAreaDebug){var O=F.hitAreaDebug;this.systems.updateList.remove(O),O.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(P){return this.pollRate=P,this._pollTimer=0,this},setGlobalTopOnly:function(P){return this.manager.globalTopOnly=P,this},setTopOnly:function(P){return this.topOnly=P,this},sortGameObjects:function(P,F){if(P.length<2||!F.camera)return P;var O=F.camera.renderList;return P.sort(function(I,G){var z=Math.max(O.indexOf(I),0),X=Math.max(O.indexOf(G),0);return X-z})},sortDropZones:function(P){return P.length<2?P:(this.scene.sys.depthSort(),P.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(P,F){if(!P.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(P);if(P.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-P.parentContainer.getIndex(P);if(P.parentContainer===F)return-1;if(F.parentContainer===P)return 1;for(var O=P.getIndexList(),I=F.getIndexList(),G=Math.min(O.length,I.length),z=0;z<G;z++){var X=O[z],H=I[z];if(X!==H)return H-X}return I.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(P){return this.manager.addPointer(P)},setDefaultCursor:function(P){return this.manager.setDefaultCursor(P),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var P=0;P<10;P++)this._drag[P]=[],this._over[P]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var O=this.systems.events;O.off(T.TRANSITION_START,this.transitionIn,this),O.off(T.TRANSITION_OUT,this.transitionOut,this),O.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),O.off(T.PRE_UPDATE,this.preUpdate,this),F.events.off(o.GAME_OUT,this.onGameOut,this),F.events.off(o.GAME_OVER,this.onGameOver,this),O.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var P=this.manager.pointers,F=0;F<P.length;F++)P[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",A,"input"),p.exports=A},63399:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c={},a={};a.register=function(r,n,e,s,u){c[r]={plugin:n,mapping:e,settingsKey:s,configKey:u}},a.getPlugin=function(r){return c[r]},a.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var u in c){var i=c[u].plugin,o=c[u].mapping,h=c[u].settingsKey,l=c[u].configKey;f(e,h,s[l])&&(r[o]=new i(r))}},a.remove=function(r){c.hasOwnProperty(r)&&delete c[r]},p.exports=a},40398:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(90447),c=t(56694),a=t(53996),r=t(88456),n=t(44521),e=t(93736),s=t(36580),u=new c({initialize:function(o,h){this.manager=o,this.id=h,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=h===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var o=i.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(i,o){return i.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var i=this.position.x,o=this.position.y,h=this.midPoint.x,l=this.midPoint.y;if(!(i===h&&o===l)){var d=n(this.motionFactor,h,i),v=n(this.motionFactor,l,o);r(d,i,.1)&&(d=i),r(v,o,.1)&&(v=o),this.midPoint.set(d,v);var m=i-d,x=o-v;this.velocity.set(m,x),this.angle=f(d,v,i,o),this.distance=Math.sqrt(m*m+x*x)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,o){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,o){this.event=o,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,o){i===void 0&&(i=10),o===void 0&&(o=[]);for(var h=this.prevPosition.x,l=this.prevPosition.y,d=this.position.x,v=this.position.y,m=0;m<i;m++){var x=1/i*m;o[m]={x:n(x,h,d),y:n(x,l,v)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=u},72687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},14874:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},54168:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},526:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},81623:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},94472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},9304:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},34265:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},50151:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},98134:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},56773:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},45824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},39578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},72072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},82569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},70833:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},81442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},32936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},99658:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},60515:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},55254:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},34782:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},41769:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},65588:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},61640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},49342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},82662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},13058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},52426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},78072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},1545:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},67137:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},27678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},22257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},90379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},88909:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},36548:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},18483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},22355:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},7997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},66318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},94812:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},37310:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},24196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},27053:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},29413:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},25165:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=c},21274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(43200),a=new f({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(c.BUTTON_DOWN,n,this,r),this.pad.emit(c.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(c.BUTTON_UP,n,this,r),this.pad.emit(c.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=a},75956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70848),c=t(21274),a=t(56694),r=t(6659),n=t(93736),e=new a({Extends:r,initialize:function(u,i){r.call(this),this.manager=u,this.pad=i,this.id=i.id,this.index=i.index;for(var o=[],h=0;h<i.buttons.length;h++)o.push(new c(this,h));this.buttons=o;var l=[];for(h=0;h<i.axes.length;h++)l.push(new f(this,h));this.axes=l,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var v={value:0};this._HAxisLeft=l[0]?l[0]:v,this._VAxisLeft=l[1]?l[1]:v,this._HAxisRight=l[2]?l[2]:v,this._VAxisRight=l[3]?l[3]:v,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var u,i=this.buttons,o=s.buttons,h=i.length;for(u=0;u<h;u++)i[u].update(o[u].value);var l=this.axes,d=s.axes;for(h=l.length,u=0;u<h;u++)l[u].update(d[u]);h>=2&&(this.leftStick.set(l[0].getValue(),l[1].getValue()),h>=4&&this.rightStick.set(l[2].getValue(),l[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},1379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(43200),r=t(75956),n=t(10850),e=t(63399),s=t(33963),u=new f({Extends:c,initialize:function(o){c.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(s.BOOT,this.boot,this),o.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,o=this.settings.input,h=i.config;this.enabled=n(o,"gamepad",h.inputGamepad)&&i.device.input.gamepads,this.target=n(o,"gamepad.target",h.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,o=this.target,h=function(l){l.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(l))};this.onGamepadHandler=h,o.addEventListener("gamepadconnected",h,!1),o.addEventListener("gamepaddisconnected",h,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var o=this.gamepads,h=0;h<i.length;h++){var l=i[h];if(!!l){var d=l.id,v=l.index,m=o[v];if(m)m.id!==d?(m.destroy(),o[v]=new r(this,l)):m.update(l);else{var x=new r(this,l);o[v]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var i=[],o=this.gamepads,h=0;h<o.length;h++)o[h]&&i.push(o[h]);return i},getPad:function(i){for(var o=this.gamepads,h=0;h<o.length;h++)if(o[h]&&o[h].index===i)return o[h]},update:function(){if(!!this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var o=this.queue.splice(0,i),h=0;h<i;h++){var l=o[h],d=this.getPad(l.gamepad.index);l.type==="gamepadconnected"?this.emit(a.CONNECTED,d,l):l.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,l)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),p.exports=u},33171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},36635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},85724:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},55832:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},772:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},33608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},43200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72687),c=t(98611),a={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};a=c(!1,a,f),p.exports=a},71064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(56694),a=t(97081),r=t(33963),n=t(11873),e=t(72283),s=new c({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(o),u.manager.events.emit(r.MANAGER_PROCESS);var h=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;u.preventDefault&&!h&&u.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(o),u.manager.events.emit(r.MANAGER_PROCESS);var h=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;u.preventDefault&&!h&&u.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var i=this.captures,o=0;o<u.length;o++){var h=u[o];typeof h=="string"&&(h=n[h.trim().toUpperCase()]),i.indexOf(h)===-1&&i.push(h)}this.preventDefault=i.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var i=this.captures,o=0;o<u.length;o++){var h=u[o];typeof h=="string"&&(h=n[h.toUpperCase()]),f(i,h)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},89666:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(94030),r=t(97081),n=t(10850),e=t(33963),s=t(63399),u=t(50165),i=t(11873),o=t(95625),h=t(48044),l=t(7599),d=t(84314),v=new f({Extends:c,initialize:function(x){c.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=n(m,"keyboard",!0);var x=n(m,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(l.PAUSE,this.resetKeys,this),this.scene.sys.events.on(l.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var y={};if(typeof m=="string"){m=m.split(",");for(var T=0;T<m.length;T++){var E=m[T].trim();E&&(y[E]=this.addKey(E,x,g))}}else for(var C in m)y[C]=this.addKey(m[C],x,g);return y},addKey:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var y=this.keys;if(m instanceof u){var T=y.indexOf(m);return T>-1?y[T]=m:y[m.keyCode]=m,x&&this.addCapture(m.keyCode),m.setEmitOnRepeat(g),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),y[m]||(y[m]=new u(this,m),x&&this.addCapture(m),y[m].setEmitOnRepeat(g)),y[m]},removeKey:function(m,x,g){x===void 0&&(x=!1),g===void 0&&(g=!1);var y=this.keys,T;if(m instanceof u){var E=y.indexOf(m);E>-1&&(T=this.keys[E],this.keys[E]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return y[m]&&(T=y[m],y[m]=void 0),T&&(T.plugin=null,g&&this.removeCapture(T.keyCode),x&&T.destroy()),this},removeAllKeys:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1);for(var g=this.keys,y=0;y<g.length;y++){var T=g[y];T&&(g[y]=void 0,x&&this.removeCapture(T.keyCode),m&&T.destroy())}return this},createCombo:function(m,x){return new o(this,m,x)},checkDown:function(m,x){if(x===void 0&&(x=0),this.enabled&&m.isDown){var g=d(this.time-m.timeDown,x);if(g>m._tick)return m._tick=g,!0}return!1},update:function(){var m=this.manager.queue,x=m.length;if(!(!this.isActive()||x===0))for(var g=this.keys,y=0;y<x;y++){var T=m[y],E=T.keyCode,C=g[E],A=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(E===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=E,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(C&&(A=C.isDown,C.onDown(T)),!T.cancelled&&(!C||!A)&&(h[E]&&this.emit(a.KEY_DOWN+h[E],T),T.cancelled||this.emit(a.ANY_KEY_DOWN,T))):(C&&C.onUp(T),T.cancelled||(h[E]&&this.emit(a.KEY_UP+h[E],T),T.cancelled||this.emit(a.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(l.PAUSE,this.resetKeys,this),this.scene.sys.events.off(l.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),p.exports=v},60258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f.timeLastMatched=t.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)};p.exports=S},95625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(94030),a=t(72632),r=t(2544),n=t(88754),e=new f({initialize:function(u,i,o){if(o===void 0&&(o={}),i.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var h=0;h<i.length;h++){var l=i[h];typeof l=="string"?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):typeof l=="number"?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(o,"resetOnWrongKey",!0),this.maxKeyDelay=a(o,"maxKeyDelay",0),this.resetOnMatch=a(o,"resetOnMatch",!1),this.deleteOnMatch=a(o,"deleteOnMatch",!1);var d=this,v=function(m){if(!(d.matched||!d.enabled)){var x=r(m,d);x&&(d.manager.emit(c.COMBO_MATCH,d,m),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=v,this.manager.on(c.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(c.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},2544:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60258),c=function(a,r){if(r.matched)return!0;var n=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=s&&(e=!0,n=f(a,r))}else e=!0,n=f(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),n};p.exports=c},88754:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},5044:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},40813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},89319:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},43267:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},78595:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},30056:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},81939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},94030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=50);var c=t.plugin.game.loop.time-t.timeDown;return t.isDown&&c<f};p.exports=S},42460:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},53162:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},50165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(94030),r=new f({Extends:c,initialize:function(e,s){c.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},11873:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},48044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(11873),c={};for(var a in f)c[f[a]]=a;p.exports=c},70331:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=50);var c=t.plugin.game.loop.time-t.timeUp;return t.isUp&&c<f};p.exports=S},7905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(90185),a=t(33963),r=t(72283),n=new f({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(c.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){c.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(!!e){var s=this,u=this.manager,i=u.canvas,o=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseMove(l),s.preventDefaultMove&&l.preventDefault())},this.onMouseDown=function(l){o&&window.focus(),!l.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseDown(l),s.preventDefaultDown&&l.target===i&&l.preventDefault())},this.onMouseDownWindow=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&l.target!==i&&u.onMouseDown(l)},this.onMouseUp=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseUp(l),s.preventDefaultUp&&l.target===i&&l.preventDefault())},this.onMouseUpWindow=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&l.target!==i&&u.onMouseUp(l)},this.onMouseOver=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&u.setCanvasOver(l)},this.onMouseOut=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&u.setCanvasOut(l)},this.onMouseWheel=function(l){!l.defaultPrevented&&s.enabled&&u&&u.enabled&&u.onMouseWheel(l),s.preventDefaultWheel&&l.target===i&&l.preventDefault()};var h={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,h),e.addEventListener("mouseout",this.onMouseOut,h),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,h),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,h),window.top.addEventListener("mouseup",this.onMouseUpWindow,h)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,h),window.addEventListener("mouseup",this.onMouseUpWindow,h),this.isTop=!1}c.pointerLock&&(this.pointerLockChange=function(l){var d=s.target;s.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,u.onPointerLockChange(l)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),c.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=n},11343:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(7905)}},37579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(33963),a=t(72283),r=new f({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(!!n){var e=this,s=this.manager,u=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(d),e.capture&&d.cancelable&&d.target===u&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==u&&s.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(d),e.capture&&d.cancelable&&d.target===u&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==u&&s.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(d)};var o=this.capture,h={passive:!0},l={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,o?l:h),n.addEventListener("touchmove",this.onTouchMove,o?l:h),n.addEventListener("touchend",this.onTouchEnd,o?l:h),n.addEventListener("touchcancel",this.onTouchCancel,o?l:h),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,l),window.top.addEventListener("touchend",this.onTouchEndWindow,l),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,l)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,l),window.addEventListener("touchend",this.onTouchEndWindow,l),window.addEventListener("touchcancel",this.onTouchCancelWindow,l),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},77423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(37579)}},98035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(683),r=t(72632),n=t(30750),e=t(43531),s=t(88490),u=t(33868),i=new f({initialize:function(h,l){if(this.loader=h,this.cache=r(l,"cache",!1),this.type=r(l,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(l,"key",!1);var d=this.key;if(h.prefix&&h.prefix!==""&&(this.key=h.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var v=r(l,"url");v===void 0?v=h.path+d+"."+r(l,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=h.path+v),this.url=v,this.src="",this.xhrSettings=u(r(l,"responseType",void 0)),r(l,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(l,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?c.FILE_POPULATED:c.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(l,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===c.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=c.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(o,h){var l=o.responseURL&&this.loader.localSchemes.some(function(m){return o.responseURL.indexOf(m)===0}),d=l&&h.target.status===0,v=!(h.target&&h.target.status!==200)||d;o.readyState===4&&o.status>=400&&o.status<=599&&(v=!1),this.state=c.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=c.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=c.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=c.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==c.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var h=this.key,l=this.type;this.loader.emit(a.FILE_COMPLETE,h,l,o),this.loader.emit(a.FILE_KEY_COMPLETE+l+"-"+h,h,l,o),this.loader.flagForRemoval(this),this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(o,h,l){if(typeof URL=="function")o.src=URL.createObjectURL(h);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(h.type||l)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(h)}},i.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},p.exports=i},76846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(f){for(var c in S)f[c]=S[c]},register:function(f,c){S[f]=c},destroy:function(){S={}}};p.exports=t},30750:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:f+t.url:!1};p.exports=S},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(58403),r=t(6659),n=t(683),e=t(76846),s=t(72632),u=t(10850),i=t(91963),o=t(7599),h=t(33868),l=new f({Extends:r,initialize:function(v){r.call(this);var m=v.sys.game.config,x=v.sys.settings.loader;this.scene=v,this.systems=v.sys,this.cacheManager=v.sys.cache,this.textureManager=v.sys.textures,this.sceneManager=v.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(x,"baseURL",m.loaderBaseURL)),this.setPath(s(x,"path",m.loaderPath)),this.setPrefix(s(x,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(x,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=h(s(x,"responseType",m.loaderResponseType),s(x,"async",m.loaderAsync),s(x,"user",m.loaderUser),s(x,"password",m.loaderPassword),s(x,"timeout",m.loaderTimeout),s(x,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(x,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=s(x,"imageLoadType",m.loaderImageLoadType),this.localSchemes=s(x,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=c.LOADER_IDLE,this.multiKeyIndex=0,v.sys.events.once(o.BOOT,this.boot,this),v.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var m=d[v];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var v=d.hasCacheConflict();return v||this.list.iterate(function(m){if(m.type===d.type&&m.key===d.key)return v=!0,!1}),!v&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===d.type&&m.key===d.key)return v=!0,!1}),this.queue.iterate(function(m){if(m.type===d.type&&m.key===d.key)return v=!0,!1})),v},addPack:function(d,v){if(typeof v=="string"){var m=u(d,v);m&&(d={packKey:m})}var x=0,g=this.baseURL,y=this.path,T=this.prefix;for(var E in d)if(!!Object.prototype.hasOwnProperty.call(d,E)){var C=d[E],A=s(C,"baseURL",g),P=s(C,"path",y),F=s(C,"prefix",T),O=s(C,"files",null),I=s(C,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(A),this.setPath(P),this.setPrefix(F);for(var G=0;G<O.length;G++){var z=O[G],X=z.hasOwnProperty("type")?z.type:I;this[X]&&(this[X](z),x++)}}}return this.setBaseURL(g),this.setPath(y),this.setPrefix(T),x>0},isLoading:function(){return this.state===c.LOADER_LOADING||this.state===c.LOADER_PROCESSING},isReady:function(){return this.state===c.LOADER_IDLE||this.state===c.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=c.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===c.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===c.FILE_POPULATED||d.state===c.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,v){!this.inflight||(this.inflight.delete(d),this.updateProgress(),v?(this.totalComplete++,this.queue.set(d),this.emit(n.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(n.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===c.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===c.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=c.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,v){return this.save(JSON.stringify(d),v)},save:function(d,v,m){v===void 0&&(v="file.json"),m===void 0&&(m="application/json");var x=new Blob([d],{type:m}),g=URL.createObjectURL(x),y=document.createElement("a");return y.download=v,y.textContent="Download "+v,y.href=g,y.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,v=this.systems.settings.loader;this.setBaseURL(s(v,"baseURL",d.loaderBaseURL)),this.setPath(s(v,"path",d.loaderPath)),this.setPrefix(s(v,"prefix",d.loaderPrefix)),this.state=c.LOADER_IDLE},shutdown:function(){this.reset(),this.state=c.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=c.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});i.register("Loader",l,"load"),p.exports=l},43531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(33868),a=function(r,n){var e=r===void 0?c():f({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};p.exports=a},45176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(683),r=new f({initialize:function(e,s,u,i){var o=[];i.forEach(function(d){d&&o.push(d)}),this.loader=e,this.type=s,this.key=u;var h=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+h),this.multiKeyIndex=e.multiKeyIndex++,this.files=o,this.state=c.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var l=0;l<o.length;l++)o[l].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==c.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,n,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},88490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(43531),c=function(a,r){var n=f(r,a.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",a.src,n.async,n.user,n.password),e.responseType=a.xhrSettings.responseType,e.timeout=n.timeout,n.headers)for(var s in n.headers)e.setRequestHeader(s,n.headers[s]);return n.header&&n.headerValue&&e.setRequestHeader(n.header,n.headerValue),n.requestedWith&&e.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&e.overrideMimeType(n.overrideMimeType),n.withCredentials&&(e.withCredentials=!0),e.onload=a.onLoad.bind(a,e),e.onerror=a.onError.bind(a,e),e.onprogress=a.onProgress.bind(a),e.send(),e};p.exports=c},33868:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){return t===void 0&&(t=""),f===void 0&&(f=!0),c===void 0&&(c=""),a===void 0&&(a=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:f,user:c,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};p.exports=S},12117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},7398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},52187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},36627:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},81925:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},29774:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},20943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},74693:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},71176:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},88984:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},72753:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(70806),r=t(683),n=new f({Extends:a,initialize:function(s,u,i,o,h){a.call(this,s,u,i,o,h),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});c.register("animation",function(e,s,u,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new n(this,e[o]));else this.addFile(new n(this,e,s,i,u));return this}),p.exports=n},31648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),u=new f({Extends:s,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new e(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","json"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new e(o,h,d,m);x.linkFile?s.call(this,o,"atlasjson",h,[x,g,x.linkFile]):s.call(this,o,"atlasjson",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,h),o.addToCache(),this.complete=!0}}});c.register("aseprite",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},73152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),u=new f({Extends:s,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new e(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","json"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new e(o,h,d,m);x.linkFile?s.call(this,o,"atlasjson",h,[x,g,x.linkFile]):s.call(this,o,"atlasjson",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,h),this.complete=!0}}});c.register("atlas",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},24616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(15297),u=new f({Extends:e,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new s(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","xml"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new s(o,h,d,m);x.linkFile?e.call(this,o,"atlasxml",h,[x,g,x.linkFile]):e.call(this,o,"atlasxml",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,o.data,h),this.complete=!0}}});c.register("atlasXML",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},67448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(30929),s=t(42911),u=new f({Extends:a,initialize:function(o,h,l,d,v){if(s(h)){var m=h;h=n(m,"key"),d=n(m,"xhrSettings"),v=n(m,"context",v)}var x={type:"audio",cache:o.cacheManager.audio,extension:l.type,responseType:"arraybuffer",key:h,url:l.url,xhrSettings:d,config:{context:v}};a.call(this,o,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){i.data=o,i.onProcessComplete()},function(o){console.error("Error decoding audio: "+i.key+" - ",o?o.message:null),i.onProcessError()}),this.config.context=null}});u.create=function(i,o,h,l,d){var v=i.systems.game,m=v.config.audio,x=v.device.audio;s(o)&&(h=n(o,"url",[]),l=n(o,"config",{}));var g=u.getAudioURL(v,h);return g?x.webAudio&&!m.disableWebAudio?new u(i,o,g,d,v.sound.context):new e(i,o,g,l):(console.warn('No audio URLs for "%s" matched this device',o),null)},u.getAudioURL=function(i,o){Array.isArray(o)||(o=[o]);for(var h=0;h<o.length;h++){var l=n(o[h],"url",o[h]);if(l.indexOf("blob:")===0||l.indexOf("data:")===0)return{url:l,type:""};var d=l.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=n(o[h],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:l,type:d}}return null},r.register("audio",function(i,o,h,l){var d=this.systems.game,v=d.config.audio,m=d.device.audio;if(v.noAudio||!m.webAudio&&!m.audioData)return this;var x;if(Array.isArray(i))for(var g=0;g<i.length;g++)x=u.create(this,i[g]),x&&this.addFile(x);else x=u.create(this,i,o,h,l),x&&this.addFile(x);return this}),p.exports=u},66109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(67448),c=t(56694),a=t(76846),r=t(72632),n=t(42911),e=t(70806),s=t(45176),u=new c({Extends:s,initialize:function(o,h,l,d,v,m,x){if(n(h)){var g=h;h=r(g,"key"),l=r(g,"jsonURL"),d=r(g,"audioURL"),v=r(g,"audioConfig"),m=r(g,"audioXhrSettings"),x=r(g,"jsonXhrSettings")}var y;if(!d)y=new e(o,h,l,x),s.call(this,o,"audiosprite",h,[y]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=m;else{var T=f.create(o,h,d,v,m);T&&(y=new e(o,h,l,x),s.call(this,o,"audiosprite",h,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var h=i.data.resources,l=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),v=f.create(this.loader,i.key,h,l,d);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1];i.addToCache(),o.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,o,h,l,d,v){var m=this.systems.game,x=m.config.audio,g=m.device.audio;if(x&&x.noAudio||!g.webAudio&&!g.audioData)return this;var y;if(Array.isArray(i))for(var T=0;T<i.length;T++)y=new u(this,i[T]),y.files&&this.addFile(y.files);else y=new u(this,i,o,h,l,d,v),y.files&&this.addFile(y.files);return this})},40612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d){var v="bin";if(e(o)){var m=o;o=n(m,"key"),h=n(m,"url"),l=n(m,"xhrSettings"),v=n(m,"extension",v),d=n(m,"dataType",d)}var x={type:"binary",cache:i.cacheManager.binary,extension:v,responseType:"arraybuffer",key:o,url:h,xhrSettings:l,config:{dataType:d}};a.call(this,i,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(u,i,o,h){if(Array.isArray(u))for(var l=0;l<u.length;l++)this.addFile(new s(this,u[l]));else this.addFile(new s(this,u,i,h,o));return this}),p.exports=s},54565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(31476),u=t(15297),i=new f({Extends:e,initialize:function(h,l,d,v,m,x){var g,y;if(n(l)){var T=l;l=a(T,"key"),g=new r(h,{key:l,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new u(h,{key:l,url:a(T,"fontDataURL"),extension:a(T,"fontDataExtension","xml"),xhrSettings:a(T,"fontDataXhrSettings")})}else g=new r(h,l,d,m),y=new u(h,l,v,x);g.linkFile?e.call(this,h,"bitmapfont",l,[g,y,g.linkFile]):e.call(this,h,"bitmapfont",l,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1];o.addToCache();var l=o.cache.get(o.key),d=s(h.data,o.cache.getFrame(o.key),0,0,l);this.loader.cacheManager.bitmapFont.add(o.key,{data:d,texture:o.key,frame:null}),this.complete=!0}}});c.register("bitmapFont",function(o,h,l,d,v){var m;if(Array.isArray(o))for(var x=0;x<o.length;x++)m=new i(this,o[x]),this.addFile(m.files);else m=new i(this,o,h,l,d,v),this.addFile(m.files);return this}),p.exports=i},99898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="css";if(e(o)){var v=o;o=n(v,"key"),h=n(v,"url"),l=n(v,"xhrSettings"),d=n(v,"extension",d)}var m={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},47375:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73152),c=t(40612),a=t(56694),r=t(76846),n=t(72632),e=t(42927),s=t(42911),u=t(70806),i=t(67409),o=t(30657),h=t(80802),l=t(45176),d=t(24904),v=new a({Extends:l,initialize:function(x,g,y,T){if(y.multiAtlasURL){var E=new u(x,{key:g,url:y.multiAtlasURL,xhrSettings:T,config:y});l.call(this,x,"texture",g,[E])}else{var C=y.textureURL.substr(y.textureURL.length-3);y.type||(y.type=C.toLowerCase()==="ktx"?"KTX":"PVR");var A=new c(x,{key:g,url:y.textureURL,extension:C,xhrSettings:T,config:y});if(y.atlasURL){var P=new u(x,{key:g,url:y.atlasURL,xhrSettings:T,config:y});l.call(this,x,"texture",g,[A,P])}else l.call(this,x,"texture",g,[A])}this.config=y},onFileComplete:function(m){var x=this.files.indexOf(m);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var g=m.data.textures,y=this.config,T=this.loader,E=T.baseURL,C=T.path,A=T.prefix,P=n(y,"multiBaseURL",this.baseURL),F=n(y,"multiPath",this.path),O=n(y,"prefix",this.prefix),I=n(y,"textureXhrSettings");P&&T.setBaseURL(P),F&&T.setPath(F),O&&T.setPrefix(O);for(var G=0;G<g.length;G++){var z=g[G].image,X="CMA"+this.multiKeyIndex+"_"+z,H=new c(T,X,z,I);if(this.addToMultiFile(H),T.addFile(H),g[G].normalMap){var N=new c(T,X,g[G].normalMap,I);N.type="normalMap",H.setLink(N),this.addToMultiFile(N),T.addFile(N)}}T.setBaseURL(E),T.setPath(C),T.setPrefix(A)}}},addToCache:function(){if(this.isReadyToProcess()){var m=this.config;if(m.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,g=this.loader.textureManager,y,T=this.files[0],E=this.files[1];if(m.type==="PVR"?y=d(T.data):m.type==="KTX"&&(y=i(T.data)),y&&x.supportsCompressedTexture(m.format,y.internalFormat)){y.format=x.getCompressedTextureName(m.format,y.internalFormat);var C=E&&E.data?E.data:null;g.addCompressedTexture(T.key,y,C)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,x=this.files[0],g=[],y=[],T=[],E=this.loader.systems.renderer,C=this.loader.textureManager,A,P=1;P<this.files.length;P++){var F=this.files[P];if(F.type!=="normalMap")for(var O=F.key.indexOf("_"),I=F.key.substr(O+1),G=F.data,z=0;z<x.data.textures.length;z++){var X=x.data.textures[z];if(X.image===I){m.type==="PVR"?A=d(G):m.type==="KTX"&&(A=i(G)),A&&E.supportsCompressedTexture(m.format,A.internalFormat)&&(A.format=E.getCompressedTextureName(m.format,A.internalFormat),y.push(A),g.push(X),F.linkFile&&T.push(F.linkFile.data));break}}}T.length===0&&(T=void 0),C.addAtlasJSONArray(this.key,y,g,T),this.complete=!0}});r.register("texture",function(m,x,g){var y=this.systems.renderer,T=function(C,A,P,F){var O={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(A)){var I=A;A=n(I,"key"),P=n(I,"url"),F=n(I,"xhrSettings")}var G=!1;for(var z in P)if(y.supportsCompressedTexture(z)){var X=P[z];typeof X=="string"?O.textureURL=X:O=o(X,O),O.format=z.toUpperCase(),G=!0;break}if(!G)console.warn("No supported compressed texture format or IMG fallback",A);else if(O.format==="IMG"){var H,N;O.multiAtlasURL?(N=new h(C,A,O.multiAtlasURL,O.multiPath,O.multiBaseURL,F),H=N.files):O.atlasURL?(N=new f(C,A,O.textureURL,O.atlasURL,F),H=N.files):H=new e(C,A,O.textureURL,F),C.addFile(H)}else{var U=new v(C,A,O,F);C.addFile(U.files)}};if(Array.isArray(m))for(var E=0;E<m.length;E++)T(this,m[E]);else T(this,m,x,g);return this}),p.exports=v},46568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(31053),u=new f({Extends:a,initialize:function(o,h,l,d,v){var m="glsl";if(e(h)){var x=h;h=n(x,"key"),l=n(x,"url"),d=n(x,"shaderType","fragment"),v=n(x,"xhrSettings"),m=n(x,"extension",m)}else d===void 0&&(d="fragment");var g={type:"glsl",cache:o.cacheManager.shader,extension:m,responseType:"text",key:h,url:l,config:{shaderType:d},xhrSettings:v};a.call(this,o,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),o=this.extractBlock(i,0);if(o)for(;o;){var h=this.getShaderName(o.header),l=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),v=o.shader;if(this.cache.has(h)){var m=this.cache.get(h);l==="fragment"?m.fragmentSrc=v:m.vertexSrc=v,m.uniforms||(m.uniforms=d)}else l==="fragment"?this.cache.add(h,new s(h,v,"",d)):this.cache.add(h,new s(h,"",v,d));o=this.extractBlock(i,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var o=0;o<i.length;o++){var h=i[o].trim();if(h.substring(0,5)==="name:")return h.substring(5).trim()}return this.key},getShaderType:function(i){for(var o=0;o<i.length;o++){var h=i[o].trim();if(h.substring(0,5)==="type:")return h.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var o={},h=0;h<i.length;h++){var l=i[h].trim();if(l.substring(0,8)==="uniform."){var d=l.indexOf(":");if(d){var v=l.substring(8,d);try{o[v]=JSON.parse(l.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return o},extractBlock:function(i,o){for(var h=-1,l=-1,d=-1,v=!1,m=!1,x=[],g=[],y=o;y<i.length;y++){var T=i[y].trim();if(T==="---")if(h===-1)h=y,v=!0;else if(v)l=y,v=!1,m=!0;else{m=!1;break}else v?x.push(T):m&&(g.push(T),d=y)}return!v&&l!==-1?{header:x,shader:g.join(`
`),offset:d}:null}});r.register("glsl",function(i,o,h,l){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new u(this,i[d]));else this.addFile(new u(this,i,o,h,l));return this}),p.exports=u},30929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(683),a=t(98035),r=t(72632),n=t(30750),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){if(e(o)){var d=o;o=r(d,"key"),l=r(d,"config",l)}var v={type:"audio",cache:i.cacheManager.audio,extension:h.type,key:o,url:h.url,config:l};a.call(this,i,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var i=this.data[u];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var i=u.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<u;i++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+i).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(i=0;i<this.data.length;i++)o=this.data[i],o.src=n(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=s},77459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="html";if(e(o)){var v=o;o=n(v,"key"),h=n(v,"url"),l=n(v,"xhrSettings"),d=n(v,"extension",d)}var m={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},9755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d,v){l===void 0&&(l=512),d===void 0&&(d=512);var m="html";if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),v=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"width",l),d=n(x,"height",d)}var g={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:o,url:h,xhrSettings:v,config:{width:l,height:d}};a.call(this,i,g)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this.config.width,i=this.config.height,o=[];o.push('<svg width="'+u+'px" height="'+i+'px" viewBox="0 0 '+u+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var h=[o.join(`
`)],l=this;try{var d=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{l.state=c.FILE_ERRORED,l.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(l.data),l.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(u,i,o,h,l){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,i,o,h,l));return this}),p.exports=s},42927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(30750),u=new f({Extends:a,initialize:function i(o,h,l,d,v){var m="png",x;if(e(h)){var g=h;h=n(g,"key"),l=n(g,"url"),x=n(g,"normalMap"),d=n(g,"xhrSettings"),m=n(g,"extension",m),v=n(g,"frameConfig")}Array.isArray(l)&&(x=l[1],l=l[0]);var y={type:"image",cache:o.textureManager,extension:m,responseType:"blob",key:h,url:l,xhrSettings:d,config:v};if(a.call(this,o,y),x){var T=new i(o,this.key,x,d,v);T.type="normalMap",this.setLink(T),o.addFile(T)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=c.FILE_PROCESSING,i===c.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=c.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=c.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src}},addToCache:function(){var i=this.linkFile;i?i.state>=c.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},70806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(10850),s=t(42911),u=new f({Extends:a,initialize:function(o,h,l,d,v){var m="json";if(s(h)){var x=h;h=n(x,"key"),l=n(x,"url"),d=n(x,"xhrSettings"),m=n(x,"extension",m),v=n(x,"dataKey",v)}var g={type:"json",cache:o.cacheManager.json,extension:m,responseType:"text",key:h,url:l,xhrSettings:d,config:v};a.call(this,o,g),s(l)&&(v?this.data=e(l,v):this.data=l,this.state=c.FILE_POPULATED)},onProcess:function(){if(this.state!==c.FILE_POPULATED){this.state=c.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(h){throw this.onProcessError(),h}var o=this.config;typeof o=="string"?this.data=e(i,o,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,o,h,l){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new u(this,i[d]));else this.addFile(new u(this,i,o,l,h));return this}),p.exports=u},80802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),u=new f({Extends:s,initialize:function(o,h,l,d,v,m,x){if(n(h)){var g=h;h=a(g,"key"),a(g,"url",!1)?l=a(g,"url"):l=a(g,"atlasURL"),m=a(g,"xhrSettings"),d=a(g,"path"),v=a(g,"baseURL"),x=a(g,"textureXhrSettings")}var y=new e(o,h,l,m);s.call(this,o,"multiatlas",h,[y]),this.config.path=d,this.config.baseURL=v,this.config.textureXhrSettings=x},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var h=i.data.textures,l=this.config,d=this.loader,v=d.baseURL,m=d.path,x=d.prefix,g=a(l,"baseURL",this.baseURL),y=a(l,"path",this.path),T=a(l,"prefix",this.prefix),E=a(l,"textureXhrSettings");d.setBaseURL(g),d.setPath(y),d.setPrefix(T);for(var C=0;C<h.length;C++){var A=h[C].image,P="MA"+this.multiKeyIndex+"_"+A,F=new r(d,P,A,E);if(this.addToMultiFile(F),d.addFile(F),h[C].normalMap){var O=new r(d,P,h[C].normalMap,E);O.type="normalMap",F.setLink(O),this.addToMultiFile(O),d.addFile(O)}}d.setBaseURL(v),d.setPath(m),d.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],o=[],h=[],l=[],d=1;d<this.files.length;d++){var v=this.files[d];if(v.type!=="normalMap")for(var m=v.key.indexOf("_"),x=v.key.substr(m+1),g=v.data,y=0;y<i.data.textures.length;y++){var T=i.data.textures[y];if(T.image===x){h.push(g),o.push(T),v.linkFile&&l.push(v.linkFile.data);break}}}l.length===0&&(l=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,h,o,l),this.complete=!0}}});c.register("multiatlas",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},39034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42911),n=t(45176),e=t(55188),s=new f({Extends:n,initialize:function(i,o,h,l){var d="js",v=[];if(r(o)){var m=o;o=a(m,"key"),h=a(m,"url"),l=a(m,"xhrSettings"),d=a(m,"extension",d)}Array.isArray(h)||(h=[h]);for(var x=0;x<h.length;x++){var g=new e(i,{key:o+"_"+x.toString(),url:h[x],extension:d,xhrSettings:l});g.onProcess=function(){this.onProcessComplete()},v.push(g)}n.call(this,i,"scripts",o,v)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var i=this.files[u];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});c.register("scripts",function(u,i,o){var h;if(Array.isArray(u))for(var l=0;l<u.length;l++)h=new s(this,u[l]),this.addFile(h.files);else h=new s(this,u,i,o),this.addFile(h.files);return this}),p.exports=s},85527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42911),n=t(45176),e=t(27291),s=t(76799),u=t(86897),i=new f({Extends:n,initialize:function(h,l,d,v,m,x){var g,y,T=h.cacheManager.obj;if(r(l)){var E=l;l=a(E,"key"),g=new u(h,{key:l,type:"obj",cache:T,url:a(E,"url"),extension:a(E,"extension","obj"),xhrSettings:a(E,"xhrSettings"),config:{flipUV:a(E,"flipUV",m)}}),v=a(E,"matURL"),v&&(y=new u(h,{key:l,type:"mat",cache:T,url:v,extension:a(E,"matExtension","mat"),xhrSettings:a(E,"xhrSettings")}))}else g=new u(h,{key:l,url:d,type:"obj",cache:T,extension:"obj",xhrSettings:x,config:{flipUV:m}}),v&&(y=new u(h,{key:l,url:v,type:"mat",cache:T,extension:"mat",xhrSettings:x}));n.call(this,h,"obj",l,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],l=e(o.data,o.config.flipUV);h&&(l.materials=s(h.data)),o.cache.add(o.key,l),this.complete=!0}}});c.register("obj",function(o,h,l,d,v){var m;if(Array.isArray(o))for(var x=0;x<o.length;x++)m=new i(this,o[x]),this.addFile(m.files);else m=new i(this,o,h,l,d,v),this.addFile(m.files);return this}),p.exports=i},3616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(76846),r=t(70806),n=new f({Extends:r,initialize:function(s,u,i,o,h){r.call(this,s,u,i,o,h),this.type="packfile"},onProcess:function(){if(this.state!==c.FILE_POPULATED&&(this.state=c.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,u,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new n(this,e[o]));else this.addFile(new n(this,e,s,i,u));return this}),p.exports=n},12217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d,v){var m="js";if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),v=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"start"),d=n(x,"mapping")}var g={type:"plugin",cache:!1,extension:m,responseType:"text",key:o,url:h,xhrSettings:v,config:{start:l,mapping:d}};a.call(this,i,g),typeof h=="function"&&(this.data=h,this.state=c.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,i=this.config,o=n(i,"start",!1),h=n(i,"mapping",null);if(this.state===c.FILE_POPULATED)u.install(this.key,this.data,o,h);else{this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var l=u.install(this.key,window[this.key],o,h);(o||h)&&(this.loader.systems[h]=l,this.loader.scene[h]=l)}this.onProcessComplete()}});r.register("plugin",function(u,i,o,h,l){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,i,o,h,l));return this}),p.exports=s},4474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d){var v="svg";if(e(o)){var m=o;o=n(m,"key"),h=n(m,"url"),l=n(m,"svgConfig",{}),d=n(m,"xhrSettings"),v=n(m,"extension",v)}var x={type:"svg",cache:i.textureManager,extension:v,responseType:"text",key:o,url:h,xhrSettings:d,config:{width:n(l,"width"),height:n(l,"height"),scale:n(l,"scale")}};a.call(this,i,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this.xhrLoader.responseText,i=[u],o=this.config.width,h=this.config.height,l=this.config.scale;t:if(o&&h||l){var d=null,v=new DOMParser;d=v.parseFromString(u,"text/xml");var m=d.getElementsByTagName("svg")[0],x=m.hasAttribute("viewBox"),g=parseFloat(m.getAttribute("width")),y=parseFloat(m.getAttribute("height"));if(!x&&g&&y)m.setAttribute("viewBox","0  0 "+g+" "+y);else if(x&&!g&&!y){var T=m.getAttribute("viewBox").split(/\s+|,/);g=T[2],y=T[3]}if(l)if(g&&y)o=g*l,h=y*l;else break t;m.setAttribute("width",o.toString()+"px"),m.setAttribute("height",h.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var E=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var C=this,A=!1;this.data.onload=function(){A||a.revokeObjectURL(C.data),C.onProcessComplete()},this.data.onerror=function(){A?C.onProcessError():(A=!0,a.revokeObjectURL(C.data),C.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(u,i,o,h){if(Array.isArray(u))for(var l=0;l<u.length;l++)this.addFile(new s(this,u[l]));else this.addFile(new s(this,u,i,o,h));return this}),p.exports=s},95171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="js";if(e(o)){var v=o;o=n(v,"key"),h=n(v,"url"),l=n(v,"xhrSettings"),d=n(v,"extension",d)}var m={type:"text",extension:d,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(u)),this.complete=!0}});r.register("sceneFile",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},82458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d,v){var m="js";if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),v=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"systemKey"),d=n(x,"sceneKey")}var g={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:o,url:h,xhrSettings:v,config:{systemKey:l,sceneKey:d}};a.call(this,i,g),typeof h=="function"&&(this.data=h,this.state=c.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,i=this.config,o=this.key,h=n(i,"systemKey",o),l=n(i,"sceneKey",o);this.state===c.FILE_POPULATED?u.installScenePlugin(h,this.data,l,this.loader.scene,!0):(this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(h,window[this.key],l,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(u,i,o,h,l){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,i,o,h,l));return this}),p.exports=s},55188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l,d){var v="js";if(e(o)){var m=o;o=n(m,"key"),h=n(m,"url"),l=n(m,"type","script"),d=n(m,"xhrSettings"),v=n(m,"extension",v)}else l===void 0&&(l="script");var x={type:l,cache:!1,extension:v,responseType:"text",key:o,url:h,xhrSettings:d};a.call(this,i,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(u,i,o,h){if(Array.isArray(u))for(var l=0;l<u.length;l++)this.addFile(new s(this,u[l]));else this.addFile(new s(this,u,i,o,h));return this}),p.exports=s},33536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(76846),r=t(42927),n=new f({Extends:r,initialize:function(s,u,i,o,h){r.call(this,s,u,i,h,o),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,u,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new n(this,e[o]));else this.addFile(new n(this,e,s,u,i));return this}),p.exports=n},86897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new f({Extends:a,initialize:function(i,o,h,l){var d="text",v="txt",m=i.cacheManager.text;if(e(o)){var x=o;o=n(x,"key"),h=n(x,"url"),l=n(x,"xhrSettings"),v=n(x,"extension",v),d=n(x,"type",d),m=n(x,"cache",m)}var g={type:d,cache:m,extension:v,responseType:"text",key:o,url:h,xhrSettings:l};a.call(this,i,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(u,i,o){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.addFile(new s(this,u[h]));else this.addFile(new s(this,u,i,o));return this}),p.exports=s},58673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(93560),u=new f({Extends:a,initialize:function(o,h,l,d){var v="csv";if(e(h)){var m=h;h=n(m,"key"),l=n(m,"url"),d=n(m,"xhrSettings"),v=n(m,"extension",v)}var x={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:v,responseType:"text",key:h,url:l,xhrSettings:d};a.call(this,o,x),this.tilemapFormat=s.CSV},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},98896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(70806),r=t(93560),n=new f({Extends:a,initialize:function(s,u,i,o){a.call(this,s,u,i,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapImpact",function(e,s,u){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,u));return this}),p.exports=n},50563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(70806),r=t(93560),n=new f({Extends:a,initialize:function(s,u,i,o){a.call(this,s,u,i,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapTiledJSON",function(e,s,u){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,u));return this}),p.exports=n},82857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(76846),a=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(86897),u=new f({Extends:e,initialize:function(o,h,l,d,v,m){var x,g;if(n(h)){var y=h;h=a(y,"key"),x=new r(o,{key:h,url:a(y,"textureURL"),extension:a(y,"textureExtension","png"),normalMap:a(y,"normalMap"),xhrSettings:a(y,"textureXhrSettings")}),g=new s(o,{key:h,url:a(y,"atlasURL"),extension:a(y,"atlasExtension","txt"),xhrSettings:a(y,"atlasXhrSettings")})}else x=new r(o,h,l,v),g=new s(o,h,d,m);x.linkFile?e.call(this,o,"unityatlas",h,[x,g,x.linkFile]):e.call(this,o,"unityatlas",h,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],h=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,o.data,h),this.complete=!0}}});c.register("unityAtlas",function(i,o,h,l,d){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new u(this,i[m]),this.addFile(v.files);else v=new u(this,i,o,h,l,d),this.addFile(v.files);return this}),p.exports=u},22833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(30750),e=t(72632),s=t(42911),u=new f({Extends:a,initialize:function(o,h,l,d){if(d===void 0&&(d=!1),s(h)){var v=h;h=e(v,"key"),l=e(v,"url",[]),d=e(v,"noAudio",!1)}var m=o.systems.game.device.video.getVideoURL(l);m||console.warn("VideoFile: No supported format for "+h);var x={type:"video",cache:o.cacheManager.video,extension:m.type,key:h,url:m.url,config:{noAudio:d}};a.call(this,o,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=c.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},15297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12117),a=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(89200),u=new f({Extends:a,initialize:function(o,h,l,d){var v="xml";if(e(h)){var m=h;h=n(m,"key"),l=n(m,"url"),d=n(m,"xhrSettings"),v=n(m,"extension",v)}var x={type:"xml",cache:o.cacheManager.xml,extension:v,responseType:"text",key:h,url:l,xhrSettings:d};a.call(this,o,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,o,h){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new u(this,i[l]));else this.addFile(new u(this,i,o,h));return this}),p.exports=u},34034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12117),c=t(98611),a={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};a=c(!1,a,f),p.exports=a},26042:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=0,c=0;c<t.length;c++)f+=+t[c];return f/t.length};p.exports=S},22824:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(8034),c=function(a,r){return f(a)/f(r)/f(a-r)};p.exports=c},17489:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.floor(Math.random()*(f-t+1)+t)};p.exports=S},14976:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){var n=(a-f)*.5,e=(r-c)*.5,s=t*t,u=t*s;return(2*c-2*a+n+e)*u+(-3*c+3*a-2*n-e)*s+n*t+c};p.exports=S},89129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var a=Math.pow(c,-f);return Math.ceil(t*a)/a};p.exports=S},82897:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.max(f,Math.min(c,t))};p.exports=S},75606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a){return a*f.DEG_TO_RAD};p.exports=c},767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.abs(t-f)};p.exports=S},9849:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(16650),r=t(72283),n=new a,e=new c({initialize:function s(u,i,o,h){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h=s.DefaultOrder),this._x=u,this._y=i,this._z=o,this._order=h,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,u,i,o){return o===void 0&&(o=this._order),this._x=s,this._y=u,this._z=i,this._order=o,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,u,i){return u===void 0&&(u=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,u,i)},setFromRotationMatrix:function(s,u,i){u===void 0&&(u=this._order),i===void 0&&(i=!1);var o=s.val,h=o[0],l=o[4],d=o[8],v=o[1],m=o[5],x=o[9],g=o[2],y=o[6],T=o[10],E=0,C=0,A=0,P=.99999;switch(u){case"XYZ":{C=Math.asin(f(d,-1,1)),Math.abs(d)<P?(E=Math.atan2(-x,T),A=Math.atan2(-l,h)):E=Math.atan2(y,m);break}case"YXZ":{E=Math.asin(-f(x,-1,1)),Math.abs(x)<P?(C=Math.atan2(d,T),A=Math.atan2(v,m)):C=Math.atan2(-g,h);break}case"ZXY":{E=Math.asin(f(y,-1,1)),Math.abs(y)<P?(C=Math.atan2(-g,T),A=Math.atan2(-l,m)):A=Math.atan2(v,h);break}case"ZYX":{C=Math.asin(-f(g,-1,1)),Math.abs(g)<P?(E=Math.atan2(y,T),A=Math.atan2(v,h)):A=Math.atan2(-l,m);break}case"YZX":{A=Math.asin(f(v,-1,1)),Math.abs(v)<P?(E=Math.atan2(-x,m),C=Math.atan2(-g,h)):C=Math.atan2(d,T);break}case"XZY":{A=Math.asin(-f(l,-1,1)),Math.abs(l)<P?(E=Math.atan2(y,m),C=Math.atan2(d,h)):E=Math.atan2(-x,T);break}}return this._x=E,this._y=C,this._z=A,this._order=u,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},8034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var f=t;--t;)f*=t;return f};p.exports=S},61616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.random()*(f-t)+t};p.exports=S},60679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var a=Math.pow(c,-f);return Math.floor(t*a)/a};p.exports=S},91806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=function(a,r,n){return a=f(a,0,1),(n-r)*a+r};p.exports=c},79366:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t/f/1e3};p.exports=S},43776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},58442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},42798:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return(f-t)*c+t};p.exports=S},61072:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=0),t.clone().lerp(f,c)};p.exports=S},5341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new c(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,n=a.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(a){var r=a.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],n=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=n,a[7]=e,this},invert:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],u=a[4],i=a[5],o=a[6],h=a[7],l=a[8],d=l*u-i*h,v=-l*s+i*o,m=h*s-u*o,x=r*d+n*v+e*m;return x?(x=1/x,a[0]=d*x,a[1]=(-l*n+e*h)*x,a[2]=(i*n-e*u)*x,a[3]=v*x,a[4]=(l*r-e*o)*x,a[5]=(-i*r+e*s)*x,a[6]=m*x,a[7]=(-h*r+n*o)*x,a[8]=(u*r-n*s)*x,this):null},adjoint:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],u=a[4],i=a[5],o=a[6],h=a[7],l=a[8];return a[0]=u*l-i*h,a[1]=e*h-n*l,a[2]=n*i-e*u,a[3]=i*o-s*l,a[4]=r*l-e*o,a[5]=e*s-r*i,a[6]=s*h-u*o,a[7]=n*o-r*h,a[8]=r*u-n*s,this},determinant:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],u=a[4],i=a[5],o=a[6],h=a[7],l=a[8];return r*(l*u-i*h)+n*(-l*s+i*o)+e*(h*s-u*o)},multiply:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],u=r[3],i=r[4],o=r[5],h=r[6],l=r[7],d=r[8],v=a.val,m=v[0],x=v[1],g=v[2],y=v[3],T=v[4],E=v[5],C=v[6],A=v[7],P=v[8];return r[0]=m*n+x*u+g*h,r[1]=m*e+x*i+g*l,r[2]=m*s+x*o+g*d,r[3]=y*n+T*u+E*h,r[4]=y*e+T*i+E*l,r[5]=y*s+T*o+E*d,r[6]=C*n+A*u+P*h,r[7]=C*e+A*i+P*l,r[8]=C*s+A*o+P*d,this},translate:function(a){var r=this.val,n=a.x,e=a.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],u=r[3],i=r[4],o=r[5],h=Math.sin(a),l=Math.cos(a);return r[0]=l*n+h*u,r[1]=l*e+h*i,r[2]=l*s+h*o,r[3]=l*u-h*n,r[4]=l*i-h*e,r[5]=l*o-h*s,this},scale:function(a){var r=this.val,n=a.x,e=a.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,n=a.y,e=a.z,s=a.w,u=r+r,i=n+n,o=e+e,h=r*u,l=r*i,d=r*o,v=n*i,m=n*o,x=e*o,g=s*u,y=s*i,T=s*o,E=this.val;return E[0]=1-(v+x),E[3]=l+T,E[6]=d-y,E[1]=l-T,E[4]=1-(h+x),E[7]=m+g,E[2]=d+y,E[5]=m-g,E[8]=1-(h+v),this},normalFromMat4:function(a){var r=a.val,n=this.val,e=r[0],s=r[1],u=r[2],i=r[3],o=r[4],h=r[5],l=r[6],d=r[7],v=r[8],m=r[9],x=r[10],g=r[11],y=r[12],T=r[13],E=r[14],C=r[15],A=e*h-s*o,P=e*l-u*o,F=e*d-i*o,O=s*l-u*h,I=s*d-i*h,G=u*d-i*l,z=v*T-m*y,X=v*E-x*y,H=v*C-g*y,N=m*E-x*T,U=m*C-g*T,R=x*C-g*E,D=A*R-P*U+F*N+O*H-I*X+G*z;return D?(D=1/D,n[0]=(h*R-l*U+d*N)*D,n[1]=(l*H-o*R-d*X)*D,n[2]=(o*U-h*H+d*z)*D,n[3]=(u*U-s*R-i*N)*D,n[4]=(e*R-u*H+i*X)*D,n[5]=(s*H-e*U-i*z)*D,n[6]=(T*G-E*I+C*O)*D,n[7]=(E*F-y*G-C*P)*D,n[8]=(y*I-T*F+C*A)*D,this):null}});p.exports=c},16650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(70015),a=1e-6,r=new f({initialize:function(h){this.val=new Float32Array(16),h?this.copy(h):this.identity()},clone:function(){return new r(this)},set:function(o){return this.copy(o)},setValues:function(o,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O){var I=this.val;return I[0]=o,I[1]=h,I[2]=l,I[3]=d,I[4]=v,I[5]=m,I[6]=x,I[7]=g,I[8]=y,I[9]=T,I[10]=E,I[11]=C,I[12]=A,I[13]=P,I[14]=F,I[15]=O,this},copy:function(o){var h=o.val;return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,h,l){var d=n.fromQuat(l),v=d.val,m=h.x,x=h.y,g=h.z;return this.setValues(v[0]*m,v[1]*m,v[2]*m,0,v[4]*x,v[5]*x,v[6]*x,0,v[8]*g,v[9]*g,v[10]*g,0,o.x,o.y,o.z,1)},xyz:function(o,h,l){this.identity();var d=this.val;return d[12]=o,d[13]=h,d[14]=l,this},scaling:function(o,h,l){this.zero();var d=this.val;return d[0]=o,d[5]=h,d[10]=l,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,h=o[1],l=o[2],d=o[3],v=o[6],m=o[7],x=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=h,o[6]=o[9],o[7]=o[13],o[8]=l,o[9]=v,o[11]=o[14],o[12]=d,o[13]=m,o[14]=x,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,h=o[0],l=o[1],d=o[2],v=o[3],m=o[4],x=o[5],g=o[6],y=o[7],T=o[8],E=o[9],C=o[10],A=o[11],P=o[12],F=o[13],O=o[14],I=o[15],G=h*x-l*m,z=h*g-d*m,X=h*y-v*m,H=l*g-d*x,N=l*y-v*x,U=d*y-v*g,R=T*F-E*P,D=T*O-C*P,B=T*I-A*P,V=E*O-C*F,Y=E*I-A*F,K=C*I-A*O,$=G*K-z*Y+X*V+H*B-N*D+U*R;return $?($=1/$,this.setValues((x*K-g*Y+y*V)*$,(d*Y-l*K-v*V)*$,(F*U-O*N+I*H)*$,(C*N-E*U-A*H)*$,(g*B-m*K-y*D)*$,(h*K-d*B+v*D)*$,(O*X-P*U-I*z)*$,(T*U-C*X+A*z)*$,(m*Y-x*B+y*R)*$,(l*B-h*Y-v*R)*$,(P*N-F*X+I*G)*$,(E*X-T*N-A*G)*$,(x*D-m*V-g*R)*$,(h*V-l*D+d*R)*$,(F*z-P*H-O*G)*$,(T*H-E*z+C*G)*$)):this},adjoint:function(){var o=this.val,h=o[0],l=o[1],d=o[2],v=o[3],m=o[4],x=o[5],g=o[6],y=o[7],T=o[8],E=o[9],C=o[10],A=o[11],P=o[12],F=o[13],O=o[14],I=o[15];return this.setValues(x*(C*I-A*O)-E*(g*I-y*O)+F*(g*A-y*C),-(l*(C*I-A*O)-E*(d*I-v*O)+F*(d*A-v*C)),l*(g*I-y*O)-x*(d*I-v*O)+F*(d*y-v*g),-(l*(g*A-y*C)-x*(d*A-v*C)+E*(d*y-v*g)),-(m*(C*I-A*O)-T*(g*I-y*O)+P*(g*A-y*C)),h*(C*I-A*O)-T*(d*I-v*O)+P*(d*A-v*C),-(h*(g*I-y*O)-m*(d*I-v*O)+P*(d*y-v*g)),h*(g*A-y*C)-m*(d*A-v*C)+T*(d*y-v*g),m*(E*I-A*F)-T*(x*I-y*F)+P*(x*A-y*E),-(h*(E*I-A*F)-T*(l*I-v*F)+P*(l*A-v*E)),h*(x*I-y*F)-m*(l*I-v*F)+P*(l*y-v*x),-(h*(x*A-y*E)-m*(l*A-v*E)+T*(l*y-v*x)),-(m*(E*O-C*F)-T*(x*O-g*F)+P*(x*C-g*E)),h*(E*O-C*F)-T*(l*O-d*F)+P*(l*C-d*E),-(h*(x*O-g*F)-m*(l*O-d*F)+P*(l*g-d*x)),h*(x*C-g*E)-m*(l*C-d*E)+T*(l*g-d*x))},determinant:function(){var o=this.val,h=o[0],l=o[1],d=o[2],v=o[3],m=o[4],x=o[5],g=o[6],y=o[7],T=o[8],E=o[9],C=o[10],A=o[11],P=o[12],F=o[13],O=o[14],I=o[15],G=h*x-l*m,z=h*g-d*m,X=h*y-v*m,H=l*g-d*x,N=l*y-v*x,U=d*y-v*g,R=T*F-E*P,D=T*O-C*P,B=T*I-A*P,V=E*O-C*F,Y=E*I-A*F,K=C*I-A*O;return G*K-z*Y+X*V+H*B-N*D+U*R},multiply:function(o){var h=this.val,l=h[0],d=h[1],v=h[2],m=h[3],x=h[4],g=h[5],y=h[6],T=h[7],E=h[8],C=h[9],A=h[10],P=h[11],F=h[12],O=h[13],I=h[14],G=h[15],z=o.val,X=z[0],H=z[1],N=z[2],U=z[3];return h[0]=X*l+H*x+N*E+U*F,h[1]=X*d+H*g+N*C+U*O,h[2]=X*v+H*y+N*A+U*I,h[3]=X*m+H*T+N*P+U*G,X=z[4],H=z[5],N=z[6],U=z[7],h[4]=X*l+H*x+N*E+U*F,h[5]=X*d+H*g+N*C+U*O,h[6]=X*v+H*y+N*A+U*I,h[7]=X*m+H*T+N*P+U*G,X=z[8],H=z[9],N=z[10],U=z[11],h[8]=X*l+H*x+N*E+U*F,h[9]=X*d+H*g+N*C+U*O,h[10]=X*v+H*y+N*A+U*I,h[11]=X*m+H*T+N*P+U*G,X=z[12],H=z[13],N=z[14],U=z[15],h[12]=X*l+H*x+N*E+U*F,h[13]=X*d+H*g+N*C+U*O,h[14]=X*v+H*y+N*A+U*I,h[15]=X*m+H*T+N*P+U*G,this},multiplyLocal:function(o){var h=this.val,l=o.val;return this.setValues(h[0]*l[0]+h[1]*l[4]+h[2]*l[8]+h[3]*l[12],h[0]*l[1]+h[1]*l[5]+h[2]*l[9]+h[3]*l[13],h[0]*l[2]+h[1]*l[6]+h[2]*l[10]+h[3]*l[14],h[0]*l[3]+h[1]*l[7]+h[2]*l[11]+h[3]*l[15],h[4]*l[0]+h[5]*l[4]+h[6]*l[8]+h[7]*l[12],h[4]*l[1]+h[5]*l[5]+h[6]*l[9]+h[7]*l[13],h[4]*l[2]+h[5]*l[6]+h[6]*l[10]+h[7]*l[14],h[4]*l[3]+h[5]*l[7]+h[6]*l[11]+h[7]*l[15],h[8]*l[0]+h[9]*l[4]+h[10]*l[8]+h[11]*l[12],h[8]*l[1]+h[9]*l[5]+h[10]*l[9]+h[11]*l[13],h[8]*l[2]+h[9]*l[6]+h[10]*l[10]+h[11]*l[14],h[8]*l[3]+h[9]*l[7]+h[10]*l[11]+h[11]*l[15],h[12]*l[0]+h[13]*l[4]+h[14]*l[8]+h[15]*l[12],h[12]*l[1]+h[13]*l[5]+h[14]*l[9]+h[15]*l[13],h[12]*l[2]+h[13]*l[6]+h[14]*l[10]+h[15]*l[14],h[12]*l[3]+h[13]*l[7]+h[14]*l[11]+h[15]*l[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,h){var l=o.val,d=h.val,v=l[0],m=l[4],x=l[8],g=l[12],y=l[1],T=l[5],E=l[9],C=l[13],A=l[2],P=l[6],F=l[10],O=l[14],I=l[3],G=l[7],z=l[11],X=l[15],H=d[0],N=d[4],U=d[8],R=d[12],D=d[1],B=d[5],V=d[9],Y=d[13],K=d[2],$=d[6],J=d[10],Q=d[14],k=d[3],q=d[7],tt=d[11],_=d[15];return this.setValues(v*H+m*D+x*K+g*k,y*H+T*D+E*K+C*k,A*H+P*D+F*K+O*k,I*H+G*D+z*K+X*k,v*N+m*B+x*$+g*q,y*N+T*B+E*$+C*q,A*N+P*B+F*$+O*q,I*N+G*B+z*$+X*q,v*U+m*V+x*J+g*tt,y*U+T*V+E*J+C*tt,A*U+P*V+F*J+O*tt,I*U+G*V+z*J+X*tt,v*R+m*Y+x*Q+g*_,y*R+T*Y+E*Q+C*_,A*R+P*Y+F*Q+O*_,I*R+G*Y+z*Q+X*_)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,h,l){var d=this.val;return d[12]=d[0]*o+d[4]*h+d[8]*l+d[12],d[13]=d[1]*o+d[5]*h+d[9]*l+d[13],d[14]=d[2]*o+d[6]*h+d[10]*l+d[14],d[15]=d[3]*o+d[7]*h+d[11]*l+d[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,h,l){var d=this.val;return d[0]=d[0]*o,d[1]=d[1]*o,d[2]=d[2]*o,d[3]=d[3]*o,d[4]=d[4]*h,d[5]=d[5]*h,d[6]=d[6]*h,d[7]=d[7]*h,d[8]=d[8]*l,d[9]=d[9]*l,d[10]=d[10]*l,d[11]=d[11]*l,this},makeRotationAxis:function(o,h){var l=Math.cos(h),d=Math.sin(h),v=1-l,m=o.x,x=o.y,g=o.z,y=v*m,T=v*x;return this.setValues(y*m+l,y*x-d*g,y*g+d*x,0,y*x+d*g,T*x+l,T*g-d*m,0,y*g-d*x,T*g+d*m,v*g*g+l,0,0,0,0,1)},rotate:function(o,h){var l=this.val,d=h.x,v=h.y,m=h.z,x=Math.sqrt(d*d+v*v+m*m);if(Math.abs(x)<a)return this;x=1/x,d*=x,v*=x,m*=x;var g=Math.sin(o),y=Math.cos(o),T=1-y,E=l[0],C=l[1],A=l[2],P=l[3],F=l[4],O=l[5],I=l[6],G=l[7],z=l[8],X=l[9],H=l[10],N=l[11],U=l[12],R=l[13],D=l[14],B=l[15],V=d*d*T+y,Y=v*d*T+m*g,K=m*d*T-v*g,$=d*v*T-m*g,J=v*v*T+y,Q=m*v*T+d*g,k=d*m*T+v*g,q=v*m*T-d*g,tt=m*m*T+y;return this.setValues(E*V+F*Y+z*K,C*V+O*Y+X*K,A*V+I*Y+H*K,P*V+G*Y+N*K,E*$+F*J+z*Q,C*$+O*J+X*Q,A*$+I*J+H*Q,P*$+G*J+N*Q,E*k+F*q+z*tt,C*k+O*q+X*tt,A*k+I*q+H*tt,P*k+G*q+N*tt,U,R,D,B)},rotateX:function(o){var h=this.val,l=Math.sin(o),d=Math.cos(o),v=h[4],m=h[5],x=h[6],g=h[7],y=h[8],T=h[9],E=h[10],C=h[11];return h[4]=v*d+y*l,h[5]=m*d+T*l,h[6]=x*d+E*l,h[7]=g*d+C*l,h[8]=y*d-v*l,h[9]=T*d-m*l,h[10]=E*d-x*l,h[11]=C*d-g*l,this},rotateY:function(o){var h=this.val,l=Math.sin(o),d=Math.cos(o),v=h[0],m=h[1],x=h[2],g=h[3],y=h[8],T=h[9],E=h[10],C=h[11];return h[0]=v*d-y*l,h[1]=m*d-T*l,h[2]=x*d-E*l,h[3]=g*d-C*l,h[8]=v*l+y*d,h[9]=m*l+T*d,h[10]=x*l+E*d,h[11]=g*l+C*d,this},rotateZ:function(o){var h=this.val,l=Math.sin(o),d=Math.cos(o),v=h[0],m=h[1],x=h[2],g=h[3],y=h[4],T=h[5],E=h[6],C=h[7];return h[0]=v*d+y*l,h[1]=m*d+T*l,h[2]=x*d+E*l,h[3]=g*d+C*l,h[4]=y*d-v*l,h[5]=T*d-m*l,h[6]=E*d-x*l,h[7]=C*d-g*l,this},fromRotationTranslation:function(o,h){var l=o.x,d=o.y,v=o.z,m=o.w,x=l+l,g=d+d,y=v+v,T=l*x,E=l*g,C=l*y,A=d*g,P=d*y,F=v*y,O=m*x,I=m*g,G=m*y;return this.setValues(1-(A+F),E+G,C-I,0,E-G,1-(T+F),P+O,0,C+I,P-O,1-(T+A),0,h.x,h.y,h.z,1)},fromQuat:function(o){var h=o.x,l=o.y,d=o.z,v=o.w,m=h+h,x=l+l,g=d+d,y=h*m,T=h*x,E=h*g,C=l*x,A=l*g,P=d*g,F=v*m,O=v*x,I=v*g;return this.setValues(1-(C+P),T+I,E-O,0,T-I,1-(y+P),A+F,0,E+O,A-F,1-(y+C),0,0,0,0,1)},frustum:function(o,h,l,d,v,m){var x=1/(h-o),g=1/(d-l),y=1/(v-m);return this.setValues(v*2*x,0,0,0,0,v*2*g,0,0,(h+o)*x,(d+l)*g,(m+v)*y,-1,0,0,m*v*2*y,0)},perspective:function(o,h,l,d){var v=1/Math.tan(o/2),m=1/(l-d);return this.setValues(v/h,0,0,0,0,v,0,0,0,0,(d+l)*m,-1,0,0,2*d*l*m,0)},perspectiveLH:function(o,h,l,d){return this.setValues(2*l/o,0,0,0,0,2*l/h,0,0,0,0,-d/(l-d),1,0,0,l*d/(l-d),0)},ortho:function(o,h,l,d,v,m){var x=o-h,g=l-d,y=v-m;return x=x===0?x:1/x,g=g===0?g:1/g,y=y===0?y:1/y,this.setValues(-2*x,0,0,0,0,-2*g,0,0,0,0,2*y,0,(o+h)*x,(d+l)*g,(m+v)*y,1)},lookAtRH:function(o,h,l){var d=this.val;return i.subVectors(o,h),i.getLengthSquared()===0&&(i.z=1),i.normalize(),s.crossVectors(l,i),s.getLengthSquared()===0&&(Math.abs(l.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(l,i)),s.normalize(),u.crossVectors(i,s),d[0]=s.x,d[1]=s.y,d[2]=s.z,d[4]=u.x,d[5]=u.y,d[6]=u.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(o,h,l){var d=o.x,v=o.y,m=o.z,x=l.x,g=l.y,y=l.z,T=h.x,E=h.y,C=h.z;if(Math.abs(d-T)<a&&Math.abs(v-E)<a&&Math.abs(m-C)<a)return this.identity();var A=d-T,P=v-E,F=m-C,O=1/Math.sqrt(A*A+P*P+F*F);A*=O,P*=O,F*=O;var I=g*F-y*P,G=y*A-x*F,z=x*P-g*A;O=Math.sqrt(I*I+G*G+z*z),O?(O=1/O,I*=O,G*=O,z*=O):(I=0,G=0,z=0);var X=P*z-F*G,H=F*I-A*z,N=A*G-P*I;return O=Math.sqrt(X*X+H*H+N*N),O?(O=1/O,X*=O,H*=O,N*=O):(X=0,H=0,N=0),this.setValues(I,X,A,0,G,H,P,0,z,N,F,0,-(I*d+G*v+z*m),-(X*d+H*v+N*m),-(A*d+P*v+F*m),1)},yawPitchRoll:function(o,h,l){this.zero(),n.zero(),e.zero();var d=this.val,v=n.val,m=e.val,x=Math.sin(l),g=Math.cos(l);return d[10]=1,d[15]=1,d[0]=g,d[1]=x,d[4]=-x,d[5]=g,x=Math.sin(h),g=Math.cos(h),v[0]=1,v[15]=1,v[5]=g,v[10]=g,v[9]=-x,v[6]=x,x=Math.sin(o),g=Math.cos(o),m[5]=1,m[15]=1,m[0]=g,m[2]=-x,m[8]=x,m[10]=g,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(o,h,l,d,v){return this.yawPitchRoll(o.y,o.x,o.z),n.scaling(l.x,l.y,l.z),e.xyz(h.x,h.y,h.z),this.multiplyLocal(n),this.multiplyLocal(e),d&&this.multiplyLocal(d),v&&this.multiplyLocal(v),this},multiplyToMat4:function(o,h){var l=this.val,d=o.val,v=l[0],m=l[1],x=l[2],g=l[3],y=l[4],T=l[5],E=l[6],C=l[7],A=l[8],P=l[9],F=l[10],O=l[11],I=l[12],G=l[13],z=l[14],X=l[15],H=d[0],N=d[1],U=d[2],R=d[3],D=d[4],B=d[5],V=d[6],Y=d[7],K=d[8],$=d[9],J=d[10],Q=d[11],k=d[12],q=d[13],tt=d[14],_=d[15];return h.setValues(H*v+N*y+U*A+R*I,N*m+N*T+U*P+R*G,U*x+N*E+U*F+R*z,R*g+N*C+U*O+R*X,D*v+B*y+V*A+Y*I,D*m+B*T+V*P+Y*G,D*x+B*E+V*F+Y*z,D*g+B*C+V*O+Y*X,K*v+$*y+J*A+Q*I,K*m+$*T+J*P+Q*G,K*x+$*E+J*F+Q*z,K*g+$*C+J*O+Q*X,k*v+q*y+tt*A+_*I,k*m+q*T+tt*P+_*G,k*x+q*E+tt*F+_*z,k*g+q*C+tt*O+_*X)},fromRotationXYTranslation:function(o,h,l){var d=h.x,v=h.y,m=h.z,x=Math.sin(o.x),g=Math.cos(o.x),y=Math.sin(o.y),T=Math.cos(o.y),E=d,C=v,A=m,P=-x,F=0-P*y,O=0-g*y,I=P*T,G=g*T;return l||(E=T*d+y*m,C=F*d+g*v+I*m,A=O*d+x*v+G*m),this.setValues(T,F,O,0,0,g,x,0,y,I,G,0,E,C,A,1)},getMaxScaleOnAxis:function(){var o=this.val,h=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],l=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],d=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(h,l,d))}}),n=new r,e=new r,s=new c,u=new c,i=new c;p.exports=r},69635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.min(t+f,c)};p.exports=S},37394:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=t.length;if(f===0)return 0;t.sort(function(a,r){return a-r});var c=Math.floor(f/2);return f%2===0?(t[c]+t[c-1])/2:t[c]};p.exports=S},17259:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.max(t-f,c)};p.exports=S},61820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){c===void 0&&(c=f+1);var r=(t-f)/(c-f);return r>1?a!==void 0?(r=(a-t)/(a-c),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=S},75003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(5341),a=t(72283),r=t(70015),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),u=new r(1,0,0),i=new r(0,1,0),o=new r,h=new c,l=new f({initialize:function(v,m,x,g){this.onChangeCallback=a,this.set(v,m,x,g)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,v,m,x,g){return g===void 0&&(g=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=v||0,this._z=m||0,this._w=x||0),g&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,v=this.y,m=this.z,x=this.w;return Math.sqrt(d*d+v*v+m*m+x*x)},lengthSq:function(){var d=this.x,v=this.y,m=this.z,x=this.w;return d*d+v*v+m*m+x*x},normalize:function(){var d=this.x,v=this.y,m=this.z,x=this.w,g=d*d+v*v+m*m+x*x;return g>0&&(g=1/Math.sqrt(g),this._x=d*g,this._y=v*g,this._z=m*g,this._w=x*g),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,v){v===void 0&&(v=0);var m=this.x,x=this.y,g=this.z,y=this.w;return this.set(m+v*(d.x-m),x+v*(d.y-x),g+v*(d.z-g),y+v*(d.w-y))},rotationTo:function(d,v){var m=d.x*v.x+d.y*v.y+d.z*v.z;return m<-.999999?(o.copy(u).cross(d).length()<n&&o.copy(i).cross(d),o.normalize(),this.setAxisAngle(o,Math.PI)):m>.999999?this.set(0,0,0,1):(o.copy(d).cross(v),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+m,this.normalize())},setAxes:function(d,v,m){var x=h.val;return x[0]=v.x,x[3]=v.y,x[6]=v.z,x[1]=m.x,x[4]=m.y,x[7]=m.z,x[2]=-d.x,x[5]=-d.y,x[8]=-d.z,this.fromMat3(h).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,v){v=v*.5;var m=Math.sin(v);return this.set(m*d.x,m*d.y,m*d.z,Math.cos(v))},multiply:function(d){var v=this.x,m=this.y,x=this.z,g=this.w,y=d.x,T=d.y,E=d.z,C=d.w;return this.set(v*C+g*y+m*E-x*T,m*C+g*T+x*y-v*E,x*C+g*E+v*T-m*y,g*C-v*y-m*T-x*E)},slerp:function(d,v){var m=this.x,x=this.y,g=this.z,y=this.w,T=d.x,E=d.y,C=d.z,A=d.w,P=m*T+x*E+g*C+y*A;P<0&&(P=-P,T=-T,E=-E,C=-C,A=-A);var F=1-v,O=v;if(1-P>n){var I=Math.acos(P),G=Math.sin(I);F=Math.sin((1-v)*I)/G,O=Math.sin(v*I)/G}return this.set(F*m+O*T,F*x+O*E,F*g+O*C,F*y+O*A)},invert:function(){var d=this.x,v=this.y,m=this.z,x=this.w,g=d*d+v*v+m*m+x*x,y=g?1/g:0;return this.set(-d*y,-v*y,-m*y,x*y)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var v=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T+g*y,m*T+x*y,x*T-m*y,g*T-v*y)},rotateY:function(d){d*=.5;var v=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T-x*y,m*T+g*y,x*T+v*y,g*T-m*y)},rotateZ:function(d){d*=.5;var v=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T+m*y,m*T-v*y,x*T+g*y,g*T-x*y)},calculateW:function(){var d=this.x,v=this.y,m=this.z;return this.w=-Math.sqrt(1-d*d-v*v-m*m),this},setFromEuler:function(d,v){var m=d.x/2,x=d.y/2,g=d.z/2,y=Math.cos(m),T=Math.cos(x),E=Math.cos(g),C=Math.sin(m),A=Math.sin(x),P=Math.sin(g);switch(d.order){case"XYZ":{this.set(C*T*E+y*A*P,y*A*E-C*T*P,y*T*P+C*A*E,y*T*E-C*A*P,v);break}case"YXZ":{this.set(C*T*E+y*A*P,y*A*E-C*T*P,y*T*P-C*A*E,y*T*E+C*A*P,v);break}case"ZXY":{this.set(C*T*E-y*A*P,y*A*E+C*T*P,y*T*P+C*A*E,y*T*E-C*A*P,v);break}case"ZYX":{this.set(C*T*E-y*A*P,y*A*E+C*T*P,y*T*P-C*A*E,y*T*E+C*A*P,v);break}case"YZX":{this.set(C*T*E+y*A*P,y*A*E+C*T*P,y*T*P-C*A*E,y*T*E-C*A*P,v);break}case"XZY":{this.set(C*T*E-y*A*P,y*A*E-C*T*P,y*T*P+C*A*E,y*T*E+C*A*P,v);break}}return this},setFromRotationMatrix:function(d){var v=d.val,m=v[0],x=v[4],g=v[8],y=v[1],T=v[5],E=v[9],C=v[2],A=v[6],P=v[10],F=m+T+P,O;return F>0?(O=.5/Math.sqrt(F+1),this.set((A-E)*O,(g-C)*O,(y-x)*O,.25/O)):m>T&&m>P?(O=2*Math.sqrt(1+m-T-P),this.set(.25*O,(x+y)/O,(g+C)/O,(A-E)/O)):T>P?(O=2*Math.sqrt(1+T-m-P),this.set((x+y)/O,.25*O,(E+A)/O,(g-C)/O)):(O=2*Math.sqrt(1+P-m-T),this.set((g+C)/O,(E+A)/O,.25*O,(y-x)/O)),this},fromMat3:function(d){var v=d.val,m=v[0]+v[4]+v[8],x;if(m>0)x=Math.sqrt(m+1),this.w=.5*x,x=.5/x,this._x=(v[7]-v[5])*x,this._y=(v[2]-v[6])*x,this._z=(v[3]-v[1])*x;else{var g=0;v[4]>v[0]&&(g=1),v[8]>v[g*3+g]&&(g=2);var y=e[g],T=e[y];x=Math.sqrt(v[g*3+g]-v[y*3+y]-v[T*3+T]+1),s[g]=.5*x,x=.5/x,s[y]=(v[y*3+g]+v[g*3+y])*x,s[T]=(v[T*3+g]+v[g*3+T])*x,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(v[T*3+y]-v[y*3+T])*x}return this.onChangeCallback(this),this}});p.exports=l},23701:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a){return a*f.RAD_TO_DEG};p.exports=c},16906:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);var c=Math.random()*2*Math.PI;return t.x=Math.cos(c)*f,t.y=Math.sin(c)*f,t};p.exports=S},52417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);var c=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*f;return t.x=Math.cos(c)*r,t.y=Math.sin(c)*r,t.z=a*f,t};p.exports=S},17915:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1),t.x=(Math.random()*2-1)*f,t.y=(Math.random()*2-1)*f,t.z=(Math.random()*2-1)*f,t.w=(Math.random()*2-1)*f,t};p.exports=S},52257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x,a=t.y;return t.x=c*Math.cos(f)-a*Math.sin(f),t.y=c*Math.sin(f)+a*Math.cos(f),t};p.exports=S},2386:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=Math.cos(a),n=Math.sin(a),e=t.x-f,s=t.y-c;return t.x=e*r-s*n+f,t.y=e*n+s*r+c,t};p.exports=S},72395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){var n=a+Math.atan2(t.y-c,t.x-f);return t.x=f+r*Math.cos(n),t.y=c+r*Math.sin(n),t};p.exports=S},41061:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){return t.x=f+r*Math.cos(a),t.y=c+r*Math.sin(a),t};p.exports=S},93709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(70015),c=t(16650),a=t(75003),r=new c,n=new a,e=new f,s=function(u,i,o){return n.setAxisAngle(i,o),r.fromRotationTranslation(n,e.set(0,0,0)),u.transformMat4(r)};p.exports=s},67233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},64333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var a=Math.pow(c,-f);return Math.round(t*a)/a};p.exports=S},59533:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f===void 0&&(f=1),c===void 0&&(c=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)c-=f*a,f+=c*a,r[e]=c,n[e]=f;return{sin:n,cos:r,length:t}};p.exports=S},5514:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t<=f?0:t>=c?1:(t=(t-f)/(c-f),t*t*(3-2*t))};p.exports=S},87736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t=Math.max(0,Math.min(1,(t-f)/(c-f))),t*t*t*(t*(t*6-15)+10)};p.exports=S},55805:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e){e===void 0&&(e=new f);var s=0,u=0,i=r*n;return a>0&&a<=i&&(a>r-1?(u=Math.floor(a/r),s=a-u*r):s=a),e.set(s,u)};p.exports=c},64462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u,i,o){o===void 0&&(o=new f);var h=Math.sin(s),l=Math.cos(s),d=l*u,v=h*u,m=-h*i,x=l*i,g=1/(d*x+m*-v);return o.x=x*g*a+-m*g*r+(e*m-n*x)*g,o.y=d*g*r+-v*g*a+(-e*d+n*v)*g,o};p.exports=c},93736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(88456),a=new f({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return c(this.x,r.x,n)&&c(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),p.exports=a},70015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new c(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},crossVectors:function(a,r){var n=a.x,e=a.y,s=a.z,u=r.x,i=r.y,o=r.z;return this.x=e*o-s*i,this.y=s*u-n*o,this.z=n*i-e*u,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,n){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return r*r+n*n+e*e},length:function(){var a=this.x,r=this.y,n=this.z;return Math.sqrt(a*a+r*r+n*n)},lengthSq:function(){var a=this.x,r=this.y,n=this.z;return a*a+r*r+n*n},normalize:function(){var a=this.x,r=this.y,n=this.z,e=a*a+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=n*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,u=a.y,i=a.z;return this.x=n*i-e*u,this.y=e*s-r*i,this.z=r*u-n*s,this},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this},applyMatrix3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,u=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*u,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*u,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*u,this},transformMat3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,u=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],o=r*s[2]+n*s[6]+e*s[10]+s[14],h=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=u/h,this.y=i/h,this.z=o/h,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,u=a.y,i=a.z,o=a.w,h=o*r+u*e-i*n,l=o*n+i*r-s*e,d=o*e+s*n-u*r,v=-s*r-u*n-i*e;return this.x=h*o+v*-s+l*-i-d*-u,this.y=l*o+v*-u+d*-s-h*-i,this.z=d*o+v*-i+h*-u-l*-s,this},project:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,u=s[0],i=s[1],o=s[2],h=s[3],l=s[4],d=s[5],v=s[6],m=s[7],x=s[8],g=s[9],y=s[10],T=s[11],E=s[12],C=s[13],A=s[14],P=s[15],F=1/(r*h+n*m+e*T+P);return this.x=(r*u+n*l+e*x+E)*F,this.y=(r*i+n*d+e*g+C)*F,this.z=(r*o+n*v+e*y+A)*F,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var n=a.x,e=a.y,s=a.z,u=a.w,i=this.x-n,o=u-this.y-1-e,h=this.z;return this.x=2*i/s-1,this.y=2*o/u-1,this.z=2*h-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});c.ZERO=new c,c.RIGHT=new c(1,0,0),c.LEFT=new c(-1,0,0),c.UP=new c(0,-1,0),c.DOWN=new c(0,1,0),c.FORWARD=new c(0,0,1),c.BACK=new c(0,0,-1),c.ONE=new c(1,1,1),p.exports=c},51729:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new c(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,n,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(a*a+r*r+n*n+e*e)},lengthSq:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return a*a+r*r+n*n+e*e},normalize:function(){var a=this.x,r=this.y,n=this.z,e=this.w,s=a*a+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,u=this.w;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this.w=u+r*(a.w-u),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=this.w,u=a.val;return this.x=u[0]*r+u[4]*n+u[8]*e+u[12]*s,this.y=u[1]*r+u[5]*n+u[9]*e+u[13]*s,this.z=u[2]*r+u[6]*n+u[10]*e+u[14]*s,this.w=u[3]*r+u[7]*n+u[11]*e+u[15]*s,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,u=a.y,i=a.z,o=a.w,h=o*r+u*e-i*n,l=o*n+i*r-s*e,d=o*e+s*n-u*r,v=-s*r-u*n-i*e;return this.x=h*o+v*-s+l*-i-d*-u,this.y=l*o+v*-u+d*-s-h*-i,this.z=d*o+v*-i+h*-u-l*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});c.prototype.sub=c.prototype.subtract,c.prototype.mul=c.prototype.multiply,c.prototype.div=c.prototype.divide,c.prototype.dist=c.prototype.distance,c.prototype.distSq=c.prototype.distanceSq,c.prototype.len=c.prototype.length,c.prototype.lenSq=c.prototype.lengthSq,p.exports=c},9557:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return Math.abs(t-f)<=c};p.exports=S},1071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c-f;return f+((t-f)%a+a)%a};p.exports=S},90447:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.atan2(a-f,c-t)};p.exports=S},94240:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.atan2(f.y-t.y,f.x-t.x)};p.exports=S},84066:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return Math.atan2(f.x-t.x,f.y-t.y)};p.exports=S},9678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.atan2(c-t,a-f)};p.exports=S},76861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a){return a>Math.PI&&(a-=f.PI2),Math.abs(((a+f.TAU)%f.PI2-f.PI2)%f.PI2)};p.exports=c},37570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},87597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61616),c=function(){return f(-Math.PI,Math.PI)};p.exports=c},74493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61616),c=function(){return f(-180,180)};p.exports=c},19049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(37570),c=function(a){return f(a+Math.PI)};p.exports=c},90612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=function(a,r,n){return n===void 0&&(n=.05),a===r||(Math.abs(r-a)<=n||Math.abs(r-a)>=f.PI2-n?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=f.PI2:r-=f.PI2),r>a?a+=n:r<a&&(a-=n))),a};p.exports=c},93954:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=f-t;if(c===0)return 0;var a=Math.floor((c- -180)/360);return c-a*360};p.exports=S},35786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1071),c=function(a){return f(a,-Math.PI,Math.PI)};p.exports=c},62138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(1071),c=function(a){return f(a,-180,180)};p.exports=c},22153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},53996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t-c,n=f-a;return Math.sqrt(r*r+n*n)};p.exports=S},92951:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x-f.x,a=t.y-f.y;return Math.sqrt(c*c+a*a)};p.exports=S},12161:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.x-f.x,a=t.y-f.y;return c*c+a*a};p.exports=S},38057:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.max(Math.abs(t-c),Math.abs(f-a))};p.exports=S},33297:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(c-t,r)+Math.pow(a-f,r))};p.exports=S},90366:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return Math.abs(t-c)+Math.abs(f-a)};p.exports=S},35032:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t-c,n=f-a;return r*r+n*n};p.exports=S},10130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25265),c=t(57428),a=t(73214),r=t(71778),n=t(36468),e=t(88258),s=t(52910),u=t(67799),i=t(74083),o=t(92284),h=t(28035),l=t(8754);p.exports={Power0:s,Power1:u.Out,Power2:r.Out,Power3:i.Out,Power4:o.Out,Linear:s,Quad:u.Out,Cubic:r.Out,Quart:i.Out,Quint:o.Out,Sine:h.Out,Expo:e.Out,Circ:a.Out,Elastic:n.Out,Back:f.Out,Bounce:c.Out,Stepped:l,"Quad.easeIn":u.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":o.In,"Sine.easeIn":h.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":n.In,"Back.easeIn":f.In,"Bounce.easeIn":c.In,"Quad.easeOut":u.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":o.Out,"Sine.easeOut":h.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":n.Out,"Back.easeOut":f.Out,"Bounce.easeOut":c.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":h.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":f.InOut,"Bounce.easeInOut":c.InOut}},25860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1.70158),t*t*((f+1)*t-f)};p.exports=S},45264:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1.70158);var c=f*1.525;return(t*=2)<1?.5*(t*t*((c+1)*t-c)):.5*((t-=2)*t*((c+1)*t+c)+2)};p.exports=S},36699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1.70158),--t*t*((f+1)*t+f)+1};p.exports=S},25265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},24799:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=!1;return t<.5?(t=1-t*2,f=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,f?(1-t)*.5:t*.5+.5};p.exports=S},60819:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},57428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},7280:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},18058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},73214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},63180:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},16518:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},71778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return f<1?f=1:a=c*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c))};p.exports=S},50325:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return f<1?f=1:a=c*Math.asin(1/f)/(2*Math.PI),(t*=2)<1?-.5*(f*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)):f*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)*.5+1};p.exports=S},84074:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return f<1?f=1:a=c*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/c)+1};p.exports=S},36468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},10357:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},14894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},88258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},52910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(43927)},77471:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},83863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},44383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},67799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},55248:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},23135:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},74083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},98759:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},26670:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},92284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},66333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},37255:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},28035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1),t<=0?0:t>=1?1:((f*t|0)+1)*(1/f)};p.exports=S},8754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(52770)},17247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1e-4),Math.ceil(t-f)};p.exports=S},88456:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=1e-4),Math.abs(t-f)<c};p.exports=S},61824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f=1e-4),Math.floor(t+f)};p.exports=S},41935:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=1e-4),t>f-c};p.exports=S},54726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return c===void 0&&(c=1e-4),t<f+c};p.exports=S},52778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(83392),c=t(98611),a={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};a=c(!1,a,f),p.exports=a},63210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(22824),c=function(a,r){for(var n=0,e=a.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*a[s]*f(e,s);return n};p.exports=c},88332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14976),c=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return a[0]===a[n]?(r<0&&(s=Math.floor(e=n*(1+r))),f(e-s,a[(s-1+n)%n],a[s],a[(s+1)%n],a[(s+2)%n])):r<0?a[0]-(f(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[n]-(f(e-n,a[n],a[n],a[n-1],a[n-1])-a[n]):f(e-s,a[s?s-1:0],a[s],a[n<s+1?n:s+1],a[n<s+2?n:s+2])};p.exports=c},34631:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function f(r,n){return 3*(1-r)*r*r*n}function c(r,n){return r*r*r*n}var a=function(r,n,e,s,u){return S(r,n)+t(r,e)+f(r,s)+c(r,u)};p.exports=a},47614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(42798),c=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return r<0?f(a[0],a[1],e):r>1?f(a[n],a[n-1],n-e):f(a[s],a[s+1>n?n:s+1],e-s)};p.exports=c},16252:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var n=1-a;return n*n*r}function t(a,r){return 2*(1-a)*a*r}function f(a,r){return a*a*r}var c=function(a,r,n,e){return S(a,r)+t(a,n)+f(a,e)};p.exports=c},44521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(5514),c=function(a,r,n){return r+(n-r)*f(a,0,1)};p.exports=c},45507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(87736),c=function(a,r,n){return r+(n-r)*f(a,0,1)};p.exports=c},48528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=Math.log(t)/.6931471805599453;return 1<<Math.ceil(f)};p.exports=S},28621:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t>0&&(t&t-1)===0&&f>0&&(f&f-1)===0};p.exports=S},2018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},73773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,n=this.n;a=a.toString();for(var e=0;e<a.length;e++)n+=a.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var n=a[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*a.length+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=a[e];a[e]=a[n],a[n]=s}return a}});p.exports=c},82127:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return c===void 0&&(c=0),f===0?t:(t-=c,t=f*Math.ceil(t/f),a?(c+t)/f:c+t)};p.exports=S},84314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return c===void 0&&(c=0),f===0?t:(t-=c,t=f*Math.floor(t/f),a?(c+t)/f:c+t)};p.exports=S},88462:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){return c===void 0&&(c=0),f===0?t:(t-=c,t=f*Math.round(t/f),a?(c+t)/f:c+t)};p.exports=S},23679:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var f=t(86459),c=t(98611),a={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};a.Sound=t(56751),a=c(!1,a,f),p.exports=a,t.g.Phaser=a},62832:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(7864),a=t(1539),r=new f({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Collision,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,s,u,i,o){a.call(this,e,s,u,i,o),this.body=null}});p.exports=r},66150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(75606),a=t(53996),r=t(35032),n=t(99523),e=t(72632),s=t(30657),u=t(2732),i=t(15147),o=t(91963),h=t(7599),l=t(93736),d=t(85233),v=new f({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,x.sys.events.once(h.BOOT,this.boot,this),x.sys.events.on(h.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new n(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(h.UPDATE,this.world.update,this.world),m.on(h.POST_UPDATE,this.world.postUpdate,this.world),m.once(h.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(h.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(h.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,x=this.systems.settings.physics,g=s(e(x,"arcade",{}),e(m,"arcade",{}));return g},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,x,g,y,T){return g===void 0&&(g=null),y===void 0&&(y=null),T===void 0&&(T=g),this.world.collideObjects(m,x,g,y,T,!0)},collide:function(m,x,g,y,T){return g===void 0&&(g=null),y===void 0&&(y=null),T===void 0&&(T=g),this.world.collideObjects(m,x,g,y,T,!1)},collideTiles:function(m,x,g,y,T){return this.world.collideTiles(m,x,g,y,T)},overlapTiles:function(m,x,g,y,T){return this.world.overlapTiles(m,x,g,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,x,g,y,T,E){y===void 0&&(y=60);var C=Math.atan2(g-m.y,x-m.x);return m.body.acceleration.setToPolar(C,y),T!==void 0&&E!==void 0&&m.body.maxVelocity.set(T,E),C},accelerateToObject:function(m,x,g,y,T){return this.accelerateTo(m,x.x,x.y,g,y,T)},closest:function(m,x){x||(x=this.world.bodies.entries);for(var g=Number.MAX_VALUE,y=null,T=m.x,E=m.y,C=x.length,A=0;A<C;A++){var P=x[A],F=P.body||P;if(!(m===P||m===F||m===F.gameObject||m===F.center)){var O=r(T,E,F.center.x,F.center.y);O<g&&(y=P,g=O)}}return y},furthest:function(m,x){x||(x=this.world.bodies.entries);for(var g=-1,y=null,T=m.x,E=m.y,C=x.length,A=0;A<C;A++){var P=x[A],F=P.body||P;if(!(m===P||m===F||m===F.gameObject||m===F.center)){var O=r(T,E,F.center.x,F.center.y);O>g&&(y=P,g=O)}}return y},moveTo:function(m,x,g,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var E=Math.atan2(g-m.y,x-m.x);return T>0&&(y=a(m.x,m.y,x,g)/(T/1e3)),m.body.velocity.setToPolar(E,y),E},moveToObject:function(m,x,g,y){return this.moveTo(m,x.x,x.y,g,y)},velocityFromAngle:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new l),g.setToPolar(c(m),x)},velocityFromRotation:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new l),g.setToPolar(m,x)},overlapRect:function(m,x,g,y,T,E){return i(this.world,m,x,g,y,T,E)},overlapCirc:function(m,x,g,y,T){return u(this.world,m,x,g,y,T)},shutdown:function(){if(!!this.world){var m=this.systems.events;m.off(h.UPDATE,this.world.update,this.world),m.off(h.POST_UPDATE,this.world.postUpdate,this.world),m.off(h.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",v,"arcadePhysics"),p.exports=v},25084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(7864),a=t(13747),r=new f({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Collision,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,s,u,i,o){a.call(this,e,s,u,i,o),this.body=null}});p.exports=r},97602:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(95239),a=t(47401),r=t(27037),n=t(23701),e=t(74118),s=t(94287),u=t(15084),i=t(93736),o=new f({Mixins:[c],initialize:function(l,d){var v=64,m=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=d!==void 0;g&&d.displayWidth&&(v=d.displayWidth,m=d.displayHeight),g||(d=x),this.world=l,this.gameObject=g?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=l.defaults.debugShowBody,this.debugShowVelocity=l.defaults.debugShowVelocity,this.debugBodyColor=l.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=v,this.height=m,this.sourceWidth=v,this.sourceHeight=m,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=l.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=u(!1),this.touching=u(!0),this.wasTouching=u(!0),this.blocked=u(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var h=this.gameObject,l=this.transform;if(h.parentContainer){var d=h.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);l.x=d.tx,l.y=d.ty,l.rotation=n(d.rotation),l.scaleX=d.scaleX,l.scaleY=d.scaleY,l.displayOriginX=h.displayOriginX,l.displayOriginY=h.displayOriginY}else l.x=h.x,l.y=h.y,l.rotation=h.angle,l.scaleX=h.scaleX,l.scaleY=h.scaleY,l.displayOriginX=h.displayOriginX,l.displayOriginY=h.displayOriginY;var v=!1;if(this.syncBounds){var m=h.getBounds(this._bounds);this.width=m.width,this.height=m.height,v=!0}else{var x=Math.abs(l.scaleX),g=Math.abs(l.scaleY);(this._sx!==x||this._sy!==g)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*g,this._sx=x,this._sy=g,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var h=this.transform;this.position.x=h.x+h.scaleX*(this.offset.x-h.displayOriginX),this.position.y=h.y+h.scaleY*(this.offset.y-h.displayOriginY),this.updateCenter()},resetFlags:function(h){h===void 0&&(h=!1);var l=this.wasTouching,d=this.touching,v=this.blocked;h?u(!0,l):(l.none=d.none,l.up=d.up,l.down=d.down,l.left=d.left,l.right=d.right),u(!0,d),u(!0,v),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(h,l){if(h&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}h&&this.update(l)},update:function(h){var l=this.prev,d=this.position,v=this.velocity;if(l.set(d.x,d.y),!this.moves){this._dx=d.x-l.x,this._dy=d.y-l.y;return}if(this.directControl){var m=this.autoFrame;v.set((d.x-m.x)/h,(d.y-m.y)/h),this.world.updateMotion(this,h),this._dx=d.x-m.x,this._dy=d.y-m.y}else this.world.updateMotion(this,h),this.newVelocity.set(v.x*h,v.y*h),d.add(this.newVelocity),this._dx=d.x-l.x,this._dy=d.y-l.y;var x=v.x,g=v.y;if(this.updateCenter(),this.angle=Math.atan2(g,x),this.speed=Math.sqrt(x*x+g*g),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var y=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,y.up,y.down,y.left,y.right)}},postUpdate:function(){var h=this.position,l=h.x-this.prevFrame.x,d=h.y-this.prevFrame.y,v=this.gameObject;if(this.moves){var m=this.deltaMax.x,x=this.deltaMax.y;m!==0&&l!==0&&(l<0&&l<-m?l=-m:l>0&&l>m&&(l=m)),x!==0&&d!==0&&(d<0&&d<-x?d=-x:d>0&&d>x&&(d=x)),v&&(v.x+=l,v.y+=d)}l<0?this.facing=a.FACING_LEFT:l>0&&(this.facing=a.FACING_RIGHT),d<0?this.facing=a.FACING_UP:d>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&v&&(v.angle+=this.deltaZ()),this._tx=l,this._ty=d,this.autoFrame.set(h.x,h.y)},setBoundsRectangle:function(h){return this.customBoundsRectangle=h||this.world.bounds,this},checkWorldBounds:function(){var h=this.position,l=this.velocity,d=this.blocked,v=this.customBoundsRectangle,m=this.world.checkCollision,x=this.worldBounce?-this.worldBounce.x:-this.bounce.x,g=this.worldBounce?-this.worldBounce.y:-this.bounce.y,y=!1;return h.x<v.x&&m.left?(h.x=v.x,l.x*=x,d.left=!0,y=!0):this.right>v.right&&m.right&&(h.x=v.right-this.width,l.x*=x,d.right=!0,y=!0),h.y<v.y&&m.up?(h.y=v.y,l.y*=g,d.up=!0,y=!0):this.bottom>v.bottom&&m.down&&(h.y=v.bottom-this.height,l.y*=g,d.down=!0,y=!0),y&&(this.blocked.none=!1,this.updateCenter()),y},setOffset:function(h,l){return l===void 0&&(l=h),this.offset.set(h,l),this},setGameObject:function(h,l){return l===void 0&&(l=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=h,h.body&&(h.body=this),this.setSize(),this.world.add(this),this.enable=l,this},setSize:function(h,l,d){d===void 0&&(d=!0);var v=this.gameObject;if(v&&(!h&&v.frame&&(h=v.frame.realWidth),!l&&v.frame&&(l=v.frame.realHeight)),this.sourceWidth=h,this.sourceHeight=l,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&v&&v.getCenter){var m=(v.width-h)/2,x=(v.height-l)/2;this.offset.set(m,x)}return this.isCircle=!1,this.radius=0,this},setCircle:function(h,l,d){return l===void 0&&(l=this.offset.x),d===void 0&&(d=this.offset.y),h>0?(this.isCircle=!0,this.radius=h,this.sourceWidth=h*2,this.sourceHeight=h*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,d),this.updateCenter()):this.isCircle=!1,this},reset:function(h,l){this.stop();var d=this.gameObject;d&&(d.setPosition(h,l),this.rotation=d.angle,this.preRotation=d.angle);var v=this.position;d&&d.getTopLeft?d.getTopLeft(v):v.set(h,l),this.prev.copy(v),this.prevFrame.copy(v),this.autoFrame.copy(v),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,l){if(!this.isCircle)return s(this,h,l);if(this.radius>0&&h>=this.left&&h<=this.right&&l>=this.top&&l<=this.bottom){var d=(this.center.x-h)*(this.center.x-h),v=(this.center.y-l)*(this.center.y-l);return d+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(h){var l=this.position,d=l.x+this.halfWidth,v=l.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor),this.isCircle?h.strokeCircle(d,v,this.width/2):(this.checkCollision.up&&h.lineBetween(l.x,l.y,l.x+this.width,l.y),this.checkCollision.right&&h.lineBetween(l.x+this.width,l.y,l.x+this.width,l.y+this.height),this.checkCollision.down&&h.lineBetween(l.x,l.y+this.height,l.x+this.width,l.y+this.height),this.checkCollision.left&&h.lineBetween(l.x,l.y,l.x,l.y+this.height))),this.debugShowVelocity&&(h.lineStyle(h.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),h.lineBetween(d,v,d+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(h){return h===void 0&&(h=!0),this.directControl=h,this},setCollideWorldBounds:function(h,l,d,v){h===void 0&&(h=!0),this.collideWorldBounds=h;var m=l!==void 0,x=d!==void 0;return(m||x)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=l),x&&(this.worldBounce.y=d)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(h,l){return this.velocity.set(h,l),h=this.velocity.x,l=this.velocity.y,this.speed=Math.sqrt(h*h+l*l),this},setVelocityX:function(h){return this.setVelocity(h,this.velocity.y)},setVelocityY:function(h){return this.setVelocity(this.velocity.x,h)},setMaxVelocity:function(h,l){return this.maxVelocity.set(h,l),this},setMaxVelocityX:function(h){return this.maxVelocity.x=h,this},setMaxVelocityY:function(h){return this.maxVelocity.y=h,this},setMaxSpeed:function(h){return this.maxSpeed=h,this},setSlideFactor:function(h,l){return this.slideFactor.set(h,l),this},setBounce:function(h,l){return this.bounce.set(h,l),this},setBounceX:function(h){return this.bounce.x=h,this},setBounceY:function(h){return this.bounce.y=h,this},setAcceleration:function(h,l){return this.acceleration.set(h,l),this},setAccelerationX:function(h){return this.acceleration.x=h,this},setAccelerationY:function(h){return this.acceleration.y=h,this},setAllowDrag:function(h){return h===void 0&&(h=!0),this.allowDrag=h,this},setAllowGravity:function(h){return h===void 0&&(h=!0),this.allowGravity=h,this},setAllowRotation:function(h){return h===void 0&&(h=!0),this.allowRotation=h,this},setDrag:function(h,l){return this.drag.set(h,l),this},setDamping:function(h){return this.useDamping=h,this},setDragX:function(h){return this.drag.x=h,this},setDragY:function(h){return this.drag.y=h,this},setGravity:function(h,l){return this.gravity.set(h,l),this},setGravityX:function(h){return this.gravity.x=h,this},setGravityY:function(h){return this.gravity.y=h,this},setFriction:function(h,l){return this.friction.set(h,l),this},setFrictionX:function(h){return this.friction.x=h,this},setFrictionY:function(h){return this.friction.y=h,this},setAngularVelocity:function(h){return this.angularVelocity=h,this},setAngularAcceleration:function(h){return this.angularAcceleration=h,this},setAngularDrag:function(h){return this.angularDrag=h,this},setMass:function(h){return this.mass=h,this},setImmovable:function(h){return h===void 0&&(h=!0),this.immovable=h,this},setEnable:function(h){return h===void 0&&(h=!0),this.enable=h,this},processX:function(h,l,d,v){this.x+=h,this.updateCenter(),l!==null&&(this.velocity.x=l*this.slideFactor.x);var m=this.blocked;d&&(m.left=!0,m.none=!1),v&&(m.right=!0,m.none=!1)},processY:function(h,l,d,v){this.y+=h,this.updateCenter(),l!==null&&(this.velocity.y=l*this.slideFactor.y);var m=this.blocked;d&&(m.up=!0,m.none=!1),v&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=o},3909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u,i,o){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=u,this.processCallback=i,this.callbackContext=o},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=c},99523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(62832),c=t(25084),a=t(97602),r=t(56694),n=t(47401),e=t(10481),s=t(66634),u=t(46346),i=new r({initialize:function(h){this.world=h,this.scene=h.scene,this.sys=h.scene.sys},collider:function(o,h,l,d,v){return this.world.addCollider(o,h,l,d,v)},overlap:function(o,h,l,d,v){return this.world.addOverlap(o,h,l,d,v)},existing:function(o,h){var l=h?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(o,l),o},staticImage:function(o,h,l,d){var v=new f(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.world.enableBody(v,n.STATIC_BODY),v},image:function(o,h,l,d){var v=new f(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.world.enableBody(v,n.DYNAMIC_BODY),v},staticSprite:function(o,h,l,d){var v=new c(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,n.STATIC_BODY),v},sprite:function(o,h,l,d){var v=new c(this.scene,o,h,l,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,n.DYNAMIC_BODY),v},staticGroup:function(o,h){return this.sys.updateList.add(new u(this.world,this.world.scene,o,h))},group:function(o,h){return this.sys.updateList.add(new e(this.world,this.world.scene,o,h))},body:function(o,h,l,d){var v=new a(this.world);return v.position.set(o,h),l&&d&&v.setSize(l,d),this.world.add(v,n.DYNAMIC_BODY),v},staticBody:function(o,h,l,d){var v=new s(this.world);return v.position.set(o,h),l&&d&&v.setSize(l,d),this.world.add(v,n.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=i},44880:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=0;if(!Array.isArray(t))f=t;else for(var c=0;c<t.length;c++)f|=t[c];return f};p.exports=S},75671:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47401),c=function(a,r,n,e){var s=0,u=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(s=a.right-r.x,s>u&&!n||a.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(s=a.x-r.width-r.x,-s>u&&!n||a.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=s,r.overlapX=s,s};p.exports=c},66185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47401),c=function(a,r,n,e){var s=0,u=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(s=a.bottom-r.y,s>u&&!n||a.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(s=a.y-r.bottom,-s>u&&!n||a.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===f.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===f.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=s,r.overlapY=s,s};p.exports=c},10481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25084),c=t(56694),a=t(95239),r=t(47401),n=t(72632),e=t(59192),s=t(42911),u=new c({Extends:e,Mixins:[a],initialize:function(o,h,l,d){if(!l&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(l))d=l,l=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(l)&&s(l[0])){var v=this;l.forEach(function(m){m.internalCreateCallback=v.createCallbackHandler,m.internalRemoveCallback=v.removeCallbackHandler,m.classType=n(m,"classType",f)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,d&&(d.classType=n(d,"classType",f)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:n(d,"collideWorldBounds",!1),setBoundsRectangle:n(d,"customBoundsRectangle",null),setAccelerationX:n(d,"accelerationX",0),setAccelerationY:n(d,"accelerationY",0),setAllowDrag:n(d,"allowDrag",!0),setAllowGravity:n(d,"allowGravity",!0),setAllowRotation:n(d,"allowRotation",!0),setDamping:n(d,"useDamping",!1),setBounceX:n(d,"bounceX",0),setBounceY:n(d,"bounceY",0),setDragX:n(d,"dragX",0),setDragY:n(d,"dragY",0),setEnable:n(d,"enable",!0),setGravityX:n(d,"gravityX",0),setGravityY:n(d,"gravityY",0),setFrictionX:n(d,"frictionX",0),setFrictionY:n(d,"frictionY",0),setMaxSpeed:n(d,"maxSpeed",-1),setMaxVelocityX:n(d,"maxVelocityX",1e4),setMaxVelocityY:n(d,"maxVelocityY",1e4),setVelocityX:n(d,"velocityX",0),setVelocityY:n(d,"velocityY",0),setAngularVelocity:n(d,"angularVelocity",0),setAngularAcceleration:n(d,"angularAcceleration",0),setAngularDrag:n(d,"angularDrag",0),setMass:n(d,"mass",1),setImmovable:n(d,"immovable",!1)},e.call(this,h,l,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var o=i.body;for(var h in this.defaults)o[h](this.defaults[h])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,o,h){h===void 0&&(h=0);for(var l=this.getChildren(),d=0;d<l.length;d++)l[d].body.velocity.set(i+d*h,o+d*h);return this},setVelocityX:function(i,o){o===void 0&&(o=0);for(var h=this.getChildren(),l=0;l<h.length;l++)h[l].body.velocity.x=i+l*o;return this},setVelocityY:function(i,o){o===void 0&&(o=0);for(var h=this.getChildren(),l=0;l<h.length;l++)h[l].body.velocity.y=i+l*o;return this}});p.exports=u},22916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,f,c,a,r,n,e,s,u,i,o,h,l,d,v,m,x=function(A,P,F){S=A,t=P;var O=S.velocity.x,I=t.velocity.x;return f=S.pushable,s=S._dx<0,u=S._dx>0,i=S._dx===0,d=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),n=I-O*S.bounce.x,c=t.pushable,o=t._dx<0,h=t._dx>0,l=t._dx===0,v=!d,e=O-I*t.bounce.x,m=Math.abs(F),g()},g=function(){return u&&d&&t.blocked.right?(S.processX(-m,n,!1,!0),1):s&&v&&t.blocked.left?(S.processX(m,n,!0),1):h&&v&&S.blocked.right?(t.processX(-m,e,!1,!0),2):o&&d&&S.blocked.left?(t.processX(m,e,!0),2):0},y=function(){var A=S.velocity.x,P=t.velocity.x,F=Math.sqrt(P*P*t.mass/S.mass)*(P>0?1:-1),O=Math.sqrt(A*A*S.mass/t.mass)*(A>0?1:-1),I=(F+O)*.5;return F-=I,O-=I,a=I+F*S.bounce.x,r=I+O*t.bounce.x,s&&v?T(0):o&&d?T(1):u&&d?T(2):h&&v?T(3):!1},T=function(A){if(f&&c)m*=.5,A===0||A===3?(S.processX(m,a),t.processX(-m,r)):(S.processX(-m,a),t.processX(m,r));else if(f&&!c)A===0||A===3?S.processX(m,n,!0):S.processX(-m,n,!1,!0);else if(!f&&c)A===0||A===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var P=m*.5;A===0?l?(S.processX(m,0,!0),t.processX(0,null,!1,!0)):h?(S.processX(P,0,!0),t.processX(-P,0,!1,!0)):(S.processX(P,t.velocity.x,!0),t.processX(-P,null,!1,!0)):A===1?i?(S.processX(0,null,!1,!0),t.processX(m,0,!0)):u?(S.processX(-P,0,!1,!0),t.processX(P,0,!0)):(S.processX(-P,null,!1,!0),t.processX(P,S.velocity.x,!0)):A===2?l?(S.processX(-m,0,!1,!0),t.processX(0,null,!0)):o?(S.processX(-P,0,!1,!0),t.processX(P,0,!0)):(S.processX(-P,t.velocity.x,!1,!0),t.processX(P,null,!0)):A===3&&(i?(S.processX(0,null,!0),t.processX(-m,0,!1,!0)):s?(S.processX(P,0,!0),t.processX(-P,0,!1,!0)):(S.processX(P,t.velocity.y,!0),t.processX(-P,null,!1,!0)))}return!0},E=function(A){A===1?t.velocity.x=0:d?t.processX(m,e,!0):t.processX(-m,e,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},C=function(A){A===2?S.velocity.x=0:v?S.processX(m,n,!0):S.processX(-m,n,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};p.exports={BlockCheck:g,Check:y,Set:x,Run:T,RunImmovableBody1:E,RunImmovableBody2:C}},67050:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,f,c,a,r,n,e,s,u,i,o,h,l,d,v,m,x=function(A,P,F){S=A,t=P;var O=S.velocity.y,I=t.velocity.y;return f=S.pushable,s=S._dy<0,u=S._dy>0,i=S._dy===0,d=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),n=I-O*S.bounce.y,c=t.pushable,o=t._dy<0,h=t._dy>0,l=t._dy===0,v=!d,e=O-I*t.bounce.y,m=Math.abs(F),g()},g=function(){return u&&d&&t.blocked.down?(S.processY(-m,n,!1,!0),1):s&&v&&t.blocked.up?(S.processY(m,n,!0),1):h&&v&&S.blocked.down?(t.processY(-m,e,!1,!0),2):o&&d&&S.blocked.up?(t.processY(m,e,!0),2):0},y=function(){var A=S.velocity.y,P=t.velocity.y,F=Math.sqrt(P*P*t.mass/S.mass)*(P>0?1:-1),O=Math.sqrt(A*A*S.mass/t.mass)*(A>0?1:-1),I=(F+O)*.5;return F-=I,O-=I,a=I+F*S.bounce.y,r=I+O*t.bounce.y,s&&v?T(0):o&&d?T(1):u&&d?T(2):h&&v?T(3):!1},T=function(A){if(f&&c)m*=.5,A===0||A===3?(S.processY(m,a),t.processY(-m,r)):(S.processY(-m,a),t.processY(m,r));else if(f&&!c)A===0||A===3?S.processY(m,n,!0):S.processY(-m,n,!1,!0);else if(!f&&c)A===0||A===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var P=m*.5;A===0?l?(S.processY(m,0,!0),t.processY(0,null,!1,!0)):h?(S.processY(P,0,!0),t.processY(-P,0,!1,!0)):(S.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)):A===1?i?(S.processY(0,null,!1,!0),t.processY(m,0,!0)):u?(S.processY(-P,0,!1,!0),t.processY(P,0,!0)):(S.processY(-P,null,!1,!0),t.processY(P,S.velocity.y,!0)):A===2?l?(S.processY(-m,0,!1,!0),t.processY(0,null,!0)):o?(S.processY(-P,0,!1,!0),t.processY(P,0,!0)):(S.processY(-P,t.velocity.y,!1,!0),t.processY(P,null,!0)):A===3&&(i?(S.processY(0,null,!0),t.processY(-m,0,!1,!0)):s?(S.processY(P,0,!0),t.processY(-P,0,!1,!0)):(S.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)))}return!0},E=function(A){A===1?t.velocity.y=0:d?t.processY(m,e,!0):t.processY(-m,e,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},C=function(A){A===2?S.velocity.y=0:v?S.processY(m,n,!0):S.processY(-m,n,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};p.exports={BlockCheck:g,Check:y,Set:x,Run:T,RunImmovableBody1:E,RunImmovableBody2:C}},61777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75671),c=t(22916),a=function(r,n,e,s,u){u===void 0&&(u=f(r,n,e,s));var i=r.immovable,o=n.immovable;if(e||u===0||i&&o||r.customSeparateX||n.customSeparateX)return u!==0||r.embedded&&n.embedded;var h=c.Set(r,n,u);return!i&&!o?h>0?!0:c.Check():(i?c.RunImmovableBody1(h):o&&c.RunImmovableBody2(h),!0)};p.exports=a},25299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66185),c=t(67050),a=function(r,n,e,s,u){u===void 0&&(u=f(r,n,e,s));var i=r.immovable,o=n.immovable;if(e||u===0||i&&o||r.customSeparateY||n.customSeparateY)return u!==0||r.embedded&&n.embedded;var h=c.Set(r,n,u);return!i&&!o?h>0?!0:c.Check():(i?c.RunImmovableBody1(h):o&&c.RunImmovableBody2(h),!0)};p.exports=a},15084:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===void 0&&(f={}),f.none=t,f.up=!1,f.down=!1,f.left=!1,f.right=!1,t||(f.up=!0,f.down=!0,f.left=!0,f.right=!0),f};p.exports=S},66634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65650),c=t(56694),a=t(95239),r=t(47401),n=t(94287),e=t(15084),s=t(93736),u=new c({Mixins:[a],initialize:function(o,h){var l=64,d=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=h!==void 0;m&&h.displayWidth&&(l=h.displayWidth,d=h.displayHeight),m||(h=v),this.world=o,this.gameObject=m?h:void 0,this.isBody=!0,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(h.x-l*h.originX,h.y-d*h.originY),this.width=l,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,o){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),o&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,o){return o===void 0&&(o=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,o),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,o,h){h===void 0&&(h=!0);var l=this.gameObject;if(l&&l.frame&&(i||(i=l.frame.realWidth),o||(o=l.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=o,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(o/2),h&&l&&l.getCenter){var d=l.displayWidth/2,v=l.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,o,h){return o===void 0&&(o=this.offset.x),h===void 0&&(h=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,h),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,o){var h=this.gameObject;i===void 0&&(i=h.x),o===void 0&&(o=h.y),this.world.staticTree.remove(this),h.setPosition(i,o),h.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,o){return this.isCircle?f(this,i,o):n(this,i,o)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var o=this.position,h=o.x+this.halfWidth,l=o.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(h,l,this.width/2):i.strokeRect(o.x,o.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=u},46346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25084),c=t(56694),a=t(95239),r=t(47401),n=t(72632),e=t(59192),s=t(42911),u=new c({Extends:e,Mixins:[a],initialize:function(o,h,l,d){!l&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:f}:s(l)?(d=l,l=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=n(d,"classType",f)):Array.isArray(l)&&s(l[0])?(d=l,l=null,d.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=n(v,"classType",f)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,h,l,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,o=0;o<i.length;o++)i[o].body.reset();return this}});p.exports=u},85233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(94240),c=t(97602),a=t(82897),r=t(56694),n=t(3909),e=t(47401),s=t(53996),u=t(92951),i=t(6659),o=t(27037),h=t(88456),l=t(41935),d=t(54726),v=t(75671),m=t(66185),x=t(44662),g=t(10850),y=t(83392),T=t(74623),E=t(25163),C=t(74118),A=t(68687),P=t(27354),F=t(61777),O=t(25299),I=t(58403),G=t(66634),z=t(28808),X=t(69360),H=t(93736),N=t(1071),U=new r({Extends:i,initialize:function(D,B){i.call(this),this.scene=D,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new T,this.gravity=new H(g(B,"gravity.x",0),g(B,"gravity.y",0)),this.bounds=new C(g(B,"x",0),g(B,"y",0),g(B,"width",D.sys.scale.width),g(B,"height",D.sys.scale.height)),this.checkCollision={up:g(B,"checkCollision.up",!0),down:g(B,"checkCollision.down",!0),left:g(B,"checkCollision.left",!0),right:g(B,"checkCollision.right",!0)},this.fps=g(B,"fps",60),this.fixedStep=g(B,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(B,"timeScale",1),this.OVERLAP_BIAS=g(B,"overlapBias",4),this.TILE_BIAS=g(B,"tileBias",16),this.forceX=g(B,"forceX",!1),this.isPaused=g(B,"isPaused",!1),this._total=0,this.drawDebug=g(B,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(B,"debugShowBody",!0),debugShowStaticBody:g(B,"debugShowStaticBody",!0),debugShowVelocity:g(B,"debugShowVelocity",!0),bodyDebugColor:g(B,"debugBodyColor",16711935),staticBodyDebugColor:g(B,"debugStaticBodyColor",255),velocityDebugColor:g(B,"debugVelocityColor",65280)},this.maxEntries=g(B,"maxEntries",16),this.useTree=g(B,"useTree",!0),this.tree=new A(this.maxEntries),this.staticTree=new A(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new X,this._tempMatrix2=new X,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(R,D){D===void 0&&(D=e.DYNAMIC_BODY),Array.isArray(R)||(R=[R]);for(var B=0;B<R.length;B++){var V=R[B];if(V.isParent)for(var Y=V.getChildren(),K=0;K<Y.length;K++){var $=Y[K];$.isParent?this.enable($,D):this.enableBody($,D)}else this.enableBody(V,D)}},enableBody:function(R,D){return D===void 0&&(D=e.DYNAMIC_BODY),R.hasTransformComponent&&(R.body||(D===e.DYNAMIC_BODY?R.body=new c(this,R):D===e.STATIC_BODY&&(R.body=new G(this,R))),this.add(R.body)),R},add:function(R){return R.physicsType===e.DYNAMIC_BODY?this.bodies.set(R):R.physicsType===e.STATIC_BODY&&(this.staticBodies.set(R),this.staticTree.insert(R)),R.enable=!0,R},disable:function(R){Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var B=R[D];if(B.isParent)for(var V=B.getChildren(),Y=0;Y<V.length;Y++){var K=V[Y];K.isParent?this.disable(K):this.disableBody(K.body)}else this.disableBody(B.body)}},disableBody:function(R){this.remove(R),R.enable=!1},remove:function(R){R.physicsType===e.DYNAMIC_BODY?(this.tree.remove(R),this.bodies.delete(R)):R.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(R),this.staticTree.remove(R))},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},setBounds:function(R,D,B,V,Y,K,$,J){return this.bounds.setTo(R,D,B,V),Y!==void 0&&this.setBoundsCollision(Y,K,$,J),this},setBoundsCollision:function(R,D,B,V){return R===void 0&&(R=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),V===void 0&&(V=!0),this.checkCollision.left=R,this.checkCollision.right=D,this.checkCollision.up=B,this.checkCollision.down=V,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(R,D,B,V,Y){B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B);var K=new n(this,!1,R,D,B,V,Y);return this.colliders.add(K),K},addOverlap:function(R,D,B,V,Y){B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B);var K=new n(this,!0,R,D,B,V,Y);return this.colliders.add(K),K},removeCollider:function(R){return this.colliders.remove(R),this},setFPS:function(R){return this.fps=R,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(R,D){if(!(this.isPaused||this.bodies.size===0)){var B,V=this._frameTime,Y=this._frameTimeMS*this.timeScale;this._elapsed+=D;var K,$=this.bodies.entries,J=this._elapsed>=Y;for(this.fixedStep||(V=D*.001,J=!0,this._elapsed=0),B=0;B<$.length;B++)K=$[B],K.enable&&K.preUpdate(J,V);if(J){this._elapsed-=Y,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load($));var Q=this.colliders.update();for(B=0;B<Q.length;B++){var k=Q[B];k.active&&k.update()}this.emit(o.WORLD_STEP,V)}for(;this._elapsed>=Y;)this._elapsed-=Y,this.step(V)}},step:function(R){var D,B,V=this.bodies.entries,Y=V.length;for(D=0;D<Y;D++)B=V[D],B.enable&&B.update(R);this.useTree&&(this.tree.clear(),this.tree.load(V));var K=this.colliders.update();for(D=0;D<K.length;D++){var $=K[D];$.active&&$.update()}this.emit(o.WORLD_STEP,R),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var R,D,B=this.bodies.entries,V=B.length,Y=this.bodies,K=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,R=0;R<V;R++)D=B[R],D.enable&&D.postUpdate();if(this.drawDebug){var $=this.debugGraphic;for($.clear(),R=0;R<V;R++)D=B[R],D.willDrawDebug()&&D.drawDebug($);for(B=K.entries,V=B.length,R=0;R<V;R++)D=B[R],D.willDrawDebug()&&D.drawDebug($)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,k=this.staticTree;for(B=J.entries,V=B.length,R=0;R<V;R++)D=B[R],D.physicsType===e.DYNAMIC_BODY?(Q.remove(D),Y.delete(D)):D.physicsType===e.STATIC_BODY&&(k.remove(D),K.delete(D)),D.world=void 0,D.gameObject=void 0;J.clear()}},updateMotion:function(R,D){R.allowRotation&&this.computeAngularVelocity(R,D),this.computeVelocity(R,D)},computeAngularVelocity:function(R,D){var B=R.angularVelocity,V=R.angularAcceleration,Y=R.angularDrag,K=R.maxAngular;V?B+=V*D:R.allowDrag&&Y&&(Y*=D,l(B-Y,0,.1)?B-=Y:d(B+Y,0,.1)?B+=Y:B=0),B=a(B,-K,K);var $=B-R.angularVelocity;R.angularVelocity+=$,R.rotation+=R.angularVelocity*D},computeVelocity:function(R,D){var B=R.velocity.x,V=R.acceleration.x,Y=R.drag.x,K=R.maxVelocity.x,$=R.velocity.y,J=R.acceleration.y,Q=R.drag.y,k=R.maxVelocity.y,q=R.speed,tt=R.maxSpeed,_=R.allowDrag,it=R.useDamping;R.allowGravity&&(B+=(this.gravity.x+R.gravity.x)*D,$+=(this.gravity.y+R.gravity.y)*D),V?B+=V*D:_&&Y&&(it?(Y=Math.pow(Y,D),B*=Y,q=Math.sqrt(B*B+$*$),h(q,0,.001)&&(B=0)):(Y*=D,l(B-Y,0,.01)?B-=Y:d(B+Y,0,.01)?B+=Y:B=0)),J?$+=J*D:_&&Q&&(it?(Q=Math.pow(Q,D),$*=Q,q=Math.sqrt(B*B+$*$),h(q,0,.001)&&($=0)):(Q*=D,l($-Q,0,.01)?$-=Q:d($+Q,0,.01)?$+=Q:$=0)),B=a(B,-K,K),$=a($,-k,k),R.velocity.set(B,$),tt>-1&&R.velocity.length()>tt&&(R.velocity.normalize().scale(tt),q=tt),R.speed=q},separate:function(R,D,B,V,Y){var K,$,J=!1,Q=!0;if(!R.enable||!D.enable||R.checkCollision.none||D.checkCollision.none||!this.intersects(R,D)||B&&B.call(V,R.gameObject,D.gameObject)===!1)return J;if(R.isCircle||D.isCircle){var k=this.separateCircle(R,D,Y);k.result?(J=!0,Q=!1):(K=k.x,$=k.y,Q=!0)}if(Q){var q=!1,tt=!1,_=this.OVERLAP_BIAS;Y?(q=F(R,D,Y,_,K),tt=O(R,D,Y,_,$)):this.forceX||Math.abs(this.gravity.y+R.gravity.y)<Math.abs(this.gravity.x+R.gravity.x)?(q=F(R,D,Y,_,K),this.intersects(R,D)&&(tt=O(R,D,Y,_,$))):(tt=O(R,D,Y,_,$),this.intersects(R,D)&&(q=F(R,D,Y,_,K))),J=q||tt}return J&&(Y?(R.onOverlap||D.onOverlap)&&this.emit(o.OVERLAP,R.gameObject,D.gameObject,R,D):(R.onCollide||D.onCollide)&&this.emit(o.COLLIDE,R.gameObject,D.gameObject,R,D)),J},separateCircle:function(R,D,B){v(R,D,!1,0),m(R,D,!1,0);var V=R.isCircle,Y=D.isCircle,K=R.center,$=D.center,J=R.immovable,Q=D.immovable,k=R.velocity,q=D.velocity,tt=0,_=!0;if(V!==Y){_=!1;var it=K.x,st=K.y,ht=R.halfWidth,ut=D.position.x,et=D.position.y,rt=D.right,nt=D.bottom;Y&&(it=$.x,st=$.y,ht=D.halfWidth,ut=R.position.x,et=R.position.y,rt=R.right,nt=R.bottom),st<et?it<ut?tt=s(it,st,ut,et)-ht:it>rt&&(tt=s(it,st,rt,et)-ht):st>nt&&(it<ut?tt=s(it,st,ut,nt)-ht:it>rt&&(tt=s(it,st,rt,nt)-ht)),tt*=-1}else tt=R.halfWidth+D.halfWidth-u(K,$);R.overlapR=tt,D.overlapR=tt;var pt=f(K,$),gt=(tt+y.EPSILON)*Math.cos(pt),Tt=(tt+y.EPSILON)*Math.sin(pt),lt={overlap:tt,result:!1,x:gt,y:Tt};if(B&&(!_||_&&tt!==0))return lt.result=!0,lt;if(!_&&tt===0||J&&Q||R.customSeparateX||D.customSeparateX)return lt.x=void 0,lt.y=void 0,lt;var ot=!R.pushable&&!D.pushable;if(_){var at=K.x-$.x,dt=K.y-$.y,ft=Math.sqrt(Math.pow(at,2)+Math.pow(dt,2)),ct=($.x-K.x)/ft||0,mt=($.y-K.y)/ft||0,Et=2*(k.x*ct+k.y*mt-q.x*ct-q.y*mt)/(R.mass+D.mass);(J||Q)&&(Et*=2),J||(k.x=k.x-Et/R.mass*ct,k.y=k.y-Et/R.mass*mt,k.multiply(R.bounce)),Q||(q.x=q.x+Et/D.mass*ct,q.y=q.y+Et/D.mass*mt,q.multiply(D.bounce)),!J&&!Q&&(gt*=.5,Tt*=.5),J||(R.x-=gt,R.y-=Tt,R.updateCenter()),Q||(D.x+=gt,D.y+=Tt,D.updateCenter()),lt.result=!0}else!J||R.pushable||ot?(R.x-=gt,R.y-=Tt,R.updateCenter()):(!Q||D.pushable||ot)&&(D.x+=gt,D.y+=Tt,D.updateCenter()),lt.x=void 0,lt.y=void 0;return lt},intersects:function(R,D){return R===D?!1:!R.isCircle&&!D.isCircle?!(R.right<=D.left||R.bottom<=D.top||R.left>=D.right||R.top>=D.bottom):R.isCircle?D.isCircle?u(R.center,D.center)<=R.halfWidth+D.halfWidth:this.circleBodyIntersects(R,D):this.circleBodyIntersects(D,R)},circleBodyIntersects:function(R,D){var B=a(R.center.x,D.left,D.right),V=a(R.center.y,D.top,D.bottom),Y=(R.center.x-B)*(R.center.x-B),K=(R.center.y-V)*(R.center.y-V);return Y+K<=R.halfWidth*R.halfWidth},overlap:function(R,D,B,V,Y){return B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B),this.collideObjects(R,D,B,V,Y,!0)},collide:function(R,D,B,V,Y){return B===void 0&&(B=null),V===void 0&&(V=null),Y===void 0&&(Y=B),this.collideObjects(R,D,B,V,Y,!1)},collideObjects:function(R,D,B,V,Y,K){var $,J;R.isParent&&(R.physicsType===void 0||D===void 0||R===D)&&(R=R.children.entries),D&&D.isParent&&D.physicsType===void 0&&(D=D.children.entries);var Q=Array.isArray(R),k=Array.isArray(D);if(this._total=0,!Q&&!k)this.collideHandler(R,D,B,V,Y,K);else if(!Q&&k)for($=0;$<D.length;$++)this.collideHandler(R,D[$],B,V,Y,K);else if(Q&&!k)if(D)for($=0;$<R.length;$++)this.collideHandler(R[$],D,B,V,Y,K);else for($=0;$<R.length;$++){var q=R[$];for(J=$+1;J<R.length;J++)$!==J&&this.collideHandler(q,R[J],B,V,Y,K)}else for($=0;$<R.length;$++)for(J=0;J<D.length;J++)this.collideHandler(R[$],D[J],B,V,Y,K);return this._total>0},collideHandler:function(R,D,B,V,Y,K){if(D===void 0&&R.isParent)return this.collideGroupVsGroup(R,R,B,V,Y,K);if(!R||!D)return!1;if(R.body||R.isBody){if(D.body||D.isBody)return this.collideSpriteVsSprite(R,D,B,V,Y,K);if(D.isParent)return this.collideSpriteVsGroup(R,D,B,V,Y,K);if(D.isTilemap)return this.collideSpriteVsTilemapLayer(R,D,B,V,Y,K)}else if(R.isParent){if(D.body||D.isBody)return this.collideSpriteVsGroup(D,R,B,V,Y,K);if(D.isParent)return this.collideGroupVsGroup(R,D,B,V,Y,K);if(D.isTilemap)return this.collideGroupVsTilemapLayer(R,D,B,V,Y,K)}else if(R.isTilemap){if(D.body||D.isBody)return this.collideSpriteVsTilemapLayer(D,R,B,V,Y,K);if(D.isParent)return this.collideGroupVsTilemapLayer(D,R,B,V,Y,K)}},canCollide:function(R,D){return R&&D&&(R.collisionMask&D.collisionCategory)!==0&&(D.collisionMask&R.collisionCategory)!==0},collideSpriteVsSprite:function(R,D,B,V,Y,K){var $=R.isBody?R:R.body,J=D.isBody?D:D.body;return this.canCollide($,J)?(this.separate($,J,V,Y,K)&&(B&&B.call(Y,R,D),this._total++),!0):!1},collideSpriteVsGroup:function(R,D,B,V,Y,K){var $=R.isBody?R:R.body;if(!(D.length===0||!$||!$.enable||$.checkCollision.none||!this.canCollide($,D))){var J,Q,k;if(this.useTree||D.physicsType===e.STATIC_BODY){var q=this.treeMinMax;q.minX=$.left,q.minY=$.top,q.maxX=$.right,q.maxY=$.bottom;var tt=D.physicsType===e.DYNAMIC_BODY?this.tree.search(q):this.staticTree.search(q);for(Q=tt.length,J=0;J<Q;J++)k=tt[J],!($===k||!k.enable||k.checkCollision.none||!D.contains(k.gameObject))&&this.separate($,k,V,Y,K)&&(B&&B.call(Y,$.gameObject,k.gameObject),this._total++)}else{var _=D.getChildren(),it=D.children.entries.indexOf(R);for(Q=_.length,J=0;J<Q;J++)k=_[J].body,!(!k||J===it||!k.enable)&&this.separate($,k,V,Y,K)&&(B&&B.call(Y,$.gameObject,k.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(R,D,B,V,Y,K){if(!this.canCollide(R,D))return!1;var $=R.getChildren();if($.length===0)return!1;for(var J=!1,Q=0;Q<$.length;Q++)($[Q].body||$[Q].isBody)&&this.collideSpriteVsTilemapLayer($[Q],D,B,V,Y,K)&&(J=!0);return J},collideTiles:function(R,D,B,V,Y){return D.length===0||R.body&&!R.body.enable||R.isBody&&!R.enable?!1:this.collideSpriteVsTilesHandler(R,D,B,V,Y,!1,!1)},overlapTiles:function(R,D,B,V,Y){return D.length===0||R.body&&!R.body.enable||R.isBody&&!R.enable?!1:this.collideSpriteVsTilesHandler(R,D,B,V,Y,!0,!1)},collideSpriteVsTilemapLayer:function(R,D,B,V,Y,K){var $=R.isBody?R:R.body;if(!$.enable||$.checkCollision.none||!this.canCollide($,D))return!1;var J=$.x,Q=$.y,k=$.width,q=$.height,tt=D.layer;if(tt.tileWidth>tt.baseTileWidth){var _=(tt.tileWidth-tt.baseTileWidth)*D.scaleX;J-=_,k+=_}if(tt.tileHeight>tt.baseTileHeight){var it=(tt.tileHeight-tt.baseTileHeight)*D.scaleY;q+=it}var st=K?null:this.tileFilterOptions,ht=x(J,Q,k,q,st,D.scene.cameras.main,D.layer);return ht.length===0?!1:this.collideSpriteVsTilesHandler(R,ht,B,V,Y,K,!0)},collideSpriteVsTilesHandler:function(R,D,B,V,Y,K,$){for(var J=R.isBody?R:R.body,Q,k={left:0,right:0,top:0,bottom:0},q,tt=!1,_=0;_<D.length;_++){Q=D[_],q=Q.tilemapLayer;var it=q.tileToWorldXY(Q.x,Q.y);k.left=it.x,k.top=it.y,Q.baseHeight!==Q.height&&(k.top-=(Q.height-Q.baseHeight)*q.scaleY),k.right=k.left+Q.width*q.scaleX,k.bottom=k.top+Q.height*q.scaleY,z(k,J)&&(!V||V.call(Y,R,Q))&&E(Q,R)&&(K||P(_,J,Q,k,q,this.TILE_BIAS,$))&&(this._total++,tt=!0,B&&B.call(Y,R,Q),K&&J.onOverlap?this.emit(o.TILE_OVERLAP,R,Q,J):J.onCollide&&this.emit(o.TILE_COLLIDE,R,Q,J))}return tt},collideGroupVsGroup:function(R,D,B,V,Y,K){if(!(R.length===0||D.length===0||!this.canCollide(R,D)))for(var $=R.getChildren(),J=0;J<$.length;J++)this.collideSpriteVsGroup($[J],D,B,V,Y,K)},wrap:function(R,D){R.body?this.wrapObject(R,D):R.getChildren?this.wrapArray(R.getChildren(),D):Array.isArray(R)?this.wrapArray(R,D):this.wrapObject(R,D)},wrapArray:function(R,D){for(var B=0;B<R.length;B++)this.wrapObject(R[B],D)},wrapObject:function(R,D){D===void 0&&(D=0),R.x=N(R.x,this.bounds.left-D,this.bounds.right+D),R.y=N(R.y,this.bounds.top-D,this.bounds.bottom+D)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=U},5321:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,f){return this.body.acceleration.set(t,f),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},29257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62122:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,f){return this.body.bounce.set(t,f),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,f,c,a){return this.body.setCollideWorldBounds(t,f,c,a),this}};p.exports=S},95239:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44880),c={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=f(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=1,this}};p.exports=c},99803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,f,c){return this.debugShowBody=t,this.debugShowVelocity=f,this.debugBodyColor=c,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},87145:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,f){return this.body.drag.set(t,f),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},96174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,f,c,a,r){return t&&this.body.reset(f,c),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,f){return t===void 0&&(t=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},51702:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,f){return this.body.friction.set(t,f),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},25578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,f){return this.body.gravity.set(t,f),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},72029:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},34566:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},2732:(p,S,t)=>{var f=t(15147),c=t(26673),a=t(22184),r=t(26535),n=function(e,s,u,i,o,h){var l=f(e,s-i,u-i,2*i,2*i,o,h);if(l.length===0)return l;for(var d=new c(s,u,i),v=new c,m=[],x=0;x<l.length;x++){var g=l[x];g.isCircle?(v.setTo(g.center.x,g.center.y,g.halfWidth),a(d,v)&&m.push(g)):r(d,g)&&m.push(g)}return m};p.exports=n},15147:p=>{var S=function(t,f,c,a,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],u=[],i=t.treeMinMax;if(i.minX=f,i.minY=c,i.maxX=f+a,i.maxY=c+r,e&&(u=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var o=t.bodies,h={position:{x:f,y:c},left:f,top:c,right:f+a,bottom:c+r,isCircle:!1},l=t.intersects;o.iterate(function(d){l(d,h)&&s.push(d)})}return u.concat(s)};p.exports=S},57527:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},77687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,f){return this.body.setOffset(t,f),this},setSize:function(t,f,c){return this.body.setSize(t,f,c),this},setBodySize:function(t,f,c){return this.body.setSize(t,f,c),this},setCircle:function(t,f,c){return this.body.setCircle(t,f,c),this}};p.exports=S},66536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,f){return this.body.setVelocity(t,f),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,f){return this.body.maxVelocity.set(t,f),this}};p.exports=S},7864:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Collision:t(95239),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},22346:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},95092:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},15775:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},74142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22825:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},10851:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},7543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},1487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},27037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47401),c=t(98611),a={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetCollidesWith:t(44880),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};a=c(!1,a,f),p.exports=a},25163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,f,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,f,t):!0};p.exports=S},98209:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f<0?(t.blocked.none=!1,t.blocked.left=!0):f>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=f,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},72792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f<0?(t.blocked.none=!1,t.blocked.up=!0):f>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=f,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},27354:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14405),c=t(52926),a=t(28808),r=function(n,e,s,u,i,o,h){var l=u.left,d=u.top,v=u.right,m=u.bottom,x=s.faceLeft||s.faceRight,g=s.faceTop||s.faceBottom;if(h||(x=!0,g=!0),!x&&!g)return!1;var y=0,T=0,E=0,C=1;if(e.deltaAbsX()>e.deltaAbsY()?E=-1:e.deltaAbsX()<e.deltaAbsY()&&(C=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&g&&(E=Math.min(Math.abs(e.position.x-v),Math.abs(e.right-l)),C=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-d))),E<C){if(x&&(y=f(e,s,l,v,o,h),y!==0&&!a(u,e)))return!0;g&&(T=c(e,s,d,m,o,h))}else{if(g&&(T=c(e,s,d,m,o,h),T!==0&&!a(u,e)))return!0;x&&(y=f(e,s,l,v,o,h))}return y!==0||T!==0};p.exports=r},14405:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98209),c=function(a,r,n,e,s,u){var i=0,o=r.faceLeft,h=r.faceRight,l=r.collideLeft,d=r.collideRight;return u||(o=!0,h=!0,l=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?h&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&l&&a.checkCollision.right&&o&&a.right>n&&(i=a.right-n,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:f(a,i)),i};p.exports=c},52926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72792),c=function(a,r,n,e,s,u){var i=0,o=r.faceTop,h=r.faceBottom,l=r.collideUp,d=r.collideDown;return u||(o=!0,h=!0,l=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?h&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&l&&a.checkCollision.down&&o&&a.bottom>n&&(i=a.bottom-n,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:f(a,i)),i};p.exports=c},28808:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return!(f.right<=t.left||f.bottom<=t.top||f.position.x>=t.right||f.position.y>=t.bottom)};p.exports=S},8413:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};p.exports=f},53954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(39977),Matter:t(45949)}},63568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(){this.boundsCenter=new c,this.centerDiff=new c},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,u=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,o=u*r.centerOfMass.y;return n.set(s/2,u/2),e.set(i-n.x,o-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+s.x+u.x,e+s.y+u.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+u.x,e+s.y+u.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n-(s.x-u.x),e+s.y+u.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+s.x+u.x,e+u.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new c(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n-(s.x-u.x),e+u.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+s.x+u.x,e-(s.y-u.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n+u.x,e-(s.y-u.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new c(n-(s.x-u.x),e-(s.y-u.y))}return!1}});p.exports=a},18171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16929);f.Body=t(84125),f.Composite=t(11299),f.World=t(72005),f.Collision=t(63454),f.Detector=t(13657),f.Pairs=t(91327),f.Pair=t(70584),f.Query=t(13390),f.Resolver=t(44272),f.Constraint=t(52838),f.Common=t(68758),f.Engine=t(45775),f.Events=t(39073),f.Sleeping=t(22806),f.Plugin=t(84474),f.Bodies=t(68516),f.Composites=t(56643),f.Axes=t(50658),f.Bounds=t(84091),f.Svg=t(92765),f.Vector=t(10438),f.Vertices=t(39745),f.World.add=f.Composite.add,f.World.remove=f.Composite.remove,f.World.addComposite=f.Composite.addComposite,f.World.addBody=f.Composite.addBody,f.World.addConstraint=f.Composite.addConstraint,f.World.clear=f.Composite.clear,p.exports=f},72653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(56694),a=t(56643),r=t(52838),n=t(92765),e=t(3860),s=t(7030),u=t(73658),i=t(84720),o=t(10998),h=t(72829),l=t(88596),d=t(39745),v=new c({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(m,x,g,y,T){var E=f.rectangle(m,x,g,y,T);return this.world.add(E),E},trapezoid:function(m,x,g,y,T,E){var C=f.trapezoid(m,x,g,y,T,E);return this.world.add(C),C},circle:function(m,x,g,y,T){var E=f.circle(m,x,g,y,T);return this.world.add(E),E},polygon:function(m,x,g,y,T){var E=f.polygon(m,x,g,y,T);return this.world.add(E),E},fromVertices:function(m,x,g,y,T,E,C){typeof g=="string"&&(g=d.fromPath(g));var A=f.fromVertices(m,x,g,y,T,E,C);return this.world.add(A),A},fromPhysicsEditor:function(m,x,g,y,T){T===void 0&&(T=!0);var E=o.parseBody(m,x,g,y);return T&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(m,x,g,y,T,E){y===void 0&&(y=1),T===void 0&&(T={}),E===void 0&&(E=!0);for(var C=g.getElementsByTagName("path"),A=[],P=0;P<C.length;P++){var F=n.pathToVertices(C[P],30);y!==1&&d.scale(F,y,y),A.push(F)}var O=f.fromVertices(m,x,A,T);return E&&this.world.add(O),O},fromJSON:function(m,x,g,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var E=h.parseBody(m,x,g,y);return E&&T&&this.world.add(E),E},imageStack:function(m,x,g,y,T,E,C,A,P){C===void 0&&(C=0),A===void 0&&(A=0),P===void 0&&(P={});var F=this.world,O=this.sys.displayList;P.addToWorld=!1;var I=a.stack(g,y,T,E,C,A,function(G,z){var X=new s(F,G,z,m,x,P);return O.add(X),X.body});return F.add(I),I},stack:function(m,x,g,y,T,E,C){var A=a.stack(m,x,g,y,T,E,C);return this.world.add(A),A},pyramid:function(m,x,g,y,T,E,C){var A=a.pyramid(m,x,g,y,T,E,C);return this.world.add(A),A},chain:function(m,x,g,y,T,E){return a.chain(m,x,g,y,T,E)},mesh:function(m,x,g,y,T){return a.mesh(m,x,g,y,T)},newtonsCradle:function(m,x,g,y,T){var E=a.newtonsCradle(m,x,g,y,T);return this.world.add(E),E},car:function(m,x,g,y,T){var E=a.car(m,x,g,y,T);return this.world.add(E),E},softBody:function(m,x,g,y,T,E,C,A,P,F){var O=a.softBody(m,x,g,y,T,E,C,A,P,F);return this.world.add(O),O},joint:function(m,x,g,y,T){return this.constraint(m,x,g,y,T)},spring:function(m,x,g,y,T){return this.constraint(m,x,g,y,T)},constraint:function(m,x,g,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=m.type==="body"?m:m.body,T.bodyB=x.type==="body"?x:x.body,isNaN(g)||(T.length=g),T.stiffness=y;var E=r.create(T);return this.world.add(E),E},worldConstraint:function(m,x,g,y){g===void 0&&(g=1),y===void 0&&(y={}),y.bodyB=m.type==="body"?m:m.body,isNaN(x)||(y.length=x),y.stiffness=g;var T=r.create(y);return this.world.add(T),T},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var x=new l(this.scene,this.world,m);return this.world.add(x.constraint),x},image:function(m,x,g,y,T){var E=new s(this.world,m,x,g,y,T);return this.sys.displayList.add(E),E},tileBody:function(m,x){return new i(this.world,m,x)},sprite:function(m,x,g,y,T){var E=new u(this.world,m,x,g,y,T);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(m,x,g){return e(this.world,m,x,g)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=v},3860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74527),c=t(72632),a=t(93736);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,u,i){u===void 0&&(u={}),i===void 0&&(i=!0);var o=s.x,h=s.y;s.body={temp:!0,position:{x:o,y:h}};var l=[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity];if(l.forEach(function(v){for(var m in v)r(v[m])?Object.defineProperty(s,m,{get:v[m].get,set:v[m].set}):Object.defineProperty(s,m,{value:v[m]})}),s.world=e,s._tempVec2=new a(o,h),u.hasOwnProperty("type")&&u.type==="body")s.setExistingBody(u,i);else{var d=c(u,"shape",null);d||(d="rectangle"),u.addToWorld=i,s.setBody(d,u)}return s};p.exports=n},7030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(74527),a=t(89980),r=t(72632),n=t(1539),e=t(58210),s=t(93736),u=new f({Extends:n,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,e],initialize:function(o,h,l,d,v,m){a.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,v),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new s(h,l);var x=r(m,"shape",null);x?this.setBody(x,m):this.setRectangle(this.width,this.height,m),this.setPosition(h,l),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=u},50583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84093),c=t(50658),a=t(68516),r=t(84125),n=t(63568),e=t(84091),s=t(56694),u=t(63454),i=t(68758),o=t(11299),h=t(56643),l=t(52838),d=t(13657),v=t(53996),m=t(72653),x=t(72632),g=t(10850),y=t(1675),T=t(80391),E=t(16929),C=t(44097),A=t(30657),P=t(70584),F=t(91327),O=t(84474),I=t(91963),G=t(13390),z=t(44272),X=t(7599),H=t(92765),N=t(10438),U=t(39745),R=t(31468);i.setDecomp(t(81084));var D=new s({initialize:function(V){this.scene=V,this.systems=V.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=o,this.collision=u,this.detector=d,this.pair=P,this.pairs=F,this.query=G,this.resolver=z,this.constraint=l,this.bodies=a,this.composites=h,this.axes=c,this.bounds=e,this.svg=H,this.vector=N,this.vertices=U,this.verts=U,this._tempVec2=N.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),z._restingThresh=g(this.config,"restingThresh",4),z._restingThreshTangent=g(this.config,"restingThreshTangent",6),z._positionDampen=g(this.config,"positionDampen",.9),z._positionWarming=g(this.config,"positionWarming",.8),z._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),V.sys.events.once(X.BOOT,this.boot,this),V.sys.events.on(X.START,this.start,this)},boot:function(){this.world=new R(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new n,this.systems.events.once(X.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new R(this.scene,this.config),this.add=new m(this.world));var B=this.systems.events;B.on(X.UPDATE,this.world.update,this.world),B.on(X.POST_UPDATE,this.world.postUpdate,this.world),B.once(X.SHUTDOWN,this.shutdown,this)},getConfig:function(){var B=this.systems.game.config.physics,V=this.systems.settings.physics,Y=A(x(V,"matter",{}),x(B,"matter",{}));return Y},enableAttractorPlugin:function(){return O.register(y),O.use(E,y),this},enableWrapPlugin:function(){return O.register(C),O.use(E,C),this},enableCollisionEventsPlugin:function(){return O.register(T),O.use(E,T),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(B,V){this.world.step(B,V)},containsPoint:function(B,V,Y){B=this.getMatterBodies(B);var K=N.create(V,Y),$=G.point(B,K);return $.length>0},intersectPoint:function(B,V,Y){Y=this.getMatterBodies(Y);var K=N.create(B,V),$=[],J=G.point(Y,K);return J.forEach(function(Q){$.indexOf(Q)===-1&&$.push(Q)}),$},intersectRect:function(B,V,Y,K,$,J){$===void 0&&($=!1),J=this.getMatterBodies(J);var Q={min:{x:B,y:V},max:{x:B+Y,y:V+K}},k=[],q=G.region(J,Q,$);return q.forEach(function(tt){k.indexOf(tt)===-1&&k.push(tt)}),k},intersectRay:function(B,V,Y,K,$,J){$===void 0&&($=1),J=this.getMatterBodies(J);for(var Q=[],k=G.ray(J,N.create(B,V),N.create(Y,K),$),q=0;q<k.length;q++)Q.push(k[q].body);return Q},intersectBody:function(B,V){V=this.getMatterBodies(V);for(var Y=[],K=G.collides(B,V),$=0;$<K.length;$++){var J=K[$];J.bodyA===B?Y.push(J.bodyB):Y.push(J.bodyA)}return Y},overlap:function(B,V,Y,K,$){Y===void 0&&(Y=null),K===void 0&&(K=null),$===void 0&&($=Y),Array.isArray(B)||(B=[B]),B=this.getMatterBodies(B),V=this.getMatterBodies(V);for(var J=!1,Q=0;Q<B.length;Q++)for(var k=B[Q],q=G.collides(k,V),tt=0;tt<q.length;tt++){var _=q[tt],it=_.bodyA.id===k.id?_.bodyB:_.bodyA;if(!K||K.call($,k,it,_)){if(J=!0,Y)Y.call($,k,it,_);else if(!K)return!0}}return J},setCollisionCategory:function(B,V){return B=this.getMatterBodies(B),B.forEach(function(Y){Y.collisionFilter.category=V}),this},setCollisionGroup:function(B,V){return B=this.getMatterBodies(B),B.forEach(function(Y){Y.collisionFilter.group=V}),this},setCollidesWith:function(B,V){B=this.getMatterBodies(B);var Y=0;if(!Array.isArray(V))Y=V;else for(var K=0;K<V.length;K++)Y|=V[K];return B.forEach(function($){$.collisionFilter.mask=Y}),this},getMatterBodies:function(B){if(!B)return this.world.getAllBodies();Array.isArray(B)||(B=[B]);for(var V=[],Y=0;Y<B.length;Y++){var K=B[Y].hasOwnProperty("body")?B[Y].body:B[Y];V.push(K)}return V},setVelocity:function(B,V,Y){B=this.getMatterBodies(B);var K=this._tempVec2;return K.x=V,K.y=Y,B.forEach(function($){r.setVelocity($,K)}),this},setVelocityX:function(B,V){B=this.getMatterBodies(B);var Y=this._tempVec2;return Y.x=V,B.forEach(function(K){Y.y=K.velocity.y,r.setVelocity(K,Y)}),this},setVelocityY:function(B,V){B=this.getMatterBodies(B);var Y=this._tempVec2;return Y.y=V,B.forEach(function(K){Y.x=K.velocity.x,r.setVelocity(K,Y)}),this},setAngularVelocity:function(B,V){return B=this.getMatterBodies(B),B.forEach(function(Y){r.setAngularVelocity(Y,V)}),this},applyForce:function(B,V){B=this.getMatterBodies(B);var Y=this._tempVec2;return B.forEach(function(K){Y.x=K.position.x,Y.y=K.position.y,r.applyForce(K,Y,V)}),this},applyForceFromPosition:function(B,V,Y,K){B=this.getMatterBodies(B);var $=this._tempVec2;return B.forEach(function(J){K===void 0&&(K=J.angle),$.x=Y*Math.cos(K),$.y=Y*Math.sin(K),r.applyForce(J,V,$)}),this},applyForceFromAngle:function(B,V,Y){B=this.getMatterBodies(B);var K=this._tempVec2;return B.forEach(function($){Y===void 0&&(Y=$.angle),K.x=V*Math.cos(Y),K.y=V*Math.sin(Y),r.applyForce($,{x:$.position.x,y:$.position.y},K)}),this},getConstraintLength:function(B){var V=B.pointA.x,Y=B.pointA.y,K=B.pointB.x,$=B.pointB.y;return B.bodyA&&(V+=B.bodyA.position.x,Y+=B.bodyA.position.y),B.bodyB&&(K+=B.bodyB.position.x,$+=B.bodyB.position.y),v(V,Y,K,$)},alignBody:function(B,V,Y,K){B=B.hasOwnProperty("body")?B.body:B;var $;switch(K){case f.TOP_LEFT:case f.LEFT_TOP:$=this.bodyBounds.getTopLeft(B,V,Y);break;case f.TOP_CENTER:$=this.bodyBounds.getTopCenter(B,V,Y);break;case f.TOP_RIGHT:case f.RIGHT_TOP:$=this.bodyBounds.getTopRight(B,V,Y);break;case f.LEFT_CENTER:$=this.bodyBounds.getLeftCenter(B,V,Y);break;case f.CENTER:$=this.bodyBounds.getCenter(B,V,Y);break;case f.RIGHT_CENTER:$=this.bodyBounds.getRightCenter(B,V,Y);break;case f.LEFT_BOTTOM:case f.BOTTOM_LEFT:$=this.bodyBounds.getBottomLeft(B,V,Y);break;case f.BOTTOM_CENTER:$=this.bodyBounds.getBottomCenter(B,V,Y);break;case f.BOTTOM_RIGHT:case f.RIGHT_BOTTOM:$=this.bodyBounds.getBottomRight(B,V,Y);break}return $&&r.setPosition(B,$),this},shutdown:function(){var B=this.systems.events;this.world&&(B.off(X.UPDATE,this.world.update,this.world),B.off(X.POST_UPDATE,this.world.postUpdate,this.world)),B.off(X.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(X.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",D,"matterPhysics"),p.exports=D},73658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(16569),c=t(56694),a=t(74527),r=t(89980),n=t(72632),e=t(58210),s=t(13747),u=t(93736),i=new c({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(h,l,d,v,m,x){r.call(this,h.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new u(l,d);var g=n(x,"shape",null);g?this.setBody(g,x):this.setRectangle(this.width,this.height,x),this.setPosition(l,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=i},84720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(56694),r=t(74527),n=t(28699),e=t(6659),s=t(72632),u=t(19256),i=t(39745),o=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(l,d,v){e.call(this),this.tile=d,this.world=l,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var m=s(v,"body",null),x=s(v,"addToWorld",!0);if(m)this.setBody(m,x);else{var g=d.getCollisionGroup(),y=s(g,"objects",[]);y.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(d.flipX||d.flipY){var T={x:d.getCenterX(),y:d.getCenterY()},E=d.flipX?-1:1,C=d.flipY?-1:1;c.scale(m,E,C,T)}},setFromTileRectangle:function(h){h===void 0&&(h={}),u(h,"isStatic")||(h.isStatic=!0),u(h,"addToWorld")||(h.addToWorld=!0);var l=this.tile.getBounds(),d=l.x+l.width/2,v=l.y+l.height/2,m=f.rectangle(d,v,l.width,l.height,h);return this.setBody(m,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),u(h,"isStatic")||(h.isStatic=!0),u(h,"addToWorld")||(h.addToWorld=!0);for(var l=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),m=this.tile.getTop(),x=this.tile.getCollisionGroup(),g=s(x,"objects",[]),y=[],T=0;T<g.length;T++){var E=g[T],C=v+E.x*l,A=m+E.y*d,P=E.width*l,F=E.height*d,O=null;if(E.rectangle)O=f.rectangle(C+P/2,A+F/2,P,F,h);else if(E.ellipse)O=f.circle(C+P/2,A+F/2,P/2,h);else if(E.polygon||E.polyline){var I=E.polygon?E.polygon:E.polyline,G=I.map(function(N){return{x:N.x*l,y:N.y*d}}),z=i.create(G),X=i.centre(z);C+=X.x,A+=X.y,O=f.fromVertices(C,A,z,h)}O&&y.push(O)}if(y.length===1)this.setBody(y[0],h.addToWorld);else if(y.length>1){var H=n(h);H.parts=y,this.setBody(c.create(H),H.addToWorld)}return this},setBody:function(h,l){return l===void 0&&(l=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,l&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=o},10998:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(68758),r=t(72632),n=t(39745),e={parseBody:function(s,u,i,o){o===void 0&&(o={});for(var h=r(i,"fixtures",[]),l=[],d=0;d<h.length;d++)for(var v=this.parseFixture(h[d]),m=0;m<v.length;m++)l.push(v[m]);var x=a.clone(i,!0);a.extend(x,o,!0),delete x.fixtures,delete x.type;var g=c.create(x);return c.setParts(g,l),c.setPosition(g,{x:s,y:u}),g},parseFixture:function(s){var u=a.extend({},!1,s);delete u.circle,delete u.vertices;var i;if(s.circle){var o=r(s.circle,"x"),h=r(s.circle,"y"),l=r(s.circle,"radius");i=[f.circle(o,h,l,u)]}else s.vertices&&(i=this.parseVertices(s.vertices,u));return i},parseVertices:function(s,u){u===void 0&&(u={});for(var i=[],o=0;o<s.length;o++)n.clockwiseSort(s[o]),i.push(c.create(a.extend({position:n.centre(s[o]),vertices:s[o]},u)));return f.flagCoincidentParts(i)}};p.exports=e},72829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a={parseBody:function(r,n,e,s){s===void 0&&(s={});var u,i=e.vertices;if(i.length===1)s.vertices=i[0],u=c.create(s),f.flagCoincidentParts(u.parts);else{for(var o=[],h=0;h<i.length;h++){var l=c.create({vertices:i[h]});o.push(l)}f.flagCoincidentParts(o),s.parts=o,u=c.create(s)}return u.label=e.label,c.setPosition(u,{x:r,y:n}),u}};p.exports=a},88596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84091),c=t(56694),a=t(11299),r=t(52838),n=t(13657),e=t(35416),s=t(33963),u=t(30657),i=t(22806),o=t(93736),h=t(39745),l=new c({initialize:function(v,m,x){x===void 0&&(x={});var g={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=r.create(u(x,g)),this.world.on(e.BEFORE_UPDATE,this.update,this),v.sys.input.on(s.POINTER_DOWN,this.onDown,this),v.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var v=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,v);for(var x=a.allBodies(this.world.localWorld),g=0;g<x.length;g++){var y=x[g];if(!y.ignorePointer&&f.contains(y.bounds,v)&&n.canCollide(y.collisionFilter,m.collisionFilter)&&this.hitTestBody(y,v))return this.world.emit(e.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(d,v){for(var m=this.constraint,x=d.parts.length,g=x>1?1:0,y=g;y<x;y++){var T=d.parts[y];if(h.contains(T.vertices,v))return m.pointA=v,m.pointB={x:v.x-d.position.x,y:v.y-d.position.y},m.bodyB=d,m.angleB=d.angle,i.set(d,!1),this.part=T,this.body=d,!0}return!1},update:function(){var d=this.pointer,v=this.body;if(!this.active||!d){v&&this.stopDrag();return}if(!d.isDown&&v){this.stopDrag();return}else if(d.isDown){if(!v&&!this.getBody(d))return;v=this.body;var m=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,m),x.pointA.x=m.x,x.pointA.y=m.y,i.set(v,!1),this.world.emit(e.DRAG,v,this)}},stopDrag:function(){var d=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});p.exports=l},31468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(56694),r=t(68758),n=t(11299),e=t(45775),s=t(6659),u=t(35416),i=t(72632),o=t(10850),h=t(84125),l=t(39073),d=t(84720),v=t(72005),m=t(10438),x=new a({Extends:s,initialize:function(y,T){s.call(this),this.scene=y,this.engine=e.create(T),this.localWorld=this.engine.world;var E=o(T,"gravity",null);E?this.setGravity(E.x,E.y,E.scale):E===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(T,"enabled",!0),this.getDelta=o(T,"getDelta",this.update60Hz);var C=i(T,"runner",{}),A=i(C,"fps",!1),P=i(C,"fps",60),F=i(C,"delta",1e3/P),O=i(C,"deltaMin",1e3/P),I=i(C,"deltaMax",1e3/(P*.5));A||(P=1e3/F),this.runner={fps:P,deltaSampleSize:i(C,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:i(C,"isFixed",!1),delta:F,deltaMin:O,deltaMax:I},this.autoUpdate=o(T,"autoUpdate",!0);var G=o(T,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:i(G,"showAxes",!1),showAngleIndicator:i(G,"showAngleIndicator",!1),angleColor:i(G,"angleColor",15208787),showBroadphase:i(G,"showBroadphase",!1),broadphaseColor:i(G,"broadphaseColor",16757760),showBounds:i(G,"showBounds",!1),boundsColor:i(G,"boundsColor",16777215),showVelocity:i(G,"showVelocity",!1),velocityColor:i(G,"velocityColor",44783),showCollisions:i(G,"showCollisions",!1),collisionColor:i(G,"collisionColor",16094476),showSeparations:i(G,"showSeparations",!1),separationColor:i(G,"separationColor",16753920),showBody:i(G,"showBody",!0),showStaticBody:i(G,"showStaticBody",!0),showInternalEdges:i(G,"showInternalEdges",!1),renderFill:i(G,"renderFill",!1),renderLine:i(G,"renderLine",!0),fillColor:i(G,"fillColor",1075465),fillOpacity:i(G,"fillOpacity",1),lineColor:i(G,"lineColor",2678297),lineOpacity:i(G,"lineOpacity",1),lineThickness:i(G,"lineThickness",1),staticFillColor:i(G,"staticFillColor",857979),staticLineColor:i(G,"staticLineColor",1255396),showSleeping:i(G,"showSleeping",!1),staticBodySleepOpacity:i(G,"staticBodySleepOpacity",.7),sleepFillColor:i(G,"sleepFillColor",4605510),sleepLineColor:i(G,"sleepLineColor",10066585),showSensors:i(G,"showSensors",!0),sensorFillColor:i(G,"sensorFillColor",857979),sensorLineColor:i(G,"sensorLineColor",1255396),showPositions:i(G,"showPositions",!0),positionSize:i(G,"positionSize",4),positionColor:i(G,"positionColor",14697178),showJoint:i(G,"showJoint",!0),jointColor:i(G,"jointColor",14737474),jointLineOpacity:i(G,"jointLineOpacity",1),jointLineThickness:i(G,"jointLineThickness",2),pinSize:i(G,"pinSize",4),pinColor:i(G,"pinColor",4382944),springColor:i(G,"springColor",14697184),anchorColor:i(G,"anchorColor",15724527),anchorSize:i(G,"anchorSize",4),showConvexHulls:i(G,"showConvexHulls",!1),hullColor:i(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(T,"setBounds",!1)){var z=T.setBounds;if(typeof z=="boolean")this.setBounds();else{var X=i(z,"x",0),H=i(z,"y",0),N=i(z,"width",y.sys.scale.width),U=i(z,"height",y.sys.scale.height),R=i(z,"thickness",64),D=i(z,"left",!0),B=i(z,"right",!0),V=i(z,"top",!0),Y=i(z,"bottom",!0);this.setBounds(X,H,N,U,R,D,B,V,Y)}}},setCompositeRenderStyle:function(g){var y=g.bodies,T=g.constraints,E=g.composites,C,A,P;for(C=0;C<y.length;C++)A=y[C],P=A.render,this.setBodyRenderStyle(A,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity);for(C=0;C<T.length;C++)A=T[C],P=A.render,this.setConstraintRenderStyle(A,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize);for(C=0;C<E.length;C++)A=E[C],this.setCompositeRenderStyle(A);return this},setBodyRenderStyle:function(g,y,T,E,C,A){var P=g.render,F=this.debugConfig;return P?(y==null&&(y=g.isStatic?F.staticLineColor:F.lineColor),T==null&&(T=F.lineOpacity),E==null&&(E=F.lineThickness),C==null&&(C=g.isStatic?F.staticFillColor:F.fillColor),A==null&&(A=F.fillOpacity),y!==!1&&(P.lineColor=y),T!==!1&&(P.lineOpacity=T),E!==!1&&(P.lineThickness=E),C!==!1&&(P.fillColor=C),A!==!1&&(P.fillOpacity=A),this):this},setConstraintRenderStyle:function(g,y,T,E,C,A,P){var F=g.render,O=this.debugConfig;if(!F)return this;if(y==null){var I=F.type;I==="line"?y=O.jointColor:I==="pin"?y=O.pinColor:I==="spring"&&(y=O.springColor)}return T==null&&(T=O.jointLineOpacity),E==null&&(E=O.jointLineThickness),C==null&&(C=O.pinSize),A==null&&(A=O.anchorColor),P==null&&(P=O.anchorSize),y!==!1&&(F.lineColor=y),T!==!1&&(F.lineOpacity=T),E!==!1&&(F.lineThickness=E),C!==!1&&(F.pinSize=C),A!==!1&&(F.anchorColor=A),P!==!1&&(F.anchorSize=P),this},setEventsProxy:function(){var g=this,y=this.engine,T=this.localWorld;this.drawDebug&&(l.on(T,"compositeModified",function(E){g.setCompositeRenderStyle(E)}),l.on(T,"beforeAdd",function(E){for(var C=[].concat(E.object),A=0;A<C.length;A++){var P=C[A],F=P.render;P.type==="body"?g.setBodyRenderStyle(P,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity):P.type==="composite"?g.setCompositeRenderStyle(P):P.type==="constraint"&&g.setConstraintRenderStyle(P,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize)}})),l.on(T,"beforeAdd",function(E){g.emit(u.BEFORE_ADD,E)}),l.on(T,"afterAdd",function(E){g.emit(u.AFTER_ADD,E)}),l.on(T,"beforeRemove",function(E){g.emit(u.BEFORE_REMOVE,E)}),l.on(T,"afterRemove",function(E){g.emit(u.AFTER_REMOVE,E)}),l.on(y,"beforeUpdate",function(E){g.emit(u.BEFORE_UPDATE,E)}),l.on(y,"afterUpdate",function(E){g.emit(u.AFTER_UPDATE,E)}),l.on(y,"collisionStart",function(E){var C=E.pairs,A,P;C.length>0&&(A=C[0].bodyA,P=C[0].bodyB),g.emit(u.COLLISION_START,E,A,P)}),l.on(y,"collisionActive",function(E){var C=E.pairs,A,P;C.length>0&&(A=C[0].bodyA,P=C[0].bodyB),g.emit(u.COLLISION_ACTIVE,E,A,P)}),l.on(y,"collisionEnd",function(E){var C=E.pairs,A,P;C.length>0&&(A=C[0].bodyA,P=C[0].bodyB),g.emit(u.COLLISION_END,E,A,P)})},setBounds:function(g,y,T,E,C,A,P,F,O){return g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),E===void 0&&(E=this.scene.sys.scale.height),C===void 0&&(C=64),A===void 0&&(A=!0),P===void 0&&(P=!0),F===void 0&&(F=!0),O===void 0&&(O=!0),this.updateWall(A,"left",g-C,y-C,C,E+C*2),this.updateWall(P,"right",g+T,y-C,C,E+C*2),this.updateWall(F,"top",g,y-C,T,C),this.updateWall(O,"bottom",g,y+E,T,C),this},updateWall:function(g,y,T,E,C,A){var P=this.walls[y];g?(P&&v.remove(this.localWorld,P),T+=C/2,E+=A/2,this.walls[y]=this.create(T,E,C,A,{isStatic:!0,friction:0,frictionStatic:0})):(P&&v.remove(this.localWorld,P),this.walls[y]=null)},createDebugGraphic:function(){var g=this.scene.sys.add.graphics({x:0,y:0});return g.setDepth(Number.MAX_VALUE),this.debugGraphic=g,this.drawDebug=!0,g},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(g,y,T){return g===void 0&&(g=0),y===void 0&&(y=1),T===void 0&&(T=.001),this.localWorld.gravity.x=g,this.localWorld.gravity.y=y,this.localWorld.gravity.scale=T,this},create:function(g,y,T,E,C){var A=f.rectangle(g,y,T,E,C);return v.add(this.localWorld,A),A},add:function(g){return v.add(this.localWorld,g),this},remove:function(g,y){Array.isArray(g)||(g=[g]);for(var T=0;T<g.length;T++){var E=g[T],C=E.body?E.body:E;n.remove(this.localWorld,C,y)}return this},removeConstraint:function(g,y){return n.remove(this.localWorld,g,y),this},convertTilemapLayer:function(g,y){var T=g.layer,E=g.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(E,y),this},convertTiles:function(g,y){if(g.length===0)return this;for(var T=0;T<g.length;T++)new d(this,g[T],y);return this},nextGroup:function(g){return h.nextGroup(g)},nextCategory:function(){return h.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(g,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,E=this.runner,C=T.timing;E.isFixed?y=this.getDelta(g,y):(y=g-E.timePrev||E.delta,E.timePrev=g,E.deltaHistory.push(y),E.deltaHistory=E.deltaHistory.slice(-E.deltaSampleSize),y=Math.min.apply(null,E.deltaHistory),y=y<E.deltaMin?E.deltaMin:y,y=y>E.deltaMax?E.deltaMax:y,E.delta=y),E.timeScalePrev=C.timeScale,E.frameCounter+=1,g-E.counterTimestamp>=1e3&&(E.fps=E.frameCounter*((g-E.counterTimestamp)/1e3),E.counterTimestamp=g,E.frameCounter=0),e.update(T,y)}},step:function(g){e.update(this.engine,g)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(g){var y=g.hasOwnProperty("body")?g.body:g;return n.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var g=this.debugConfig,y=this.engine,T=this.debugGraphic,E=n.allBodies(this.localWorld);this.debugGraphic.clear(),g.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,g.broadphaseColor,.5),g.showBounds&&this.renderBodyBounds(E,T,g.boundsColor,.5),(g.showBody||g.showStaticBody)&&this.renderBodies(E),g.showJoint&&this.renderJoints(),(g.showAxes||g.showAngleIndicator)&&this.renderBodyAxes(E,T,g.showAxes,g.angleColor,.5),g.showVelocity&&this.renderBodyVelocity(E,T,g.velocityColor,1,2),g.showSeparations&&this.renderSeparations(y.pairs.list,T,g.separationColor),g.showCollisions&&this.renderCollisions(y.pairs.list,T,g.collisionColor)}},renderGrid:function(g,y,T,E){y.lineStyle(1,T,E);for(var C=r.keys(g.buckets),A=0;A<C.length;A++){var P=C[A];if(!(g.buckets[P].length<2)){var F=P.split(/C|R/);y.strokeRect(parseInt(F[1],10)*g.bucketWidth,parseInt(F[2],10)*g.bucketHeight,g.bucketWidth,g.bucketHeight)}}return this},renderSeparations:function(g,y,T){y.lineStyle(1,T,1);for(var E=0;E<g.length;E++){var C=g[E];if(!!C.isActive){var A=C.collision,P=A.bodyA,F=A.bodyB,O=P.position,I=F.position,G=A.penetration,z=!P.isStatic&&!F.isStatic?4:1;F.isStatic&&(z=0),y.lineBetween(I.x,I.y,I.x-G.x*z,I.y-G.y*z),z=!P.isStatic&&!F.isStatic?4:1,P.isStatic&&(z=0),y.lineBetween(O.x,O.y,O.x-G.x*z,O.y-G.y*z)}}return this},renderCollisions:function(g,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var E,C;for(E=0;E<g.length;E++)if(C=g[E],!!C.isActive)for(var A=0;A<C.activeContacts.length;A++){var P=C.activeContacts[A],F=P.vertex;y.fillRect(F.x-2,F.y-2,5,5)}for(E=0;E<g.length;E++)if(C=g[E],!!C.isActive){var O=C.collision,I=C.activeContacts;if(I.length>0){var G=I[0].vertex.x,z=I[0].vertex.y;I.length===2&&(G=(I[0].vertex.x+I[1].vertex.x)/2,z=(I[0].vertex.y+I[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?y.lineBetween(G-O.normal.x*8,z-O.normal.y*8,G,z):y.lineBetween(G+O.normal.x*8,z+O.normal.y*8,G,z)}}return this},renderBodyBounds:function(g,y,T,E){y.lineStyle(1,T,E);for(var C=0;C<g.length;C++){var A=g[C];if(!!A.render.visible){var P=A.bounds;if(P)y.strokeRect(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y);else for(var F=A.parts,O=F.length>1?1:0;O<F.length;O++){var I=F[O];y.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(g,y,T,E,C){y.lineStyle(1,E,C);for(var A=0;A<g.length;A++){var P=g[A],F=P.parts;if(!!P.render.visible){var O,I,G;if(T)for(I=F.length>1?1:0;I<F.length;I++)for(O=F[I],G=0;G<O.axes.length;G++){var z=O.axes[G];y.lineBetween(O.position.x,O.position.y,O.position.x+z.x*20,O.position.y+z.y*20)}else for(I=F.length>1?1:0;I<F.length;I++)for(O=F[I],G=0;G<O.axes.length;G++)y.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(g,y,T,E,C){y.lineStyle(C,T,E);for(var A=0;A<g.length;A++){var P=g[A];!P.render.visible||y.lineBetween(P.position.x,P.position.y,P.position.x+(P.position.x-P.positionPrev.x)*2,P.position.y+(P.position.y-P.positionPrev.y)*2)}return this},renderBodies:function(g){for(var y=this.debugGraphic,T=this.debugConfig,E=T.showBody,C=T.showStaticBody,A=T.showSleeping,P=T.showInternalEdges,F=T.showConvexHulls,O=T.renderFill,I=T.renderLine,G=T.staticBodySleepOpacity,z=T.sleepFillColor,X=T.sleepLineColor,H=T.hullColor,N=0;N<g.length;N++){var U=g[N];if(!!U.render.visible&&!(!C&&U.isStatic||!E&&!U.isStatic)){var R=U.render.lineColor,D=U.render.lineOpacity,B=U.render.lineThickness,V=U.render.fillColor,Y=U.render.fillOpacity;A&&U.isSleeping&&(U.isStatic?(D*=G,Y*=G):(R=X,V=z)),O||(V=null),I||(R=null),this.renderBody(U,y,P,R,D,B,V,Y);var K=U.parts.length;F&&K>1&&this.renderConvexHull(U,y,H,B)}}},renderBody:function(g,y,T,E,C,A,P,F){E===void 0&&(E=null),C===void 0&&(C=null),A===void 0&&(A=1),P===void 0&&(P=null),F===void 0&&(F=null);for(var O=this.debugConfig,I=O.sensorFillColor,G=O.sensorLineColor,z=g.parts,X=z.length,H=X>1?1:0;H<X;H++){var N=z[H],U=N.render,R=U.opacity;if(!(!U.visible||R===0||N.isSensor&&!O.showSensors)){var D=N.circleRadius;if(y.beginPath(),N.isSensor?(P!==null&&y.fillStyle(I,F*R),E!==null&&y.lineStyle(A,G,C*R)):(P!==null&&y.fillStyle(P,F*R),E!==null&&y.lineStyle(A,E,C*R)),D)y.arc(N.position.x,N.position.y,D,0,2*Math.PI);else{var B=N.vertices,V=B.length;y.moveTo(B[0].x,B[0].y);for(var Y=1;Y<V;Y++){var K=B[Y];if(!B[Y-1].isInternal||T?y.lineTo(K.x,K.y):y.moveTo(K.x,K.y),Y<V&&K.isInternal&&!T){var $=(Y+1)%V;y.moveTo(B[$].x,B[$].y)}}y.closePath()}P!==null&&y.fillPath(),E!==null&&y.strokePath()}}if(O.showPositions&&!g.isStatic){var J=g.position.x,Q=g.position.y,k=Math.ceil(O.positionSize/2);y.fillStyle(O.positionColor,1),y.fillRect(J-k,Q-k,O.positionSize,O.positionSize)}return this},renderConvexHull:function(g,y,T,E){E===void 0&&(E=1);var C=g.parts,A=C.length;if(A>1){var P=g.vertices;y.lineStyle(E,T),y.beginPath(),y.moveTo(P[0].x,P[0].y);for(var F=1;F<P.length;F++)y.lineTo(P[F].x,P[F].y);y.lineTo(P[0].x,P[0].y),y.strokePath()}return this},renderJoints:function(){for(var g=this.debugGraphic,y=n.allConstraints(this.localWorld),T=0;T<y.length;T++){var E=y[T].render,C=E.lineColor,A=E.lineOpacity,P=E.lineThickness,F=E.pinSize,O=E.anchorColor,I=E.anchorSize;this.renderConstraint(y[T],g,C,A,P,F,O,I)}},renderConstraint:function(g,y,T,E,C,A,P,F){var O=g.render;if(!O.visible||!g.pointA||!g.pointB)return this;y.lineStyle(C,T,E);var I=g.bodyA,G=g.bodyB,z,X;if(I?z=m.add(I.position,g.pointA):z=g.pointA,O.type==="pin")y.strokeCircle(z.x,z.y,A);else{if(G?X=m.add(G.position,g.pointB):X=g.pointB,y.beginPath(),y.moveTo(z.x,z.y),O.type==="spring")for(var H=m.sub(X,z),N=m.perp(m.normalise(H)),U=Math.ceil(r.clamp(g.length/5,12,20)),R,D=1;D<U;D+=1)R=D%2===0?1:-1,y.lineTo(z.x+H.x*(D/U)+N.x*R*4,z.y+H.y*(D/U)+N.y*R*4);y.lineTo(X.x,X.y)}return y.strokePath(),O.anchors&&F>0&&(y.fillStyle(P),y.fillCircle(z.x,z.y,F),y.fillCircle(X.x,X.y,F)),this},resetCollisionIDs:function(){return c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,this},shutdown:function(){l.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=x},95349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},70679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var f=0;if(!Array.isArray(t))f=t;else for(var c=0;c<t.length;c++)f|=t[c];return this.body.collisionFilter.mask=f,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,f){Array.isArray(t)||(t=[t]);for(var c=0;c<t.length;c++){var a=t[c].hasOwnProperty("body")?t[c].body:t[c];this.body.setOnCollideWith(a,f)}return this}};p.exports=S},77178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),f.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return f.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=c},74015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,f,c){return this.body.friction=t,f!==void 0&&(this.body.frictionAir=f),c!==void 0&&(this.body.frictionStatic=c),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},11535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},74497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c=t(93736),a={setMass:function(r){return f.setMass(this.body,r),this},setDensity:function(r){return f.setDensity(this.body,r),this},centerOfMass:{get:function(){return new c(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=a},75529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},64024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68516),c=t(84125),a=t(88456),r=t(72632),n=t(10998),e=t(72829),s=t(39745),u={setRectangle:function(i,o,h){return this.setBody({type:"rectangle",width:i,height:o},h)},setCircle:function(i,o){return this.setBody({type:"circle",radius:i},o)},setPolygon:function(i,o,h){return this.setBody({type:"polygon",sides:o,radius:i},h)},setTrapezoid:function(i,o,h,l){return this.setBody({type:"trapezoid",width:i,height:o,slope:h},l)},setExistingBody:function(i,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var h=0;h<i.parts.length;h++)i.parts[h].gameObject=this;var l=this;if(i.destroy=function(){l.world.remove(l.body,!0),l.body.gameObject=null},o&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,v=i.render.sprite.yOffset,m=i.centerOfMass.x,x=i.centerOfMass.y;if(a(m,.5)&&a(x,.5))this.setOrigin(d+.5,v+.5);else{var g=i.centerOffset.x,y=i.centerOffset.y;this.setOrigin(d+g/this.displayWidth,v+y/this.displayHeight)}}return this},setBody:function(i,o){if(!i)return this;var h;typeof i=="string"&&(i={type:i});var l=r(i,"type","rectangle"),d=r(i,"x",this._tempVec2.x),v=r(i,"y",this._tempVec2.y),m=r(i,"width",this.width),x=r(i,"height",this.height);switch(l){case"rectangle":h=f.rectangle(d,v,m,x,o);break;case"circle":var g=r(i,"radius",Math.max(m,x)/2),y=r(i,"maxSides",25);h=f.circle(d,v,g,o,y);break;case"trapezoid":var T=r(i,"slope",.5);h=f.trapezoid(d,v,m,x,T,o);break;case"polygon":var E=r(i,"sides",5),C=r(i,"radius",Math.max(m,x)/2);h=f.polygon(d,v,E,C,o);break;case"fromVertices":case"fromVerts":var A=r(i,"verts",null);if(A)if(typeof A=="string"&&(A=s.fromPath(A)),this.body&&!this.body.hasOwnProperty("temp"))c.setVertices(this.body,A),h=this.body;else{var P=r(i,"flagInternal",!1),F=r(i,"removeCollinear",.01),O=r(i,"minimumArea",10);h=f.fromVertices(d,v,A,o,P,F,O)}break;case"fromPhysicsEditor":h=n.parseBody(d,v,i,o);break;case"fromPhysicsTracer":h=e.parseBody(d,v,i,o);break}return h&&this.setExistingBody(h,i.addToWorld),this}};p.exports=u},25106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(35416),c=t(22806),a=t(39073),r={setToSleep:function(){return c.set(this.body,!0),this},setAwake:function(){return c.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(f.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(f.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};p.exports=r},82884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c={setStatic:function(a){return f.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};p.exports=c},4753:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c=t(83392),a=t(35786),r=t(62138),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),f.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),f.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var u=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~n:this.renderFlags|=n,f.scale(this.body,u,i),f.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var u=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~n:this.renderFlags|=n,f.scale(this.body,u,i),f.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*c.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*c.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),f.setAngle(this.body,this._rotation)}},setPosition:function(s,u){return s===void 0&&(s=0),u===void 0&&(u=s),this._tempVec2.set(s,u),f.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),f.setAngle(this.body,s),this},setFixedRotation:function(){return f.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,f.setAngle(this.body,this.rotation),this},setScale:function(s,u,i){s===void 0&&(s=1),u===void 0&&(u=s);var o=1/this._scaleX,h=1/this._scaleY;return this._scaleX=s,this._scaleY=u,f.scale(this.body,o,h,i),f.scale(this.body,s,u,i),this}};p.exports=e},37268:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84125),c={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),f.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),f.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),f.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return f.getVelocity(this.body)},setAngularVelocity:function(a){return f.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return f.getAngularVelocity(this.body)},setAngularSpeed:function(a){return f.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return f.getAngularSpeed(this.body)}};p.exports=c},74527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},30474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},44822:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},88820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},94849:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},6391:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},96738:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},7916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},59529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},10219:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},183:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},39143:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},16483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},35806:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22106:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},5803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},35416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(10438),r=t(22806),n=t(68758),e=t(84091),s=t(50658);(function(){f._timeCorrection=!0,f._inertiaScale=4,f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,f._baseDelta=16.666666666666668,f.create=function(i){var o={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=c.centre(i.vertices):i.hasOwnProperty("vertices")||(o.vertices=c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var h=n.extend(o,i);return u(h,i),h.setOnCollideWith=function(l,d){return d?this.onCollideWith[l.id]=d:delete this.onCollideWith[l.id],this},h},f.nextGroup=function(i){return i?f._nextNonCollidingGroupId--:f._nextCollidingGroupId++},f.nextCategory=function(){return f._nextCategory=f._nextCategory<<1,f._nextCategory};var u=function(i,o){if(o=o||{},f.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),c.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),f.set(i,{axes:o.axes||i.axes,area:o.area||i.area,mass:o.mass||i.mass,inertia:o.inertia||i.inertia}),i.parts.length===1){var h=i.bounds,l=i.centerOfMass,d=i.centerOffset,v=h.max.x-h.min.x,m=h.max.y-h.min.y;l.x=-(h.min.x-i.position.x)/v,l.y=-(h.min.y-i.position.y)/m,d.x=v*l.x,d.y=m*l.y}};f.set=function(i,o,h){var l;typeof o=="string"&&(l=o,o={},o[l]=h);for(l in o)if(!!Object.prototype.hasOwnProperty.call(o,l))switch(h=o[l],l){case"isStatic":f.setStatic(i,h);break;case"isSleeping":r.set(i,h);break;case"mass":f.setMass(i,h);break;case"density":f.setDensity(i,h);break;case"inertia":f.setInertia(i,h);break;case"vertices":f.setVertices(i,h);break;case"position":f.setPosition(i,h);break;case"angle":f.setAngle(i,h);break;case"velocity":f.setVelocity(i,h);break;case"angularVelocity":f.setAngularVelocity(i,h);break;case"speed":f.setSpeed(i,h);break;case"angularSpeed":f.setAngularSpeed(i,h);break;case"parts":f.setParts(i,h);break;case"centre":f.setCentre(i,h);break;default:i[l]=h}},f.setStatic=function(i,o){for(var h=0;h<i.parts.length;h++){var l=i.parts[h];o?(l.isStatic||(l._original={restitution:l.restitution,friction:l.friction,mass:l.mass,inertia:l.inertia,density:l.density,inverseMass:l.inverseMass,inverseInertia:l.inverseInertia}),l.restitution=0,l.friction=1,l.mass=l.inertia=l.density=1/0,l.inverseMass=l.inverseInertia=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.angularVelocity=0,l.speed=0,l.angularSpeed=0,l.motion=0):l._original&&(l.restitution=l._original.restitution,l.friction=l._original.friction,l.mass=l._original.mass,l.inertia=l._original.inertia,l.density=l._original.density,l.inverseMass=l._original.inverseMass,l.inverseInertia=l._original.inverseInertia,l._original=null),l.isStatic=o}},f.setMass=function(i,o){var h=i.inertia/(i.mass/6);i.inertia=h*(o/6),i.inverseInertia=1/i.inertia,i.mass=o,i.inverseMass=1/i.mass,i.density=i.mass/i.area},f.setDensity=function(i,o){f.setMass(i,o*i.area),i.density=o},f.setInertia=function(i,o){i.inertia=o,i.inverseInertia=1/i.inertia},f.setVertices=function(i,o){o[0].body===i?i.vertices=o:i.vertices=c.create(o,i),i.axes=s.fromVertices(i.vertices),i.area=c.area(i.vertices),f.setMass(i,i.density*i.area);var h=c.centre(i.vertices);c.translate(i.vertices,h,-1),f.setInertia(i,f._inertiaScale*c.inertia(i.vertices,i.mass)),c.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},f.setParts=function(i,o,h){var l;for(o=o.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,l=0;l<o.length;l++){var d=o[l];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(h=typeof h<"u"?h:!0,h){var v=[];for(l=0;l<o.length;l++)v=v.concat(o[l].vertices);c.clockwiseSort(v);var m=c.hull(v),x=c.centre(m);f.setVertices(i,m),c.translate(i.vertices,x)}var g=f._totalProperties(i),y=g.centre.x,T=g.centre.y,E=i.bounds,C=i.centerOfMass,A=i.centerOffset;e.update(E,i.vertices,i.velocity),C.x=-(E.min.x-y)/(E.max.x-E.min.x),C.y=-(E.min.y-T)/(E.max.y-E.min.y),A.x=y,A.y=T,i.area=g.area,i.parent=i,i.position.x=y,i.position.y=T,i.positionPrev.x=y,i.positionPrev.y=T,f.setMass(i,g.mass),f.setInertia(i,g.inertia),f.setPosition(i,g.centre)}},f.setCentre=function(i,o,h){h?(i.positionPrev.x+=o.x,i.positionPrev.y+=o.y,i.position.x+=o.x,i.position.y+=o.y):(i.positionPrev.x=o.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=o.y-(i.position.y-i.positionPrev.y),i.position.x=o.x,i.position.y=o.y)},f.setPosition=function(i,o,h){var l=a.sub(o,i.position);h?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=l.x,i.velocity.y=l.y,i.speed=a.magnitude(l)):(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y);for(var d=0;d<i.parts.length;d++){var v=i.parts[d];v.position.x+=l.x,v.position.y+=l.y,c.translate(v.vertices,l),e.update(v.bounds,v.vertices,i.velocity)}},f.setAngle=function(i,o,h){var l=o-i.angle;h?(i.anglePrev=i.angle,i.angularVelocity=l,i.angularSpeed=Math.abs(l)):i.anglePrev+=l;for(var d=0;d<i.parts.length;d++){var v=i.parts[d];v.angle+=l,c.rotate(v.vertices,l,i.position),s.rotate(v.axes,l),e.update(v.bounds,v.vertices,i.velocity),d>0&&a.rotateAbout(v.position,l,i.position,v.position)}},f.setVelocity=function(i,o){var h=i.deltaTime/f._baseDelta;i.positionPrev.x=i.position.x-o.x*h,i.positionPrev.y=i.position.y-o.y*h,i.velocity.x=(i.position.x-i.positionPrev.x)/h,i.velocity.y=(i.position.y-i.positionPrev.y)/h,i.speed=a.magnitude(i.velocity)},f.getVelocity=function(i){var o=f._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*o,y:(i.position.y-i.positionPrev.y)*o}},f.getSpeed=function(i){return a.magnitude(f.getVelocity(i))},f.setSpeed=function(i,o){f.setVelocity(i,a.mult(a.normalise(f.getVelocity(i)),o))},f.setAngularVelocity=function(i,o){var h=i.deltaTime/f._baseDelta;i.anglePrev=i.angle-o*h,i.angularVelocity=(i.angle-i.anglePrev)/h,i.angularSpeed=Math.abs(i.angularVelocity)},f.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*f._baseDelta/i.deltaTime},f.getAngularSpeed=function(i){return Math.abs(f.getAngularVelocity(i))},f.setAngularSpeed=function(i,o){f.setAngularVelocity(i,n.sign(f.getAngularVelocity(i))*o)},f.translate=function(i,o,h){f.setPosition(i,a.add(i.position,o),h)},f.rotate=function(i,o,h,l){if(!h)f.setAngle(i,i.angle+o,l);else{var d=Math.cos(o),v=Math.sin(o),m=i.position.x-h.x,x=i.position.y-h.y;f.setPosition(i,{x:h.x+(m*d-x*v),y:h.y+(m*v+x*d)},l),f.setAngle(i,i.angle+o,l)}},f.scale=function(i,o,h,l){var d=0,v=0;l=l||i.position;for(var m=0;m<i.parts.length;m++){var x=i.parts[m];x.scale.x=o,x.scale.y=h,c.scale(x.vertices,o,h,l),x.axes=s.fromVertices(x.vertices),x.area=c.area(x.vertices),f.setMass(x,i.density*x.area),c.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),f.setInertia(x,f._inertiaScale*c.inertia(x.vertices,x.mass)),c.translate(x.vertices,{x:x.position.x,y:x.position.y}),m>0&&(d+=x.area,v+=x.inertia),x.position.x=l.x+(x.position.x-l.x)*o,x.position.y=l.y+(x.position.y-l.y)*h,e.update(x.bounds,x.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(f.setMass(i,i.density*d),f.setInertia(i,v))),i.circleRadius&&(o===h?i.circleRadius*=o:i.circleRadius=null)},f.update=function(i,o){o=(typeof o<"u"?o:16.666666666666668)*i.timeScale;var h=o*o,l=f._timeCorrection?o/(i.deltaTime||o):1,d=1-i.frictionAir*(o/n._baseDelta),v=(i.position.x-i.positionPrev.x)*l,m=(i.position.y-i.positionPrev.y)*l;i.velocity.x=v*d+i.force.x/i.mass*h,i.velocity.y=m*d+i.force.y/i.mass*h,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=o,i.angularVelocity=(i.angle-i.anglePrev)*d*l+i.torque/i.inertia*h,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var x=0;x<i.parts.length;x++){var g=i.parts[x];c.translate(g.vertices,i.velocity),x>0&&(g.position.x+=i.velocity.x,g.position.y+=i.velocity.y),i.angularVelocity!==0&&(c.rotate(g.vertices,i.angularVelocity,i.position),s.rotate(g.axes,i.angularVelocity),x>0&&a.rotateAbout(g.position,i.angularVelocity,i.position,g.position)),e.update(g.bounds,g.vertices,i.velocity)}},f.updateVelocities=function(i){var o=f._baseDelta/i.deltaTime,h=i.velocity;h.x=(i.position.x-i.positionPrev.x)*o,h.y=(i.position.y-i.positionPrev.y)*o,i.speed=Math.sqrt(h.x*h.x+h.y*h.y),i.angularVelocity=(i.angle-i.anglePrev)*o,i.angularSpeed=Math.abs(i.angularVelocity)},f.applyForce=function(i,o,h){var l={x:o.x-i.position.x,y:o.y-i.position.y};i.force.x+=h.x,i.force.y+=h.y,i.torque+=l.x*h.y-l.y*h.x},f._totalProperties=function(i){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},h=i.parts.length===1?0:1;h<i.parts.length;h++){var l=i.parts[h],d=l.mass!==1/0?l.mass:1;o.mass+=d,o.area+=l.area,o.inertia+=l.inertia,o.centre=a.add(o.centre,a.mult(l.position,d))}return o.centre=a.div(o.centre,o.mass),o}})()},11299:(p,S,t)=>{var f={};p.exports=f;var c=t(39073),a=t(68758),r=t(84091),n=t(84125);(function(){f.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},f.setModified=function(e,s,u,i){if(c.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),u&&e.parent&&f.setModified(e.parent,s,u,i),i)for(var o=0;o<e.composites.length;o++){var h=e.composites[o];f.setModified(h,s,u,i)}},f.add=function(e,s){var u=[].concat(s);c.trigger(e,"beforeAdd",{object:s});for(var i=0;i<u.length;i++){var o=u[i];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(e,o);break;case"constraint":f.addConstraint(e,o);break;case"composite":f.addComposite(e,o);break;case"mouseConstraint":f.addConstraint(e,o.constraint);break}}return c.trigger(e,"afterAdd",{object:s}),e},f.remove=function(e,s,u){var i=[].concat(s);c.trigger(e,"beforeRemove",{object:s});for(var o=0;o<i.length;o++){var h=i[o];switch(h.type){case"body":f.removeBody(e,h,u);break;case"constraint":f.removeConstraint(e,h,u);break;case"composite":f.removeComposite(e,h,u);break;case"mouseConstraint":f.removeConstraint(e,h.constraint);break}}return c.trigger(e,"afterRemove",{object:s}),e},f.addComposite=function(e,s){return e.composites.push(s),s.parent=e,f.setModified(e,!0,!0,!1),e},f.removeComposite=function(e,s,u){var i=a.indexOf(e.composites,s);if(i!==-1&&f.removeCompositeAt(e,i),u)for(var o=0;o<e.composites.length;o++)f.removeComposite(e.composites[o],s,!0);return e},f.removeCompositeAt=function(e,s){return e.composites.splice(s,1),f.setModified(e,!0,!0,!1),e},f.addBody=function(e,s){return e.bodies.push(s),f.setModified(e,!0,!0,!1),e},f.removeBody=function(e,s,u){var i=a.indexOf(e.bodies,s);if(i!==-1&&f.removeBodyAt(e,i),u)for(var o=0;o<e.composites.length;o++)f.removeBody(e.composites[o],s,!0);return e},f.removeBodyAt=function(e,s){return e.bodies.splice(s,1),f.setModified(e,!0,!0,!1),e},f.addConstraint=function(e,s){return e.constraints.push(s),f.setModified(e,!0,!0,!1),e},f.removeConstraint=function(e,s,u){var i=a.indexOf(e.constraints,s);if(i!==-1&&f.removeConstraintAt(e,i),u)for(var o=0;o<e.composites.length;o++)f.removeConstraint(e.composites[o],s,!0);return e},f.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),f.setModified(e,!0,!0,!1),e},f.clear=function(e,s,u){if(u)for(var i=0;i<e.composites.length;i++)f.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(o){return o.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,f.setModified(e,!0,!0,!1),e},f.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),u=0;u<e.composites.length;u++)s=s.concat(f.allBodies(e.composites[u]));return e.cache&&(e.cache.allBodies=s),s},f.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),u=0;u<e.composites.length;u++)s=s.concat(f.allConstraints(e.composites[u]));return e.cache&&(e.cache.allConstraints=s),s},f.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),u=0;u<e.composites.length;u++)s=s.concat(f.allComposites(e.composites[u]));return e.cache&&(e.cache.allComposites=s),s},f.get=function(e,s,u){var i,o;switch(u){case"body":i=f.allBodies(e);break;case"constraint":i=f.allConstraints(e);break;case"composite":i=f.allComposites(e).concat(e);break}return i?(o=i.filter(function(h){return h.id.toString()===s.toString()}),o.length===0?null:o[0]):null},f.move=function(e,s,u){return f.remove(e,s),f.add(u,s),e},f.rebase=function(e){for(var s=f.allBodies(e).concat(f.allConstraints(e)).concat(f.allComposites(e)),u=0;u<s.length;u++)s[u].id=a.nextId();return e},f.translate=function(e,s,u){for(var i=u?f.allBodies(e):e.bodies,o=0;o<i.length;o++)n.translate(i[o],s);return e},f.rotate=function(e,s,u,i){for(var o=Math.cos(s),h=Math.sin(s),l=i?f.allBodies(e):e.bodies,d=0;d<l.length;d++){var v=l[d],m=v.position.x-u.x,x=v.position.y-u.y;n.setPosition(v,{x:u.x+(m*o-x*h),y:u.y+(m*h+x*o)}),n.rotate(v,s)}return e},f.scale=function(e,s,u,i,o){for(var h=o?f.allBodies(e):e.bodies,l=0;l<h.length;l++){var d=h[l],v=d.position.x-i.x,m=d.position.y-i.y;n.setPosition(d,{x:i.x+v*s,y:i.y+m*u}),n.scale(d,s,u)}return e},f.bounds=function(e){for(var s=f.allBodies(e),u=[],i=0;i<s.length;i+=1){var o=s[i];u.push(o.bounds.min,o.bounds.max)}return r.create(u)}})()},72005:(p,S,t)=>{var f={};p.exports=f;var c=t(11299);(function(){f.create=c.create,f.add=c.add,f.remove=c.remove,f.clear=c.clear,f.addComposite=c.addComposite,f.addBody=c.addBody,f.addConstraint=c.addConstraint})()},63454:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(70584);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};f.create=function(s,u){return{pair:null,collided:!1,bodyA:s,bodyB:u,parentA:s.parent,parentB:u.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},f.collides=function(s,u,i){if(f._overlapAxes(n,s.vertices,u.vertices,s.axes),n.overlap<=0||(f._overlapAxes(e,u.vertices,s.vertices,u.axes),e.overlap<=0))return null;var o=i&&i.table[a.id(s,u)],h;o?h=o.collision:(h=f.create(s,u),h.collided=!0,h.bodyA=s.id<u.id?s:u,h.bodyB=s.id<u.id?u:s,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent),s=h.bodyA,u=h.bodyB;var l;n.overlap<e.overlap?l=n:l=e;var d=h.normal,v=h.supports,m=l.axis,x=m.x,g=m.y;x*(u.position.x-s.position.x)+g*(u.position.y-s.position.y)<0?(d.x=x,d.y=g):(d.x=-x,d.y=-g),h.tangent.x=-d.y,h.tangent.y=d.x,h.depth=l.overlap,h.penetration.x=d.x*h.depth,h.penetration.y=d.y*h.depth;var y=f._findSupports(s,u,d,1),T=0;if(c.contains(s.vertices,y[0])&&(v[T++]=y[0]),c.contains(s.vertices,y[1])&&(v[T++]=y[1]),T<2){var E=f._findSupports(u,s,d,-1);c.contains(u.vertices,E[0])&&(v[T++]=E[0]),T<2&&c.contains(u.vertices,E[1])&&(v[T++]=E[1])}return T===0&&(v[T++]=y[0]),v.length=T,h},f._overlapAxes=function(s,u,i,o){var h=u.length,l=i.length,d=u[0].x,v=u[0].y,m=i[0].x,x=i[0].y,g=o.length,y=Number.MAX_VALUE,T=0,E,C,A,P,F,O;for(F=0;F<g;F++){var I=o[F],G=I.x,z=I.y,X=d*G+v*z,H=m*G+x*z,N=X,U=H;for(O=1;O<h;O+=1)P=u[O].x*G+u[O].y*z,P>N?N=P:P<X&&(X=P);for(O=1;O<l;O+=1)P=i[O].x*G+i[O].y*z,P>U?U=P:P<H&&(H=P);if(C=N-H,A=U-X,E=C<A?C:A,E<y&&(y=E,T=F,E<=0))break}s.axis=o[T],s.overlap=y},f._projectToAxis=function(s,u,i){for(var o=u[0].x*i.x+u[0].y*i.y,h=o,l=1;l<u.length;l+=1){var d=u[l].x*i.x+u[l].y*i.y;d>h?h=d:d<o&&(o=d)}s.min=o,s.max=h},f._findSupports=function(s,u,i,o){var h=u.vertices,l=h.length,d=s.position.x,v=s.position.y,m=i.x*o,x=i.y*o,g=Number.MAX_VALUE,y,T,E,C,A;for(A=0;A<l;A+=1)T=h[A],C=m*(d-T.x)+x*(v-T.y),C<g&&(g=C,y=T);return E=h[(l+y.index-1)%l],g=m*(d-E.x)+x*(v-E.y),T=h[(y.index+1)%l],m*(d-T.x)+x*(v-T.y)<g?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=E,r)}})()},17319:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(p,S,t)=>{var f={};p.exports=f;var c=t(68758),a=t(63454);(function(){f.create=function(r){var n={bodies:[],pairs:null};return c.extend(n,r)},f.setBodies=function(r,n){r.bodies=n.slice(0)},f.clear=function(r){r.bodies=[]},f.collisions=function(r){var n=[],e=r.pairs,s=r.bodies,u=s.length,i=f.canCollide,o=a.collides,h,l;for(s.sort(f._compareBoundsX),h=0;h<u;h++){var d=s[h],v=d.bounds,m=d.bounds.max.x,x=d.bounds.max.y,g=d.bounds.min.y,y=d.isStatic||d.isSleeping,T=d.parts.length,E=T===1;for(l=h+1;l<u;l++){var C=s[l],A=C.bounds;if(A.min.x>m)break;if(!(x<A.min.y||g>A.max.y)&&!(y&&(C.isStatic||C.isSleeping))&&!!i(d.collisionFilter,C.collisionFilter)){var P=C.parts.length;if(E&&P===1){var F=o(d,C,e);F&&n.push(F)}else for(var O=T>1?1:0,I=P>1?1:0,G=O;G<T;G++)for(var z=d.parts[G],v=z.bounds,X=I;X<P;X++){var H=C.parts[X],A=H.bounds;if(!(v.min.x>A.max.x||v.max.x<A.min.x||v.max.y<A.min.y||v.min.y>A.max.y)){var F=o(z,H,e);F&&n.push(F)}}}}}return n},f.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},f._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},70584:(p,S,t)=>{var f={};p.exports=f;var c=t(17319);(function(){f.create=function(a,r){var n=a.bodyA,e=a.bodyB,s={id:f.id(n,e),bodyA:n,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return f.update(s,a,r),s},f.update=function(a,r,n){var e=a.contacts,s=r.supports,u=a.activeContacts,i=r.parentA,o=r.parentB,h=i.vertices.length;a.isActive=!0,a.timeUpdated=n,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+o.inverseMass,a.friction=i.friction<o.friction?i.friction:o.friction,a.frictionStatic=i.frictionStatic>o.frictionStatic?i.frictionStatic:o.frictionStatic,a.restitution=i.restitution>o.restitution?i.restitution:o.restitution,a.slop=i.slop>o.slop?i.slop:o.slop,r.pair=a,u.length=0;for(var l=0;l<s.length;l++){var d=s[l],v=d.body===i?d.index:h+d.index,m=e[v];m?u.push(m):u.push(e[v]=c.create(d))}},f.setActive=function(a,r,n){r?(a.isActive=!0,a.timeUpdated=n):(a.isActive=!1,a.activeContacts.length=0)},f.id=function(a,r){return a.id<r.id?"A"+a.id+"B"+r.id:"A"+r.id+"B"+a.id}})()},91327:(p,S,t)=>{var f={};p.exports=f;var c=t(70584),a=t(68758);(function(){f.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},f.update=function(r,n,e){var s=r.list,u=s.length,i=r.table,o=n.length,h=r.collisionStart,l=r.collisionEnd,d=r.collisionActive,v,m,x,g;for(h.length=0,l.length=0,d.length=0,g=0;g<u;g++)s[g].confirmedActive=!1;for(g=0;g<o;g++)v=n[g],x=v.pair,x?(x.isActive?d.push(x):h.push(x),c.update(x,v,e),x.confirmedActive=!0):(x=c.create(v,e),i[x.id]=x,h.push(x),s.push(x));var y=[];for(u=s.length,g=0;g<u;g++)x=s[g],x.confirmedActive||(c.setActive(x,!1,e),l.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&y.push(g));for(g=0;g<y.length;g++)m=y[g]-g,x=s[m],s.splice(m,1),delete i[x.id]},f.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},13390:(p,S,t)=>{var f={};p.exports=f;var c=t(10438),a=t(63454),r=t(84091),n=t(68516),e=t(39745);(function(){f.collides=function(s,u){for(var i=[],o=u.length,h=s.bounds,l=a.collides,d=r.overlaps,v=0;v<o;v++){var m=u[v],x=m.parts.length,g=x===1?0:1;if(s!==m&&d(m.bounds,h))for(var y=g;y<x;y++){var T=m.parts[y];if(d(T.bounds,h)){var E=l(T,s);if(E){i.push(E);break}}}}return i},f.ray=function(s,u,i,o){o=o||1e-100;for(var h=c.angle(u,i),l=c.magnitude(c.sub(u,i)),d=(i.x+u.x)*.5,v=(i.y+u.y)*.5,m=n.rectangle(d,v,l,o,{angle:h}),x=f.collides(m,s),g=0;g<x.length;g+=1){var y=x[g];y.body=y.bodyB=y.bodyA}return x},f.region=function(s,u,i){for(var o=[],h=0;h<s.length;h++){var l=s[h],d=r.overlaps(l.bounds,u);(d&&!i||!d&&i)&&o.push(l)}return o},f.point=function(s,u){for(var i=[],o=0;o<s.length;o++){var h=s[o];if(r.contains(h.bounds,u))for(var l=h.parts.length===1?0:1;l<h.parts.length;l++){var d=h.parts[l];if(r.contains(d.bounds,u)&&e.contains(d.vertices,u)){i.push(h);break}}}return i}})()},44272:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(68758),r=t(84091);(function(){f._restingThresh=2,f._restingThreshTangent=Math.sqrt(6),f._positionDampen=.9,f._positionWarming=.8,f._frictionNormalMultiplier=5,f._frictionMaxStatic=Number.MAX_VALUE,f.preSolvePosition=function(n){var e,s,u,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(u=s.activeContacts.length,s.collision.parentA.totalContacts+=u,s.collision.parentB.totalContacts+=u)},f.solvePosition=function(n,e,s){var u,i,o,h,l,d,v,m,x=f._positionDampen*(s||1),g=a.clamp(e/a._baseDelta,0,1),y=n.length;for(u=0;u<y;u++)i=n[u],!(!i.isActive||i.isSensor)&&(o=i.collision,h=o.parentA,l=o.parentB,d=o.normal,i.separation=d.x*(l.positionImpulse.x+o.penetration.x-h.positionImpulse.x)+d.y*(l.positionImpulse.y+o.penetration.y-h.positionImpulse.y));for(u=0;u<y;u++)i=n[u],!(!i.isActive||i.isSensor)&&(o=i.collision,h=o.parentA,l=o.parentB,d=o.normal,m=i.separation-i.slop*g,(h.isStatic||l.isStatic)&&(m*=2),h.isStatic||h.isSleeping||(v=x/h.totalContacts,h.positionImpulse.x+=d.x*m*v,h.positionImpulse.y+=d.y*m*v),l.isStatic||l.isSleeping||(v=x/l.totalContacts,l.positionImpulse.x-=d.x*m*v,l.positionImpulse.y-=d.y*m*v))},f.postSolvePosition=function(n){for(var e=f._positionWarming,s=n.length,u=c.translate,i=r.update,o=0;o<s;o++){var h=n[o],l=h.positionImpulse,d=l.x,v=l.y,m=h.velocity;if(h.totalContacts=0,d!==0||v!==0){for(var x=0;x<h.parts.length;x++){var g=h.parts[x];u(g.vertices,l),i(g.bounds,g.vertices,m),g.position.x+=d,g.position.y+=v}h.positionPrev.x+=d,h.positionPrev.y+=v,d*m.x+v*m.y<0?(l.x=0,l.y=0):(l.x*=e,l.y*=e)}}},f.preSolveVelocity=function(n){var e=n.length,s,u;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var o=i.activeContacts,h=o.length,l=i.collision,d=l.parentA,v=l.parentB,m=l.normal,x=l.tangent;for(u=0;u<h;u++){var g=o[u],y=g.vertex,T=g.normalImpulse,E=g.tangentImpulse;if(T!==0||E!==0){var C=m.x*T+x.x*E,A=m.y*T+x.y*E;d.isStatic||d.isSleeping||(d.positionPrev.x+=C*d.inverseMass,d.positionPrev.y+=A*d.inverseMass,d.anglePrev+=d.inverseInertia*((y.x-d.position.x)*A-(y.y-d.position.y)*C)),v.isStatic||v.isSleeping||(v.positionPrev.x-=C*v.inverseMass,v.positionPrev.y-=A*v.inverseMass,v.anglePrev-=v.inverseInertia*((y.x-v.position.x)*A-(y.y-v.position.y)*C))}}}}},f.solveVelocity=function(n,e){var s=e/a._baseDelta,u=s*s,i=u*s,o=-f._restingThresh*s,h=f._restingThreshTangent,l=f._frictionNormalMultiplier*s,d=f._frictionMaxStatic,v=n.length,m,x,g,y;for(g=0;g<v;g++){var T=n[g];if(!(!T.isActive||T.isSensor)){var E=T.collision,C=E.parentA,A=E.parentB,P=C.velocity,F=A.velocity,O=E.normal.x,I=E.normal.y,G=E.tangent.x,z=E.tangent.y,X=T.activeContacts,H=X.length,N=1/H,U=C.inverseMass+A.inverseMass,R=T.friction*T.frictionStatic*l;for(P.x=C.position.x-C.positionPrev.x,P.y=C.position.y-C.positionPrev.y,F.x=A.position.x-A.positionPrev.x,F.y=A.position.y-A.positionPrev.y,C.angularVelocity=C.angle-C.anglePrev,A.angularVelocity=A.angle-A.anglePrev,y=0;y<H;y++){var D=X[y],B=D.vertex,V=B.x-C.position.x,Y=B.y-C.position.y,K=B.x-A.position.x,$=B.y-A.position.y,J=P.x-Y*C.angularVelocity,Q=P.y+V*C.angularVelocity,k=F.x-$*A.angularVelocity,q=F.y+K*A.angularVelocity,tt=J-k,_=Q-q,it=O*tt+I*_,st=G*tt+z*_,ht=T.separation+it,ut=Math.min(ht,1);ut=ht<0?0:ut;var et=ut*R;st<-et||st>et?(x=st>0?st:-st,m=T.friction*(st>0?1:-1)*i,m<-x?m=-x:m>x&&(m=x)):(m=st,x=d);var rt=V*I-Y*O,nt=K*I-$*O,pt=N/(U+C.inverseInertia*rt*rt+A.inverseInertia*nt*nt),gt=(1+T.restitution)*it*pt;if(m*=pt,it<o)D.normalImpulse=0;else{var Tt=D.normalImpulse;D.normalImpulse+=gt,D.normalImpulse>0&&(D.normalImpulse=0),gt=D.normalImpulse-Tt}if(st<-h||st>h)D.tangentImpulse=0;else{var lt=D.tangentImpulse;D.tangentImpulse+=m,D.tangentImpulse<-x&&(D.tangentImpulse=-x),D.tangentImpulse>x&&(D.tangentImpulse=x),m=D.tangentImpulse-lt}var ot=O*gt+G*m,at=I*gt+z*m;C.isStatic||C.isSleeping||(C.positionPrev.x+=ot*C.inverseMass,C.positionPrev.y+=at*C.inverseMass,C.anglePrev+=(V*at-Y*ot)*C.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=ot*A.inverseMass,A.positionPrev.y-=at*A.inverseMass,A.anglePrev-=(K*at-$*ot)*A.inverseInertia)}}}}})()},52838:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(10438),r=t(22806),n=t(84091),e=t(50658),s=t(68758);(function(){f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(u){var i=u;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var o=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,h=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,l=a.magnitude(a.sub(o,h));i.length=typeof i.length<"u"?i.length:l,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=s.extend(d,i.render),i},f.preSolveAll=function(u){for(var i=0;i<u.length;i+=1){var o=u[i],h=o.constraintImpulse;o.isStatic||h.x===0&&h.y===0&&h.angle===0||(o.position.x+=h.x,o.position.y+=h.y,o.angle+=h.angle)}},f.solveAll=function(u,i){for(var o=s.clamp(i/s._baseDelta,0,1),h=0;h<u.length;h+=1){var l=u[h],d=!l.bodyA||l.bodyA&&l.bodyA.isStatic,v=!l.bodyB||l.bodyB&&l.bodyB.isStatic;(d||v)&&f.solve(u[h],o)}for(h=0;h<u.length;h+=1)l=u[h],d=!l.bodyA||l.bodyA&&l.bodyA.isStatic,v=!l.bodyB||l.bodyB&&l.bodyB.isStatic,!d&&!v&&f.solve(u[h],o)},f.solve=function(u,i){var o=u.bodyA,h=u.bodyB,l=u.pointA,d=u.pointB;if(!(!o&&!h)){o&&!o.isStatic&&(a.rotate(l,o.angle-u.angleA,l),u.angleA=o.angle),h&&!h.isStatic&&(a.rotate(d,h.angle-u.angleB,d),u.angleB=h.angle);var v=l,m=d;if(o&&(v=a.add(o.position,l)),h&&(m=a.add(h.position,d)),!(!v||!m)){var x=a.sub(v,m),g=a.magnitude(x);g<f._minLength&&(g=f._minLength);var y=(g-u.length)/g,T=u.stiffness>=1||u.length===0,E=T?u.stiffness*i:u.stiffness*i*i,C=u.damping*i,A=a.mult(x,y*E),P=(o?o.inverseMass:0)+(h?h.inverseMass:0),F=(o?o.inverseInertia:0)+(h?h.inverseInertia:0),O=P+F,I,G,z,X,H;if(C>0){var N=a.create();z=a.div(x,g),H=a.sub(h&&a.sub(h.position,h.positionPrev)||N,o&&a.sub(o.position,o.positionPrev)||N),X=a.dot(z,H)}o&&!o.isStatic&&(G=o.inverseMass/P,o.constraintImpulse.x-=A.x*G,o.constraintImpulse.y-=A.y*G,o.position.x-=A.x*G,o.position.y-=A.y*G,C>0&&(o.positionPrev.x-=C*z.x*X*G,o.positionPrev.y-=C*z.y*X*G),I=a.cross(l,A)/O*f._torqueDampen*o.inverseInertia*(1-u.angularStiffness),o.constraintImpulse.angle-=I,o.angle-=I),h&&!h.isStatic&&(G=h.inverseMass/P,h.constraintImpulse.x+=A.x*G,h.constraintImpulse.y+=A.y*G,h.position.x+=A.x*G,h.position.y+=A.y*G,C>0&&(h.positionPrev.x+=C*z.x*X*G,h.positionPrev.y+=C*z.y*X*G),I=a.cross(d,A)/O*f._torqueDampen*h.inverseInertia*(1-u.angularStiffness),h.constraintImpulse.angle+=I,h.angle+=I)}}},f.postSolveAll=function(u){for(var i=0;i<u.length;i++){var o=u[i],h=o.constraintImpulse;if(!(o.isStatic||h.x===0&&h.y===0&&h.angle===0)){r.set(o,!1);for(var l=0;l<o.parts.length;l++){var d=o.parts[l];c.translate(d.vertices,h),l>0&&(d.position.x+=h.x,d.position.y+=h.y),h.angle!==0&&(c.rotate(d.vertices,h.angle,o.position),e.rotate(d.axes,h.angle),l>0&&a.rotateAbout(d.position,h.angle,o.position,d.position)),n.update(d.bounds,d.vertices,o.velocity)}h.angle*=f._warming,h.x*=f._warming,h.y*=f._warming}}},f.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),y:(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0)}},f.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),y:(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0)}},f.currentLength=function(u){var i=(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),o=(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0),h=(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),l=(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0),d=i-h,v=o-l;return Math.sqrt(d*d+v*v)}})()},68758:(p,S,t)=>{var f={};p.exports=f,function(){f._baseDelta=16.666666666666668,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(a,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var u=arguments[s];if(u)for(var i in u)e&&u[i]&&u[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},f.extend(a[i],e,u[i])):a[i]=u[i]}return a},f.clone=function(a,r){return f.extend({},r,a)},f.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var n in a)r.push(n);return r},f.values=function(a){var r=[];if(Object.keys){for(var n=Object.keys(a),e=0;e<n.length;e++)r.push(a[n[e]]);return r}for(var s in a)r.push(a[s]);return r},f.get=function(a,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)a=a[r[s]];return a},f.set=function(a,r,n,e,s){var u=r.split(".").slice(e,s);return f.get(a,r,0,-1)[u[u.length-1]]=n,n},f.shuffle=function(a){for(var r=a.length-1;r>0;r--){var n=Math.floor(f.random()*(r+1)),e=a[r];a[r]=a[n],a[n]=e}return a},f.choose=function(a){return a[Math.floor(f.random()*a.length)]},f.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},f.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},f.isFunction=function(a){return typeof a=="function"},f.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},f.isString=function(a){return toString.call(a)==="[object String]"},f.clamp=function(a,r,n){return a<r?r:a>n?n:a},f.sign=function(a){return a<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+c()*(r-a)};var c=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[a]||(f.warn(a),f._warnedOnce[a]=!0)},f.deprecated=function(a,r,n){a[r]=f.chain(function(){f.warnOnce("\u{1F505} deprecated \u{1F505}",n)},a[r])},f.nextId=function(){return f._nextId++},f.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var n=0;n<a.length;n++)if(a[n]===r)return n;return-1},f.map=function(a,r){if(a.map)return a.map(r);for(var n=[],e=0;e<a.length;e+=1)n.push(r(a[e]));return n},f.topologicalSort=function(a){var r=[],n=[],e=[];for(var s in a)!n[s]&&!e[s]&&f._topologicalSort(s,n,e,a,r);return r},f._topologicalSort=function(a,r,n,e,s){var u=e[a]||[];n[a]=!0;for(var i=0;i<u.length;i+=1){var o=u[i];n[o]||r[o]||f._topologicalSort(o,r,n,e,s)}n[a]=!1,r[a]=!0,s.push(a)},f.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?a.push.apply(a,n._chained):a.push(n)}var e=function(){for(var s,u=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)u[i]=arguments[i];for(i=0;i<a.length;i+=1){var h=a[i].apply(s,u);typeof h<"u"&&(s=h)}return s};return e._chained=a,e},f.chainPathBefore=function(a,r,n){return f.set(a,r,f.chain(n,f.get(a,r)))},f.chainPathAfter=function(a,r,n){return f.set(a,r,f.chain(f.get(a,r),n))},f.setDecomp=function(a){f._decomp=a},f.getDecomp=function(){var a=f._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},45775:(p,S,t)=>{var f={};p.exports=f;var c=t(22806),a=t(44272),r=t(13657),n=t(91327),e=t(39073),s=t(11299),u=t(52838),i=t(68758),o=t(84125);(function(){f.create=function(h){h=h||{};var l={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=i.extend(l,h);return d.world=h.world||s.create({label:"World"}),d.pairs=h.pairs||n.create(),d.detector=h.detector||r.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},f.update=function(h,l){var d=i.now(),v=h.world,m=h.detector,x=h.pairs,g=h.timing,y=g.timestamp,T;l=typeof l<"u"?l:i._baseDelta,l*=g.timeScale,g.timestamp+=l,g.lastDelta=l;var E={timestamp:g.timestamp,delta:l};e.trigger(h,"beforeUpdate",E);var C=s.allBodies(v),A=s.allConstraints(v);for(v.isModified&&(r.setBodies(m,C),s.setModified(v,!1,!1,!0)),h.enableSleeping&&c.update(C,l),f._bodiesApplyGravity(C,h.gravity),l>0&&f._bodiesUpdate(C,l),e.trigger(h,"beforeSolve",E),u.preSolveAll(C),T=0;T<h.constraintIterations;T++)u.solveAll(A,l);u.postSolveAll(C),m.pairs=h.pairs;var P=r.collisions(m);n.update(x,P,y),h.enableSleeping&&c.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(h,"collisionStart",{pairs:x.collisionStart,timestamp:g.timestamp,delta:l});var F=i.clamp(20/h.positionIterations,0,1);for(a.preSolvePosition(x.list),T=0;T<h.positionIterations;T++)a.solvePosition(x.list,l,F);for(a.postSolvePosition(C),u.preSolveAll(C),T=0;T<h.constraintIterations;T++)u.solveAll(A,l);for(u.postSolveAll(C),a.preSolveVelocity(x.list),T=0;T<h.velocityIterations;T++)a.solveVelocity(x.list,l);return f._bodiesUpdateVelocities(C),x.collisionActive.length>0&&e.trigger(h,"collisionActive",{pairs:x.collisionActive,timestamp:g.timestamp,delta:l}),x.collisionEnd.length>0&&e.trigger(h,"collisionEnd",{pairs:x.collisionEnd,timestamp:g.timestamp,delta:l}),f._bodiesClearForces(C),e.trigger(h,"afterUpdate",E),h.timing.lastElapsed=i.now()-d,h},f.merge=function(h,l){if(i.extend(h,l),l.world){h.world=l.world,f.clear(h);for(var d=s.allBodies(h.world),v=0;v<d.length;v++){var m=d[v];c.set(m,!1),m.id=i.nextId()}}},f.clear=function(h){n.clear(h.pairs),r.clear(h.detector)},f._bodiesClearForces=function(h){for(var l=h.length,d=0;d<l;d++){var v=h[d];v.force.x=0,v.force.y=0,v.torque=0}},f._bodiesApplyGravity=function(h,l){var d=typeof l.scale<"u"?l.scale:.001,v=h.length;if(!(l.x===0&&l.y===0||d===0))for(var m=0;m<v;m++){var x=h[m];x.ignoreGravity||x.isStatic||x.isSleeping||(x.force.y+=x.mass*l.y*d,x.force.x+=x.mass*l.x*d)}},f._bodiesUpdate=function(h,l){for(var d=h.length,v=0;v<d;v++){var m=h[v];m.isStatic||m.isSleeping||o.update(m,l)}},f._bodiesUpdateVelocities=function(h){for(var l=h.length,d=0;d<l;d++)o.updateVelocities(h[d])}})()},39073:(p,S,t)=>{var f={};p.exports=f;var c=t(68758);(function(){f.on=function(a,r,n){for(var e=r.split(" "),s,u=0;u<e.length;u++)s=e[u],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(n);return n},f.off=function(a,r,n){if(!r){a.events={};return}typeof r=="function"&&(n=r,r=c.keys(a.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var u=a.events[e[s]],i=[];if(n&&u)for(var o=0;o<u.length;o++)u[o]!==n&&i.push(u[o]);a.events[e[s]]=i}},f.trigger=function(a,r,n){var e,s,u,i,o=a.events;if(o&&c.keys(o).length>0){n||(n={}),e=r.split(" ");for(var h=0;h<e.length;h++)if(s=e[h],u=o[s],u){i=c.clone(n,!1),i.name=s,i.source=a;for(var l=0;l<u.length;l++)u[l].apply(a,[i])}}}})()},16929:(p,S,t)=>{var f={};p.exports=f;var c=t(84474),a=t(68758);(function(){f.name="matter-js",f.version="0.19.0",f.uses=[],f.used=[],f.use=function(){c.use(f,Array.prototype.slice.call(arguments))},f.before=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathBefore(f,r,n)},f.after=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathAfter(f,r,n)}})()},84474:(p,S,t)=>{var f={};p.exports=f;var c=t(68758);(function(){f._registry={},f.register=function(a){if(f.isPlugin(a)||c.warn("Plugin.register:",f.toString(a),"does not implement all required fields."),a.name in f._registry){var r=f._registry[a.name],n=f.versionParse(a.version).number,e=f.versionParse(r.version).number;n>e?(c.warn("Plugin.register:",f.toString(r),"was upgraded to",f.toString(a)),f._registry[a.name]=a):n<e?c.warn("Plugin.register:",f.toString(r),"can not be downgraded to",f.toString(a)):a!==r&&c.warn("Plugin.register:",f.toString(a),"is already registered to different plugin object")}else f._registry[a.name]=a;return a},f.resolve=function(a){return f._registry[f.dependencyParse(a).name]},f.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},f.isPlugin=function(a){return a&&a.name&&a.version&&a.install},f.isUsed=function(a,r){return a.used.indexOf(r)>-1},f.isFor=function(a,r){var n=a.for&&f.dependencyParse(a.for);return!a.for||r.name===n.name&&f.versionSatisfies(r.version,n.range)},f.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){c.warn("Plugin.use:",f.toString(a),"does not specify any dependencies to install.");return}for(var n=f.dependencies(a),e=c.topologicalSort(n),s=[],u=0;u<e.length;u+=1)if(e[u]!==a.name){var i=f.resolve(e[u]);if(!i){s.push("\u274C "+e[u]);continue}f.isUsed(a,i.name)||(f.isFor(i,a)||(c.warn("Plugin.use:",f.toString(i),"is for",i.for,"but installed on",f.toString(a)+"."),i._warned=!0),i.install?i.install(a):(c.warn("Plugin.use:",f.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push("\u{1F536} "+f.toString(i)),delete i._warned):s.push("\u2705 "+f.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&c.info(s.join("  "))},f.dependencies=function(a,r){var n=f.dependencyParse(a),e=n.name;if(r=r||{},!(e in r)){a=f.resolve(a)||a,r[e]=c.map(a.uses||[],function(u){f.isPlugin(u)&&f.register(u);var i=f.dependencyParse(u),o=f.resolve(u);return o&&!f.versionSatisfies(o.version,i.range)?(c.warn("Plugin.dependencies:",f.toString(o),"does not satisfy",f.toString(i),"used by",f.toString(n)+"."),o._warned=!0,a._warned=!0):o||(c.warn("Plugin.dependencies:",f.toString(u),"used by",f.toString(n),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)f.dependencies(r[e][s],r);return r}},f.dependencyParse=function(a){if(c.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||c.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},f.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||c.warn("Plugin.versionParse:",a,"is not a valid version or range.");var n=r.exec(a),e=Number(n[4]),s=Number(n[5]),u=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:a,operator:n[1]||n[2]||"",major:e,minor:s,patch:u,parts:[e,s,u],prerelease:n[7],number:e*1e8+s*1e4+u}},f.versionSatisfies=function(a,r){r=r||"*";var n=f.versionParse(r),e=f.versionParse(a);if(n.isRange){if(n.operator==="*"||a==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return a===r||a==="*"}})()},22806:(p,S,t)=>{var f={};p.exports=f;var c=t(84125),a=t(39073),r=t(68758);(function(){f._motionWakeThreshold=.18,f._motionSleepThreshold=.08,f._minBias=.9,f.update=function(n,e){for(var s=e/r._baseDelta,u=f._motionSleepThreshold,i=0;i<n.length;i++){var o=n[i],h=c.getSpeed(o),l=c.getAngularSpeed(o),d=h*h+l*l;if(o.force.x!==0||o.force.y!==0){f.set(o,!1);continue}var v=Math.min(o.motion,d),m=Math.max(o.motion,d);o.motion=f._minBias*v+(1-f._minBias)*m,o.sleepThreshold>0&&o.motion<u?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/s&&f.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},f.afterCollisions=function(n){for(var e=f._motionSleepThreshold,s=0;s<n.length;s++){var u=n[s];if(!!u.isActive){var i=u.collision,o=i.bodyA.parent,h=i.bodyB.parent;if(!(o.isSleeping&&h.isSleeping||o.isStatic||h.isStatic)&&(o.isSleeping||h.isSleeping)){var l=o.isSleeping&&!o.isStatic?o:h,d=l===o?h:o;!l.isStatic&&d.motion>e&&f.set(l,!1)}}}},f.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||a.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&a.trigger(n,"sleepEnd"))}})()},68516:(p,S,t)=>{var f={};p.exports=f;var c=t(39745),a=t(68758),r=t(84125),n=t(84091),e=t(10438);(function(){f.rectangle=function(s,u,i,o,h){h=h||{};var l={label:"Rectangle Body",position:{x:s,y:u},vertices:c.fromPath("L 0 0 L "+i+" 0 L "+i+" "+o+" L 0 "+o)};if(h.chamfer){var d=h.chamfer;l.vertices=c.chamfer(l.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete h.chamfer}return r.create(a.extend({},l,h))},f.trapezoid=function(s,u,i,o,h,l){l=l||{},h*=.5;var d=(1-h*2)*i,v=i*h,m=v+d,x=m+v,g;h<.5?g="L 0 0 L "+v+" "+-o+" L "+m+" "+-o+" L "+x+" 0":g="L 0 0 L "+m+" "+-o+" L "+x+" 0";var y={label:"Trapezoid Body",position:{x:s,y:u},vertices:c.fromPath(g)};if(l.chamfer){var T=l.chamfer;y.vertices=c.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete l.chamfer}return r.create(a.extend({},y,l))},f.circle=function(s,u,i,o,h){o=o||{};var l={label:"Circle Body",circleRadius:i};h=h||25;var d=Math.ceil(Math.max(10,Math.min(h,i)));return d%2===1&&(d+=1),f.polygon(s,u,d,i,a.extend({},l,o))},f.polygon=function(s,u,i,o,h){if(h=h||{},i<3)return f.circle(s,u,o,h);for(var l=2*Math.PI/i,d="",v=l*.5,m=0;m<i;m+=1){var x=v+m*l,g=Math.cos(x)*o,y=Math.sin(x)*o;d+="L "+g.toFixed(3)+" "+y.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:s,y:u},vertices:c.fromPath(d)};if(h.chamfer){var E=h.chamfer;T.vertices=c.chamfer(T.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete h.chamfer}return r.create(a.extend({},T,h))},f.fromVertices=function(s,u,i,o,h,l,d,v){var m=a.getDecomp(),x,g,y,T,E,C,A,P,F,O,I;for(x=Boolean(m&&m.quickDecomp),o=o||{},y=[],h=typeof h<"u"?h:!1,l=typeof l<"u"?l:.01,d=typeof d<"u"?d:10,v=typeof v<"u"?v:.01,a.isArray(i[0])||(i=[i]),O=0;O<i.length;O+=1)if(C=i[O],T=c.isConvex(C),E=!T,E&&!x&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!x)T?C=c.clockwiseSort(C):C=c.hull(C),y.push({position:{x:s,y:u},vertices:C});else{var G=C.map(function(K){return[K.x,K.y]});m.makeCCW(G),l!==!1&&m.removeCollinearPoints(G,l),v!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(G,v);var z=m.quickDecomp(G);for(A=0;A<z.length;A++){var X=z[A],H=X.map(function(K){return{x:K[0],y:K[1]}});d>0&&c.area(H)<d||y.push({position:c.centre(H),vertices:H})}}for(A=0;A<y.length;A++)y[A]=r.create(a.extend(y[A],o));if(h){var N=5;for(A=0;A<y.length;A++){var U=y[A];for(P=A+1;P<y.length;P++){var R=y[P];if(n.overlaps(U.bounds,R.bounds)){var D=U.vertices,B=R.vertices;for(F=0;F<U.vertices.length;F++)for(I=0;I<R.vertices.length;I++){var V=e.magnitudeSquared(e.sub(D[(F+1)%D.length],B[I])),Y=e.magnitudeSquared(e.sub(D[F],B[(I+1)%B.length]));V<N&&Y<N&&(D[F].isInternal=!0,B[I].isInternal=!0)}}}}}return y.length>1?(g=r.create(a.extend({parts:y.slice(0)},o)),r.setPosition(g,{x:s,y:u}),g):y[0]},f.flagCoincidentParts=function(s,u){u===void 0&&(u=5);for(var i=0;i<s.length;i++)for(var o=s[i],h=i+1;h<s.length;h++){var l=s[h];if(n.overlaps(o.bounds,l.bounds))for(var d=o.vertices,v=l.vertices,m=0;m<o.vertices.length;m++)for(var x=0;x<l.vertices.length;x++){var g=e.magnitudeSquared(e.sub(d[(m+1)%d.length],v[x])),y=e.magnitudeSquared(e.sub(d[m],v[(x+1)%v.length]));g<u&&y<u&&(d[m].isInternal=!0,v[x].isInternal=!0)}}return s}})()},56643:(p,S,t)=>{var f={};p.exports=f;var c=t(11299),a=t(52838),r=t(68758),n=t(84125),e=t(68516);(function(){f.stack=function(s,u,i,o,h,l,d){for(var v=c.create({label:"Stack"}),m=s,x=u,g,y=0,T=0;T<o;T++){for(var E=0,C=0;C<i;C++){var A=d(m,x,C,T,g,y);if(A){var P=A.bounds.max.y-A.bounds.min.y,F=A.bounds.max.x-A.bounds.min.x;P>E&&(E=P),n.translate(A,{x:F*.5,y:P*.5}),m=A.bounds.max.x+h,c.addBody(v,A),g=A,y+=1}else m+=h}x+=E+l,m=s}return v},f.chain=function(s,u,i,o,h,l){for(var d=s.bodies,v=1;v<d.length;v++){var m=d[v-1],x=d[v],g=m.bounds.max.y-m.bounds.min.y,y=m.bounds.max.x-m.bounds.min.x,T=x.bounds.max.y-x.bounds.min.y,E=x.bounds.max.x-x.bounds.min.x,C={bodyA:m,pointA:{x:y*u,y:g*i},bodyB:x,pointB:{x:E*o,y:T*h}},A=r.extend(C,l);c.addConstraint(s,a.create(A))}return s.label+=" Chain",s},f.mesh=function(s,u,i,o,h){var l=s.bodies,d,v,m,x,g;for(d=0;d<i;d++){for(v=1;v<u;v++)m=l[v-1+d*u],x=l[v+d*u],c.addConstraint(s,a.create(r.extend({bodyA:m,bodyB:x},h)));if(d>0)for(v=0;v<u;v++)m=l[v+(d-1)*u],x=l[v+d*u],c.addConstraint(s,a.create(r.extend({bodyA:m,bodyB:x},h))),o&&v>0&&(g=l[v-1+(d-1)*u],c.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:x},h)))),o&&v<u-1&&(g=l[v+1+(d-1)*u],c.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:x},h))))}return s.label+=" Mesh",s},f.pyramid=function(s,u,i,o,h,l,d){return f.stack(s,u,i,o,h,l,function(v,m,x,g,y,T){var E=Math.min(o,Math.ceil(i/2)),C=y?y.bounds.max.x-y.bounds.min.x:0;if(!(g>E)){g=E-g;var A=g,P=i-1-g;if(!(x<A||x>P)){T===1&&n.translate(y,{x:(x+(i%2===1?1:-1))*C,y:0});var F=y?x*C:0;return d(s+F+x*h,m,x,g,y,T)}}})},f.newtonsCradle=function(s,u,i,o,h){for(var l=c.create({label:"Newtons Cradle"}),d=0;d<i;d++){var v=1.9,m=e.circle(s+d*(o*v),u+h,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=a.create({pointA:{x:s+d*(o*v),y:u},bodyB:m});c.addBody(l,m),c.addConstraint(l,x)}return l},f.car=function(s,u,i,o,h){var l=n.nextGroup(!0),d=20,v=-i*.5+d,m=i*.5-d,x=0,g=c.create({label:"Car"}),y=e.rectangle(s,u,i,o,{collisionFilter:{group:l},chamfer:{radius:o*.5},density:2e-4}),T=e.circle(s+v,u+x,h,{collisionFilter:{group:l},friction:.8}),E=e.circle(s+m,u+x,h,{collisionFilter:{group:l},friction:.8}),C=a.create({bodyB:y,pointB:{x:v,y:x},bodyA:T,stiffness:1,length:0}),A=a.create({bodyB:y,pointB:{x:m,y:x},bodyA:E,stiffness:1,length:0});return c.addBody(g,y),c.addBody(g,T),c.addBody(g,E),c.addConstraint(g,C),c.addConstraint(g,A),g},f.softBody=function(s,u,i,o,h,l,d,v,m,x){m=r.extend({inertia:1/0},m),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var g=f.stack(s,u,i,o,h,l,function(y,T){return e.circle(y,T,v,m)});return f.mesh(g,i,o,d,x),g.label="Soft Body",g}})()},50658:(p,S,t)=>{var f={};p.exports=f;var c=t(10438),a=t(68758);(function(){f.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,u=c.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=u.y===0?1/0:u.x/u.y;i=i.toFixed(3).toString(),n[i]=u}return a.values(n)},f.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),u=0;u<r.length;u++){var i=r[u],o;o=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=o}}})()},84091:p=>{var S={};p.exports=S,function(){S.create=function(t){var f={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(f,t),f},S.update=function(t,f,c){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<f.length;a++){var r=f[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}c&&(c.x>0?t.max.x+=c.x:t.min.x+=c.x,c.y>0?t.max.y+=c.y:t.min.y+=c.y)},S.contains=function(t,f){return f.x>=t.min.x&&f.x<=t.max.x&&f.y>=t.min.y&&f.y<=t.max.y},S.overlaps=function(t,f){return t.min.x<=f.max.x&&t.max.x>=f.min.x&&t.max.y>=f.min.y&&t.min.y<=f.max.y},S.translate=function(t,f){t.min.x+=f.x,t.max.x+=f.x,t.min.y+=f.y,t.max.y+=f.y},S.shift=function(t,f){var c=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=f.x,t.max.x=f.x+c,t.min.y=f.y,t.max.y=f.y+a}}()},92765:(p,S,t)=>{var f={};p.exports=f,t(84091);var c=t(68758);(function(){f.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,u,i,o,h,l,d,v,m=[],x,g,y=0,T=0,E=0;r=r||15;var C=function(P,F,O){var I=O%2===1&&O>1;if(!d||P!=d.x||F!=d.y){d&&I?(x=d.x,g=d.y):(x=0,g=0);var G={x:x+P,y:g+F};(I||!d)&&(d=G),m.push(G),T=x+P,E=g+F}},A=function(P){var F=P.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":T=P.x,E=P.y;break;case"H":T=P.x;break;case"V":E=P.y;break}C(T,E,P.pathSegType)}};for(f._svgPathToAbsolute(a),s=a.getTotalLength(),o=[],n=0;n<a.pathSegList.numberOfItems;n+=1)o.push(a.pathSegList.getItem(n));for(h=o.concat();y<s;){if(v=a.getPathSegAtLength(y),i=o[v],i!=l){for(;h.length&&h[0]!=i;)A(h.shift());l=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=a.getPointAtLength(y),C(u.x,u.y,0);break}y+=r}for(n=0,e=h.length;n<e;++n)A(h[n]);return m},f._svgPathToAbsolute=function(a){for(var r,n,e,s,u,i,o=a.pathSegList,h=0,l=0,d=o.numberOfItems,v=0;v<d;++v){var m=o.getItem(v),x=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in m&&(h=m.x),"y"in m&&(l=m.y);else switch("x1"in m&&(e=h+m.x1),"x2"in m&&(u=h+m.x2),"y1"in m&&(s=l+m.y1),"y2"in m&&(i=l+m.y2),"x"in m&&(h+=m.x),"y"in m&&(l+=m.y),x){case"m":o.replaceItem(a.createSVGPathSegMovetoAbs(h,l),v);break;case"l":o.replaceItem(a.createSVGPathSegLinetoAbs(h,l),v);break;case"h":o.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(h),v);break;case"v":o.replaceItem(a.createSVGPathSegLinetoVerticalAbs(l),v);break;case"c":o.replaceItem(a.createSVGPathSegCurvetoCubicAbs(h,l,e,s,u,i),v);break;case"s":o.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(h,l,u,i),v);break;case"q":o.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(h,l,e,s),v);break;case"t":o.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(h,l),v);break;case"a":o.replaceItem(a.createSVGPathSegArcAbs(h,l,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),v);break;case"z":case"Z":h=r,l=n;break}(x=="M"||x=="m")&&(r=h,n=l)}}})()},10438:p=>{var S={};p.exports=S,function(){S.create=function(t,f){return{x:t||0,y:f||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,f,c){var a=Math.cos(f),r=Math.sin(f);c||(c={});var n=t.x*a-t.y*r;return c.y=t.x*r+t.y*a,c.x=n,c},S.rotateAbout=function(t,f,c,a){var r=Math.cos(f),n=Math.sin(f);a||(a={});var e=c.x+((t.x-c.x)*r-(t.y-c.y)*n);return a.y=c.y+((t.x-c.x)*n+(t.y-c.y)*r),a.x=e,a},S.normalise=function(t){var f=S.magnitude(t);return f===0?{x:0,y:0}:{x:t.x/f,y:t.y/f}},S.dot=function(t,f){return t.x*f.x+t.y*f.y},S.cross=function(t,f){return t.x*f.y-t.y*f.x},S.cross3=function(t,f,c){return(f.x-t.x)*(c.y-t.y)-(f.y-t.y)*(c.x-t.x)},S.add=function(t,f,c){return c||(c={}),c.x=t.x+f.x,c.y=t.y+f.y,c},S.sub=function(t,f,c){return c||(c={}),c.x=t.x-f.x,c.y=t.y-f.y,c},S.mult=function(t,f){return{x:t.x*f,y:t.y*f}},S.div=function(t,f){return{x:t.x/f,y:t.y/f}},S.perp=function(t,f){return f=f===!0?-1:1,{x:f*-t.y,y:f*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,f){return Math.atan2(f.y-t.y,f.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(p,S,t)=>{var f={};p.exports=f;var c=t(10438),a=t(68758);(function(){f.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var u=r[s],i={x:u.x,y:u.y,index:s,body:n,isInternal:!1};e.push(i)}return e},f.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(u,i,o){s.push({x:parseFloat(i),y:parseFloat(o)})}),f.create(s,n)},f.centre=function(r){for(var n=f.area(r,!0),e={x:0,y:0},s,u,i,o=0;o<r.length;o++)i=(o+1)%r.length,s=c.cross(r[o],r[i]),u=c.mult(c.add(r[o],r[i]),s),e=c.add(e,u);return c.div(e,6*n)},f.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return c.div(n,r.length)},f.area=function(r,n){for(var e=0,s=r.length-1,u=0;u<r.length;u++)e+=(r[s].x-r[u].x)*(r[s].y+r[u].y),s=u;return n?e/2:Math.abs(e)/2},f.inertia=function(r,n){for(var e=0,s=0,u=r,i,o,h=0;h<u.length;h++)o=(h+1)%u.length,i=Math.abs(c.cross(u[o],u[h])),e+=i*(c.dot(u[o],u[o])+c.dot(u[o],u[h])+c.dot(u[h],u[h])),s+=i;return n/6*(e/s)},f.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,u=n.x*e,i=n.y*e,o;for(o=0;o<s;o++)r[o].x+=u,r[o].y+=i;return r},f.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),u=Math.sin(n),i=e.x,o=e.y,h=r.length,l,d,v,m;for(m=0;m<h;m++)l=r[m],d=l.x-i,v=l.y-o,l.x=i+(d*s-v*u),l.y=o+(d*u+v*s);return r}},f.contains=function(r,n){for(var e=n.x,s=n.y,u=r.length,i=r[u-1],o,h=0;h<u;h++){if(o=r[h],(e-i.x)*(o.y-i.y)+(s-i.y)*(i.x-o.x)>0)return!1;i=o}return!0},f.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||f.centre(r);for(var u,i,o=0;o<r.length;o++)u=r[o],i=c.sub(u,s),r[o].x=s.x+i.x*n,r[o].y=s.y+i.y*e;return r},f.chamfer=function(r,n,e,s,u){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,u=u||14;for(var i=[],o=0;o<r.length;o++){var h=r[o-1>=0?o-1:r.length-1],l=r[o],d=r[(o+1)%r.length],v=n[o<n.length?o:n.length-1];if(v===0){i.push(l);continue}var m=c.normalise({x:l.y-h.y,y:h.x-l.x}),x=c.normalise({x:d.y-l.y,y:l.x-d.x}),g=Math.sqrt(2*Math.pow(v,2)),y=c.mult(a.clone(m),v),T=c.normalise(c.mult(c.add(m,x),.5)),E=c.sub(l,c.mult(T,g)),C=e;e===-1&&(C=Math.pow(v,.32)*1.75),C=a.clamp(C,s,u),C%2===1&&(C+=1);for(var A=Math.acos(c.dot(m,x)),P=A/C,F=0;F<C;F++)i.push(c.add(c.rotate(y,P*F),E))}return i},f.clockwiseSort=function(r){var n=f.mean(r);return r.sort(function(e,s){return c.angle(n,e)-c.angle(n,s)}),r},f.isConvex=function(r){var n=0,e=r.length,s,u,i,o;if(e<3)return null;for(s=0;s<e;s++)if(u=(s+1)%e,i=(s+2)%e,o=(r[u].x-r[s].x)*(r[i].y-r[u].y),o-=(r[u].y-r[s].y)*(r[i].x-r[u].x),o<0?n|=1:o>0&&(n|=2),n===3)return!1;return n!==0?!0:null},f.hull=function(r){var n=[],e=[],s,u;for(r=r.slice(0),r.sort(function(i,o){var h=i.x-o.x;return h!==0?h:i.y-o.y}),u=0;u<r.length;u+=1){for(s=r[u];e.length>=2&&c.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(u=r.length-1;u>=0;u-=1){for(s=r[u];n.length>=2&&c.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},1675:(p,S,t)=>{var f=t(18171),c={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){c.Body.init(this)}),a.before("Engine.update",function(r){c.Engine.update(r)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var r=f.Composite.allBodies(a.world),n=0;n<r.length;n++){var e=r[n],s=e.plugin.attractors;if(s&&s.length>0)for(var u=0;u<r.length;u++){var i=r[u];if(n!==u)for(var o=0;o<s.length;o++){var h=s[o],l=h;f.Common.isFunction(h)&&(l=h(e,i)),l&&f.Body.applyForce(i,i.position,l)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,r){var n=f.Vector.sub(r.position,a.position),e=f.Vector.magnitudeSquared(n)||1e-4,s=f.Vector.normalise(n),u=-c.Attractors.gravityConstant*(a.mass*r.mass/e),i=f.Vector.mult(s,u);f.Body.applyForce(a,a.position,f.Vector.neg(i)),f.Body.applyForce(r,r.position,i)}}};p.exports=c},80391:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(f){f.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collide",a,r,c),r.gameObject&&r.gameObject.emit("collide",r,a,c),t.Events.trigger(a,"onCollide",{pair:c}),t.Events.trigger(r,"onCollide",{pair:c}),a.onCollideCallback&&a.onCollideCallback(c),r.onCollideCallback&&r.onCollideCallback(c),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,c),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,c)})}),t.Events.on(this,"collisionActive",function(f){f.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,r,c),r.gameObject&&r.gameObject.emit("collideActive",r,a,c),t.Events.trigger(a,"onCollideActive",{pair:c}),t.Events.trigger(r,"onCollideActive",{pair:c}),a.onCollideActiveCallback&&a.onCollideActiveCallback(c),r.onCollideActiveCallback&&r.onCollideActiveCallback(c)})}),t.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,r,c),r.gameObject&&r.gameObject.emit("collideEnd",r,a,c),t.Events.trigger(a,"onCollideEnd",{pair:c}),t.Events.trigger(r,"onCollideEnd",{pair:c}),a.onCollideEndCallback&&a.onCollideEndCallback(c),r.onCollideEndCallback&&r.onCollideEndCallback(c)})})})}};p.exports=S},44097:(p,S,t)=>{var f=t(18171),c={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){c.Engine.update(this)})},Engine:{update:function(a){for(var r=a.world,n=f.Composite.allBodies(r),e=f.Composite.allComposites(r),s=0;s<n.length;s+=1){var u=n[s];u.plugin.wrap&&c.Body.wrap(u,u.plugin.wrap)}for(s=0;s<e.length;s+=1){var i=e[s];i.plugin.wrap&&c.Composite.wrap(i,i.plugin.wrap)}}},Bounds:{wrap:function(a,r){var n=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(a.min.x>r.max.x?n=r.min.x-a.max.x:a.max.x<r.min.x&&(n=r.max.x-a.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(a.min.y>r.max.y?e=r.min.y-a.max.y:a.max.y<r.min.y&&(e=r.max.y-a.min.y)),n!==null||e!==null)return{x:n||0,y:e||0}}},Body:{wrap:function(a,r){var n=c.Bounds.wrap(a.bounds,r);return n&&f.Body.translate(a,n),n}},Composite:{bounds:function(a){for(var r=f.Composite.allBodies(a),n=[],e=0;e<r.length;e+=1){var s=r[e];n.push(s.bounds.min,s.bounds.max)}return f.Bounds.create(n)},wrap:function(a,r){var n=c.Bounds.wrap(c.Composite.bounds(a),r);return n&&f.Composite.translate(a,n),n}}};p.exports=c},81084:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:A,quickDecomp:I,isSimple:F,removeCollinearPoints:G,removeDuplicatePoints:z,makeCCW:d};function S(N,U,R){R=R||0;var D=[0,0],B,V,Y,K,$,J,Q;return B=N[1][1]-N[0][1],V=N[0][0]-N[1][0],Y=B*N[0][0]+V*N[0][1],K=U[1][1]-U[0][1],$=U[0][0]-U[1][0],J=K*U[0][0]+$*U[0][1],Q=B*$-K*V,X(Q,0,R)||(D[0]=($*Y-V*J)/Q,D[1]=(B*J-K*Y)/Q),D}function t(N,U,R,D){var B=U[0]-N[0],V=U[1]-N[1],Y=D[0]-R[0],K=D[1]-R[1];if(Y*V-K*B===0)return!1;var $=(B*(R[1]-N[1])+V*(N[0]-R[0]))/(Y*V-K*B),J=(Y*(N[1]-R[1])+K*(R[0]-N[0]))/(K*B-Y*V);return $>=0&&$<=1&&J>=0&&J<=1}function f(N,U,R){return(U[0]-N[0])*(R[1]-N[1])-(R[0]-N[0])*(U[1]-N[1])}function c(N,U,R){return f(N,U,R)>0}function a(N,U,R){return f(N,U,R)>=0}function r(N,U,R){return f(N,U,R)<0}function n(N,U,R){return f(N,U,R)<=0}var e=[],s=[];function u(N,U,R,D){if(D){var B=e,V=s;B[0]=U[0]-N[0],B[1]=U[1]-N[1],V[0]=R[0]-U[0],V[1]=R[1]-U[1];var Y=B[0]*V[0]+B[1]*V[1],K=Math.sqrt(B[0]*B[0]+B[1]*B[1]),$=Math.sqrt(V[0]*V[0]+V[1]*V[1]),J=Math.acos(Y/(K*$));return J<D}else return f(N,U,R)===0}function i(N,U){var R=U[0]-N[0],D=U[1]-N[1];return R*R+D*D}function o(N,U){var R=N.length;return N[U<0?U%R+R:U%R]}function h(N){N.length=0}function l(N,U,R,D){for(var B=R;B<D;B++)N.push(U[B])}function d(N){for(var U=0,R=N,D=1;D<N.length;++D)(R[D][1]<R[U][1]||R[D][1]===R[U][1]&&R[D][0]>R[U][0])&&(U=D);return c(o(N,U-1),o(N,U),o(N,U+1))?!1:(v(N),!0)}function v(N){for(var U=[],R=N.length,D=0;D!==R;D++)U.push(N.pop());for(var D=0;D!==R;D++)N[D]=U[D]}function m(N,U){return r(o(N,U-1),o(N,U),o(N,U+1))}var x=[],g=[];function y(N,U,R){var D,B,V=x,Y=g;if(a(o(N,U+1),o(N,U),o(N,R))&&n(o(N,U-1),o(N,U),o(N,R)))return!1;B=i(o(N,U),o(N,R));for(var K=0;K!==N.length;++K)if(!((K+1)%N.length===U||K===U)&&a(o(N,U),o(N,R),o(N,K+1))&&n(o(N,U),o(N,R),o(N,K))&&(V[0]=o(N,U),V[1]=o(N,R),Y[0]=o(N,K),Y[1]=o(N,K+1),D=S(V,Y),i(o(N,U),D)<B))return!1;return!0}function T(N,U,R){for(var D=0;D!==N.length;++D)if(!(D===U||D===R||(D+1)%N.length===U||(D+1)%N.length===R)&&t(o(N,U),o(N,R),o(N,D),o(N,D+1)))return!1;return!0}function E(N,U,R,D){var B=D||[];if(h(B),U<R)for(var V=U;V<=R;V++)B.push(N[V]);else{for(var V=0;V<=R;V++)B.push(N[V]);for(var V=U;V<N.length;V++)B.push(N[V])}return B}function C(N){for(var U=[],R=[],D=[],B=[],V=Number.MAX_VALUE,Y=0;Y<N.length;++Y)if(m(N,Y)){for(var K=0;K<N.length;++K)if(y(N,Y,K)){R=C(E(N,Y,K,B)),D=C(E(N,K,Y,B));for(var $=0;$<D.length;$++)R.push(D[$]);R.length<V&&(U=R,V=R.length,U.push([o(N,Y),o(N,K)]))}}return U}function A(N){var U=C(N);return U.length>0?P(N,U):[N]}function P(N,U){if(U.length===0)return[N];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var R=[N],D=0;D<U.length;D++)for(var B=U[D],V=0;V<R.length;V++){var Y=R[V],K=P(Y,B);if(K){R.splice(V,1),R.push(K[0],K[1]);break}}return R}else{var B=U,D=N.indexOf(B[0]),V=N.indexOf(B[1]);return D!==-1&&V!==-1?[E(N,D,V),E(N,V,D)]:!1}}function F(N){var U=N,R;for(R=0;R<U.length-1;R++)for(var D=0;D<R-1;D++)if(t(U[R],U[R+1],U[D],U[D+1]))return!1;for(R=1;R<U.length-2;R++)if(t(U[0],U[U.length-1],U[R],U[R+1]))return!1;return!0}function O(N,U,R,D,B){B=B||0;var V=U[1]-N[1],Y=N[0]-U[0],K=V*N[0]+Y*N[1],$=D[1]-R[1],J=R[0]-D[0],Q=$*R[0]+J*R[1],k=V*J-$*Y;return X(k,0,B)?[0,0]:[(J*K-Y*Q)/k,(V*Q-$*K)/k]}function I(N,U,R,D,B,V,Y){V=V||100,Y=Y||0,B=B||25,U=typeof U<"u"?U:[],R=R||[],D=D||[];var K=[0,0],$=[0,0],J=[0,0],Q=0,k=0,q=0,tt=0,_=0,it=0,st=0,ht=[],ut=[],et=N,rt=N;if(rt.length<3)return U;if(Y++,Y>V)return console.warn("quickDecomp: max level ("+V+") reached."),U;for(var nt=0;nt<N.length;++nt)if(m(et,nt)){R.push(et[nt]),Q=k=Number.MAX_VALUE;for(var pt=0;pt<N.length;++pt)c(o(et,nt-1),o(et,nt),o(et,pt))&&n(o(et,nt-1),o(et,nt),o(et,pt-1))&&(J=O(o(et,nt-1),o(et,nt),o(et,pt),o(et,pt-1)),r(o(et,nt+1),o(et,nt),J)&&(q=i(et[nt],J),q<k&&(k=q,$=J,it=pt))),c(o(et,nt+1),o(et,nt),o(et,pt+1))&&n(o(et,nt+1),o(et,nt),o(et,pt))&&(J=O(o(et,nt+1),o(et,nt),o(et,pt),o(et,pt+1)),c(o(et,nt-1),o(et,nt),J)&&(q=i(et[nt],J),q<Q&&(Q=q,K=J,_=pt)));if(it===(_+1)%N.length)J[0]=($[0]+K[0])/2,J[1]=($[1]+K[1])/2,D.push(J),nt<_?(l(ht,et,nt,_+1),ht.push(J),ut.push(J),it!==0&&l(ut,et,it,et.length),l(ut,et,0,nt+1)):(nt!==0&&l(ht,et,nt,et.length),l(ht,et,0,_+1),ht.push(J),ut.push(J),l(ut,et,it,nt+1));else{if(it>_&&(_+=N.length),tt=Number.MAX_VALUE,_<it)return U;for(var pt=it;pt<=_;++pt)a(o(et,nt-1),o(et,nt),o(et,pt))&&n(o(et,nt+1),o(et,nt),o(et,pt))&&(q=i(o(et,nt),o(et,pt)),q<tt&&T(et,nt,pt)&&(tt=q,st=pt%N.length));nt<st?(l(ht,et,nt,st+1),st!==0&&l(ut,et,st,rt.length),l(ut,et,0,nt+1)):(nt!==0&&l(ht,et,nt,rt.length),l(ht,et,0,st+1),l(ut,et,st,nt+1))}return ht.length<ut.length?(I(ht,U,R,D,B,V,Y),I(ut,U,R,D,B,V,Y)):(I(ut,U,R,D,B,V,Y),I(ht,U,R,D,B,V,Y)),U}return U.push(N),U}function G(N,U){for(var R=0,D=N.length-1;N.length>3&&D>=0;--D)u(o(N,D-1),o(N,D),o(N,D+1),U)&&(N.splice(D%N.length,1),R++);return R}function z(N,U){for(var R=N.length-1;R>=1;--R)for(var D=N[R],B=R-1;B>=0;--B)if(H(D,N[B],U)){N.splice(R,1);continue}}function X(N,U,R){return R=R||0,Math.abs(N-U)<=R}function H(N,U,R){return X(N[0],U[0],R)&&X(N[1],U[1],R)}},88257:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=t(56694),c=new f({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=c},18360:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},91963:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},f={};f.register=function(c,a,r,n){n===void 0&&(n=!1),S[c]={plugin:a,mapping:r,custom:n}},f.registerCustom=function(c,a,r,n){t[c]={plugin:a,mapping:r,data:n}},f.hasCore=function(c){return S.hasOwnProperty(c)},f.hasCustom=function(c){return t.hasOwnProperty(c)},f.getCore=function(c){return S[c]},f.getCustom=function(c){return t[c]},f.getCustomClass=function(c){return t.hasOwnProperty(c)?t[c].plugin:null},f.remove=function(c){S.hasOwnProperty(c)&&delete S[c]},f.removeCustom=function(c){t.hasOwnProperty(c)&&delete t[c]},f.destroyCorePlugins=function(){for(var c in S)S.hasOwnProperty(c)&&delete S[c]},f.destroyCustomPlugins=function(){for(var c in t)t.hasOwnProperty(c)&&delete t[c]},p.exports=f},49274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(97081),a=t(6659),r=t(76846),n=t(99325),e=t(61286),s=t(72632),u=t(91963),i=t(66458),o=new f({Extends:a,initialize:function(l){a.call(this),this.game=l,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],l.isBooted?this.boot():l.events.once(c.BOOT,this.boot,this)},boot:function(){var h,l,d,v,m,x,g,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),h=0;h<T.length;h++)l=T[h],d=s(l,"key",null),v=s(l,"plugin",null),m=s(l,"start",!1),x=s(l,"mapping",null),g=s(l,"data",null),d&&(v?this.install(d,v,m,x,g):console.warn("Missing `plugin` for key: "+d));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),h=0;h<T.length;h++)l=T[h],d=s(l,"key",null),v=s(l,"plugin",null),x=s(l,"mapping",null),d&&(v?this.installScenePlugin(d,v,x):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(c.DESTROY,this.destroy,this)},addToScene:function(h,l,d){var v,m,x,g=this.game,y=h.scene,T=h.settings.map,E=h.settings.isBooted;for(v=0;v<l.length;v++)m=l[v],g[m]?(h[m]=g[m],T.hasOwnProperty(m)&&(y[T[m]]=h[m])):m==="game"&&T.hasOwnProperty(m)&&(y[T[m]]=g);for(var C=0;C<d.length;C++)for(x=d[C],v=0;v<x.length;v++)if(m=x[v],!!u.hasCore(m)){var A=u.getCore(m),P=A.mapping,F=new A.plugin(y,this,P);h[P]=F,A.custom?y[P]=F:T.hasOwnProperty(P)&&(y[T[P]]=F),E&&F.boot()}for(x=this.plugins,v=0;v<x.length;v++){var O=x[v];O.mapping&&(y[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var h=this.game.config.defaultPlugins;return h=h.concat(this.scenePlugins),h},installScenePlugin:function(h,l,d,v,m){if(m===void 0&&(m=!1),typeof l!="function"){console.warn("Invalid Scene Plugin: "+h);return}if(u.hasCore(h)||u.register(h,l,d,!0),this.scenePlugins.indexOf(h)===-1)this.scenePlugins.push(h);else if(!m&&u.hasCore(h)){console.warn("Scene Plugin key in use: "+h);return}if(v){var x=new l(v,this,h);v.sys[h]=x,d&&d!==""&&(v[d]=x),x.boot()}},install:function(h,l,d,v,m){if(d===void 0&&(d=!1),v===void 0&&(v=null),m===void 0&&(m=null),typeof l!="function")return console.warn("Invalid Plugin: "+h),null;if(u.hasCustom(h))return console.warn("Plugin key in use: "+h),null;if(v!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:h,plugin:l,start:d,mapping:v,data:m});else if(u.registerCustom(h,l,v,m),d)return this.start(h);return null},getIndex:function(h){for(var l=this.plugins,d=0;d<l.length;d++){var v=l[d];if(v.key===h)return d}return-1},getEntry:function(h){var l=this.getIndex(h);if(l!==-1)return this.plugins[l]},isActive:function(h){var l=this.getEntry(h);return l&&l.active},start:function(h,l){l===void 0&&(l=h);var d=this.getEntry(l);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(h,l)),d?d.plugin:null},createEntry:function(h,l){var d=u.getCustom(h);if(d){var v=new d.plugin(this);d={key:l,plugin:v,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),v.init(d.data),v.start()}return d},stop:function(h){var l=this.getEntry(h);return l&&l.active&&(l.active=!1,l.plugin.stop()),this},get:function(h,l){l===void 0&&(l=!0);var d=this.getEntry(h);if(d)return d.plugin;var v=this.getClass(h);return v&&l?(d=this.createEntry(h,h),d?d.plugin:null):v||null},getClass:function(h){return u.getCustomClass(h)},removeGlobalPlugin:function(h){var l=this.getEntry(h);l&&i(this.plugins,l),u.removeCustom(h)},removeScenePlugin:function(h){i(this.scenePlugins,h),u.remove(h)},registerGameObject:function(h,l,d){return l&&e.register(h,l),d&&n.register(h,d),this},removeGameObject:function(h,l,d){return l===void 0&&(l=!0),d===void 0&&(d=!0),l&&e.remove(h),d&&n.remove(h),this},registerFileType:function(h,l,d){r.register(h,l),d&&d.sys.load&&(d.sys.load[h]=l)},destroy:function(){for(var h=0;h<this.plugins.length;h++)this.plugins[h].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=o},39283:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=t(88257),c=t(56694),a=t(7599),r=new c({Extends:f,initialize:function(e,s,u){f.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=u,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},45615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),f=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,c=(a,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>f){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,u=r-a;p(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+u,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+u/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(s=>c(r,s))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(a=>c(S,a)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},95723:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},91135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(89787),c=t(61840),a=t(56694),r=t(86459),n=t(6659),e=t(81044),s=t(32834),u=t(40444),i=t(38203),o=t(69360),h=new a({Extends:n,initialize:function(d){n.call(this);var v=d.config;this.config={clearBeforeRender:v.clearBeforeRender,backgroundColor:v.backgroundColor,antialias:v.antialias,roundPixels:v.roundPixels},this.game=d,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var m={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=v.context?v.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var l=this.game,d=l.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,l.scale.on(u.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(l,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(l,d){this.width=l,this.height=d,this.emit(e.RESIZE,l,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(l){return this.currentContext.globalCompositeOperation=l,this},setContext:function(l){return this.currentContext=l||this.gameContext,this},setAlpha:function(l){return this.currentContext.globalAlpha=l,this},preRender:function(){var l=this.gameContext,d=this.config,v=this.width,m=this.height;l.globalAlpha=1,l.globalCompositeOperation="source-over",l.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(l.clearRect(0,0,v,m),d.transparent||(l.fillStyle=d.backgroundColor.rgba,l.fillRect(0,0,v,m))),l.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(l,d,v){var m=d.length;this.emit(e.RENDER,l,v);var x=v.x,g=v.y,y=v.width,T=v.height,E=v.renderToTexture?v.context:l.sys.context;E.save(),this.game.scene.customViewports&&(E.beginPath(),E.rect(x,g,y,T),E.clip()),v.emit(f.PRE_RENDER,v),this.currentContext=E;var C=v.mask;C&&C.preRenderCanvas(this,null,v._maskCamera),v.transparent||(E.fillStyle=v.backgroundColor.rgba,E.fillRect(x,g,y,T)),E.globalAlpha=v.alpha,E.globalCompositeOperation="source-over",this.drawCount+=m,v.renderToTexture&&v.emit(f.PRE_RENDER,v),v.matrix.copyToContext(E);for(var A=0;A<m;A++){var P=d[A];P.mask&&P.mask.preRenderCanvas(this,P,v),P.renderCanvas(this,P,v),P.mask&&P.mask.postRenderCanvas(this,P,v)}E.setTransform(1,0,0,1,0,0),E.globalCompositeOperation="source-over",E.globalAlpha=1,v.flashEffect.postRenderCanvas(E),v.fadeEffect.postRenderCanvas(E),v.dirty=!1,C&&C.postRenderCanvas(this),E.restore(),v.renderToTexture&&(v.emit(f.POST_RENDER,v),v.renderToGame&&l.sys.context.drawImage(v.canvas,x,g)),v.emit(f.POST_RENDER,v)},postRender:function(){var l=this.gameContext;l.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(c(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(l,d,v,m,x,g,y,T,E){v===void 0&&(v=!1),this.snapshotArea(m,x,g,y,d,T,E);var C=this.snapshotState;return C.getPixel=v,c(l,C),C.callback=null,this},snapshot:function(l,d,v){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,l,d,v)},snapshotArea:function(l,d,v,m,x,g,y){var T=this.snapshotState;return T.callback=x,T.type=g,T.encoder=y,T.getPixel=!1,T.x=l,T.y=d,T.width=Math.min(v,this.gameCanvas.width),T.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(l,d,v){return this.snapshotArea(l,d,1,1,v),this.snapshotState.getPixel=!0,this},batchSprite:function(l,d,v,m){var x=v.alpha*l.alpha;if(x!==0){var g=this.currentContext,y=this._tempMatrix1,T=this._tempMatrix2,E=d.canvasData,C=E.x,A=E.y,P=d.cutWidth,F=d.cutHeight,O=d.customPivot,I=d.source.resolution,G=l.displayOriginX,z=l.displayOriginY,X=-G+d.x,H=-z+d.y;if(l.isCropped){var N=l._crop;(N.flipX!==l.flipX||N.flipY!==l.flipY)&&d.updateCropUVs(N,l.flipX,l.flipY),P=N.cw,F=N.ch,C=N.cx,A=N.cy,X=-G+N.x,H=-z+N.y,l.flipX&&(X>=0?X=-(X+P):X<0&&(X=Math.abs(X)-P)),l.flipY&&(H>=0?H=-(H+F):H<0&&(H=Math.abs(H)-F))}var U=1,R=1;l.flipX&&(O||(X+=-d.realWidth+G*2),U=-1),l.flipY&&(O||(H+=-d.realHeight+z*2),R=-1);var D=l.x,B=l.y;T.applyITRS(D,B,l.rotation,l.scaleX*U,l.scaleY*R),y.copyFrom(v.matrix),m?(y.multiplyWithOffset(m,-v.scrollX*l.scrollFactorX,-v.scrollY*l.scrollFactorY),T.e=D,T.f=B):(T.e-=v.scrollX*l.scrollFactorX,T.f-=v.scrollY*l.scrollFactorY),y.multiply(T),v.roundPixels&&(y.e=Math.round(y.e),y.f=Math.round(y.f)),g.save(),y.setToContext(g),g.globalCompositeOperation=this.blendModes[l.blendMode],g.globalAlpha=x,g.imageSmoothingEnabled=!d.source.scaleMode,l.mask&&l.mask.preRenderCanvas(this,l,v),P>0&&F>0&&(v.roundPixels?g.drawImage(d.source.image,C,A,P,F,Math.round(X),Math.round(H),Math.round(P/I),Math.round(F/I)):g.drawImage(d.source.image,C,A,P,F,X,H,P/I,F/I)),l.mask&&l.mask.postRenderCanvas(this,l,v),g.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=h},6046:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(98581),a=function(){var r=[],n=c.supportNewBlendModes,e="source-over";return r[f.NORMAL]=e,r[f.ADD]="lighter",r[f.MULTIPLY]=n?"multiply":e,r[f.SCREEN]=n?"screen":e,r[f.OVERLAY]=n?"overlay":e,r[f.DARKEN]=n?"darken":e,r[f.LIGHTEN]=n?"lighten":e,r[f.COLOR_DODGE]=n?"color-dodge":e,r[f.COLOR_BURN]=n?"color-burn":e,r[f.HARD_LIGHT]=n?"hard-light":e,r[f.SOFT_LIGHT]=n?"soft-light":e,r[f.DIFFERENCE]=n?"difference":e,r[f.EXCLUSION]=n?"exclusion":e,r[f.HUE]=n?"hue":e,r[f.SATURATION]=n?"saturation":e,r[f.COLOR]=n?"color":e,r[f.LUMINOSITY]=n?"luminosity":e,r[f.ERASE]="destination-out",r[f.SOURCE_IN]="source-in",r[f.SOURCE_OUT]="source-out",r[f.SOURCE_ATOP]="source-atop",r[f.DESTINATION_OVER]="destination-over",r[f.DESTINATION_IN]="destination-in",r[f.DESTINATION_OUT]="destination-out",r[f.DESTINATION_ATOP]="destination-atop",r[f.LIGHTER]="lighter",r[f.COPY]="copy",r[f.XOR]="xor",r};p.exports=a},49584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(73329),c=function(a,r,n,e,s){var u=e.alpha*n.alpha;if(u<=0)return!1;var i=f(n,e,s).calc;return r.globalCompositeOperation=a.blendModes[n.blendMode],r.globalAlpha=u,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:a.antialias,!0};p.exports=c},70936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},99298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},7743:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},99519:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},81044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(27119),a=t(72632),r=function(n,e){var s=a(e,"callback"),u=a(e,"type","image/png"),i=a(e,"encoder",.92),o=Math.abs(Math.round(a(e,"x",0))),h=Math.abs(Math.round(a(e,"y",0))),l=Math.floor(a(e,"width",n.width)),d=Math.floor(a(e,"height",n.height)),v=a(e,"getPixel",!1);if(v){var m=n.getContext("2d",{willReadFrequently:!1}),x=m.getImageData(o,h,1,1),g=x.data;s.call(null,new c(g[0],g[1],g[2],g[3]))}else if(o!==0||h!==0||l!==n.width||d!==n.height){var y=f.createWebGL(this,l,d),T=y.getContext("2d",{willReadFrequently:!0});l>0&&d>0&&T.drawImage(n,o,h,l,d,0,0,l,d);var E=new Image;E.onerror=function(){s.call(null),f.remove(y)},E.onload=function(){s.call(null,E),f.remove(y)},E.src=y.toDataURL(u,i)}else{var C=new Image;C.onerror=function(){s.call(null)},C.onload=function(){s.call(null,C)},C.src=n.toDataURL(u,i)}};p.exports=r},1217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(27119),a=t(72632),r=function(n,e){var s=n,u=a(e,"callback"),i=a(e,"type","image/png"),o=a(e,"encoder",.92),h=Math.abs(Math.round(a(e,"x",0))),l=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),v=a(e,"isFramebuffer",!1),m=v?a(e,"bufferWidth",1):s.drawingBufferWidth,x=v?a(e,"bufferHeight",1):s.drawingBufferHeight;if(d){var g=new Uint8Array(4),y=v?l:x-l;s.readPixels(h,y,1,1,s.RGBA,s.UNSIGNED_BYTE,g),u.call(null,new c(g[0],g[1],g[2],g[3]))}else{var T=Math.floor(a(e,"width",m)),E=Math.floor(a(e,"height",x)),C=T*E*4,A=new Uint8Array(C);s.readPixels(h,x-l-E,T,E,s.RGBA,s.UNSIGNED_BYTE,A);for(var P=f.createWebGL(this,T,E),F=P.getContext("2d",{willReadFrequently:!0}),O=F.getImageData(0,0,T,E),I=O.data,G=0;G<E;G++)for(var z=0;z<T;z++){var X=((E-G-1)*T+z)*4,H=v?C-(G*T+(T-z))*4:(G*T+z)*4;I[H+0]=A[X+0],I[H+1]=A[X+1],I[H+2]=A[X+2],I[H+3]=A[X+3]}F.putImageData(O,0,0);var N=new Image;N.onerror=function(){u.call(null),f.remove(P)},N.onload=function(){u.call(null,N),f.remove(P)},N.src=P.toDataURL(i,o)}};p.exports=r},95528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65641),a=t(33885),r=t(77290),n=t(72632),e=t(37410),s=t(82127),u=t(5583),i=t(58136),o=t(47406),h=t(81828),l=t(66901),d=t(71264),v=t(77310),m=t(10919),x=t(21213),g=t(51212),y=t(60848),T=new f({initialize:function(C){this.game=C.game,this.renderer=C,this.classes=new a([[c.UTILITY_PIPELINE,y],[c.MULTI_PIPELINE,v],[c.BITMAPMASK_PIPELINE,u],[c.SINGLE_PIPELINE,g],[c.ROPE_PIPELINE,x],[c.LIGHT_PIPELINE,l],[c.POINTLIGHT_PIPELINE,m],[c.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new a,this.pipelines=new a,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(E,C,A){var P=this.renderer,F=this.renderTargets;this.frameInc=Math.floor(n(E,"frameInc",32));var O=P.width,I=P.height,G=this.game.config.disablePreFX,z=this.game.config.disablePostFX;if(z||this.postPipelineClasses.setAll([[String(o.BARREL),i.Barrel],[String(o.BLOOM),i.Bloom],[String(o.BLUR),i.Blur],[String(o.BOKEH),i.Bokeh],[String(o.CIRCLE),i.Circle],[String(o.COLOR_MATRIX),i.ColorMatrix],[String(o.DISPLACEMENT),i.Displacement],[String(o.GLOW),i.Glow],[String(o.GRADIENT),i.Gradient],[String(o.PIXELATE),i.Pixelate],[String(o.SHADOW),i.Shadow],[String(o.SHINE),i.Shine],[String(o.VIGNETTE),i.Vignette],[String(o.WIPE),i.Wipe]]),!G){this.classes.set(c.FX_PIPELINE,h);for(var X=Math.min(O,I),H=Math.ceil(X/this.frameInc),N=1;N<H;N++){var U=N*this.frameInc;F.push(new e(P,U,U)),F.push(new e(P,U,U)),F.push(new e(P,U,U)),this.maxDimension=U}F.push(new e(P,O,I,1,0,!0,!0)),F.push(new e(P,O,I,1,0,!0,!0)),F.push(new e(P,O,I,1,0,!0,!0))}var R,D,B=this,V=this.game;if(this.classes.each(function(K,$){R=B.add(K,new $({game:V})),K===c.UTILITY_PIPELINE&&(B.UTILITY_PIPELINE=R,B.fullFrame1=R.fullFrame1,B.fullFrame2=R.fullFrame2,B.halfFrame1=R.halfFrame1,B.halfFrame2=R.halfFrame2)}),this.MULTI_PIPELINE=this.get(c.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(c.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(c.MOBILE_PIPELINE),G||(this.FX_PIPELINE=this.get(c.FX_PIPELINE)),E)for(D in E){var Y=E[D];R=new Y(V),R.name=D,R.isPostFX?this.postPipelineClasses.set(D,Y):this.has(D)||(this.classes.set(D,Y),this.add(D,R))}this.default=this.get(C),A&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(E){var C=this.get(E);return C&&(this.default=C),C},add:function(E,C){if(C.isPostFX){console.warn(E+" is a Post Pipeline. Use `addPostPipeline` instead");return}var A=this.pipelines,P=this.renderer;return A.has(E)?console.warn("Pipeline exists: "+E):(C.name=E,C.manager=this,A.set(E,C)),C.hasBooted||C.boot(),P.width!==0&&P.height!==0&&!C.isPreFX&&C.resize(P.width,P.height),C},addPostPipeline:function(E,C){this.postPipelineClasses.has(E)||this.postPipelineClasses.set(E,C)},flush:function(){this.current&&this.current.flush()},has:function(E){var C=this.pipelines;return typeof E=="string"?C.has(E):!!C.contains(E)},get:function(E){var C=this.pipelines;if(typeof E=="string")return C.get(E);if(C.contains(E))return E},getPostPipeline:function(E,C,A){var P=this.postPipelineClasses,F,O="",I=typeof E;if(I==="string"||I==="number"?(F=P.get(E),O=E):I==="function"?(P.contains(E)&&(F=E),O=E.name):I==="object"&&(F=P.get(E.name),O=E.name),F){var G=new F(this.game,A);return G.name=O,C&&(G.gameObject=C),G}},remove:function(E,C,A){C===void 0&&(C=!0),A===void 0&&(A=!0),this.pipelines.delete(E),C&&this.classes.delete(E),A&&this.postPipelineClasses.delete(E)},set:function(E,C,A){if(!E.isPostFX)return this.isCurrent(E,A)||(this.flush(),this.current&&this.current.unbind(),this.current=E,E.bind(A)),E.updateProjectionMatrix(),E.onBind(C),E},preBatch:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=C.length-1;A>=0;A--){var P=C[A];P.active&&P.preBatch(E)}}},postBatch:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=0;A<C.length;A++){var P=C[A];P.active&&P.postBatch(E)}}},preBatchCamera:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=C.length-1;A>=0;A--){var P=C[A];P.active&&P.preBatch(E)}}},postBatchCamera:function(E){if(E.hasPostPipeline){this.flush();for(var C=E.postPipelines,A=0;A<C.length;A++){var P=C[A];P.active&&P.postBatch(E)}}},isCurrent:function(E,C){var A=this.renderer,P=this.current;return P&&!C&&(C=P.currentShader),!(P!==E||C.program!==A.currentProgram)},copyFrame:function(E,C,A,P,F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(E,C,A,P,F),this},copyToGame:function(E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(E),this},drawFrame:function(E,C,A,P){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(E,C,A,P),this},blendFrames:function(E,C,A,P,F){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(E,C,A,P,F),this},blendFramesAdditive:function(E,C,A,P,F){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(E,C,A,P,F),this},clearFrame:function(E,C){return this.UTILITY_PIPELINE.clearFrame(E,C),this},blitFrame:function(E,C,A,P,F,O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(E,C,A,P,F,O),this},copyFrameRect:function(E,C,A,P,F,O,I,G){return this.UTILITY_PIPELINE.copyFrameRect(E,C,A,P,F,O,I,G),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(E){return this.UTILITY_PIPELINE.bind(E)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(E){E===void 0&&this.previous&&(E=this.previous);var C=this.renderer,A=C.gl;A.disable(A.DEPTH_TEST),A.disable(A.CULL_FACE),C.hasActiveStencilMask()?A.clear(A.DEPTH_BUFFER_BIT):(A.disable(A.STENCIL_TEST),A.clear(A.DEPTH_BUFFER_BIT|A.STENCIL_BUFFER_BIT)),A.viewport(0,0,C.width,C.height),C.currentProgram=null,C.setBlendMode(0,!0);var P=C.vaoExtension;P&&P.bindVertexArrayOES(null);var F=this.pipelines.entries;for(var O in F)F[O].glReset=!0;E&&(this.current=E,E.rebind())},clear:function(){var E=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,E.currentProgram=null,E.setBlendMode(0,!0);var C=E.vaoExtension;C&&C.bindVertexArrayOES(null)},getRenderTarget:function(E){var C=this.renderTargets,A=3;if(E>this.maxDimension)return this.targetIndex=C.length-A,C[this.targetIndex];var P=(s(E,this.frameInc,0,!0)-1)*A;return this.targetIndex=P,C[P]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=T},37410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(81044),a=new f({initialize:function(n,e,s,u,i,o,h,l,d){u===void 0&&(u=1),i===void 0&&(i=0),o===void 0&&(o=!0),h===void 0&&(h=!1),l===void 0&&(l=!0),d===void 0&&(d=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=i,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=l,this.forceClamp=d,this.resize(e,s),h?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(c.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(c.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){if(r=Math.round(r*this.scale),n=Math.round(n*this.scale),r<=0&&(r=1),n<=0&&(n=1),this.autoResize&&(r!==this.width||n!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},willResize:function(r,n){return r=Math.round(r*this.scale),n=Math.round(n*this.scale),r<=0&&(r=1),n<=0&&(n=1),r!==this.width||n!==this.height},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var u=this.renderer.gl;u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,n=r.gl;r.pushFramebuffer(this.framebuffer),n.disable(n.SCISSOR_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(c.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=a},75512:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,f,c){var a=(S*255|0)&255,r=(t*255|0)&255,n=(f*255|0)&255,e=(c*255|0)&255;return(e<<24|a<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(S,t){var f=(t*255|0)&255;return(f<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var f=(S>>16|0)&255,c=(S>>8|0)&255,a=(S|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|c<<8|f)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,f=(S>>8|0)&255,c=(S|0)&255;return[t/255,f/255,c/255]},checkShaderMax:function(S,t){var f=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?f:Math.min(f,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var f="",c=0;c<t;c++)c>0&&(f+=`
	else `),c<t-1&&(f+="if (outTexId < "+c+".5)"),f+=`
	{`,f+=`
		texture = texture2D(uMainSampler[`+c+"], outTexCoord);",f+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,f)},setGlowQuality:function(S,t,f,c){return f===void 0&&(f=t.config.glowFXQuality),c===void 0&&(c=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/f/c).toFixed(7)),S=S.replace(/__DIST__/gi,c.toFixed(0)+".0"),S}}},44775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(28699),a=t(6659),r=t(18970),n=t(72632),e=t(16650),s=t(81044),u=t(37410),i=t(75512),o=t(71305),h=new f({Extends:a,initialize:function(d){a.call(this);var v=d.game,m=v.renderer,x=m.gl;this.name=n(d,"name","WebGLPipeline"),this.game=v,this.renderer=m,this.manager,this.gl=x,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(d,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var l,d=this.gl,v=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,g=n(v,"renderTarget",!1);typeof g=="boolean"&&g&&(g=1);var y=m.width,T=m.height;if(typeof g=="number")for(l=0;l<g;l++)x.push(new u(m,y,T,1,0,!0));else if(Array.isArray(g))for(l=0;l<g.length;l++){var E=n(g[l],"scale",1),C=n(g[l],"minFilter",0),A=n(g[l],"autoClear",1),P=n(g[l],"width",null),F=n(g[l],"height",P);P?x.push(new u(m,P,F,1,C,A)):x.push(new u(m,y,T,E,C,A))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(v);var O=this.shaders,I=0;for(l=0;l<O.length;l++)O[l].vertexSize>I&&(I=O[l].vertexSize);var G=n(v,"batchSize",m.config.batchSize);this.vertexCapacity=G*6;var z=new ArrayBuffer(this.vertexCapacity*I);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var X=n(v,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=m.createVertexBuffer(z,d.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(z.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),l=O.length-1;l>=0;l--)O[l].rebind();this.hasBooted=!0,m.on(s.RESIZE,this.resize,this),m.on(s.PRE_RENDER,this.onPreRender,this),m.on(s.RENDER,this.onRender,this),m.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(l,d,v){var m=this.renderer;if(l!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(v);x&&!d&&(d=!0),l.bind(d,!1),this.currentShader=l}return this},getShaderByName:function(l){for(var d=this.shaders,v=0;v<d.length;v++)if(d[v].name===l)return d[v]},setShadersFromConfig:function(l){var d,v=this.shaders,m=this.renderer;for(d=0;d<v.length;d++)v[d].destroy();var x="vertShader",g="fragShader",y="attributes",T=n(l,x,null),E=i.parseFragmentShaderMaxTextures(n(l,g,null),m.maxTextures),C=n(l,y,null),A=n(l,"shaders",[]),P=A.length;if(P===0)T&&E&&(this.shaders=[new o(this,"default",T,E,c(C))]);else{var F=[];for(d=0;d<P;d++){var O=A[d],I,G,z,X;if(typeof O=="string"?(I="default",G=T,z=i.parseFragmentShaderMaxTextures(O,m.maxTextures),X=C):(I=n(O,"name","default"),G=n(O,x,T),z=i.parseFragmentShaderMaxTextures(n(O,g,E),m.maxTextures),X=n(O,y,C)),I==="default"){var H=z.split(`
`),N=H[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(I=N.substring(20))}G&&z&&F.push(new o(this,I,G,z,c(X)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(l){return this.currentBatch={start:this.vertexCount,count:0,texture:[l],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=l,this.batch.push(this.currentBatch),0},addTextureToBatch:function(l){var d=this.currentBatch;d&&(d.texture.push(l),d.unit++,d.maxUnit++)},pushBatch:function(l){if(!this.currentBatch||this.forceZero&&l!==this.currentTexture)return this.createBatch(l);if(l===this.currentTexture)return this.currentUnit;var d=this.currentBatch,v=d.texture.indexOf(l);return v===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(l):(d.unit++,d.maxUnit++,d.texture.push(l),this.currentUnit=d.unit,this.currentTexture=l,d.unit):(this.currentUnit=v,this.currentTexture=l,v)},setGameObject:function(l,d){return d===void 0&&(d=l.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(l){return l===void 0&&(l=0),this.vertexCount+l>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(l,d){(l!==this.width||d!==this.height)&&this.flush(),this.width=l,this.height=d;for(var v=this.renderTargets,m=0;m<v.length;m++)v[m].resize(l,d);return this.setProjectionMatrix(l,d),this.emit(r.RESIZE,l,d,this),this.onResize(l,d),this},setProjectionMatrix:function(l,d){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=l,this.projectionHeight=d,v.ortho(0,l,d,0,-1e3,1e3);for(var m=this.shaders,x="uProjectionMatrix",g=0;g<m.length;g++){var y=m[g];y.hasUniform(x)&&(y.resetUniform(x),y.setMatrix4fv(x,!1,v.val,y))}return this},flipProjectionMatrix:function(l){l===void 0&&(l=!0);var d=this.projectionMatrix;if(!d)return this;var v=this.projectionWidth,m=this.projectionHeight;l?d.ortho(0,v,0,m,-1e3,1e3):d.ortho(0,v,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var l=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==l||this.projectionHeight!==d)&&this.setProjectionMatrix(l,d)}},bind:function(l){if(l===void 0&&(l=this.currentShader),this.glReset)return this.rebind(l);var d=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,d=!0),l.bind(d),this.currentShader=l,this.activeTextures.length=0,this.emit(r.BIND,this,l),this.onActive(l),this},rebind:function(l){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,v=d.length-1;v>=0;v--){var m=d[v].rebind();(!l||m===l)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(l){if(l===void 0&&(l=this.vertexBuffer),l!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,l),this.activeBuffer=l,!0}return!1},preBatch:function(l){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(l),this},postBatch:function(l){return this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(l){if(l===void 0&&(l=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,l),this.onBeforeFlush(l);var d=this.gl,v=this.vertexCount,m=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,v*m));var g,y,T,E=this.batch,C=this.activeTextures;if(this.forceZero)for(C[0]||d.activeTexture(d.TEXTURE0),g=0;g<E.length;g++)y=E[g],T=y.texture[0],C[0]!==T&&(d.bindTexture(d.TEXTURE_2D,T),C[0]=T),d.drawArrays(x,y.start,y.count);else for(g=0;g<E.length;g++){y=E[g];for(var A=0;A<=y.maxUnit;A++)T=y.texture[A],C[A]!==T&&(d.activeTexture(d.TEXTURE0+A),d.bindTexture(d.TEXTURE_2D,T),C[A]=T);d.drawArrays(x,y.start,y.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,l),this.onAfterFlush(l)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(l,d,v,m,x,g,y){var T=this.vertexViewF32,E=this.vertexViewU32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++C]=l,T[++C]=d,T[++C]=v,T[++C]=m,T[++C]=x,T[++C]=g,E[++C]=y,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N){N===void 0&&(N=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(N=this.setTexture2D(H));var R=this.vertexViewF32,D=this.vertexViewU32,B=this.vertexCount*this.currentShader.vertexComponentCount-1;return R[++B]=d,R[++B]=v,R[++B]=C,R[++B]=A,R[++B]=N,R[++B]=X,D[++B]=O,R[++B]=m,R[++B]=x,R[++B]=C,R[++B]=F,R[++B]=N,R[++B]=X,D[++B]=G,R[++B]=g,R[++B]=y,R[++B]=P,R[++B]=F,R[++B]=N,R[++B]=X,D[++B]=z,R[++B]=d,R[++B]=v,R[++B]=C,R[++B]=A,R[++B]=N,R[++B]=X,D[++B]=O,R[++B]=g,R[++B]=y,R[++B]=P,R[++B]=F,R[++B]=N,R[++B]=X,D[++B]=z,R[++B]=T,R[++B]=E,R[++B]=P,R[++B]=A,R[++B]=N,R[++B]=X,D[++B]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(l),U},batchTri:function(l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z){z===void 0&&(z=this.currentUnit);var X=!1;this.shouldFlush(3)&&(this.flush(),X=!0),this.currentBatch||(z=this.setTexture2D(G));var H=this.vertexViewF32,N=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++U]=d,H[++U]=v,H[++U]=T,H[++U]=E,H[++U]=z,H[++U]=I,N[++U]=P,H[++U]=m,H[++U]=x,H[++U]=T,H[++U]=A,H[++U]=z,H[++U]=I,N[++U]=F,H[++U]=g,H[++U]=y,H[++U]=C,H[++U]=A,H[++U]=z,H[++U]=I,N[++U]=O,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(l),X},drawFillRect:function(l,d,v,m,x,g,y,T){y===void 0&&(y=this.renderer.whiteTexture),T===void 0&&(T=!0),l=Math.floor(l),d=Math.floor(d);var E=Math.floor(l+v),C=Math.floor(d+m),A=this.setTexture2D(y),P=i.getTintAppendFloatAlphaAndSwap(x,g),F=0,O=0,I=1,G=1;T&&(O=1,G=0),this.batchQuad(null,l,d,l,C,E,C,E,d,F,O,I,G,P,P,P,P,0,y,A)},setTexture2D:function(l){return l===void 0&&(l=this.renderer.whiteTexture),this.pushBatch(l)},bindTexture:function(l,d){d===void 0&&(d=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+d),v.bindTexture(v.TEXTURE_2D,l),this},bindRenderTarget:function(l,d){return this.bindTexture(l.texture,d)},setTime:function(l,d){return this.set1f(l,this.game.loop.getDuration(),d),this},setBoolean:function(l,d,v){return v===void 0&&(v=this.currentShader),v.setBoolean(l,d),this},set1f:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1f(l,d),this},set2f:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.set2f(l,d,v),this},set3f:function(l,d,v,m,x){return x===void 0&&(x=this.currentShader),x.set3f(l,d,v,m),this},set4f:function(l,d,v,m,x,g){return g===void 0&&(g=this.currentShader),g.set4f(l,d,v,m,x),this},set1fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1fv(l,d),this},set2fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set2fv(l,d),this},set3fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set3fv(l,d),this},set4fv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set4fv(l,d),this},set1iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1iv(l,d),this},set2iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set2iv(l,d),this},set3iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set3iv(l,d),this},set4iv:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set4iv(l,d),this},set1i:function(l,d,v){return v===void 0&&(v=this.currentShader),v.set1i(l,d),this},set2i:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.set2i(l,d,v),this},set3i:function(l,d,v,m,x){return x===void 0&&(x=this.currentShader),x.set3i(l,d,v,m),this},set4i:function(l,d,v,m,x,g){return g===void 0&&(g=this.currentShader),g.set4i(l,d,v,m,x),this},setMatrix2fv:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(l,d,v),this},setMatrix3fv:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(l,d,v),this},setMatrix4fv:function(l,d,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(l,d,v),this},destroy:function(){this.emit(r.DESTROY,this);var l,d=this.shaders;for(l=0;l<d.length;l++)d[l].destroy();var v=this.renderTargets;for(l=0;l<v.length;l++)v[l].destroy();this.gl.deleteBuffer(this.vertexBuffer);var m=this.renderer;return m.off(s.RESIZE,this.resize,this),m.off(s.PRE_RENDER,this.onPreRender,this),m.off(s.RENDER,this.onRender,this),m.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=h},11857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(89787),a=t(56694),r=t(86459),n=t(6659),e=t(81044),s=t(28621),u=t(16650),i=t(72283),o=t(35217),h=t(37410),l=t(40444),d=t(38203),v=t(75512),m=t(1217),x=new a({Extends:n,initialize:function(y){n.call(this);var T=y.config,E={alpha:T.transparent,desynchronized:T.desynchronized,depth:!0,antialias:T.antialiasGL,premultipliedAlpha:T.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:T.failIfMajorPerformanceCaveat,powerPreference:T.powerPreference,preserveDrawingBuffer:T.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:T.clearBeforeRender,antialias:T.antialias,backgroundColor:T.backgroundColor,contextCreation:E,roundPixels:T.roundPixels,maxTextures:T.maxTextures,maxTextureSize:T.maxTextureSize,batchSize:T.batchSize,maxLights:T.maxLights,mipmapFilter:T.mipmapFilter},this.game=y,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=i,this.contextRestoredHandler=i,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(g){var y,T=this.game,E=this.canvas,C=g.backgroundColor;if(T.config.context?y=T.config.context:y=E.getContext("webgl",g.contextCreation)||E.getContext("experimental-webgl",g.contextCreation),!y||y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=y;var A=this;this.contextLostHandler=function(H){A.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),H.preventDefault()},E.addEventListener("webglcontextlost",this.contextLostHandler,!1),T.context=y;for(var P=0;P<=27;P++)this.blendModes.push({func:[y.ONE,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_ADD});this.blendModes[1].func=[y.ONE,y.DST_ALPHA],this.blendModes[2].func=[y.DST_COLOR,y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[y.ONE,y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[y.ZERO,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_REVERSE_SUBTRACT},this.glFormats=[y.BYTE,y.SHORT,y.UNSIGNED_BYTE,y.UNSIGNED_SHORT,y.FLOAT],this.glFuncMap={mat2:{func:y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:y.uniform1f,length:1},"1fv":{func:y.uniform1fv,length:1},"1i":{func:y.uniform1i,length:1},"1iv":{func:y.uniform1iv,length:1},"2f":{func:y.uniform2f,length:2},"2fv":{func:y.uniform2fv,length:1},"2i":{func:y.uniform2i,length:2},"2iv":{func:y.uniform2iv,length:1},"3f":{func:y.uniform3f,length:3},"3fv":{func:y.uniform3fv,length:1},"3i":{func:y.uniform3i,length:3},"3iv":{func:y.uniform3iv,length:1},"4f":{func:y.uniform4f,length:4},"4fv":{func:y.uniform4fv,length:1},"4i":{func:y.uniform4i,length:4},"4iv":{func:y.uniform4iv,length:1}};var F=y.getSupportedExtensions();(!g.maxTextures||g.maxTextures===-1)&&(g.maxTextures=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)),g.maxTextureSize||(g.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=F;var O="ANGLE_instanced_arrays";this.instancedArraysExtension=F.indexOf(O)>-1?y.getExtension(O):null;var I="OES_vertex_array_object";this.vaoExtension=F.indexOf(I)>-1?y.getExtension(I):null,y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),y.enable(y.BLEND),y.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL);var G=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];G.indexOf(g.mipmapFilter)!==-1&&(this.mipmapFilter=y[g.mipmapFilter]),this.maxTextures=v.checkShaderMax(y,g.maxTextures),this.textureIndexes=[];for(var z=0;z<this.maxTextures;z++){var X=y.createTexture();y.activeTexture(y.TEXTURE0+z),y.bindTexture(y.TEXTURE_2D,X),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(z)}return this.pipelines=new o(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),T.textures.once(d.READY,this.boot,this),this},boot:function(){var g=this.game,y=this.pipelines,T=g.scale.baseSize,E=T.width,C=T.height;this.width=E,this.height=C,this.isBooted=!0,this.renderTarget=new h(this,E,C,1,0,!0,!0),this.maskTarget=new h(this,E,C,1,0,!0,!0),this.maskSource=new h(this,E,C,1,0,!0,!0);var A=g.config;y.boot(A.pipeline,A.defaultPipeline,A.autoMobilePipeline),this.blankTexture=g.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=g.textures.getFrame("__WHITE").glTexture;var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,null),P.enable(P.SCISSOR_TEST),g.scale.on(l.RESIZE,this.onResize,this),this.resize(E,C)},captureFrame:function(g,y){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(g,y,T){},stopCapture:function(){},onCapture:function(g){},onResize:function(g,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},beginCapture:function(g,y){g===void 0&&(g=this.width),y===void 0&&(y=this.height),this.renderTarget.bind(!0,g,y),this.setProjectionMatrix(g,y)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(g,y){var T=this.gl;return this.width=g,this.height=y,this.setProjectionMatrix(g,y),T.viewport(0,0,g,y),this.drawingBufferHeight=T.drawingBufferHeight,T.scissor(0,T.drawingBufferHeight-y,g,y),this.defaultScissor[2]=g,this.defaultScissor[3]=y,this.emit(e.RESIZE,g,y),this},getCompressedTextures:function(){var g="WEBGL_compressed_texture_",y="WEBKIT_"+g,T=function(C,A){var P=C.getExtension(g+A)||C.getExtension(y+A);if(P){var F={};for(var O in P)F[P[O]]=O;return F}},E=this.gl;return{ETC:T(E,"etc"),ETC1:T(E,"etc1"),ATC:T(E,"atc"),ASTC:T(E,"astc"),BPTC:T(E,"bptc"),RGTC:T(E,"rgtc"),PVRTC:T(E,"pvrtc"),S3TC:T(E,"s3tc"),S3TCSRGB:T(E,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(g,y){var T=this.compression[g.toUpperCase()];if(y in T)return T[y]},supportsCompressedTexture:function(g,y){var T=this.compression[g.toUpperCase()];return T?y?y in T:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(g,y){return(g!==this.projectionWidth||y!==this.projectionHeight)&&(this.projectionWidth=g,this.projectionHeight=y,this.projectionMatrix.ortho(0,g,y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(g){return this.supportedExtensions?this.supportedExtensions.indexOf(g):!1},getExtension:function(g){return this.hasExtension(g)?(g in this.extensions||(this.extensions[g]=this.gl.getExtension(g)),this.extensions[g]):null},flush:function(){this.pipelines.flush()},pushScissor:function(g,y,T,E,C){C===void 0&&(C=this.drawingBufferHeight);var A=this.scissorStack,P=[g,y,T,E];return A.push(P),this.setScissor(g,y,T,E,C),this.currentScissor=P,P},setScissor:function(g,y,T,E,C){C===void 0&&(C=this.drawingBufferHeight);var A=this.gl,P=this.currentScissor,F=T>0&&E>0;if(P&&F){var O=P[0],I=P[1],G=P[2],z=P[3];F=O!==g||I!==y||G!==T||z!==E}F&&(this.flush(),A.scissor(g,C-y-E,T,E))},resetScissor:function(){var g=this.gl;g.enable(g.SCISSOR_TEST);var y=this.currentScissor;if(y){var T=y[0],E=y[1],C=y[2],A=y[3];C>0&&A>0&&g.scissor(T,this.drawingBufferHeight-E-A,C,A)}},popScissor:function(){var g=this.scissorStack;g.pop();var y=g[g.length-1];y&&this.setScissor(y[0],y[1],y[2],y[3]),this.currentScissor=y},hasActiveStencilMask:function(){var g=this.currentMask.mask,y=this.currentCameraMask.mask;return g&&g.isStencil||y&&y.isStencil},resetViewport:function(){var g=this.gl;g.viewport(0,0,this.width,this.height),this.drawingBufferHeight=g.drawingBufferHeight},setBlendMode:function(g,y){y===void 0&&(y=!1);var T=this.gl,E=this.blendModes[g];return y||g!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==g?(this.flush(),T.enable(T.BLEND),T.blendEquation(E.equation),E.func.length>2?T.blendFuncSeparate(E.func[0],E.func[1],E.func[2],E.func[3]):T.blendFunc(E.func[0],E.func[1]),this.currentBlendMode=g,!0):!1},addBlendMode:function(g,y){var T=this.blendModes.push({func:g,equation:y});return T-1},updateBlendMode:function(g,y,T){return this.blendModes[g]&&(this.blendModes[g].func=y,T&&(this.blendModes[g].equation=T)),this},removeBlendMode:function(g){return g>17&&this.blendModes[g]&&this.blendModes.splice(g,1),this},pushFramebuffer:function(g,y,T,E,C){return g===this.currentFramebuffer?this:(this.fboStack.push(g),this.setFramebuffer(g,y,T,E,C))},setFramebuffer:function(g,y,T,E,C){if(y===void 0&&(y=!1),T===void 0&&(T=!0),E===void 0&&(E=null),C===void 0&&(C=!1),g===this.currentFramebuffer)return this;var A=this.gl,P=this.width,F=this.height;return g&&g.renderTexture&&T?(P=g.renderTexture.width,F=g.renderTexture.height):this.flush(),A.bindFramebuffer(A.FRAMEBUFFER,g),T&&A.viewport(0,0,P,F),E&&A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,E,0),C&&(A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT)),y&&(g?(this.drawingBufferHeight=F,this.pushScissor(0,0,P,F)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=g,this},popFramebuffer:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!0);var T=this.fboStack;T.pop();var E=T[T.length-1];return E||(E=null),this.setFramebuffer(E,g,y),E},restoreFramebuffer:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!0);var T=this.fboStack,E=T[T.length-1];E||(E=null),this.currentFramebuffer=null,this.setFramebuffer(E,g,y)},setProgram:function(g){return g!==this.currentProgram?(this.flush(),this.gl.useProgram(g),this.currentProgram=g,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(g,y,T,E,C){C===void 0&&(C=!1);var A=this.gl,P=A.NEAREST,F=A.NEAREST,O=A.CLAMP_TO_EDGE,I=null;y=g?g.width:y,T=g?g.height:T;var G=s(y,T);return G&&!C&&(O=A.REPEAT),E===r.ScaleModes.LINEAR&&this.config.antialias&&(P=G&&this.mipmapFilter?this.mipmapFilter:A.LINEAR,F=A.LINEAR),g&&g.compressed&&(P=A.LINEAR,F=A.LINEAR),!g&&typeof y=="number"&&typeof T=="number"?I=this.createTexture2D(0,P,F,O,O,A.RGBA,null,y,T):I=this.createTexture2D(0,P,F,O,O,A.RGBA,g),I},createTexture2D:function(g,y,T,E,C,A,P,F,O,I,G,z){I=I==null?!0:I,G===void 0&&(G=!1),z===void 0&&(z=!1);var X=this.gl,H=X.createTexture();X.activeTexture(X.TEXTURE0);var N=X.getParameter(X.TEXTURE_BINDING_2D);X.bindTexture(X.TEXTURE_2D,H),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,y),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,T),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,C),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,E),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I),z&&X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,!0);var U=!1;if(P==null)X.texImage2D(X.TEXTURE_2D,g,A,F,O,0,A,X.UNSIGNED_BYTE,null),U=s(F,O);else if(P.compressed){F=P.width,O=P.height,U=P.generateMipmap;for(var R=0;R<P.mipmaps.length;R++)X.compressedTexImage2D(X.TEXTURE_2D,R,P.internalFormat,P.mipmaps[R].width,P.mipmaps[R].height,0,P.mipmaps[R].data)}else G||(F=P.width,O=P.height),X.texImage2D(X.TEXTURE_2D,g,A,A,X.UNSIGNED_BYTE,P),U=s(F,O);return U&&X.generateMipmap(X.TEXTURE_2D),N&&X.bindTexture(X.TEXTURE_2D,N),H.isAlphaPremultiplied=I,H.isRenderTexture=!1,H.width=F,H.height=O,H},createFramebuffer:function(g,y,T,E){E===void 0&&(E=!0);var C=this.gl,A=C.createFramebuffer(),P=0;if(this.setFramebuffer(A),T.isRenderTexture=!0,T.isAlphaPremultiplied=!1,C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,T,0),P=C.checkFramebufferStatus(C.FRAMEBUFFER),P!==C.FRAMEBUFFER_COMPLETE){var F={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(F[P]||P))}if(A.renderTexture=T,E){var O=C.createRenderbuffer();C.bindRenderbuffer(C.RENDERBUFFER,O),C.renderbufferStorage(C.RENDERBUFFER,C.DEPTH_STENCIL,g,y),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_STENCIL_ATTACHMENT,C.RENDERBUFFER,O)}return this.setFramebuffer(null),A},beginBitmapMask:function(g,y){var T=this.gl;T&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==g&&(this.currentMask.mask=g,this.currentMask.camera=y))},drawBitmapMask:function(g,y,T){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),g.renderWebGL(this,g,y),this.maskSource.unbind(!0),this.maskTarget.unbind();var E=this.gl,C=this.getCurrentStencilMask();C?(E.enable(E.STENCIL_TEST),C.mask.applyStencil(this,C.camera,!0)):this.currentMask.mask=null,this.pipelines.set(T),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,this.maskTarget.texture),E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,this.maskSource.texture)},createProgram:function(g,y){var T=this.gl,E=T.createProgram(),C=T.createShader(T.VERTEX_SHADER),A=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(C,g),T.shaderSource(A,y),T.compileShader(C),T.compileShader(A);var P=`Shader failed:
`;if(!T.getShaderParameter(C,T.COMPILE_STATUS))throw new Error("Vertex "+P+T.getShaderInfoLog(C));if(!T.getShaderParameter(A,T.COMPILE_STATUS))throw new Error("Fragment "+P+T.getShaderInfoLog(A));if(T.attachShader(E,C),T.attachShader(E,A),T.linkProgram(E),!T.getProgramParameter(E,T.LINK_STATUS))throw new Error("Link "+P+T.getProgramInfoLog(E));return T.useProgram(E),E},createVertexBuffer:function(g,y){var T=this.gl,E=T.createBuffer();return T.bindBuffer(T.ARRAY_BUFFER,E),T.bufferData(T.ARRAY_BUFFER,g,y),T.bindBuffer(T.ARRAY_BUFFER,null),E},createIndexBuffer:function(g,y){var T=this.gl,E=T.createBuffer();return T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,E),T.bufferData(T.ELEMENT_ARRAY_BUFFER,g,y),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,null),E},deleteTexture:function(g){return g&&this.gl.deleteTexture(g),this},deleteFramebuffer:function(g){if(!g)return this;var y=this.gl;this.currentFramebuffer===g&&(this.currentFramebuffer=null),f(this.fboStack,g),y.bindFramebuffer(y.FRAMEBUFFER,g),g.renderTexture=void 0;var T=y.getFramebufferAttachmentParameter(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);T!==null&&(y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,null,0),y.deleteTexture(T));var E=y.getFramebufferAttachmentParameter(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);return E!==null&&y.deleteRenderbuffer(E),y.bindFramebuffer(y.FRAMEBUFFER,null),y.deleteFramebuffer(g),this},deleteProgram:function(g){return g&&this.gl.deleteProgram(g),this},deleteBuffer:function(g){return this.gl.deleteBuffer(g),this},preRenderCamera:function(g){var y=g.x,T=g.y,E=g.width,C=g.height,A=g.backgroundColor;if(g.emit(c.PRE_RENDER,g),this.pipelines.preBatchCamera(g),this.pushScissor(y,T,E,C),g.mask&&(this.currentCameraMask.mask=g.mask,this.currentCameraMask.camera=g._maskCamera,g.mask.preRenderWebGL(this,g,g._maskCamera)),A.alphaGL>0){var P=this.pipelines.setMulti();P.drawFillRect(y,T,E,C,v.getTintFromFloats(A.blueGL,A.greenGL,A.redGL,1),A.alphaGL)}},getCurrentStencilMask:function(){var g=null,y=this.maskStack,T=this.currentCameraMask;return y.length>0?g=y[y.length-1]:T.mask&&T.mask.isStencil&&(g=T),g},postRenderCamera:function(g){var y=g.flashEffect,T=g.fadeEffect;if(y.isRunning||T.isRunning||T.isComplete){var E=this.pipelines.setMulti();y.postRenderWebGL(E,v.getTintFromFloats),T.postRenderWebGL(E,v.getTintFromFloats)}g.dirty=!1,this.popScissor(),g.mask&&(this.currentCameraMask.mask=null,g.mask.postRenderWebGL(this,g._maskCamera)),this.pipelines.postBatchCamera(g),g.emit(c.POST_RENDER,g)},preRender:function(){if(!this.contextLost){var g=this.gl;if(g.bindFramebuffer(g.FRAMEBUFFER,null),this.config.clearBeforeRender){var y=this.config.backgroundColor;g.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)}g.enable(g.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&g.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(g,y,T){if(!this.contextLost){var E=y.length;if(this.emit(e.RENDER,g,T),this.preRenderCamera(T),E===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T);return}this.currentType="";for(var C=this.currentMask,A=0;A<E;A++){this.finalType=A===E-1;var P=y[A],F=P.mask;C=this.currentMask,C.mask&&C.mask!==F&&C.mask.postRenderWebGL(this,C.camera),F&&C.mask!==F&&F.preRenderWebGL(this,P,T),P.blendMode!==this.currentBlendMode&&this.setBlendMode(P.blendMode);var O=P.type;O!==this.currentType&&(this.newType=!0,this.currentType=O),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=y[A+1].type===this.currentType,P.renderWebGL(this,P,T),this.newType=!1}C=this.currentMask,C.mask&&C.mask.postRenderWebGL(this,C.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gl,g),g.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var g=this.gl,y=this.getCurrentStencilMask();if(y){var T=y.mask;g.enable(g.STENCIL_TEST),T.invertAlpha?g.stencilFunc(g.NOTEQUAL,T.level,255):g.stencilFunc(g.EQUAL,T.level,255)}},snapshot:function(g,y,T){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,g,y,T)},snapshotArea:function(g,y,T,E,C,A,P){var F=this.snapshotState;return F.callback=C,F.type=A,F.encoder=P,F.getPixel=!1,F.x=g,F.y=y,F.width=T,F.height=E,this},snapshotPixel:function(g,y,T){return this.snapshotArea(g,y,1,1,T),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(g,y,T,E,C,A,P,F,O,I,G){C===void 0&&(C=!1),A===void 0&&(A=0),P===void 0&&(P=0),F===void 0&&(F=y),O===void 0&&(O=T),I==="pixel"&&(C=!0,I="image/png");var z=this.currentFramebuffer;this.snapshotArea(A,P,F,O,E,I,G);var X=this.snapshotState;return X.getPixel=C,X.isFramebuffer=!0,X.bufferWidth=y,X.bufferHeight=T,X.width=Math.min(X.width,y),X.height=Math.min(X.height,T),this.setFramebuffer(g),m(this.gl,X),this.setFramebuffer(z),X.callback=null,X.isFramebuffer=!1,this},canvasToTexture:function(g,y,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),y?this.updateCanvasTexture(g,y,E):this.createCanvasTexture(g,T,E)},createCanvasTexture:function(g,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var E=this.gl,C=E.NEAREST,A=E.NEAREST,P=g.width,F=g.height,O=E.CLAMP_TO_EDGE,I=s(P,F);return!y&&I&&(O=E.REPEAT),this.config.antialias&&(C=I&&this.mipmapFilter?this.mipmapFilter:E.LINEAR,A=E.LINEAR),this.createTexture2D(0,C,A,O,O,E.RGBA,g,P,F,!0,!1,T)},updateCanvasTexture:function(g,y,T){T===void 0&&(T=!1);var E=this.gl,C=g.width,A=g.height;if(C>0&&A>0){E.activeTexture(E.TEXTURE0);var P=E.getParameter(E.TEXTURE_BINDING_2D);E.bindTexture(E.TEXTURE_2D,y),T&&E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,!0),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,g),y.width=C,y.height=A,P&&E.bindTexture(E.TEXTURE_2D,P)}return y},createVideoTexture:function(g,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var E=this.gl,C=E.NEAREST,A=E.NEAREST,P=g.videoWidth,F=g.videoHeight,O=E.CLAMP_TO_EDGE,I=s(P,F);return!y&&I&&(O=E.REPEAT),this.config.antialias&&(C=I&&this.mipmapFilter?this.mipmapFilter:E.LINEAR,A=E.LINEAR),this.createTexture2D(0,C,A,O,O,E.RGBA,g,P,F,!0,!0,T)},updateVideoTexture:function(g,y,T){T===void 0&&(T=!1);var E=this.gl,C=g.videoWidth,A=g.videoHeight;if(C>0&&A>0){E.activeTexture(E.TEXTURE0);var P=E.getParameter(E.TEXTURE_BINDING_2D);E.bindTexture(E.TEXTURE_2D,y),E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,T),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,g),y.width=C,y.height=A,P&&E.bindTexture(E.TEXTURE_2D,P)}return y},setTextureFilter:function(g,y){var T=this.gl,E=y===0?T.LINEAR:T.NEAREST;T.activeTexture(T.TEXTURE0);var C=T.getParameter(T.TEXTURE_BINDING_2D);return T.bindTexture(T.TEXTURE_2D,g),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,E),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,E),C&&T.bindTexture(T.TEXTURE_2D,C),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=x},71305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(71402),r=new f({initialize:function(e,s,u,i,o){this.pipeline=e,this.name=s,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=i,this.vertSrc=u,this.program=this.renderer.createProgram(u,i),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(n){var e=0,s=0,u=[];this.vertexComponentCount=0;for(var i=0;i<n.length;i++){var o=n[i],h=o.name,l=c(o,"size",1),d=c(o,"type",a.FLOAT),v=d.enum,m=d.size,x=!!o.normalized;u.push({name:h,size:l,type:v,normalized:x,offset:s,enabled:!1,location:-1}),m===4?e+=l:e++,s+=l*m}this.vertexSize=s,this.vertexComponentCount=e,this.attributes=u},bind:function(n,e){return n===void 0&&(n=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var e=this.gl,s=this.vertexSize,u=this.attributes,i=this.program,o=0;o<u.length;o++){var h=u[o],l=h.size,d=h.type,v=h.offset,m=h.enabled,x=h.location,g=!!h.normalized;if(n){var y=e.getAttribLocation(i,h.name);y>=0?(e.enableVertexAttribArray(y),e.vertexAttribPointer(y,l,d,g,s,v),h.enabled=!0,h.location=y):y!==-1&&e.disableVertexAttribArray(y)}else m?e.vertexAttribPointer(x,l,d,g,s,v):!m&&x>-1&&(e.disableVertexAttribArray(x),h.location=-1)}return this},createUniforms:function(){var n=this.gl,e=this.program,s=this.uniforms,u,i,o,h=n.getProgramParameter(e,n.ACTIVE_UNIFORMS);for(u=0;u<h;u++){var l=n.getActiveUniform(e,u);if(l){i=l.name,o=n.getUniformLocation(e,i),o!==null&&(s[i]={name:i,location:o,value1:null,value2:null,value3:null,value4:null});var d=i.indexOf("[");d>0&&(i=i.substr(0,d),s.hasOwnProperty(i)||(o=n.getUniformLocation(e,i),o!==null&&(s[i]={name:i,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var e=this.uniforms[n];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(n,e,s,u){var i=this.uniforms[e];return i?((u||i.value1!==s)&&(i.value1=s,this.renderer.setProgram(this.program),n.call(this.gl,i.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(n,e,s,u,i){var o=this.uniforms[e];return o?((i||o.value1!==s||o.value2!==u)&&(o.value1=s,o.value2=u,this.renderer.setProgram(this.program),n.call(this.gl,o.location,s,u),this.pipeline.currentShader=this),this):this},setUniform3:function(n,e,s,u,i,o){var h=this.uniforms[e];return h?((o||h.value1!==s||h.value2!==u||h.value3!==i)&&(h.value1=s,h.value2=u,h.value3=i,this.renderer.setProgram(this.program),n.call(this.gl,h.location,s,u,i),this.pipeline.currentShader=this),this):this},setUniform4:function(n,e,s,u,i,o,h){var l=this.uniforms[e];return l?((h||l.value1!==s||l.value2!==u||l.value3!==i||l.value4!==o)&&(l.value1=s,l.value2=u,l.value3=i,l.value4=o,this.renderer.setProgram(this.program),n.call(this.gl,l.location,s,u,i,o),this.pipeline.currentShader=this),this):this},setBoolean:function(n,e){return this.setUniform1(this.gl.uniform1i,n,Number(e))},set1f:function(n,e){return this.setUniform1(this.gl.uniform1f,n,e)},set2f:function(n,e,s){return this.setUniform2(this.gl.uniform2f,n,e,s)},set3f:function(n,e,s,u){return this.setUniform3(this.gl.uniform3f,n,e,s,u)},set4f:function(n,e,s,u,i){return this.setUniform4(this.gl.uniform4f,n,e,s,u,i)},set1fv:function(n,e){return this.setUniform1(this.gl.uniform1fv,n,e,!0)},set2fv:function(n,e){return this.setUniform1(this.gl.uniform2fv,n,e,!0)},set3fv:function(n,e){return this.setUniform1(this.gl.uniform3fv,n,e,!0)},set4fv:function(n,e){return this.setUniform1(this.gl.uniform4fv,n,e,!0)},set1iv:function(n,e){return this.setUniform1(this.gl.uniform1iv,n,e,!0)},set2iv:function(n,e){return this.setUniform1(this.gl.uniform2iv,n,e,!0)},set3iv:function(n,e){return this.setUniform1(this.gl.uniform3iv,n,e,!0)},set4iv:function(n,e){return this.setUniform1(this.gl.uniform4iv,n,e,!0)},set1i:function(n,e){return this.setUniform1(this.gl.uniform1i,n,e)},set2i:function(n,e,s){return this.setUniform2(this.gl.uniform2i,n,e,s)},set3i:function(n,e,s,u){return this.setUniform3(this.gl.uniform3i,n,e,s,u)},set4i:function(n,e,s,u,i){return this.setUniform4(this.gl.uniform4i,n,e,s,u,i)},setMatrix2fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix2fv,n,e,s,!0)},setMatrix3fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix3fv,n,e,s,!0)},setMatrix4fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix4fv,n,e,s,!0)},createProgram:function(n,e){n===void 0&&(n=this.vertSrc),e===void 0&&(e=this.fragSrc);var s=this.gl;return this.program&&s.deleteProgram(this.program),this.vertSrc=n,this.fragSrc=e,this.program=this.renderer.createProgram(n,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=r},71402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},55478:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(71402),c=t(98611),a={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};a=c(!1,a,f),p.exports=a},5583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(91679),r=t(89053),n=t(71402),e=t(44775),s=new f({Extends:e,initialize:function(i){i.fragShader=c(i,"fragShader",a),i.vertShader=c(i,"vertShader",r),i.batchSize=c(i,"batchSize",1),i.vertices=c(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=c(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,i){e.prototype.resize.call(this,u,i),this.set2f("uResolution",u,i)},beginMask:function(u,i,o){this.renderer.beginBitmapMask(u,o)},endMask:function(u,i,o){var h=this.gl,l=this.renderer,d=u.bitmapMask;d&&h&&(l.drawBitmapMask(d,i,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",u.invertAlpha),h.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),h.bindTexture(h.TEXTURE_2D,null))}});p.exports=s},81828:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(58136),a=t(47406),r=t(72632),n=t(87228),e=t(92462),s=t(75512),u=new f({Extends:n,initialize:function(o){o.shaders=[s.setGlowQuality(e.FXGlowFrag,o.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,o);var h=this.game;this.glow=new c.Glow(h),this.shadow=new c.Shadow(h),this.pixelate=new c.Pixelate(h),this.vignette=new c.Vignette(h),this.shine=new c.Shine(h),this.gradient=new c.Gradient(h),this.circle=new c.Circle(h),this.barrel=new c.Barrel(h),this.wipe=new c.Wipe(h),this.bokeh=new c.Bokeh(h);var l=[];l[a.GLOW]=this.onGlow,l[a.SHADOW]=this.onShadow,l[a.PIXELATE]=this.onPixelate,l[a.VIGNETTE]=this.onVignette,l[a.SHINE]=this.onShine,l[a.BLUR]=this.onBlur,l[a.GRADIENT]=this.onGradient,l[a.BLOOM]=this.onBloom,l[a.COLOR_MATRIX]=this.onColorMatrix,l[a.CIRCLE]=this.onCircle,l[a.BARREL]=this.onBarrel,l[a.DISPLACEMENT]=this.onDisplacement,l[a.WIPE]=this.onWipe,l[a.BOKEH]=this.onBokeh,this.fxHandlers=l,this.source,this.target,this.swap},onDraw:function(i,o,h){this.source=i,this.target=o,this.swap=h;var l=i.width,d=i.height,v=this.tempSprite,m=this.fxHandlers;if(v&&v.preFX)for(var x=v.preFX.list,g=0;g<x.length;g++){var y=x[g];y.active&&m[y.type].call(this,y,l,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,o=this.target;this.copy(i,o),this.source=o,this.target=i},onGlow:function(i,o,h){var l=this.shaders[a.GLOW];this.setShader(l),this.glow.onPreRender(i,l,o,h),this.runDraw()},onShadow:function(i){var o=this.shaders[a.SHADOW];this.setShader(o),this.shadow.onPreRender(i,o),this.runDraw()},onPixelate:function(i,o,h){var l=this.shaders[a.PIXELATE];this.setShader(l),this.pixelate.onPreRender(i,l,o,h),this.runDraw()},onVignette:function(i){var o=this.shaders[a.VIGNETTE];this.setShader(o),this.vignette.onPreRender(i,o),this.runDraw()},onShine:function(i,o,h){var l=this.shaders[a.SHINE];this.setShader(l),this.shine.onPreRender(i,l,o,h),this.runDraw()},onBlur:function(i,o,h){var l=r(i,"quality"),d=this.shaders[a.BLUR+l];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",o,h),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var v=r(i,"x"),m=r(i,"y"),x=r(i,"steps"),g=0;g<x;g++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var o=this.shaders[a.GRADIENT];this.setShader(o),this.gradient.onPreRender(i,o),this.runDraw()},onBloom:function(i,o,h){var l=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(l),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var d=2/o*r(i,"offsetX"),v=2/h*r(i,"offsetY"),m=r(i,"steps"),x=0;x<m;x++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,o,h){var l=this.shaders[a.CIRCLE];this.setShader(l),this.circle.onPreRender(i,l,o,h),this.runDraw()},onBarrel:function(i){var o=this.shaders[a.BARREL];this.setShader(o),this.barrel.onPreRender(i,o),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var o=this.shaders[a.WIPE];this.setShader(o),this.wipe.onPreRender(i,o),this.runDraw()},onBokeh:function(i,o,h){var l=this.shaders[a.BOKEH];this.setShader(l),this.bokeh.onPreRender(i,l,o,h),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});p.exports=u},66901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(65045),r=t(77310),n=t(69360),e=t(93736),s=t(44775),u=new f({Extends:r,initialize:function(o){var h=c(o,"fragShader",a);o.fragShader=h.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),r.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this);var i=this.gl,o=i.createTexture();i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:o}},onRender:function(i,o){var h=i.sys.lights;if(this.lightsActive=!1,!(!h||!h.active)){var l=h.getLights(o),d=l.length;this.lightsActive=!0;var v,m=this.renderer,x=m.height,g=o.matrix,y=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",h.ambientColor.r,h.ambientColor.g,h.ambientColor.b),this.set1i("uLightCount",d),v=0;v<d;v++){var T=l[v].light,E=T.color,C="uLights["+v+"].";g.transformPoint(T.x,T.y,y),this.set2f(C+"position",y.x-o.scrollX*T.scrollFactorX*o.zoom,x-(y.y-o.scrollY*T.scrollFactorY*o.zoom)),this.set3f(C+"color",E.r,E.g,E.b),this.set1f(C+"intensity",T.intensity),this.set1f(C+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(i){var h=-i,l=Math.cos(h),d=Math.sin(h);o[1]=d,o[3]=-d,o[0]=o[4]=l}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=i}},setTexture2D:function(i,o){var h=this.renderer;i===void 0&&(i=h.whiteTexture);var l=this.getNormalMap(o);this.isNewNormalMap(i,l)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(l),this.currentNormalMap=l);var d=0;if(o&&o.parentContainer){var v=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=v.rotationNormalized}else o&&(d=o.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(i,o){o===void 0&&(o=i.frame);var h=o.glTexture,l=this.getNormalMap(i);if(this.isNewNormalMap(h,l)&&(this.flush(),this.createBatch(h),this.addTextureToBatch(l),this.currentNormalMap=l),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return 0},isNewNormalMap:function(i,o){return this.currentTexture!==i||this.currentNormalMap!==o},getNormalMap:function(i){var o;return i?i.displayTexture?o=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?o=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?o=i.tileset[0].image.dataSource[0]:o=i.tileset.image.dataSource[0]):o=this.defaultNormalMap,o||(o=this.defaultNormalMap),o.glTexture},batchSprite:function(i,o,h){this.lightsActive&&r.prototype.batchSprite.call(this,i,o,h)},batchTexture:function(i,o,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R,D,B,V,Y,K,$,J){this.lightsActive&&r.prototype.batchTexture.call(this,i,o,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R,D,B,V,Y,K,$,J)},batchTextureFrame:function(i,o,h,l,d,v,m){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,o,h,l,d,v,m)}});p.exports=u},71264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(77310),r=t(85060),n=t(18166),e=t(71402),s=t(44775),u=new f({Extends:a,initialize:function(o){o.fragShader=c(o,"fragShader",r),o.vertShader=c(o,"vertShader",n),o.attributes=c(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,a.call(this,o)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels)}});p.exports=u},77310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(11117),a=t(72632),r=t(53787),n=t(15968),e=t(69360),s=t(75512),u=t(71402),i=t(44775),o=new f({Extends:i,initialize:function(l){var d=l.game.renderer,v=a(l,"fragShader",r);l.fragShader=s.parseFragmentShaderMaxTextures(v,d.maxTextures),l.vertShader=a(l,"vertShader",n),l.attributes=a(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),i.call(this,l),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var h=this.renderer;this.set1iv("uMainSampler",h.textureIndexes),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels)},batchSprite:function(h,l,d){this.manager.set(this,h);var v=this._tempMatrix1,m=this._tempMatrix2,x=this._tempMatrix3,g=h.frame,y=g.glTexture,T=g.u0,E=g.v0,C=g.u1,A=g.v1,P=g.x,F=g.y,O=g.cutWidth,I=g.cutHeight,G=g.customPivot,z=h.displayOriginX,X=h.displayOriginY,H=-z+P,N=-X+F;if(h.isCropped){var U=h._crop;(U.flipX!==h.flipX||U.flipY!==h.flipY)&&g.updateCropUVs(U,h.flipX,h.flipY),T=U.u0,E=U.v0,C=U.u1,A=U.v1,O=U.width,I=U.height,P=U.x,F=U.y,H=-z+P,N=-X+F}var R=1,D=1;h.flipX&&(G||(H+=-g.realWidth+z*2),R=-1),(h.flipY||g.source.isGLTexture&&!y.flipY)&&(G||(N+=-g.realHeight+X*2),D=-1);var B=h.x,V=h.y;m.applyITRS(B,V,h.rotation,h.scaleX*R,h.scaleY*D),v.copyFrom(l.matrix),d?(v.multiplyWithOffset(d,-l.scrollX*h.scrollFactorX,-l.scrollY*h.scrollFactorY),m.e=B,m.f=V):(m.e-=l.scrollX*h.scrollFactorX,m.f-=l.scrollY*h.scrollFactorY),v.multiply(m,x);var Y=x.setQuad(H,N,H+O,N+I),K=s.getTintAppendFloatAlpha,$=l.alpha,J=K(h.tintTopLeft,$*h._alphaTL),Q=K(h.tintTopRight,$*h._alphaTR),k=K(h.tintBottomLeft,$*h._alphaBL),q=K(h.tintBottomRight,$*h._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(h,g);this.manager.preBatch(h),this.currentShader.set1i("uRoundPixels",l.roundPixels),this.batchQuad(h,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],T,E,C,A,J,Q,k,q,h.tintFill,y,tt),this.manager.postBatch(h)},batchTexture:function(h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R,D,B,V,Y,K,$,J,Q,k,q){q===void 0&&(q=!1),this.manager.set(this,h);var tt=this._tempMatrix1,_=this._tempMatrix2,it=this._tempMatrix3,st=z/d+Y,ht=X/v+K,ut=(z+H)/d+Y,et=(X+N)/v+K,rt=g,nt=y,pt=-I,gt=-G;if(h.isCropped){var Tt=h._crop,lt=Tt.width,ot=Tt.height;rt=lt,nt=ot,g=lt,y=ot,z=Tt.x,X=Tt.y;var at=z,dt=X;A&&(at=H-Tt.x-lt),P&&(dt=N-Tt.y-ot),st=at/d+Y,ht=dt/v+K,ut=(at+lt)/d+Y,et=(dt+ot)/v+K,pt=-I+z,gt=-G+X}P=P^(!Q&&l.isRenderTexture?1:0),A&&(rt*=-1,pt+=g),P&&(nt*=-1,gt+=y),_.applyITRS(m,x,C,T,E),tt.copyFrom($.matrix),J?(tt.multiplyWithOffset(J,-$.scrollX*F,-$.scrollY*O),_.e=m,_.f=x):(_.e-=$.scrollX*F,_.f-=$.scrollY*O),tt.multiply(_,it);var ft=it.setQuad(pt,gt,pt+rt,gt+nt);k==null&&(k=this.setTexture2D(l)),h&&!q&&this.manager.preBatch(h),this.currentShader.set1i("uRoundPixels",$.roundPixels),this.batchQuad(h,ft[0],ft[1],ft[2],ft[3],ft[4],ft[5],ft[6],ft[7],st,ht,ut,et,U,R,D,B,V,l,k),h&&!q&&this.manager.postBatch(h)},batchTextureFrame:function(h,l,d,v,m,x,g){this.manager.set(this);var y=this._tempMatrix1.copyFrom(x),T=this._tempMatrix2;g?y.multiply(g,T):T=y;var E=T.setQuad(l,d,l+h.width,d+h.height),C=this.setTexture2D(h.source.glTexture);v=s.getTintAppendFloatAlpha(v,m),this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],h.u0,h.v0,h.u1,h.v1,v,v,v,v,0,h.glTexture,C)},batchFillRect:function(h,l,d,v,m,x){this.renderer.pipelines.set(this);var g=this.calcMatrix;x&&x.multiply(m,g);var y=g.setQuad(h,l,h+d,l+v),T=this.fillTint;this.batchQuad(null,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(h,l,d,v,m,x,g,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(g,T);var E=T.getX(h,l),C=T.getY(h,l),A=T.getX(d,v),P=T.getY(d,v),F=T.getX(m,x),O=T.getY(m,x),I=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,E,C,A,P,F,O,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(h,l,d,v,m,x,g,y,T){var E=this.tempTriangle;E[0].x=h,E[0].y=l,E[0].width=g,E[1].x=d,E[1].y=v,E[1].width=g,E[2].x=m,E[2].y=x,E[2].width=g,E[3].x=h,E[3].y=l,E[3].width=g,this.batchStrokePath(E,g,!1,y,T)},batchFillPath:function(h,l,d){this.renderer.pipelines.set(this);var v=this.calcMatrix;d&&d.multiply(l,v);for(var m=h.length,x=this.polygonCache,g,y,T=this.fillTint.TL,E=this.fillTint.TR,C=this.fillTint.BL,A=0;A<m;++A)y=h[A],x.push(y.x,y.y);g=c(x),m=g.length,this.currentShader.set1i("uRoundPixels",!1);for(var P=0;P<m;P+=3){var F=g[P+0]*2,O=g[P+1]*2,I=g[P+2]*2,G=x[F+0],z=x[F+1],X=x[O+0],H=x[O+1],N=x[I+0],U=x[I+1],R=v.getX(G,z),D=v.getY(G,z),B=v.getX(X,H),V=v.getY(X,H),Y=v.getX(N,U),K=v.getY(N,U);this.batchTri(null,R,D,B,V,Y,K,0,0,1,1,T,E,C,2)}x.length=0},batchStrokePath:function(h,l,d,v,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=h.length-1,g=0;g<x;g++){var y=h[g],T=h[g+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,l,g,!d&&g===x-1,v,m)}},batchLine:function(h,l,d,v,m,x,g,y,T,E,C){this.renderer.pipelines.set(this);var A=this.calcMatrix;C&&C.multiply(E,A);var P=d-h,F=v-l,O=Math.sqrt(P*P+F*F);if(O!==0){var I=m*(v-l)/O,G=m*(h-d)/O,z=x*(v-l)/O,X=x*(h-d)/O,H=d-z,N=v-X,U=h-I,R=l-G,D=d+z,B=v+X,V=h+I,Y=l+G,K=A.getX(H,N),$=A.getY(H,N),J=A.getX(U,R),Q=A.getY(U,R),k=A.getX(D,B),q=A.getY(D,B),tt=A.getX(V,Y),_=A.getY(V,Y),it=this.strokeTint,st=it.TL,ht=it.TR,ut=it.BL,et=it.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,tt,_,J,Q,K,$,k,q,0,0,1,1,st,ht,ut,et,2),!(g<=2)){var rt=this.prevQuad,nt=this.firstQuad;y>0&&rt[4]?this.batchQuad(null,tt,_,J,Q,rt[0],rt[1],rt[2],rt[3],0,0,1,1,st,ht,ut,et,2):(nt[0]=tt,nt[1]=_,nt[2]=J,nt[3]=Q,nt[4]=1),T&&nt[4]?this.batchQuad(null,K,$,k,q,nt[0],nt[1],nt[2],nt[3],0,0,1,1,st,ht,ut,et,2):(rt[0]=K,rt[1]=$,rt[2]=k,rt[3]=q,rt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});p.exports=o},10919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(83327),r=t(54677),n=t(44775),e=new f({Extends:n,initialize:function(u){u.vertShader=c(u,"vertShader",r),u.fragShader=c(u,"fragShader",a),u.attributes=c(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,u)},onRender:function(s,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(s,u,i,o,h,l,d,v,m,x,g,y){var T=s.color,E=s.intensity,C=s.radius,A=s.attenuation,P=T.r*E,F=T.g*E,O=T.b*E,I=u.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,o,g,y,C,A,P,F,O,I),this.batchLightVert(h,l,g,y,C,A,P,F,O,I),this.batchLightVert(d,v,g,y,C,A,P,F,O,I),this.batchLightVert(i,o,g,y,C,A,P,F,O,I),this.batchLightVert(d,v,g,y,C,A,P,F,O,I),this.batchLightVert(m,x,g,y,C,A,P,F,O,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,u,i,o,h,l,d,v,m,x){var g=this.vertexViewF32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++y]=s,g[++y]=u,g[++y]=i,g[++y]=o,g[++y]=h,g[++y]=l,g[++y]=d,g[++y]=v,g[++y]=m,g[++y]=x,this.vertexCount++}});p.exports=e},80486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(65246),a=t(72632),r=t(12569),n=t(99365),e=t(44775),s=new f({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",n),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new c,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height),this.set1i("uRoundPixels",i.config.roundPixels);for(var o=this.renderTargets,h=0;h<o.length;h++)o[h].autoResize=!0},postBatch:function(u){return this.hasBooted||this.bootFX(),this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(u){this.bindAndDraw(u)},getController:function(u){return u!==void 0?u:this.controller?this.controller:this},copySprite:function(u,i,o){o===void 0&&(o=!1);var h=this.gl;h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,u.texture);var l=h.getParameter(h.FRAMEBUFFER_BINDING);h.bindFramebuffer(h.FRAMEBUFFER,i.framebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i.texture,0),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),h.bufferData(h.ARRAY_BUFFER,this.vertexData,h.STATIC_DRAW),h.drawArrays(h.TRIANGLES,0,6),o&&(h.bindTexture(h.TEXTURE_2D,null),h.bindFramebuffer(h.FRAMEBUFFER,l))},copyFrame:function(u,i,o,h,l){this.manager.copyFrame(u,i,o,h,l)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,i,o){this.manager.drawFrame(u,i,o,this.colorMatrix)},blendFrames:function(u,i,o,h,l){this.manager.blendFrames(u,i,o,h,l)},blendFramesAdditive:function(u,i,o,h,l){this.manager.blendFramesAdditive(u,i,o,h,l)},clearFrame:function(u,i){this.manager.clearFrame(u,i)},blitFrame:function(u,i,o,h,l,d){this.manager.blitFrame(u,i,o,h,l,d)},copyFrameRect:function(u,i,o,h,l,d,v,m){this.manager.copyFrameRect(u,i,o,h,l,d,v,m)},bindAndDraw:function(u,i,o,h,l){o===void 0&&(o=!0),h===void 0&&(h=!0);var d=this.gl,v=this.renderer;this.bind(l),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture,0),o&&(h?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||d.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,v.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});p.exports=s},87228:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(79993),a=t(56694),r=t(37486),n=t(72632),e=t(77310),s=t(12569),u=t(74118),i=t(37410),o=t(85060),h=t(18166),l=t(44775),d=new a({Extends:e,initialize:function(m){var x=n(m,"fragShader",s),g=n(m,"vertShader",h),y=n(m,"drawShader",s),T=[{name:"DrawSprite",fragShader:o,vertShader:h},{name:"CopySprite",fragShader:x,vertShader:g},{name:"DrawGame",fragShader:y,vertShader:h},{name:"ColorMatrix",fragShader:r}],E=n(m,"shaders",[]);m.shaders=T.concat(E),m.vertShader||(m.vertShader=g),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){l.prototype.boot.call(this);var v=this.shaders,m=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=m.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height),this.set1i("uRoundPixels",m.config.roundPixels)},onResize:function(v,m){var x=this.quadVertexViewF32;x[1]=m,x[22]=m,x[14]=v,x[28]=v,x[35]=v,x[36]=m},batchQuad:function(v,m,x,g,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U){var R=Math.min(m,g,T,C),D=Math.min(x,y,E,A),B=Math.max(m,g,T,C),V=Math.max(x,y,E,A),Y=B-R,K=V-D,$=this.spriteBounds.setTo(R,D,Y,K),J=v?v.preFX.padding:0,Q=Y+J*2,k=K+J*2,q=Math.abs(Math.max(Q,k)),tt=this.manager.getRenderTarget(q),_=this.targetBounds.setTo(0,0,tt.width,tt.height);c(_,$.centerX,$.centerY),this.tempSprite=v;var it=this.gl,st=this.renderer;st.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",st.width,st.height),this.set1i("uRoundPixels",st.config.roundPixels),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,tt),v.preFX.onFX(this));var ht=this.fsTarget;return this.flush(),it.viewport(0,0,st.width,st.height),it.bindFramebuffer(it.FRAMEBUFFER,ht.framebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,ht.texture,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(m,x,P,F,0,N,G),this.batchVert(g,y,P,I,0,N,X),this.batchVert(T,E,O,I,0,N,H),this.batchVert(m,x,P,F,0,N,G),this.batchVert(T,E,O,I,0,N,H),this.batchVert(C,A,O,F,0,N,z),this.flush(),this.flipProjectionMatrix(!1),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,tt.texture),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,m,x,g,y,T,E){x===void 0&&(x=!0),g===void 0&&(g=!0),y===void 0&&(y=!1),E===void 0&&(E=this.copyShader);var C=this.gl,A=this.tempSprite;T&&(E=this.colorMatrixShader),this.currentShader=E;var P=this.setVertexBuffer(this.quadVertexBuffer);E.bind(P,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),this.set1i("uRoundPixels",F.config.roundPixels),A.preFX.onFXCopy(this),this.onCopySprite(v,m,A),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture),v.height>m.height)C.viewport(0,0,v.width,v.height),this.setTargetUVs(v,m);else{var O=m.height-v.height;C.viewport(0,O,v.width,v.height),this.resetUVs()}if(C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,m.texture,0),x&&(C.clearColor(0,0,0,Number(!g)),C.clear(C.COLOR_BUFFER_BIT)),y){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(f.ERASE)}C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),y&&this.renderer.setBlendMode(I),C.bindFramebuffer(C.FRAMEBUFFER,null)},copy:function(v,m){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture),x.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,m.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,m.texture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(v,m,x,g,y){this.manager.blendFrames(v,m,x,g,y)},blendFramesAdditive:function(v,m,x,g,y){this.manager.blendFramesAdditive(v,m,x,g,y)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var m=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var g=this._tempMatrix1.loadIdentity(),y=this.targetBounds.x,T=this.targetBounds.y,E=y+v.width,C=T+v.height,A=g.getX(y,T),P=g.getX(y,C),F=g.getX(E,C),O=g.getX(E,T),I=g.getY(y,T),G=g.getY(y,C),z=g.getY(E,C),X=g.getY(E,T),H=16777215;this.batchVert(A,I,0,0,0,0,H),this.batchVert(P,G,0,1,0,0,H),this.batchVert(F,z,1,1,0,0,H),this.batchVert(A,I,0,0,0,0,H),this.batchVert(F,z,1,1,0,0,H),this.batchVert(O,X,1,0,0,0,H),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||m.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,m,x,g,y,T,E,C){var A=this.quadVertexViewF32;A[2]=v,A[3]=m,A[9]=x,A[10]=g,A[16]=y,A[17]=T,A[23]=v,A[24]=m,A[30]=y,A[31]=T,A[37]=E,A[38]=C},setTargetUVs:function(v,m){var x=m.height/v.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=d},21213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(77310),r=new f({Extends:a,initialize:function(e){e.topology=5,e.batchSize=c(e,"batchSize",256),a.call(this,e)}});p.exports=r},51212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(77310),r=t(85060),n=t(18166),e=t(44775),s=new f({Extends:a,initialize:function(i){i.fragShader=c(i,"fragShader",r),i.vertShader=c(i,"vertShader",n),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height),this.set1i("uRoundPixels",u.config.roundPixels)}});p.exports=s},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(2529),c=t(95723),a=t(56694),r=t(65246),n=t(37486),e=t(79060),s=t(72632),u=t(98921),i=t(99365),o=t(44775),h=new a({Extends:o,initialize:function(d){d.renderTarget=s(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=s(d,"vertShader",i),d.shaders=s(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:f},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:n}]),d.attributes=s(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,o.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var l=this.shaders,d=this.renderTargets;this.copyShader=l[0],this.addShader=l[1],this.linearShader=l[2],this.colorMatrixShader=l[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(l,d,v,m,x){v===void 0&&(v=1),m===void 0&&(m=!0),x===void 0&&(x=!0);var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,l.texture),d?(g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture,0)):g.viewport(0,0,l.width,l.height),m&&(x?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blitFrame:function(l,d,v,m,x,g,y){v===void 0&&(v=1),m===void 0&&(m=!0),x===void 0&&(x=!0),g===void 0&&(g=!1),y===void 0&&(y=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,l.texture),l.height>d.height)T.viewport(0,0,l.width,l.height),this.setTargetUVs(l,d);else{var E=d.height-l.height;T.viewport(0,E,l.width,l.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture,0),m&&(x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),g){var C=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}y&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),g&&this.renderer.setBlendMode(C),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(l,d,v,m,x,g,y,T){y===void 0&&(y=!0),T===void 0&&(T=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,l.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,l.texture,0),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,v,m,x,g),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(l){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(l,d,v,m){v===void 0&&(v=!0),m===void 0&&(m=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,l.texture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture,0)):x.viewport(0,0,l.width,l.height),v?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(l,d,v,m,x,g){m===void 0&&(m=1),x===void 0&&(x=!0),g===void 0&&(g=this.linearShader);var y=this.gl;this.setShader(g),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,l.texture),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,d.texture),v?(y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,v.texture,0),y.viewport(0,0,v.width,v.height)):y.viewport(0,0,l.width,l.height),x?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFramesAdditive:function(l,d,v,m,x){this.blendFrames(l,d,v,m,x,this.addShader)},clearFrame:function(l,d){d===void 0&&(d=!0);var v=this.gl;v.viewport(0,0,l.width,l.height),v.bindFramebuffer(v.FRAMEBUFFER,l.framebuffer),d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,m)},setUVs:function(l,d,v,m,x,g,y,T){var E=this.vertexViewF32;E[2]=l,E[3]=d,E[6]=v,E[7]=m,E[10]=x,E[11]=g,E[14]=l,E[15]=d,E[18]=x,E[19]=g,E[22]=y,E[23]=T},setTargetUVs:function(l,d){var v=d.height/l.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=h},65641:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},68726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},67186:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},22709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},74469:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},93953:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},51687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},25034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},18970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(87751),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});p.exports=r},2134:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(88222),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,u=this.fullFrame2;this.copyFrame(n,u);for(var i=2/n.width*e.offsetX,o=2/n.height*e.offsetY,h=0;h<e.steps;h++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,o),this.copySprite(s,n);this.blendFrames(u,n,s,e.strength),this.copyToGame(s)}});p.exports=r},63377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(35491),a=t(75568),r=t(44481),n=t(80486),e=new f({Extends:n,initialize:function(u){n.call(this,{game:u,shaders:[{name:"Gaussian5",fragShader:c},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var u=this.getController(),i=this.gl,o=this.fullFrame1,h=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[u.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",u.strength),this.set3fv("color",u.glcolor);for(var l=0;l<u.steps;l++)this.set2f("offset",u.x,0),this.copySprite(s,o),this.set2f("offset",0,u.y),this.copySprite(o,s);i.bindFramebuffer(i.FRAMEBUFFER,h),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});p.exports=e},49745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(69960),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,u){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},4323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(33754),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,u){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},92066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(80486),a=new f({Extends:c,initialize:function(n){c.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});p.exports=a},89581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(35668),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});p.exports=r},55084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=t(69675),r=t(80486),n=t(75512),e=new f({Extends:r,initialize:function(u,i){var o=c(i,"quality",.1),h=c(i,"distance",10);r.call(this,{game:u,fragShader:n.setGlowQuality(a,u,o,h)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,u,i,o){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,u),this.set1f("innerStrength",s.innerStrength,u),this.set4fv("glowColor",s.glcolor,u),this.setBoolean("knockout",s.knockout,u),i&&o&&this.set2f("resolution",i,o,u)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=e},41653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(90993),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});p.exports=r},73416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(37945),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(n,e,s,u){n=this.getController(n),this.set1f("amount",n.amount,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},58049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(85718),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});p.exports=r},18026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(13740),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,u){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&u&&this.set2f("resolution",s,u,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},72381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(80617),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});p.exports=r},80542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(62879),a=t(80486),r=new f({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,u=n.wipeWidth,i=n.direction,o=n.axis;this.set4f("config",s,u,i,o,e),this.setBoolean("reveal",n.reveal,e)}});p.exports=r},58136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};p.exports=f},62253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65641),c=t(98611),a={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};a=c(!1,a,f),p.exports=a},2529:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(55301),c=t(56694),a=t(6659),r=t(40444),n=t(97081),e=t(74181),s=t(2893),u=t(9229),i=t(72283),o=t(74118),h=t(90881),l=t(84314),d=t(93736),v=t(47751),m=new c({Extends:a,initialize:function(g){a.call(this),this.game=g,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new h,this.gameSize=new h,this.baseSize=new h,this.displaySize=new h,this.scaleMode=f.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=f.CENTER.NO_CENTER,this.orientation=f.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==f.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===f.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(n.PRE_STEP,this.step,this),x.events.once(n.READY,this.refresh,this),x.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var g=x.width,y=x.height,T=x.scaleMode,E=x.zoom,C=x.autoRound;if(typeof g=="string")if(g.substr(-1)!=="%")g=parseInt(g,10);else{var A=this.parentSize.width;A===0&&(A=window.innerWidth);var P=parseInt(g,10)/100;g=Math.floor(A*P)}if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var F=this.parentSize.height;F===0&&(F=window.innerHeight);var O=parseInt(y,10)/100;y=Math.floor(F*O)}this.scaleMode=T,this.autoRound=C,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,C&&(g=Math.floor(g),y=Math.floor(y)),this.gameSize.setSize(g,y),E===f.ZOOM.MAX_ZOOM&&(E=this.getMaxZoom()),this.zoom=E,E!==1&&(this._resetZoom=!0),this.baseSize.setSize(g,y),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*E,x.minHeight*E),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*E,x.maxHeight*E),this.displaySize.setSize(g,y),this.orientation=u(g,y)},getParent:function(x){var g=x.parent;if(g!==null){if(this.parent=s(g),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==f.SCALE_MODE.NONE){var y=this.parent.getBoundingClientRect();(this.parentIsWindow||y.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",y=this.parent.getBoundingClientRect(),!this.parentIsWindow&&y.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,g=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(g.height=e(!0));var y=g.width,T=g.height;if(x.width!==y||x.height!==T)return x.setSize(y,T),!0;if(this.canvas){var E=this.canvasBounds,C=this.canvas.getBoundingClientRect();if(C.x!==E.x||C.y!==E.y)return!0}return!1},lockOrientation:function(x){var g=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return g?g.call(screen,x):!1},setParentSize:function(x,g){return this.parentSize.setSize(x,g),this.refresh()},setGameSize:function(x,g){var y=this.autoRound;y&&(x=Math.floor(x),g=Math.floor(g));var T=this.width,E=this.height;return this.gameSize.resize(x,g),this.baseSize.resize(x,g),y&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,E)},resize:function(x,g){var y=this.zoom,T=this.autoRound;T&&(x=Math.floor(x),g=Math.floor(g));var E=this.width,C=this.height;this.gameSize.resize(x,g),this.baseSize.resize(x,g),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*y,g*y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var A=this.canvas.style,P=x*y,F=g*y;return T&&(P=Math.floor(P),F=Math.floor(F)),(P!==x||F!==g)&&(A.width=P+"px",A.height=F+"px"),this.refresh(E,C)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,g){x===void 0&&(x=this.width),g===void 0&&(g=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var y=this.game.domContainer;if(y){this.baseSize.setCSS(y);var T=this.canvas.style,E=y.style;E.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",E.marginLeft=T.marginLeft,E.marginTop=T.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,g),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=u(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,g=this.gameSize.width,y=this.gameSize.height,T,E,C=this.zoom,A=this.autoRound;this.scaleMode===f.SCALE_MODE.NONE?(this.displaySize.setSize(g*C,y*C),T=this.displaySize.width,E=this.displaySize.height,A&&(T=Math.floor(T),E=Math.floor(E)),this._resetZoom&&(x.width=T+"px",x.height=E+"px",this._resetZoom=!1)):this.scaleMode===f.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,E=this.displaySize.height,A&&(T=Math.floor(T),E=Math.floor(E)),this.canvas.width=T,this.canvas.height=E):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,E=this.displaySize.height,A&&(T=Math.floor(T),E=Math.floor(E)),x.width=T+"px",x.height=E+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=l(this.parentSize.width,this.gameSize.width,0,!0),g=l(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,g),1)},updateCenter:function(){var x=this.autoCenter;if(x!==f.CENTER.NO_CENTER){var g=this.canvas,y=g.style,T=g.getBoundingClientRect(),E=T.width,C=T.height,A=Math.floor((this.parentSize.width-E)/2),P=Math.floor((this.parentSize.height-C)/2);x===f.CENTER.CENTER_HORIZONTALLY?P=0:x===f.CENTER.CENTER_VERTICALLY&&(A=0),y.marginLeft=A+"px",y.marginTop=P+"px"}},updateBounds:function(){var x=this.canvasBounds,g=this.canvas.getBoundingClientRect();x.x=g.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=g.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=g.width,x.height=g.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var g=this.fullscreen;if(!g.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!g.active){var y=this.getFullscreenTarget();g.keyboard?y[g.request](Element.ALLOW_KEYBOARD_INPUT):y[g.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var g=this.canvas.parentNode;g.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var g=x.parentNode;g.insertBefore(this.canvas,x),g.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,g=this.domlisteners;if(g.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0},g.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",g.orientationChange,!1),window.addEventListener("resize",g.windowResize,!1),this.fullscreen.available){g.fullScreenChange=function(T){return x.onFullScreenChange(T)},g.fullScreenError=function(T){return x.onFullScreenError(T)};var y=["webkit","moz",""];y.forEach(function(T){document.addEventListener(T+"fullscreenchange",g.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",g.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.addEventListener("MSFullscreenError",g.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,g){x instanceof v||(g=x,x=void 0),g===void 0&&(g=new o);var y=this.baseSize,T=this.parentSize,E=this.canvasBounds,C=this.displayScale,A=E.x>=0?0:-(E.x*C.x),P=E.y>=0?0:-(E.y*C.y),F;T.width>=E.width?F=y.width:F=y.width-(E.width-T.width)*C.x;var O;return T.height>=E.height?O=y.height:O=y.height-(E.height-T.height)*C.y,g.setTo(A,P,F,O),x&&(g.width/=x.zoomX,g.height/=x.zoomY,g.centerX=x.centerX+x.scrollX,g.centerY=x.centerY+x.scrollY),g},step:function(x,g){!this.parent||(this._lastCheck+=g,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var g=["webkit","moz",""];g.forEach(function(y){document.removeEventListener(y+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(y+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===f.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===f.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=m},35098:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};p.exports=f},82085:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},11826:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},56691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},34739:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},26681:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},11428:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},40444:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(55301),a={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};a=f(!1,a,c.CENTER),a=f(!1,a,c.ORIENTATION),a=f(!1,a,c.SCALE_MODE),a=f(!1,a,c.ZOOM),p.exports=a},47736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=t(40587),a=function(r){var n=r.game.config.defaultPhysicsSystem,e=f(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(c(n+"Physics")),e)for(var u in e)u=c(u.concat("Physics")),s.indexOf(u)===-1&&s.push(u);return s}};p.exports=a},91088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a){var r=a.plugins.getDefaultScenePlugins(),n=f(a.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};p.exports=c},90415:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},87157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(63946),a=new f({initialize:function(n){this.sys=new c(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=a},13553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(92980),a=t(7599),r=t(97081),n=t(10850),e=t(683),s=t(72283),u=t(87157),i=t(63946),o=new f({initialize:function(l,d){if(this.game=l,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)this._pending.push({key:"default",scene:d[v],autoStart:v===0,data:{}})}l.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new u),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var h,l,d,v;for(h=0;h<this._pending.length;h++){l=this._pending[h],d=l.key,v=l.scene;var m;v instanceof u?m=this.createSceneFromInstance(d,v):typeof v=="object"?m=this.createSceneFromObject(d,v):typeof v=="function"&&(m=this.createSceneFromFunction(d,v)),d=m.sys.settings.key,this.keys[d]=m,this.scenes.push(m),this._data[d]&&(m.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(l.autoStart=!0)),(l.autoStart||m.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,h=0;h<this._start.length;h++)l=this._start[h],this.start(l);this._start.length=0}},processQueue:function(){var h=this._pending.length,l=this._queue.length;if(!(h===0&&l===0)){var d,v;if(h){for(d=0;d<h;d++)v=this._pending[d],this.add(v.key,v.scene,v.autoStart,v.data);for(d=0;d<this._start.length;d++)v=this._start[d],this.start(v);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)v=this._queue[d],this[v.op](v.keyA,v.keyB);this._queue.length=0}},add:function(h,l,d,v){if(d===void 0&&(d=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:h,scene:l,autoStart:d,data:v}),this.isBooted||(this._data[h]={data:v}),null;h=this.getKey(h,l);var m;return l instanceof u?m=this.createSceneFromInstance(h,l):typeof l=="object"?(l.key=h,m=this.createSceneFromObject(h,l)):typeof l=="function"&&(m=this.createSceneFromFunction(h,l)),m.sys.settings.data=v,h=m.sys.settings.key,this.keys[h]=m,this.scenes.push(m),(d||m.sys.settings.active)&&(this._pending.length?this._start.push(h):this.start(h)),m},remove:function(h){if(this.isProcessing)this._queue.push({op:"remove",keyA:h,keyB:null});else{var l=this.getScene(h);if(!l||l.sys.isTransitioning())return this;var d=this.scenes.indexOf(l),v=l.sys.settings.key;d>-1&&(delete this.keys[v],this.scenes.splice(d,1),this._start.indexOf(v)>-1&&(d=this._start.indexOf(v),this._start.splice(d,1)),l.sys.destroy())}return this},bootScene:function(h){var l=h.sys,d=l.settings;l.sceneUpdate=s,h.init&&(h.init.call(h,d.data),d.status=c.INIT,d.isTransition&&l.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var v;l.load&&(v=l.load,v.reset()),v&&h.preload?(h.preload.call(h),d.status=c.LOADING,v.once(e.COMPLETE,this.loadComplete,this),v.start()):this.create(h)},loadComplete:function(h){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(h.scene)},payloadComplete:function(h){this.bootScene(h.scene)},update:function(h,l){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var v=this.scenes[d].sys;v.settings.status>c.START&&v.settings.status<=c.RUNNING&&v.step(h,l),v.scenePlugin._target&&v.scenePlugin.step(h,l)}},render:function(h){for(var l=0;l<this.scenes.length;l++){var d=this.scenes[l].sys;d.settings.visible&&d.settings.status>=c.LOADING&&d.settings.status<c.SLEEPING&&d.render(h)}this.isProcessing=!1},create:function(h){var l=h.sys,d=l.settings;h.create&&(d.status=c.CREATING,h.create.call(h,d.data),d.status===c.DESTROYED)||(d.isTransition&&l.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),h.update&&(l.sceneUpdate=h.update),d.status=c.RUNNING,l.events.emit(a.CREATE,h))},createSceneFromFunction:function(h,l){var d=new l;if(d instanceof u){var v=d.sys.settings.key;if(v!==""&&(h=v),this.keys.hasOwnProperty(h))throw new Error("Cannot add a Scene with duplicate key: "+h);return this.createSceneFromInstance(h,d)}else return d.sys=new i(d),d.sys.settings.key=h,d.sys.init(this.game),d},createSceneFromInstance:function(h,l){var d=l.sys.settings.key;return d===""&&(l.sys.settings.key=h),l.sys.init(this.game),l},createSceneFromObject:function(h,l){var d=new u(l),v=d.sys.settings.key;v!==""?h=v:d.sys.settings.key=h,d.sys.init(this.game);for(var m=["init","preload","create","update","render"],x=0;x<m.length;x++){var g=n(l,m[x],null);g&&(d[m[x]]=g)}if(l.hasOwnProperty("extend")){for(var y in l.extend)if(!!l.extend.hasOwnProperty(y)){var T=l.extend[y];y==="data"&&d.hasOwnProperty("data")&&typeof T=="object"?d.data.merge(T):y!=="sys"&&(d[y]=T)}}return d},getKey:function(h,l){if(h||(h="default"),typeof l=="function")return h;if(l instanceof u?h=l.sys.settings.key:typeof l=="object"&&l.hasOwnProperty("key")&&(h=l.key),this.keys.hasOwnProperty(h))throw new Error("Cannot add a Scene with duplicate key: "+h);return h},getScenes:function(h,l){h===void 0&&(h=!0),l===void 0&&(l=!1);for(var d=[],v=this.scenes,m=0;m<v.length;m++){var x=v[m];x&&(!h||h&&x.sys.isActive())&&d.push(x)}return l?d.reverse():d},getScene:function(h){if(typeof h=="string"){if(this.keys[h])return this.keys[h]}else for(var l=0;l<this.scenes.length;l++)if(h===this.scenes[l])return h;return null},isActive:function(h){var l=this.getScene(h);return l?l.sys.isActive():null},isPaused:function(h){var l=this.getScene(h);return l?l.sys.isPaused():null},isVisible:function(h){var l=this.getScene(h);return l?l.sys.isVisible():null},isSleeping:function(h){var l=this.getScene(h);return l?l.sys.isSleeping():null},pause:function(h,l){var d=this.getScene(h);return d&&d.sys.pause(l),this},resume:function(h,l){var d=this.getScene(h);return d&&d.sys.resume(l),this},sleep:function(h,l){var d=this.getScene(h);return d&&!d.sys.isTransitioning()&&d.sys.sleep(l),this},wake:function(h,l){var d=this.getScene(h);return d&&d.sys.wake(l),this},run:function(h,l){var d=this.getScene(h);if(!d){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===h){this.queueOp("start",h,l);break}return this}d.sys.isSleeping()?d.sys.wake(l):d.sys.isPaused()?d.sys.resume(l):this.start(h,l)},start:function(h,l){if(!this.isBooted)return this._data[h]={autoStart:!0,data:l},this;var d=this.getScene(h);if(!d)return console.warn("Scene not found for key: "+h),this;var v=d.sys,m=v.settings.status;if(m>=c.START&&m<=c.CREATING)return this;if(m>=c.RUNNING&&m<=c.SLEEPING)v.shutdown(),v.sceneUpdate=s,v.start(l);else{v.sceneUpdate=s,v.start(l);var x;if(v.load&&(x=v.load),x&&v.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:v.settings.pack})))return v.settings.status=c.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(d),this},stop:function(h,l){var d=this.getScene(h);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==c.SHUTDOWN){var v=d.sys.load;v&&(v.off(e.COMPLETE,this.loadComplete,this),v.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(l)}return this},switch:function(h,l){var d=this.getScene(h),v=this.getScene(l);return d&&v&&d!==v&&(this.sleep(h),this.isSleeping(l)?this.wake(l):this.start(l)),this},getAt:function(h){return this.scenes[h]},getIndex:function(h){var l=this.getScene(h);return this.scenes.indexOf(l)},bringToTop:function(h){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l!==-1&&l<this.scenes.length){var d=this.getScene(h);this.scenes.splice(l,1),this.scenes.push(d)}}return this},sendToBack:function(h){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l!==-1&&l>0){var d=this.getScene(h);this.scenes.splice(l,1),this.scenes.unshift(d)}}return this},moveDown:function(h){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l>0){var d=l-1,v=this.getScene(h),m=this.getAt(d);this.scenes[l]=m,this.scenes[d]=v}}return this},moveUp:function(h){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:h,keyB:null});else{var l=this.getIndex(h);if(l<this.scenes.length-1){var d=l+1,v=this.getScene(h),m=this.getAt(d);this.scenes[l]=m,this.scenes[d]=v}}return this},moveAbove:function(h,l){if(h===l)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:h,keyB:l});else{var d=this.getIndex(h),v=this.getIndex(l);if(d!==-1&&v!==-1&&v<d){var m=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(d+(v>d),0,m)}}return this},moveBelow:function(h,l){if(h===l)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:h,keyB:l});else{var d=this.getIndex(h),v=this.getIndex(l);if(d!==-1&&v!==-1&&v>d){var m=this.getAt(v);this.scenes.splice(v,1),d===0?this.scenes.unshift(m):this.scenes.splice(d-(v<d),0,m)}}return this},queueOp:function(h,l,d){return this._queue.push({op:h,keyA:l,keyB:d}),this},swapPosition:function(h,l){if(h===l)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:h,keyB:l});else{var d=this.getIndex(h),v=this.getIndex(l);if(d!==v&&d!==-1&&v!==-1){var m=this.getAt(d);this.scenes[d]=this.scenes[v],this.scenes[v]=m}}return this},dump:function(){for(var h=[],l=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys,m=v.settings.visible&&(v.settings.status===c.RUNNING||v.settings.status===c.PAUSED)?"[*] ":"[-] ";m+=v.settings.key+" ("+l[v.settings.status]+")",h.push(m)}console.log(h.join(`
`))},destroy:function(){for(var h=0;h<this.scenes.length;h++){var l=this.scenes[h].sys;l.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=o},64051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(7599),r=t(72632),n=t(91963),e=new c({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,u),this},restart:function(s){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,s),this},transition:function(s){s===void 0&&(s={});var u=r(s,"target",!1),i=this.manager.getScene(u);if(!u||!this.checkValidTransition(i))return!1;var o=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=o,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var h=r(s,"onUpdate",null);h&&(this._onUpdate=h,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var l=r(s,"allowInput",!1);this.settings.transitionAllowInput=l;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=l,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,u):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(u,r(s,"data"));var v=r(s,"onStart",null),m=r(s,"onStartScope",this.scene);return v&&v.call(m,this.scene,i,o),this.systems.events.emit(a.TRANSITION_OUT,i,o),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,u){this._elapsed+=u,this.transitionProgress=f(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,u=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,u,i,o){return this.manager.add(s,u,i,o)},launch:function(s,u){return s&&s!==this.key&&this.manager.queueOp("start",s,u),this},run:function(s,u){return s&&s!==this.key&&this.manager.queueOp("run",s,u),this},pause:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,u),this},resume:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,u),this},sleep:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,u),this},wake:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,u),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,u),this},setActive:function(s,u,i){u===void 0&&(u=this.key);var o=this.manager.getScene(u);return o&&o.sys.setActive(s,i),this},setVisible:function(s,u){u===void 0&&(u=this.key);var i=this.manager.getScene(u);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.swapPosition(s,u),this},moveAbove:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.moveAbove(s,u),this},moveBelow:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.moveBelow(s,u),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var u=this.manager.getScene(s);if(u)return u.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),p.exports=e},36765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92980),c=t(10850),a=t(30657),r=t(90415),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:f.PENDING,key:c(e,"key",""),active:c(e,"active",!1),visible:c(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:c(e,"pack",!1),cameras:c(e,"cameras",null),map:c(e,"map",a(r,c(e,"mapAdd",{}))),physics:c(e,"physics",{}),loader:c(e,"loader",{}),plugins:c(e,"plugins",!1),input:c(e,"input",{})}}};p.exports=n},63946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(92980),a=t(18360),r=t(7599),n=t(47736),e=t(91088),s=t(72283),u=t(36765),i=new f({initialize:function(h,l){this.scene=h,this.game,this.renderer,this.config=l,this.settings=u.create(l),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(o){this.settings.status=c.INIT,this.sceneUpdate=s,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var h=o.plugins;this.plugins=h,h.addToScene(this,a.Global,[a.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(o,h){var l=this.events;l.emit(r.PRE_UPDATE,o,h),l.emit(r.UPDATE,o,h),this.sceneUpdate.call(this.scene,o,h),l.emit(r.POST_UPDATE,o,h)},render:function(o){var h=this.displayList;h.depthSort(),this.events.emit(r.PRE_RENDER,o),this.cameras.render(o,h),this.events.emit(r.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var h=this.settings,l=this.getStatus();return l!==c.CREATING&&l!==c.RUNNING?console.warn("Cannot pause non-running Scene",h.key):this.settings.active&&(h.status=c.PAUSED,h.active=!1,this.events.emit(r.PAUSE,this,o)),this},resume:function(o){var h=this.events,l=this.settings;return this.settings.active||(l.status=c.RUNNING,l.active=!0,h.emit(r.RESUME,this,o)),this},sleep:function(o){var h=this.settings,l=this.getStatus();return l!==c.CREATING&&l!==c.RUNNING?console.warn("Cannot sleep non-running Scene",h.key):(h.status=c.SLEEPING,h.active=!1,h.visible=!1,this.events.emit(r.SLEEP,this,o)),this},wake:function(o){var h=this.events,l=this.settings;return l.status=c.RUNNING,l.active=!0,l.visible=!0,h.emit(r.WAKE,this,o),l.isTransition&&h.emit(r.TRANSITION_WAKE,l.transitionFrom,l.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>c.PENDING&&o<=c.RUNNING},isSleeping:function(){return this.settings.status===c.SLEEPING},isActive:function(){return this.settings.status===c.RUNNING},isPaused:function(){return this.settings.status===c.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,h){return o?this.resume(h):this.pause(h)},start:function(o){var h=this.events,l=this.settings;o&&(l.data=o),l.status=c.START,l.active=!0,l.visible=!0,h.emit(r.START,this),h.emit(r.READY,this,o)},shutdown:function(o){var h=this.events,l=this.settings;h.off(r.TRANSITION_INIT),h.off(r.TRANSITION_START),h.off(r.TRANSITION_COMPLETE),h.off(r.TRANSITION_OUT),l.status=c.SHUTDOWN,l.active=!1,l.visible=!1,h.emit(r.SHUTDOWN,this,o)},destroy:function(){var o=this.events,h=this.settings;h.status=c.DESTROYED,h.active=!1,h.visible=!1,o.emit(r.DESTROY,this),o.removeAllListeners();for(var l=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<l.length;d++)this[l[d]]=null}});p.exports=i},92980:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},31803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},94817:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},28977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},91959:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},363:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},15643:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},17058:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},77125:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},76018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},28620:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},41538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},34268:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},2342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},96541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},74244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},17046:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},13637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},14733:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},33899:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},52418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},31735:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8470:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},7599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(92980),c=t(98611),a={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};a=c(!1,a,f),p.exports=a},25798:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(76038),r=t(98611),n=t(72283),e=new f({Extends:c,initialize:function(u,i,o){c.call(this),this.manager=u,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var u=this.markers[s];return u?(this.markers[s]=null,u):null},play:function(s,u){if(s===void 0&&(s=""),typeof s=="object"&&(u=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,u);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},12486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(32742),a=t(6659),r=t(76038),n=t(97081),e=t(71608),s=t(51463),u=t(72283),i=t(93736),o=new f({Extends:a,initialize:function(l){a.call(this),this.game=l,this.jsonCache=l.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,l.events.on(n.BLUR,this.onGameBlur,this),l.events.on(n.FOCUS,this.onGameFocus,this),l.events.on(n.PRE_STEP,this.update,this),l.events.once(n.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(h,l){l===void 0&&(l={});var d=this.add(h,l);d.spritemap=this.jsonCache.get(h).spritemap;for(var v in d.spritemap)if(!!d.spritemap.hasOwnProperty(v)){var m=c(l),x=d.spritemap[v];m.loop=x.hasOwnProperty("loop")?x.loop:!1,d.addMarker({name:v,start:x.start,duration:x.end-x.start,config:m})}return d},get:function(h){return s(this.sounds,"key",h)},getAll:function(h){return h?e(this.sounds,"key",h):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(h,l){var d=this.add(h);return d.once(r.COMPLETE,d.destroy,d),l?l.name?(d.addMarker(l),d.play(l.name)):d.play(l):d.play()},playAudioSprite:function(h,l,d){var v=this.addAudioSprite(h);return v.once(r.COMPLETE,v.destroy,v),v.play(l,d)},remove:function(h){var l=this.sounds.indexOf(h);return l!==-1?(h.destroy(),this.sounds.splice(l,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var l=0,d=this.sounds.length-1;d>=0;d--){var v=this.sounds[d];v.key===h&&(v.destroy(),this.sounds.splice(d,1),l++)}return l},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(h){var l=0;return this.getAll(h).forEach(function(d){d.stop()&&l++}),l},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(h,l){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(v){v.update(h,l)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(h,l){var d=this;this.sounds.forEach(function(v,m){v&&!v.pendingRemove&&h.call(l||d,v,m,d.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,h)}}});p.exports=o},84191:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(27622),c=t(17546),a=t(55491),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new c(n):s.webAudio&&!e.disableWebAudio?new a(n):new f(n)}};p.exports=r},77578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},19679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},56951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},16436:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},55154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57890:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},83022:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},99170:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},64289:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},67214:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},53128:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},73078:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},76763:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},88426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},13765:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},80291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},11124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},55382:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},71157:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},31776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},39450:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},21939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},33019:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},76038:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25798),c=t(56694),a=t(76038),r=t(82897),n=new c({Extends:f,initialize:function(s,u,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(u),!this.tags)throw new Error('No cached audio asset with key "'+u);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,f.call(this,s,u,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!f.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!f.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!f.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&u.push(o)},this),u.sort(function(o,h){return o.loop===h.loop?h.seek/h.duration-o.seek/o.duration:o.loop?1:-1});var i=u[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){f.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(!!this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,u=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=u-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-u),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){f.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){f.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},27622:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12486),c=t(56694),a=t(76038),r=t(34350),n=new c({Extends:f,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,f.call(this,s)},add:function(e,s){var u=new r(this,e,s);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(o,h){for(var l=0;l<h.length;l++)if(h[l].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,u=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",i);var o=[];if(e.game.cache.audio.entries.each(function(l,d){for(var v=0;v<d.length;v++){var m=d[v];m.dataset.locked==="true"&&o.push(m)}return!0}),o.length!==0){var h=o[o.length-1];h.oncanplaythrough=function(){h.oncanplaythrough=null,o.forEach(function(l){l.dataset.locked="false"}),e.unlocked=!0},o.forEach(function(l){l.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(h){h.currentMarker===null&&h.duration===0&&(h.duration=h.tags[0].duration),h.totalDuration=h.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){f.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,u){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:u}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});p.exports=n},56751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25798),c=t(56694),a=t(6659),r=t(98611),n=t(72283),e=function(){return!1},s=function(){return null},u=function(){return this},i=new c({Extends:a,initialize:function(h,l,d){d===void 0&&(d={}),a.call(this),this.manager=h,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){f.prototype.destroy.call(this)}});p.exports=i},17546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12486),c=t(56694),a=t(6659),r=t(38662),n=t(72283),e=new c({Extends:a,initialize:function(u){a.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,u){var i=new r(this,s,u);return this.sounds.push(i),i},addAudioSprite:function(s,u){var i=this.add(s,u);return i.spritemap={},i},get:function(s){return f.prototype.get.call(this,s)},getAll:function(s){return f.prototype.getAll.call(this,s)},play:function(s,u){return!1},playAudioSprite:function(s,u,i){return!1},remove:function(s){return f.prototype.remove.call(this,s)},removeAll:function(){return f.prototype.removeAll.call(this)},removeByKey:function(s){return f.prototype.removeByKey.call(this,s)},stopByKey:function(s){return f.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,u){f.prototype.forEachActiveSound.call(this,s,u)},destroy:function(){f.prototype.destroy.call(this)}});p.exports=e},96008:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(25798),c=t(56694),a=t(76038),r=t(72632),n=new c({Extends:f,initialize:function(s,u,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(u),!this.audioBuffer)throw new Error('Audio key "'+u+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,f.call(this,s,u,i)},play:function(e,s){return f.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return f.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,u=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,o=this.duration-e;this.playTime=u-e,this.startTime=u,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,u),Math.max(0,i),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,u=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,u))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(u){u.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}f.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(this.hasEnded=!1,f.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(f.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){f.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var u=0;s<this.rateUpdates.length-1?u=this.rateUpdates[s+1].time:u=this.manager.context.currentTime-this.playTime,e+=(u-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var u=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+u.time+(this.duration-e)/u.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},55491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82329),c=t(12486),a=t(56694),r=t(76038),n=t(97081),e=t(96008),s=t(72632),u=new a({Extends:c,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),c.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(n.BOOT,this.unlock,this)},createAudioContext:function(i){var o=i.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,o){var h=new e(this,i,o);return this.sounds.push(h),h},decodeAudio:function(i,o){var h;Array.isArray(i)?h=i:h=[{key:i,data:o}];for(var l=this.game.cache.audio,d=h.length,v=0;v<h.length;v++){var m=h[v],x=m.key,g=m.data;typeof g=="string"&&(g=f(g));var y=function(E,C){l.add(E,C),this.emit(r.DECODED,E),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x),T=function(E,C){console.error("Error decoding audio: "+E+" - ",C?C.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x);this.context.decodeAudioData(g,y,T)}},setListenerPosition:function(i,o){return i===void 0&&(i=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(i,o),this},unlock:function(){var i=this,o=document.body,h=function l(){if(i.context&&o){var d=o.removeEventListener.bind(o);i.context.resume().then(function(){d("touchstart",l),d("touchend",l),d("click",l),d("keydown",l),i.unlocked=!0},function(){d("touchstart",l),d("touchend",l),d("click",l),d("keydown",l)})}};o&&(o.addEventListener("touchstart",h,!1),o.addEventListener("touchend",h,!1),o.addEventListener("click",h,!1),o.addEventListener("keydown",h,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,o){var h=this.context.listener;if(h&&h.positionX!==void 0){var l=s(this.listenerPosition,"x",null),d=s(this.listenerPosition,"y",null);l&&l!==this._spatialx&&(this._spatialx=h.positionX.value=l),d&&d!==this._spatialy&&(this._spatialy=h.positionY.value=d)}c.prototype.update.call(this,i,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}c.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});p.exports=u},71207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(59959),c=t(56694),a=t(72283),r=t(17922),n=new c({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?f.Add(this.list,e):f.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,u){return u?f.AddAt(this.list,e,s):f.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(u,i){return u[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return f.GetFirst(this.list,"name",e)},getRandom:function(e,s){return f.GetRandom(this.list,e,s)},getFirst:function(e,s,u,i){return f.GetFirst(this.list,e,s,u,i)},getAll:function(e,s,u,i){return f.GetAll(this.list,e,s,u,i)},count:function(e,s){return f.CountAllMatching(this.list,e,s)},swap:function(e,s){f.Swap(this.list,e,s)},moveTo:function(e,s){return f.MoveTo(this.list,e,s)},moveAbove:function(e,s){return f.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return f.MoveBelow(this.list,e,s)},remove:function(e,s){return s?f.Remove(this.list,e):f.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?f.RemoveAt(this.list,e):f.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,u){return u?f.RemoveBetween(this.list,e,s):f.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return f.BringToTop(this.list,e)},sendToBack:function(e){return f.SendToBack(this.list,e)},moveUp:function(e){return f.MoveUp(this.list,e),e},moveDown:function(e){return f.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(e,s){return f.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,u,i){return f.SetAll(this.list,e,s,u,i),this},each:function(e,s){for(var u=[null],i=2;i<arguments.length;i++)u.push(arguments[i]);for(i=0;i<this.list.length;i++)u[0]=this.list[i],e.apply(s,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=n},33885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var n in r)if(a(n,r[n])===!1)break;return this},contains:function(a){var r=this.entries;for(var n in r)if(r[n]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var n=this.entries,e=a.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});p.exports=c},74623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(36716),r=new f({Extends:c,initialize:function(){c.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,u;for(s=0;s<n.length;s++){u=n[s];var i=e.indexOf(u);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,u))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)u=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(u)===-1)&&(e.push(u),this.emit(a.PROCESS_QUEUE_ADD,u));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},68687:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53466);function c(g){if(!(this instanceof c))return new c(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}c.prototype={all:function(){return this._all(this.data,[])},search:function(g){var y=this.data,T=[],E=this.toBBox;if(!v(g,y))return T;for(var C=[],A,P,F,O;y;){for(A=0,P=y.children.length;A<P;A++)F=y.children[A],O=y.leaf?E(F):F,v(g,O)&&(y.leaf?T.push(F):d(g,O)?this._all(F,T):C.push(F));y=C.pop()}return T},collides:function(g){var y=this.data,T=this.toBBox;if(!v(g,y))return!1;for(var E=[],C,A,P,F;y;){for(C=0,A=y.children.length;C<A;C++)if(P=y.children[C],F=y.leaf?T(P):P,v(g,F)){if(y.leaf||d(g,F))return!0;E.push(P)}y=E.pop()}return!1},load:function(g){if(!(g&&g.length))return this;if(g.length<this._minEntries){for(var y=0,T=g.length;y<T;y++)this.insert(g[y]);return this}var E=this._build(g.slice(),0,g.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var C=this.data;this.data=E,E=C}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(g,y){if(!g)return this;for(var T=this.data,E=this.toBBox(g),C=[],A=[],P,F,O,I;T||C.length;){if(T||(T=C.pop(),F=C[C.length-1],P=A.pop(),I=!0),T.leaf&&(O=a(g,T.children,y),O!==-1))return T.children.splice(O,1),C.push(T),this._condense(C),this;!I&&!T.leaf&&d(T,E)?(C.push(T),A.push(P),P=0,F=T,T=T.children[0]):F?(P++,T=F.children[P],I=!1):T=null}return this},toBBox:function(g){return g},compareMinX:s,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,y){for(var T=[];g;)g.leaf?y.push.apply(y,g.children):T.push.apply(T,g.children),g=T.pop();return y},_build:function(g,y,T,E){var C=T-y+1,A=this._maxEntries,P;if(C<=A)return P=m(g.slice(y,T+1)),r(P,this.toBBox),P;E||(E=Math.ceil(Math.log(C)/Math.log(A)),A=Math.ceil(C/Math.pow(A,E-1))),P=m([]),P.leaf=!1,P.height=E;var F=Math.ceil(C/A),O=F*Math.ceil(Math.sqrt(A)),I,G,z,X;for(x(g,y,T,O,this.compareMinX),I=y;I<=T;I+=O)for(z=Math.min(I+O-1,T),x(g,I,z,F,this.compareMinY),G=I;G<=z;G+=F)X=Math.min(G+F-1,z),P.children.push(this._build(g,G,X,E-1));return r(P,this.toBBox),P},_chooseSubtree:function(g,y,T,E){for(var C,A,P,F,O,I,G,z;E.push(y),!(y.leaf||E.length-1===T);){for(G=z=1/0,C=0,A=y.children.length;C<A;C++)P=y.children[C],O=i(P),I=h(g,P)-O,I<z?(z=I,G=O<G?O:G,F=P):I===z&&O<G&&(G=O,F=P);y=F||y.children[0]}return y},_insert:function(g,y,T){var E=this.toBBox,C=T?g:E(g),A=[],P=this._chooseSubtree(C,this.data,y,A);for(P.children.push(g),e(P,C);y>=0&&A[y].children.length>this._maxEntries;)this._split(A,y),y--;this._adjustParentBBoxes(C,A,y)},_split:function(g,y){var T=g[y],E=T.children.length,C=this._minEntries;this._chooseSplitAxis(T,C,E);var A=this._chooseSplitIndex(T,C,E),P=m(T.children.splice(A,T.children.length-A));P.height=T.height,P.leaf=T.leaf,r(T,this.toBBox),r(P,this.toBBox),y?g[y-1].children.push(P):this._splitRoot(T,P)},_splitRoot:function(g,y){this.data=m([g,y]),this.data.height=g.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(g,y,T){var E,C,A,P,F,O,I,G;for(O=I=1/0,E=y;E<=T-y;E++)C=n(g,0,E,this.toBBox),A=n(g,E,T,this.toBBox),P=l(C,A),F=i(C)+i(A),P<O?(O=P,G=E,I=F<I?F:I):P===O&&F<I&&(I=F,G=E);return G},_chooseSplitAxis:function(g,y,T){var E=g.leaf?this.compareMinX:s,C=g.leaf?this.compareMinY:u,A=this._allDistMargin(g,y,T,E),P=this._allDistMargin(g,y,T,C);A<P&&g.children.sort(E)},_allDistMargin:function(g,y,T,E){g.children.sort(E);var C=this.toBBox,A=n(g,0,y,C),P=n(g,T-y,T,C),F=o(A)+o(P),O,I;for(O=y;O<T-y;O++)I=g.children[O],e(A,g.leaf?C(I):I),F+=o(A);for(O=T-y-1;O>=y;O--)I=g.children[O],e(P,g.leaf?C(I):I),F+=o(P);return F},_adjustParentBBoxes:function(g,y,T){for(var E=T;E>=0;E--)e(y[E],g)},_condense:function(g){for(var y=g.length-1,T;y>=0;y--)g[y].children.length===0?y>0?(T=g[y-1].children,T.splice(T.indexOf(g[y]),1)):this.clear():r(g[y],this.toBBox)},compareMinX:function(g,y){return g.left-y.left},compareMinY:function(g,y){return g.top-y.top},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}}};function a(g,y,T){if(!T)return y.indexOf(g);for(var E=0;E<y.length;E++)if(T(g,y[E]))return E;return-1}function r(g,y){n(g,0,g.children.length,y,g)}function n(g,y,T,E,C){C||(C=m(null)),C.minX=1/0,C.minY=1/0,C.maxX=-1/0,C.maxY=-1/0;for(var A=y,P;A<T;A++)P=g.children[A],e(C,g.leaf?E(P):P);return C}function e(g,y){return g.minX=Math.min(g.minX,y.minX),g.minY=Math.min(g.minY,y.minY),g.maxX=Math.max(g.maxX,y.maxX),g.maxY=Math.max(g.maxY,y.maxY),g}function s(g,y){return g.minX-y.minX}function u(g,y){return g.minY-y.minY}function i(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function o(g){return g.maxX-g.minX+(g.maxY-g.minY)}function h(g,y){return(Math.max(y.maxX,g.maxX)-Math.min(y.minX,g.minX))*(Math.max(y.maxY,g.maxY)-Math.min(y.minY,g.minY))}function l(g,y){var T=Math.max(g.minX,y.minX),E=Math.max(g.minY,y.minY),C=Math.min(g.maxX,y.maxX),A=Math.min(g.maxY,y.maxY);return Math.max(0,C-T)*Math.max(0,A-E)}function d(g,y){return g.minX<=y.minX&&g.minY<=y.minY&&y.maxX<=g.maxX&&y.maxY<=g.maxY}function v(g,y){return y.minX<=g.maxX&&y.minY<=g.maxY&&y.maxX>=g.minX&&y.maxY>=g.minY}function m(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(g,y,T,E,C){for(var A=[y,T],P;A.length;)T=A.pop(),y=A.pop(),!(T-y<=E)&&(P=y+Math.ceil((T-y)/E/2)*E,f(g,P,y,T,C),A.push(y,P,P,T))}p.exports=c},58403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&a.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&a(e[n],n)!==!1;n++);return this},iterate:function(a,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&a.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&a(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(a){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[a].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new c;return a.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(a){var r=new c;return this.entries.forEach(function(n){a.contains(n)&&r.set(n)}),r},difference:function(a){var r=new c;return this.entries.forEach(function(n){a.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});p.exports=c},90881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82897),c=t(56694),a=t(84314),r=t(93736),n=new c({initialize:function(s,u,i,o){s===void 0&&(s=0),u===void 0&&(u=s),i===void 0&&(i=0),o===void 0&&(o=null),this._width=s,this._height=u,this._parent=o,this.aspectMode=i,this.aspectRatio=u===0?1:s/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=f(e,0,this.maxWidth),this.minHeight=f(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=f(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=f(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=f(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=f(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,u){e===void 0&&(e=0),s===void 0&&(s=e),u===void 0&&(u=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,o=s===0?1:e/s;return u&&this.aspectRatio>o||!u&&this.aspectRatio<o?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(u&&this.aspectRatio<o||!u&&this.aspectRatio>o)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,p.exports=n},94160:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},95393:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},36716:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82897),a=t(27119),r=t(86459),n=t(28621),e=t(31673),s=new f({Extends:e,initialize:function(i,o,h,l,d){e.call(this,i,o,h,l,d),this.add("__BASE",0,0,0,l,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=l,this.height=d,this.imageData=this.context.getImageData(0,0,l,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(u,i,o,h){return h===void 0&&(h=!0),this.context.drawImage(o,u,i),h&&this.update(),this},drawFrame:function(u,i,o,h,l){o===void 0&&(o=0),h===void 0&&(h=0),l===void 0&&(l=!0);var d=this.manager.getFrame(u,i);if(d){var v=d.canvasData,m=d.cutWidth,x=d.cutHeight,g=d.source.resolution;this.context.drawImage(d.source.image,v.x,v.y,m,x,o,h,m/g,x/g),l&&this.update()}return this},setPixel:function(u,i,o,h,l,d){d===void 0&&(d=255),u=Math.abs(Math.floor(u)),i=Math.abs(Math.floor(i));var v=this.getIndex(u,i);if(v>-1){var m=this.context.getImageData(u,i,1,1);m.data[0]=o,m.data[1]=h,m.data[2]=l,m.data[3]=d,this.context.putImageData(m,u,i)}return this},putData:function(u,i,o,h,l,d,v){return h===void 0&&(h=0),l===void 0&&(l=0),d===void 0&&(d=u.width),v===void 0&&(v=u.height),this.context.putImageData(u,i,o,h,l,d,v),this},getData:function(u,i,o,h){u=c(Math.floor(u),0,this.width-1),i=c(Math.floor(i),0,this.height-1),o=c(o,1,this.width-u),h=c(h,1,this.height-i);var l=this.context.getImageData(u,i,o,h);return l},getPixel:function(u,i,o){o||(o=new a);var h=this.getIndex(u,i);if(h>-1){var l=this.data,d=l[h+0],v=l[h+1],m=l[h+2],x=l[h+3];o.setTo(d,v,m,x)}return o},getPixels:function(u,i,o,h){u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=this.width),h===void 0&&(h=o),u=Math.abs(Math.round(u)),i=Math.abs(Math.round(i));for(var l=c(u,0,this.width),d=c(u+o,0,this.width),v=c(i,0,this.height),m=c(i+h,0,this.height),x=new a,g=[],y=v;y<m;y++){for(var T=[],E=l;E<d;E++)x=this.getPixel(E,y,x),T.push({x:E,y,color:x.color,alpha:x.alphaGL});g.push(T)}return g},getIndex:function(u,i){return u=Math.abs(Math.round(u)),i=Math.abs(Math.round(i)),u<this.width&&i<this.height?(u+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,i,o,h,l){return u===void 0&&(u=0),i===void 0&&(i=0),o===void 0&&(o=this.width),h===void 0&&(h=this.height),l===void 0&&(l=!0),this.context.clearRect(u,i,o,h),l&&this.update(),this},setSize:function(u,i){return i===void 0&&(i=u),(u!==this.width||i!==this.height)&&(this.canvas.width=u,this.canvas.height=i,this._source.width=u,this._source.height=i,this._source.isPowerOf2=n(u,i),this.frames.__BASE.setSize(u,i,0,0),this.width=u,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=s},845:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(95723),c=t(51052),a=t(61068),r=t(56694),n=t(86459),e=t(82047),s=t(72632),u=t(65641),i=t(37410),o=t(31673),h=t(75512),l=new r({Extends:o,initialize:function(v,m,x,g){x===void 0&&(x=256),g===void 0&&(g=256),this.type="DynamicTexture";var y=v.game.renderer,T=y&&y.type===n.CANVAS,E=T?a.create2D(this,x,g):[this];o.call(this,v,m,E,x,g),this.add("__BASE",0,0,0,x,g),this.renderer=y,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=T?E:null,this.context=T?E.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new c(0,0,x,g).setScene(v.game.scene.systemScene,!1),this.renderTarget=T?null:new i(y,x,g,1,0,!1,!0,!0,!1),this.pipeline=T?null:y.pipelines.get(u.SINGLE_PIPELINE),T||this.setSize(x,g)},setSize:function(d,v){v===void 0&&(v=d);var m=this.get(),x=m.source;if(d!==this.width||v!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=v);var g=this.renderTarget;g&&(g.willResize(d,v)&&(g.resize(d,v),this.renderer.deleteTexture(x.glTexture)),this.setFromRenderTarget()),this.camera.setSize(d,v),x.width=d,x.height=v,m.setSize(d,v),this.width=d,this.height=v}else{var y=this.getSourceImage();m.cutX+d>y.width&&(d=y.width-m.cutX),m.cutY+v>y.height&&(v=y.height-m.cutY),m.setSize(d,v,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),v=d.source,m=this.renderTarget;return d.glTexture=m.texture,v.isRenderTexture=!0,v.isGLTexture=!0,v.glTexture=m.texture,v.glTexture.flipY=!0,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,v,m,x,g,y){var T=this.camera,E=this.renderer;v===void 0&&(v=1),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height);var C=d>>16&255,A=d>>8&255,P=d&255,F=this.renderTarget;if(T.preRender(),F){F.bind(!0);var O=this.pipeline.manager.set(this.pipeline),I=E.width/F.width,G=E.height/F.height,z=F.height-(x+y);O.drawFillRect(m*I,z*G,g*I,y*G,h.getTintFromFloats(P/255,A/255,C/255,1),v),F.unbind(!0)}else{var X=this.context;E.setContext(X),X.globalCompositeOperation="source-over",X.fillStyle="rgba("+C+","+A+","+P+","+v+")",X.fillRect(m,x,g,y),E.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,v=this.renderTarget;v?v.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,v,m,x,g){m===void 0&&(m=0),x===void 0&&(x=0);var y=s(g,"alpha",1),T=s(g,"tint",16777215),E=s(g,"angle",0),C=s(g,"rotation",0),A=s(g,"scale",1),P=s(g,"scaleX",A),F=s(g,"scaleY",A),O=s(g,"originX",.5),I=s(g,"originY",.5),G=s(g,"blendMode",0),z=s(g,"erase",!1),X=s(g,"skipBatch",!1),H=this.manager.resetStamp(y,T);return H.setAngle(0),E!==0?H.setAngle(E):C!==0&&H.setRotation(C),H.setScale(P,F),H.setTexture(d,v),H.setOrigin(O,I),H.setBlendMode(G),z&&(this._eraseMode=!0),X?this.batchGameObject(H,m,x):this.draw(H,m,x),z&&(this._eraseMode=!1),this},erase:function(d,v,m){return this._eraseMode=!0,this.draw(d,v,m),this._eraseMode=!1,this},draw:function(d,v,m,x,g){return this.beginDraw(),this.batchDraw(d,v,m,x,g),this.endDraw(),this},drawFrame:function(d,v,m,x,g,y){return this.beginDraw(),this.batchDrawFrame(d,v,m,x,g,y),this.endDraw(),this},repeat:function(d,v,m,x,g,y,T,E,C){if(m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),T===void 0&&(T=1),E===void 0&&(E=16777215),C===void 0&&(C=!1),d instanceof e?v=d:v=this.manager.getFrame(d,v),!v)return this;var A=this.manager.resetStamp(T,E);A.setFrame(v),A.setOrigin(0);var P=v.width,F=v.height;g=Math.floor(g),y=Math.floor(y);var O=Math.ceil(g/P),I=Math.ceil(y/F),G=O*P-g,z=I*F-y;G>0&&(G=P-G),z>0&&(z=F-z),m<0&&(O+=Math.ceil(Math.abs(m)/P)),x<0&&(I+=Math.ceil(Math.abs(x)/F));var X=m,H=x,N=!1,U=this.manager.stampCrop.setTo(0,0,P,F);C||this.beginDraw();for(var R=0;R<I;R++){if(H+F<0){H+=F;continue}for(var D=0;D<O;D++){if(N=!1,X+P<0){X+=P;continue}else X<0&&(N=!0,U.width=P+X,U.x=P-U.width);H<0&&(N=!0,U.height=F+H,U.y=F-U.height),G>0&&D===O-1&&(N=!0,U.width=G),z>0&&R===I-1&&(N=!0,U.height=z),N&&A.setCrop(U),this.batchGameObject(A,X,H),A.isCropped=!1,U.setTo(0,0,P,F),X+=P}X=m,H+=F}return C||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,v=this.renderer,m=this.renderTarget;d.preRender(),m?v.beginCapture(m.width,m.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,v,m,x,g){return Array.isArray(d)||(d=[d]),this.batchList(d,v,m,x,g),this},batchDrawFrame:function(d,v,m,x,g,y){m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=1),y===void 0&&(y=16777215);var T=this.manager.getFrame(d,v);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,m,x,y,g,this.camera.matrix,null):this.batchTextureFrame(T,m,x,g,y)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var v=this.renderer,m=this.renderTarget;if(m){var x=v.endCapture(),g=v.pipelines.setUtility();g.blitFrame(x,m,1,!1,!1,d,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,v,m,x,g){var y=d.length;if(y!==0)for(var T=0;T<y;T++){var E=d[T];!E||E===this||(E.renderWebGL||E.renderCanvas?this.batchGameObject(E,v,m):E.isParent||E.list?this.batchGroup(E.getChildren(),v,m):typeof E=="string"?this.batchTextureFrameKey(E,null,v,m,x,g):E instanceof e?this.batchTextureFrame(E,v,m,x,g):Array.isArray(E)&&this.batchList(E,v,m,x,g))}},batchGroup:function(d,v,m){v===void 0&&(v=0),m===void 0&&(m=0);for(var x=0;x<d.length;x++){var g=d[x];g.willRender(this.camera)&&this.batchGameObject(g,g.x+v,g.y+m)}},batchGameObject:function(d,v,m){v===void 0&&(v=d.x),m===void 0&&(m=d.y);var x=d.x,g=d.y,y=this.camera,T=this.renderer,E=this._eraseMode,C=d.mask;if(d.setPosition(v,m),this.canvas){if(E){var A=d.blendMode;d.blendMode=f.ERASE}C&&C.preRenderCanvas(T,d,y),d.renderCanvas(T,d,y,null),C&&C.postRenderCanvas(T,d,y),E&&(d.blendMode=A)}else T&&(C&&C.preRenderWebGL(T,d,y),E||T.setBlendMode(d.blendMode),d.renderWebGL(T,d,y),C&&C.postRenderWebGL(T,y,this.renderTarget));d.setPosition(x,g)},batchTextureFrameKey:function(d,v,m,x,g,y){var T=this.manager.getFrame(d,v);T&&this.batchTextureFrame(T,m,x,g,y)},batchTextureFrame:function(d,v,m,x,g){v===void 0&&(v=0),m===void 0&&(m=0),x===void 0&&(x=1),g===void 0&&(g=16777215);var y=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(d,v,m,g,x,y,null);else{var E=this.context,C=d.canvasData,A=d.source.image;E.save(),E.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",E.globalAlpha=x,y.setToContext(E),C.width>0&&C.height>0&&E.drawImage(A,C.x,C.y,C.width,C.height,v,m,C.width,C.height),E.restore()}},snapshotArea:function(d,v,m,x,g,y,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,g,!1,d,v,m,x,y,T):this.renderer.snapshotCanvas(this.canvas,g,!1,d,v,m,x,y,T),this},snapshot:function(d,v,m){return this.snapshotArea(0,0,this.width,this.height,d,v,m)},snapshotPixel:function(d,v,m){return this.snapshotArea(d,v,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,v,m,x){var g=this.manager.resetStamp();g.setTexture(this),g.setOrigin(0),g.renderWebGL(d,g,m,x)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),o.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});p.exports=l},82047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82897),a=t(98611),r=new f({initialize:function(e,s,u,i,o,h,l){this.texture=e,this.name=s,this.source=e.source[u],this.sourceIndex=u,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(h,l,i,o)},setSize:function(n,e,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.cutX=s,this.cutY=u,this.cutWidth=n,this.cutHeight=e,this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,o=i.cut;o.x=s,o.y=u,o.w=n,o.h=e,o.r=s+n,o.b=u+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var h=i.drawImage;return h.x=s,h.y=u,h.width=n,h.height=e,this.updateUVs()},setTrim:function(n,e,s,u,i,o){var h=this.data,l=h.spriteSourceSize;return h.trim=!0,h.sourceSize.w=n,h.sourceSize.h=e,l.x=s,l.y=u,l.w=i,l.h=o,l.r=s+i,l.b=u+o,this.x=s,this.y=u,this.width=i,this.height=o,this.halfWidth=i*.5,this.halfHeight=o*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(o/2),this.updateUVs()},setScale9:function(n,e,s,u){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&u===this.height,i.scale9Borders.x=n,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=u,this},setCropUVs:function(n,e,s,u,i,o,h){var l=this.cutX,d=this.cutY,v=this.cutWidth,m=this.cutHeight,x=this.realWidth,g=this.realHeight;e=c(e,0,x),s=c(s,0,g),u=c(u,0,x-e),i=c(i,0,g-s);var y=l+e,T=d+s,E=u,C=i,A=this.data;if(A.trim){var P=A.spriteSourceSize;u=c(u,0,v-e),i=c(i,0,m-s);var F=e+u,O=s+i,I=!(P.r<e||P.b<s||P.x>F||P.y>O);if(I){var G=Math.max(P.x,e),z=Math.max(P.y,s),X=Math.min(P.r,F)-G,H=Math.min(P.b,O)-z;E=X,C=H,o?y=l+(v-(G-P.x)-X):y=l+(G-P.x),h?T=d+(m-(z-P.y)-H):T=d+(z-P.y),e=G,s=z,u=X,i=H}else y=0,T=0,E=0,C=0}else o&&(y=l+(v-e-u)),h&&(T=d+(m-s-i));var N=this.source.width,U=this.source.height;return n.u0=Math.max(0,y/N),n.v0=Math.max(0,T/U),n.u1=Math.min(1,(y+E)/N),n.v1=Math.min(1,(T+C)/U),n.x=e,n.y=s,n.cx=y,n.cy=T,n.cw=E,n.ch=C,n.width=u,n.height=i,n.flipX=o,n.flipY=h,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,u,i,o){var h=this.data.drawImage;return h.width=n,h.height=e,this.u0=s,this.v0=u,this.u1=i,this.v1=o,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,u=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=u;var o=this.source.width,h=this.source.height;return this.u0=n/o,this.v0=e/h,this.u1=(n+s)/o,this.v1=(e+u)/h,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=a(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},31673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(82047),a=t(32547),r='Texture "%s" has no frame "%s"',n=new f({initialize:function(s,u,i,o,h){Array.isArray(i)||(i=[i]),this.manager=s,this.key=u,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var l=0;l<i.length;l++)this.source.push(new a(this,i[l],o,h))},add:function(e,s,u,i,o,h){if(this.has(e))return null;var l=new c(this,e,s,u,i,o,h);return this.frames[e]=l,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,l},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var u=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var o=this.frames[i];o.sourceIndex===e&&u.push(o)}return u},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var u=s.indexOf("__BASE");u!==-1&&s.splice(u,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],u;return s?u=s.sourceIndex:(console.warn(r,this.key,e),u=this.frames.__BASE.sourceIndex),this.dataSource[u].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var u=this.source[s];this.dataSource.push(new a(this,e[s],u.width,u.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,u=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<u.length;e++)u[e]&&u[e].destroy();for(var i in this.frames){var o=this.frames[i];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=n},6237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(17487),a=t(56694),r=t(27119),n=t(86459),e=t(845),s=t(6659),u=t(38203),i=t(82047),o=t(97081),h=t(52780),l=t(10850),d=t(1539),v=t(42911),m=t(69150),x=t(74118),g=t(31673),y=new a({Extends:s,initialize:function(E){s.call(this),this.game=E,this.name="TextureManager",this.list={},this._tempCanvas=f.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,E.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var T=this.game.config;this.addBase64("__DEFAULT",T.defaultImage),this.addBase64("__MISSING",T.missingImage),this.addBase64("__WHITE",T.whiteImage),this.game.events.once(o.DESTROY,this.destroy,this),this.game.events.once(o.SYSTEM_READY,function(E){this.stamp=new d(E).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(T){return this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;var E=T.key;return this.list.hasOwnProperty(E)&&(T.destroy(),this.emit(u.REMOVE,E),this.emit(u.REMOVE_KEY+E)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,E){if(this.checkKey(T)){var C=this,A=new Image;A.onerror=function(){C.emit(u.ERROR,T)},A.onload=function(){var P=C.create(T,A);m.Image(P,0),C.emit(u.ADD,T,P),C.emit(u.ADD_KEY+T,P),C.emit(u.LOAD,T,P)},A.src=E}return this},getBase64:function(T,E,C,A){C===void 0&&(C="image/png"),A===void 0&&(A=.92);var P="",F=this.getFrame(T,E);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var O=F.canvasData,I=f.create2D(this,O.width,O.height),G=I.getContext("2d",{willReadFrequently:!0});O.width>0&&O.height>0&&G.drawImage(F.source.image,O.x,O.y,O.width,O.height,0,0,O.width,O.height),P=I.toDataURL(C,A),f.remove(I)}return P},addImage:function(T,E,C){var A=null;return this.checkKey(T)&&(A=this.create(T,E),m.Image(A,0),C&&A.setDataSource(C),this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)),A},addGLTexture:function(T,E,C,A){var P=null;return this.checkKey(T)&&(C===void 0&&(C=E.width),A===void 0&&(A=E.height),P=this.create(T,E,C,A),P.add("__BASE",0,0,0,C,A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)),P},addCompressedTexture:function(T,E,C){var A=null;if(this.checkKey(T)){if(A=this.create(T,E),A.add("__BASE",0,0,0,E.width,E.height),C)if(Array.isArray(C))for(var P=0;P<C.length;P++)m.JSONHash(A,P,C[P]);else m.JSONHash(A,0,C);this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)}return A},addRenderTexture:function(T,E){var C=null;return this.checkKey(T)&&(C=this.create(T,E),C.add("__BASE",0,0,0,E.width,E.height),this.emit(u.ADD,T,C),this.emit(u.ADD_KEY+T,C)),C},generate:function(T,E){if(this.checkKey(T)){var C=f.create(this,1,1);return E.canvas=C,h(E),this.addCanvas(T,C)}else return null},createCanvas:function(T,E,C){if(E===void 0&&(E=256),C===void 0&&(C=256),this.checkKey(T)){var A=f.create(this,E,C,n.CANVAS,!0);return this.addCanvas(T,A)}return null},addCanvas:function(T,E,C){C===void 0&&(C=!1);var A=null;return C?A=new c(this,T,E,E.width,E.height):this.checkKey(T)&&(A=new c(this,T,E,E.width,E.height),this.list[T]=A,this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)),A},addDynamicTexture:function(T,E,C){var A=null;return typeof T=="string"&&!this.exists(T)?A=new e(this,T,E,C):(A=T,T=A.key),this.checkKey(T)?(this.list[T]=A,this.emit(u.ADD,T,A),this.emit(u.ADD_KEY+T,A)):A=null,A},addAtlas:function(T,E,C,A){return Array.isArray(C.textures)||Array.isArray(C.frames)?this.addAtlasJSONArray(T,E,C,A):this.addAtlasJSONHash(T,E,C,A)},addAtlasJSONArray:function(T,E,C,A){var P=null;if(E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P){if(Array.isArray(C))for(var F=C.length===1,O=0;O<P.source.length;O++){var I=F?C[0]:C[O];m.JSONArray(P,O,I)}else m.JSONArray(P,0,C);A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)}return P},addAtlasJSONHash:function(T,E,C,A){var P=null;if(E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P){if(Array.isArray(C))for(var F=0;F<C.length;F++)m.JSONHash(P,F,C[F]);else m.JSONHash(P,0,C);A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)}return P},addAtlasXML:function(T,E,C,A){var P=null;return E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P&&(m.AtlasXML(P,0,C),A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)),P},addUnityAtlas:function(T,E,C,A){var P=null;return E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P&&(m.UnityYAML(P,0,C),A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)),P},addSpriteSheet:function(T,E,C,A){var P=null;if(E instanceof g?(T=E.key,P=E):this.checkKey(T)&&(P=this.create(T,E)),P){var F=P.source[0].width,O=P.source[0].height;m.SpriteSheet(P,0,0,0,F,O,C),A&&P.setDataSource(A),this.emit(u.ADD,T,P),this.emit(u.ADD_KEY+T,P)}return P},addSpriteSheetFromAtlas:function(T,E){if(!this.checkKey(T))return null;var C=l(E,"atlas",null),A=l(E,"frame",null);if(!(!C||!A)){var P=this.get(C),F=P.get(A);if(F){var O=this.create(T,F.source.image);return F.trimmed?m.SpriteSheetFromAtlas(O,F,E):m.SpriteSheet(O,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,E),this.emit(u.ADD,T,O),this.emit(u.ADD_KEY+T,O),O}}},create:function(T,E,C,A){var P=null;return this.checkKey(T)&&(P=new g(this,T,E,C,A),this.list[T]=P),P},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof g?T:T instanceof i?T.texture:this.list.__MISSING},cloneFrame:function(T,E){if(this.list[T])return this.list[T].get(E).clone()},getFrame:function(T,E){if(this.list[T])return this.list[T].get(E)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(v(T))return this.getFrame(T.key,T.frame);if(T instanceof g)return T.get();if(T instanceof i)return T}else return},getTextureKeys:function(){var T=[];for(var E in this.list)E!=="__DEFAULT"&&E!=="__MISSING"&&E!=="__WHITE"&&T.push(E);return T},getPixel:function(T,E,C,A){var P=this.getFrame(C,A);if(P){T-=P.x,E-=P.y;var F=P.data.cut;if(T+=F.x,E+=F.y,T>=F.x&&T<F.r&&E>=F.y&&E<F.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(P.source.image,T,E,1,1,0,0,1,1);var I=O.getImageData(0,0,1,1);return new r(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(T,E,C,A){var P=this.getFrame(C,A);if(P){T-=P.x,E-=P.y;var F=P.data.cut;if(T+=F.x,E+=F.y,T>=F.x&&T<F.r&&E>=F.y&&E<F.b){var O=this._tempContext;O.clearRect(0,0,1,1),O.drawImage(P.source.image,T,E,1,1,0,0,1,1);var I=O.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(T,E,C){return this.list[E]&&(T.texture=this.list[E],T.frame=T.texture.get(C)),T},renameTexture:function(T,E){var C=this.get(T);return C&&T!==E?(C.key=E,this.list[E]=C,delete this.list[T],!0):!1},each:function(T,E){for(var C=[null],A=1;A<arguments.length;A++)C.push(arguments[A]);for(var P in this.list)C[0]=this.list[P],T.apply(E,C)},resetStamp:function(T,E){T===void 0&&(T=1),E===void 0&&(E=16777215);var C=this.stamp;return C.setCrop(),C.setPosition(0),C.setAngle(0),C.setScale(1),C.setAlpha(T),C.setTint(E),C.setTexture("__WHITE"),C},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,f.remove(this._tempCanvas)}});p.exports=y},32547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61068),c=t(56694),a=t(28621),r=t(27394),n=new c({initialize:function(s,u,i,o,h){h===void 0&&(h=!1);var l=s.manager.game;this.renderer=l.renderer,this.texture=s,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=i||u.naturalWidth||u.videoWidth||u.width||0,this.height=o||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&u instanceof WebGLTexture,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=h,this.init(l)},init:function(e){var s=this.renderer;if(s){var u=this.source;if(s.gl){var i=this.image,o=this.flipY,h=this.width,l=this.height,d=this.scaleMode;this.isCanvas?this.glTexture=s.createCanvasTexture(i,!1,o):this.isVideo?this.glTexture=s.createVideoTexture(i,!1,o):this.isRenderTexture?this.glTexture=s.createTextureFromSource(null,h,l,d):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=s.createTextureFromSource(u):this.glTexture=s.createTextureFromSource(i,h,l,d)}else this.isRenderTexture&&(this.image=u.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,s=this.image,u=this.flipY,i=e.gl;i&&this.isCanvas?this.glTexture=e.updateCanvasTexture(s,this.glTexture,u):i&&this.isVideo&&(this.glTexture=e.updateVideoTexture(s,this.glTexture,u))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&f.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=n},65154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},49644:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},29569:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},60079:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},72665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},93006:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},69018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},85549:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},38203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(65154),a={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:c,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};a=f(!1,a,c),p.exports=a},35082:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(!c.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[f];t.add("__BASE",f,0,0,a.width,a.height);for(var r=c.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,u=s.name.value,i=parseInt(s.x.value,10),o=parseInt(s.y.value,10),h=parseInt(s.width.value,10),l=parseInt(s.height.value,10);if(n=t.add(u,f,i,o,h,l),s.frameX){var d=Math.abs(parseInt(s.frameX.value,10)),v=Math.abs(parseInt(s.frameY.value,10)),m=parseInt(s.frameWidth.value,10),x=parseInt(s.frameHeight.value,10);n.setTrim(h,l,d,v,m,x)}}return t};p.exports=S},83332:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.source[f];return t.add("__BASE",f,0,0,c.width,c.height),t};p.exports=S},21560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.source[f];return t.add("__BASE",f,0,0,c.width,c.height),t};p.exports=S},64423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,u,i=0;i<s.length;i++){var o=s[i];if(u=a.add(o.filename,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&u.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(u.rotated=!0,u.updateUVsInverted());var h=o.anchor||o.pivot;h&&(u.customPivot=!0,u.pivotX=h.x,u.pivotY=h.y),o.scale9Borders&&u.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),u.customData=f(o)}for(var l in n)l!=="frames"&&(Array.isArray(n[l])?a.customData[l]=n[l].slice(0):a.customData[l]=n[l]);return a};p.exports=c},17264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,u;for(var i in s)if(!!s.hasOwnProperty(i)){var o=s[i];if(u=a.add(i,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+i);continue}o.trimmed&&u.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(u.rotated=!0,u.updateUVsInverted());var h=o.anchor||o.pivot;h&&(u.customPivot=!0,u.pivotX=h.x,u.pivotY=h.y),o.scale9Borders&&u.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),u.customData=f(o)}for(var l in n)l!=="frames"&&(Array.isArray(n[l])?a.customData[l]=n[l].slice(0):a.customData[l]=n[l]);return a};p.exports=c},67409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=[171,75,84,88,32,49,49,187,13,10,26,10],c,a=new Uint8Array(t,0,12);for(c=0;c<a.length;c++)if(a[c]!==f[c]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var u=n.getUint32(4*r,e),i=n.getUint32(6*r,e),o=n.getUint32(7*r,e),h=Math.max(1,n.getUint32(11*r,e)),l=n.getUint32(12*r,e),d=new Array(h),v=12+13*4+l,m=i,x=o;for(c=0;c<h;c++){var g=new Int32Array(t,v,1)[0];v+=4,d[c]={data:new Uint8Array(t,v,g),width:m,height:x},m=Math.max(1,m>>1),x=Math.max(1,x>>1),v+=g}return{mipmaps:d,width:i,height:o,internalFormat:u,compressed:!0,generateMipmap:!1}};p.exports=S},24904:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(T,E,C,A,P,F,O){return O===void 0&&(O=16),Math.floor((T+C)/P)*Math.floor((E+A)/F)*O}function t(T,E){return T=Math.max(T,16),E=Math.max(E,8),T*E/4}function f(T,E){return T=Math.max(T,8),E=Math.max(E,8),T*E/2}function c(T,E){return S(T,E,3,3,4,4,8)}function a(T,E){return S(T,E,3,3,4,4)}function r(T,E){return S(T,E,4,3,5,4)}function n(T,E){return S(T,E,4,4,5,5)}function e(T,E){return S(T,E,5,4,6,5)}function s(T,E){return S(T,E,5,5,6,6)}function u(T,E){return S(T,E,7,4,8,5)}function i(T,E){return S(T,E,7,5,8,6)}function o(T,E){return S(T,E,7,7,8,8)}function h(T,E){return S(T,E,9,4,10,5)}function l(T,E){return S(T,E,9,5,10,6)}function d(T,E){return S(T,E,9,7,10,8)}function v(T,E){return S(T,E,9,9,10,10)}function m(T,E){return S(T,E,11,9,12,10)}function x(T,E){return S(T,E,11,11,12,12)}var g={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:f,glFormat:35840},3:{sizeFunc:f,glFormat:35842},6:{sizeFunc:c,glFormat:36196},7:{sizeFunc:c,glFormat:33776},8:{sizeFunc:a,glFormat:33777},9:{sizeFunc:a,glFormat:33778},11:{sizeFunc:a,glFormat:33779},22:{sizeFunc:c,glFormat:37492},23:{sizeFunc:a,glFormat:37496},24:{sizeFunc:c,glFormat:37494},25:{sizeFunc:c,glFormat:37488},26:{sizeFunc:a,glFormat:37490},27:{sizeFunc:a,glFormat:37808},28:{sizeFunc:r,glFormat:37809},29:{sizeFunc:n,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:s,glFormat:37812},32:{sizeFunc:u,glFormat:37813},33:{sizeFunc:i,glFormat:37814},34:{sizeFunc:o,glFormat:37815},35:{sizeFunc:h,glFormat:37816},36:{sizeFunc:l,glFormat:37817},37:{sizeFunc:d,glFormat:37818},38:{sizeFunc:v,glFormat:37819},39:{sizeFunc:m,glFormat:37820},40:{sizeFunc:x,glFormat:37821}},y=function(T){for(var E=new Uint32Array(T,0,13),C=E[2],A=g[C].glFormat,P=g[C].sizeFunc,F=E[11],O=E[7],I=E[6],G=52+E[12],z=new Uint8Array(T,G),X=new Array(F),H=0,N=O,U=I,R=0;R<F;R++){var D=P(N,U);X[R]={data:new Uint8Array(z.buffer,z.byteOffset+H,D),width:N,height:U},N=Math.max(1,N>>1),U=Math.max(1,U>>1),H+=D}return{mipmaps:X,width:O,height:I,internalFormat:A,compressed:!0,generateMipmap:!1}};p.exports=y},6143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n,e,s,u,i){var o=f(i,"frameWidth",null),h=f(i,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var l=a.source[r];a.add("__BASE",r,0,0,l.width,l.height);var d=f(i,"startFrame",0),v=f(i,"endFrame",-1),m=f(i,"margin",0),x=f(i,"spacing",0),g=Math.floor((s-m+x)/(o+x)),y=Math.floor((u-m+x)/(h+x)),T=g*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>T||d<-T)&&(d=0),d<0&&(d=T+d),(v===-1||v>T||v<d)&&(v=T);for(var E=m,C=m,A=0,P=0,F=0,O=0;O<T;O++){A=0,P=0;var I=E+o,G=C+h;I>s&&(A=I-s),G>u&&(P=G-u),O>=d&&O<=v&&(a.add(F,r,n+E,e+C,o-A,h-P),F++),E+=o+x,E+o>s&&(E=m,C+=h+x)}return a};p.exports=c},20030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n){var e=f(n,"frameWidth",null),s=f(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=a.source[0];a.add("__BASE",0,0,0,u.width,u.height),f(n,"startFrame",0),f(n,"endFrame",-1);for(var i=f(n,"margin",0),o=f(n,"spacing",0),h=r.cutX,l=r.cutY,d=r.cutWidth,v=r.cutHeight,m=r.realWidth,x=r.realHeight,g=Math.floor((m-i+o)/(e+o)),y=Math.floor((x-i+o)/(s+o)),T=r.x,E=e-T,C=e-(m-d-T),A=r.y,P=s-A,F=s-(x-v-A),O,I=i,G=i,z=0,X=0,H=0;H<y;H++){for(var N=H===0,U=H===y-1,R=0;R<g;R++){var D=R===0,B=R===g-1;if(O=a.add(z,X,h+I,l+G,e,s),D||N||B||U){var V=D?T:0,Y=N?A:0,K=0,$=0;D&&(K+=e-E),B&&(K+=e-C),N&&($+=s-P),U&&($+=s-F);var J=e-K,Q=s-$;O.cutWidth=J,O.cutHeight=Q,O.setTrim(e,s,V,Y,J,Q)}I+=o,D?I+=E:B?I+=C:I+=e,z++}I=i,G+=o,N?G+=P:U?G+=F:G+=s}return a};p.exports=c},89187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(c,a,r,n){var e=S-n.y-n.height;c.add(r,a,n.x,e,n.width,n.height)},f=function(c,a,r){var n=c.source[a];c.add("__BASE",a,0,0,n.width,n.height),S=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,u="",i="",o={x:0,y:0,width:0,height:0},h=0;h<e.length;h++){var l=e[h].match(s);if(!!l){var d=l[1]==="- ",v=l[2],m=l[3];if(d&&(i!==u&&(t(c,a,i,o),u=i),o={x:0,y:0,width:0,height:0}),v==="name"){i=m;continue}switch(v){case"x":case"y":case"width":case"height":o[v]=parseInt(m,10);break}}}return i!==u&&t(c,a,i,o),c};p.exports=f},69150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r,n,e,s,u,i,o){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),u===void 0&&(u=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=u|0,this.imageSpacing=i|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r){return this.images.push({gid:a,image:r}),this.total++,this}});p.exports=c},46422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=new f({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(!!r){var n=r.getTileData(a.gid);if(!!n)return n.type}}},setTextureAndFrame:function(a,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),a.scene.textures.getFrame(r,n)||(r=null,n=null))}a.setTexture(r,n)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(a,n.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(!!r){if(Array.isArray(r)){for(var n=0;n<r.length;n++){var e=r[n];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});p.exports=c},15043:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(16586),a=t(90715),r=t(89797),n=function(e,s,u,i,o,h,l,d){u===void 0&&(u=32),i===void 0&&(i=32),o===void 0&&(o=10),h===void 0&&(h=10),d===void 0&&(d=!1);var v=null;if(Array.isArray(l)){var m=s!==void 0?s:"map";v=a(m,f.ARRAY_2D,l,u,i,d)}else if(s!==void 0){var x=e.cache.tilemap.get(s);x?v=a(s,x.format,x.data,u,i,d):console.warn("No map data found for key "+s)}return v===null&&(v=new c({tileWidth:u,tileHeight:i,width:o,height:h})),new r(e,v)};p.exports=n},29633:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(64937),a=t(12920),r=t(28699),n=t(66658),e=new f({Mixins:[c.AlphaSingle,c.Flip,c.Visible],initialize:function(u,i,o,h,l,d,v,m){this.layer=u,this.index=i,this.x=o,this.y=h,this.width=l,this.height=d,this.right,this.bottom,this.baseWidth=v!==void 0?v:l,this.baseHeight=m!==void 0?m:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,u){return!(s<this.pixelX||u<this.pixelY||s>this.right||u>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var u=this.tilemapLayer;if(u){var i=u.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var u=this.tilemapLayer;return u?this.getLeft(s)+this.width*u.scaleX:this.getLeft(s)+this.width},getTop:function(s){var u=this.tilemapLayer;if(u){var i=u.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var u=this.tilemapLayer;return u?this.getTop(s)+this.height*u.scaleY:this.getTop(s)+this.height},getBounds:function(s,u){return u===void 0&&(u=new n),u.x=this.getLeft(s),u.y=this.getTop(s),u.width=this.getRight(s)-u.x,u.height=this.getBottom(s)-u.y,u},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,u,i,o){return!(i<=this.pixelX||o<=this.pixelY||s>=this.right||u>=this.bottom)},isInteresting:function(s,u){return s&&u?this.canCollide||this.hasInterestingFace:s?this.collides:u?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,u,i,o,h){if(u===void 0&&(u=s),i===void 0&&(i=s),o===void 0&&(o=s),h===void 0&&(h=!0),this.collideLeft=s,this.collideRight=u,this.collideUp=i,this.collideDown=o,this.faceLeft=s,this.faceRight=u,this.faceTop=i,this.faceBottom=o,h){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,u){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=u),this},setSize:function(s,u,i,o){return s!==void 0&&(this.width=s),u!==void 0&&(this.height=u),i!==void 0&&(this.baseWidth=i),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var u=this.layer.staggerAxis,i=this.layer.staggerIndex,o=this.layer.hexSideLength,h,l;u==="y"?(l=(this.baseHeight-o)/2+o,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*l):u==="x"&&(h=(this.baseWidth-o)/2+o,this.pixelX=this.x*h,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var u=s.gidMap[this.index];if(u)return u}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});p.exports=e},89797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(14556),c=t(56694),a=t(75606),r=t(93560),n=t(72632),e=t(94990),s=t(46422),u=t(12920),i=t(52257),o=t(72677),h=t(13747),l=t(29633),d=t(5047),v=t(87177),m=t(47975),x=new c({initialize:function(y,T){this.scene=y,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(E),WorldToTileX:d.GetWorldToTileXFunction(E),WorldToTileY:d.GetWorldToTileYFunction(E),TileToWorldXY:d.GetTileToWorldXYFunction(E),TileToWorldX:d.GetTileToWorldXFunction(E),TileToWorldY:d.GetTileToWorldYFunction(E),GetTileCorners:d.GetTileCornersFunction(E)}},setRenderOrder:function(g){var y=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=y[g]),y.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,y,T,E,C,A,P,F){if(g===void 0)return null;if(y==null&&(y=g),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var O=this.scene.sys.textures.get(y),I=this.getTilesetIndex(g);if(I===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var G=this.tilesets[I];return G?(G.setTileSize(T,E),G.setSpacing(C,A),G.setImage(O),G):(T===void 0&&(T=this.tileWidth),E===void 0&&(E=this.tileHeight),C===void 0&&(C=0),A===void 0&&(A=0),P===void 0&&(P=0),F===void 0&&(F={x:0,y:0}),G=new m(g,P,T,E,C,A,void 0,void 0,F),G.setImage(O),this.tilesets.push(G),this.tiles=f(this),G)},copy:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F!==null?(d.Copy(g,y,T,E,C,A,P,F),this):null},createBlankLayer:function(g,y,T,E,C,A,P,F){T===void 0&&(T=0),E===void 0&&(E=0),C===void 0&&(C=this.width),A===void 0&&(A=this.height),P===void 0&&(P=this.tileWidth),F===void 0&&(F=this.tileHeight);var O=this.getLayerIndex(g);if(O!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var I=new e({name:g,tileWidth:P,tileHeight:F,width:C,height:A,orientation:this.orientation}),G,z=0;z<A;z++){G=[];for(var X=0;X<C;X++)G.push(new l(I,-1,X,z,P,F,this.tileWidth,this.tileHeight));I.data.push(G)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var H=new v(this.scene,this,this.currentLayerIndex,y,T,E);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(g,y,T,E){var C=this.getLayerIndex(g);if(C===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var A=this.layers[C];if(A.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=C,T===void 0&&(T=A.x),E===void 0&&(E=A.y);var P=new v(this.scene,this,C,y,T,E);return P.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(P),P},createFromObjects:function(g,y,T){T===void 0&&(T=!0);var E=[],C=this.getObjectLayer(g);if(!C)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),E;var A=new s(T?this.tilesets:void 0);Array.isArray(y)||(y=[y]);for(var P=C.objects,F=0;F<y.length;F++){var O=y[F],I=n(O,"id",null),G=n(O,"gid",null),z=n(O,"name",null),X=n(O,"type",null);A.enabled=!n(O,"ignoreTileset",null);for(var H,N=[],U=0;U<P.length;U++)H=P[U],(I===null&&G===null&&z===null&&X===null||I!==null&&H.id===I||G!==null&&H.gid===G||z!==null&&H.name===z||X!==null&&A.getTypeIncludingTile(H)===X)&&N.push(H);for(var R=n(O,"classType",h),D=n(O,"scene",this.scene),B=n(O,"container",null),V=n(O,"key",null),Y=n(O,"frame",null),K=0;K<N.length;K++){H=N[K];var $=new R(D);if($.setName(H.name),$.setPosition(H.x,H.y),A.setTextureAndFrame($,V,Y,H),H.width&&($.displayWidth=H.width),H.height&&($.displayHeight=H.height),this.orientation===u.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:$.x-$.y,y:($.x+$.y)/J};$.x=Q.x,$.y=Q.y}var k={x:$.originX*H.width,y:($.originY-(H.gid?1:0))*H.height};if(H.rotation){var q=a(H.rotation);i(k,q),$.rotation=q}$.x+=k.x,$.y+=k.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&$.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||($.visible=!1),A.setPropertiesFromTiledObject($,H),B?B.add($):D.add.existing($),E.push($)}}return E},createFromTiles:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:d.CreateFromTiles(g,y,T,E,C,A)},fill:function(g,y,T,E,C,A,P){return A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(d.Fill(g,y,T,E,C,A,P),this)},filterObjects:function(g,y,T){if(typeof g=="string"){var E=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+E),null}return g.objects.filter(y,T)},filterTiles:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F===null?null:d.FilterTiles(g,y,T,E,C,A,P,F)},findByIndex:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.FindByIndex(g,y,T,E)},findObject:function(g,y,T){if(typeof g=="string"){var E=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+E),null}return g.objects.find(y,T)||null},findTile:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F===null?null:d.FindTile(g,y,T,E,C,A,P,F)},forEachTile:function(g,y,T,E,C,A,P,F){return F=this.getLayer(F),F===null?null:(d.ForEachTile(g,y,T,E,C,A,P,F),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,y){for(var T=0;T<g.length;T++)if(g[T].name===y)return T;return null},getLayer:function(g){var y=this.getLayerIndex(g);return y!==null?this.layers[y]:null},getObjectLayer:function(g){var y=this.getIndex(this.objects,g);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof v&&g.tilemap===this?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.GetTileAt(g,y,T,E)},getTileAtWorldXY:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:d.GetTileAtWorldXY(g,y,T,E,C)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:d.GetTilesWithin(g,y,T,E,C,A)},getTilesWithinShape:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.GetTilesWithinShape(g,y,T,E)},getTilesWithinWorldXY:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:d.GetTilesWithinWorldXY(g,y,T,E,C,A,P)},getTileset:function(g){var y=this.getIndex(this.tilesets,g);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,y,T){return T=this.getLayer(T),T===null?null:d.HasTileAt(g,y,T)},hasTileAtWorldXY:function(g,y,T,E){return E=this.getLayer(E),E===null?null:d.HasTileAtWorldXY(g,y,T,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,y,T,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:d.PutTileAt(g,y,T,E,C)},putTileAtWorldXY:function(g,y,T,E,C,A){return E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:d.PutTileAtWorldXY(g,y,T,E,C,A)},putTilesAt:function(g,y,T,E,C){return E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(d.PutTilesAt(g,y,T,E,C),this)},randomize:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:(d.Randomize(g,y,T,E,C,A),this)},calculateFacesAt:function(g,y,T){return T=this.getLayer(T),T===null?null:(d.CalculateFacesAt(g,y,T),this)},calculateFacesWithin:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:(d.CalculateFacesWithin(g,y,T,E,C),this)},removeLayer:function(g){var y=this.getLayerIndex(g);if(y!==null){o(this.layers,y);for(var T=y;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var y=this.getLayerIndex(g);return y!==null?(g=this.layers[y],g.tilemapLayer.destroy(),o(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,y=0;y<g.length;y++)g[y].tilemapLayer&&g[y].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,y,T){y===void 0&&(y=-1),T===void 0&&(T=!0);var E=[];Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++){var A=g[C];E.push(this.removeTileAt(A.x,A.y,!0,T,A.tilemapLayer)),y>-1&&this.putTileAt(y,A.x,A.y,T,A.tilemapLayer)}return E},removeTileAt:function(g,y,T,E,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:d.RemoveTileAt(g,y,T,E,C)},removeTileAtWorldXY:function(g,y,T,E,C,A){return T===void 0&&(T=!0),E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:d.RemoveTileAtWorldXY(g,y,T,E,C,A)},renderDebug:function(g,y,T){return T=this.getLayer(T),T===null?null:(this.orientation===u.ORTHOGONAL&&d.RenderDebug(g,y,T),this)},renderDebugFull:function(g,y){for(var T=this.layers,E=0;E<T.length;E++)d.RenderDebug(g,y,T[E]);return this},replaceByIndex:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:(d.ReplaceByIndex(g,y,T,E,C,A,P),this)},setCollision:function(g,y,T,E,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(d.SetCollision(g,y,T,E,C),this)},setCollisionBetween:function(g,y,T,E,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionBetween(g,y,T,E,C),this)},setCollisionByProperty:function(g,y,T,E){return y===void 0&&(y=!0),T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByProperty(g,y,T,E),this)},setCollisionByExclusion:function(g,y,T,E){return y===void 0&&(y=!0),T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionByExclusion(g,y,T,E),this)},setCollisionFromCollisionGroup:function(g,y,T){return g===void 0&&(g=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(d.SetCollisionFromCollisionGroup(g,y,T),this)},setTileIndexCallback:function(g,y,T,E){return E=this.getLayer(E),E===null?null:(d.SetTileIndexCallback(g,y,T,E),this)},setTileLocationCallback:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:(d.SetTileLocationCallback(g,y,T,E,C,A,P),this)},setLayer:function(g){var y=this.getLayerIndex(g);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(g,y){this.tileWidth=g,this.tileHeight=y,this.widthInPixels=this.width*g,this.heightInPixels=this.height*y;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=g,this.layers[T].baseTileHeight=y;for(var E=this.layers[T].data,C=this.layers[T].width,A=this.layers[T].height,P=0;P<A;P++)for(var F=0;F<C;F++){var O=E[P][F];O!==null&&O.setSize(void 0,void 0,g,y)}}return this},setLayerTileSize:function(g,y,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=g,T.tileHeight=y;for(var E=T.data,C=T.width,A=T.height,P=0;P<A;P++)for(var F=0;F<C;F++){var O=E[P][F];O!==null&&O.setSize(g,y)}return this},shuffle:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:(d.Shuffle(g,y,T,E,C),this)},swapByIndex:function(g,y,T,E,C,A,P){return P=this.getLayer(P),P===null?null:(d.SwapByIndex(g,y,T,E,C,A,P),this)},tileToWorldX:function(g,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(g,y,T)},tileToWorldY:function(g,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(g,y,T)},tileToWorldXY:function(g,y,T,E,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldXY(g,y,T,E,C)},getTileCorners:function(g,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.GetTileCorners(g,y,T,E)},weightedRandomize:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:(d.WeightedRandomize(y,T,E,C,g,A),this)},worldToTileX:function(g,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(g,y,T,E)},worldToTileY:function(g,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(g,y,T,E)},worldToTileXY:function(g,y,T,E,C,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileXY(g,y,T,E,C,A)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=x},4843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(99325),c=t(15043);f.register("tilemap",function(a){var r=a!==void 0?a:{};return c(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},37940:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(61286),c=t(15043);f.register("tilemap",function(a,r,n,e,s,u,i){return a===null&&(a=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),c(this.scene,a,r,n,e,s,u,i)})},87177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(95239),a=t(64937),r=t(89980),n=t(5047),e=t(96193),s=t(93736),u=new f({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,c,e],initialize:function(o,h,l,d,v,m){r.call(this,o,"TilemapLayer"),this.isTilemap=!0,this.tilemap=h,this.layerIndex=l,this.layer=h.layers[l],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(v,m),this.setOrigin(0,0),this.setSize(h.tileWidth*this.layer.width,h.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var o=[],h=[],l=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var v=i[d];if(typeof v=="string"&&(v=l.getTileset(v)),v){h.push(v);for(var m=v.firstgid,x=0;x<v.total;x++)o[m+x]=v}}this.gidMap=o,this.tileset=h},setRenderOrder:function(i){var o=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=o.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,o){return n.CalculateFacesAt(i,o,this.layer),this},calculateFacesWithin:function(i,o,h,l){return n.CalculateFacesWithin(i,o,h,l,this.layer),this},createFromTiles:function(i,o,h,l,d){return n.CreateFromTiles(i,o,h,l,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,o,h,l,d,v,m){return n.Copy(i,o,h,l,d,v,m,this.layer),this},fill:function(i,o,h,l,d,v){return n.Fill(i,o,h,l,d,v,this.layer),this},filterTiles:function(i,o,h,l,d,v,m){return n.FilterTiles(i,o,h,l,d,v,m,this.layer)},findByIndex:function(i,o,h){return n.FindByIndex(i,o,h,this.layer)},findTile:function(i,o,h,l,d,v,m){return n.FindTile(i,o,h,l,d,v,m,this.layer)},forEachTile:function(i,o,h,l,d,v,m){return n.ForEachTile(i,o,h,l,d,v,m,this.layer),this},setTint:function(i,o,h,l,d,v){i===void 0&&(i=16777215);var m=function(x){x.tint=i,x.tintFill=!1};return this.forEachTile(m,this,o,h,l,d,v)},setTintFill:function(i,o,h,l,d,v){i===void 0&&(i=16777215);var m=function(x){x.tint=i,x.tintFill=!0};return this.forEachTile(m,this,o,h,l,d,v)},getTileAt:function(i,o,h){return n.GetTileAt(i,o,h,this.layer)},getTileAtWorldXY:function(i,o,h,l){return n.GetTileAtWorldXY(i,o,h,l,this.layer)},getIsoTileAtWorldXY:function(i,o,h,l,d){h===void 0&&(h=!0);var v=this.tempVec;return n.IsometricWorldToTileXY(i,o,!0,v,d,this.layer,h),this.getTileAt(v.x,v.y,l)},getTilesWithin:function(i,o,h,l,d){return n.GetTilesWithin(i,o,h,l,d,this.layer)},getTilesWithinShape:function(i,o,h){return n.GetTilesWithinShape(i,o,h,this.layer)},getTilesWithinWorldXY:function(i,o,h,l,d,v){return n.GetTilesWithinWorldXY(i,o,h,l,d,v,this.layer)},hasTileAt:function(i,o){return n.HasTileAt(i,o,this.layer)},hasTileAtWorldXY:function(i,o,h){return n.HasTileAtWorldXY(i,o,h,this.layer)},putTileAt:function(i,o,h,l){return n.PutTileAt(i,o,h,l,this.layer)},putTileAtWorldXY:function(i,o,h,l,d){return n.PutTileAtWorldXY(i,o,h,l,d,this.layer)},putTilesAt:function(i,o,h,l){return n.PutTilesAt(i,o,h,l,this.layer),this},randomize:function(i,o,h,l,d){return n.Randomize(i,o,h,l,d,this.layer),this},removeTileAt:function(i,o,h,l){return n.RemoveTileAt(i,o,h,l,this.layer)},removeTileAtWorldXY:function(i,o,h,l,d){return n.RemoveTileAtWorldXY(i,o,h,l,d,this.layer)},renderDebug:function(i,o){return n.RenderDebug(i,o,this.layer),this},replaceByIndex:function(i,o,h,l,d,v){return n.ReplaceByIndex(i,o,h,l,d,v,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=1),this.cullPaddingX=i,this.cullPaddingY=o,this},setCollision:function(i,o,h,l){return n.SetCollision(i,o,h,this.layer,l),this},setCollisionBetween:function(i,o,h,l){return n.SetCollisionBetween(i,o,h,l,this.layer),this},setCollisionByProperty:function(i,o,h){return n.SetCollisionByProperty(i,o,h,this.layer),this},setCollisionByExclusion:function(i,o,h){return n.SetCollisionByExclusion(i,o,h,this.layer),this},setCollisionFromCollisionGroup:function(i,o){return n.SetCollisionFromCollisionGroup(i,o,this.layer),this},setTileIndexCallback:function(i,o,h){return n.SetTileIndexCallback(i,o,h,this.layer),this},setTileLocationCallback:function(i,o,h,l,d,v){return n.SetTileLocationCallback(i,o,h,l,d,v,this.layer),this},shuffle:function(i,o,h,l){return n.Shuffle(i,o,h,l,this.layer),this},swapByIndex:function(i,o,h,l,d,v){return n.SwapByIndex(i,o,h,l,d,v,this.layer),this},tileToWorldX:function(i,o){return this.tilemap.tileToWorldX(i,o,this)},tileToWorldY:function(i,o){return this.tilemap.tileToWorldY(i,o,this)},tileToWorldXY:function(i,o,h,l){return this.tilemap.tileToWorldXY(i,o,h,l,this)},getTileCorners:function(i,o,h){return this.tilemap.getTileCorners(i,o,h,this)},weightedRandomize:function(i,o,h,l,d){return n.WeightedRandomize(o,h,l,d,i,this.layer),this},worldToTileX:function(i,o,h){return this.tilemap.worldToTileX(i,o,h,this)},worldToTileY:function(i,o,h){return this.tilemap.worldToTileY(i,o,h,this)},worldToTileXY:function(i,o,h,l,d){return this.tilemap.worldToTileXY(i,o,h,l,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});p.exports=u},17394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(69360),c=new f,a=new f,r=new f,n=function(e,s,u,i){var o=s.cull(u),h=o.length,l=u.alpha*s.alpha;if(!(h===0||l<=0)){var d=c,v=a,m=r;v.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),d.copyFrom(u.matrix);var x=e.currentContext,g=s.gidMap;x.save(),i?(d.multiplyWithOffset(i,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),v.e=s.x,v.f=s.y,d.multiply(v,m),m.copyToContext(x)):(v.e-=u.scrollX*s.scrollFactorX,v.f-=u.scrollY*s.scrollFactorY,v.copyToContext(x)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var y=0;y<h;y++){var T=o[y],E=g[T.index];if(!!E){var C=E.image.getSourceImage(),A=E.getTileTextureCoordinates(T.index),P=E.tileWidth,F=E.tileHeight;if(!(A===null||P===0||F===0)){var O=P*.5,I=F*.5;A.x+=E.tileOffset.x,A.y+=E.tileOffset.y,x.save(),x.translate(T.pixelX+O,T.pixelY+I),T.rotation!==0&&x.rotate(T.rotation),(T.flipX||T.flipY)&&x.scale(T.flipX?-1:1,T.flipY?-1:1),x.globalAlpha=l*T.alpha,x.drawImage(C,A.x,A.y,P,F,-O,-I,P,F),x.restore()}}}x.restore()}};p.exports=n},96193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72283),c=f,a=f;c=t(51395),a=t(17394),p.exports={renderWebGL:c,renderCanvas:a}},51395:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(75512),c=function(a,r,n){var e=r.cull(n),s=e.length,u=n.alpha*r.alpha;if(!(s===0||u<=0)){var i=r.gidMap,o=a.pipelines.set(r.pipeline,r),h=f.getTintAppendFloatAlpha,l=r.scrollFactorX,d=r.scrollFactorY,v=r.x,m=r.y,x=r.scaleX,g=r.scaleY;a.pipelines.preBatch(r);for(var y=0;y<s;y++){var T=e[y],E=i[T.index];if(!!E){var C=E.getTileTextureCoordinates(T.index);if(C!==null){var A=E.glTexture,P=o.setTexture2D(A,r),F=E.tileWidth,O=E.tileHeight,I=C.x,G=C.y,z=E.tileWidth*.5,X=E.tileHeight*.5,H=E.tileOffset.x,N=E.tileOffset.y,U=h(T.tint,u*T.alpha);o.batchTexture(r,A,A.width,A.height,v+T.pixelX*x+(z*x-H),m+T.pixelY*g+(X*g-N),T.width,T.height,x,g,T.rotation,T.flipX,T.flipY,l,d,z,X,I,G,F,O,U,U,U,U,T.tintFill,0,0,n,null,!0,P,!0)}}}a.pipelines.postBatch(r)}};p.exports=c},47975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(93736),a=new f({initialize:function(n,e,s,u,i,o,h,l,d){(s===void 0||s<=0)&&(s=32),(u===void 0||u<=0)&&(u=32),i===void 0&&(i=0),o===void 0&&(o=0),h===void 0&&(h={}),l===void 0&&(l={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=u,this.tileMargin=i,this.tileSpacing=o,this.tileProperties=h,this.tileData=l,this.tileOffset=new c,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n){var e=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),s=Math.floor(s),this.rows=e,this.columns=s,this.total=e*s,this.texCoordinates.length=0;for(var u=this.tileMargin,i=this.tileMargin,o=0;o<this.rows;o++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:u,y:i}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin,i+=this.tileHeight+this.tileSpacing}return this}});p.exports=a},92839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15494),c=function(a,r,n){var e=f(a,r,!0,n),s=f(a,r-1,!0,n),u=f(a,r+1,!0,n),i=f(a-1,r,!0,n),o=f(a+1,r,!0,n),h=e&&e.collides;return h&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(h&&(e.faceTop=!1),s.faceBottom=!h),u&&u.collides&&(h&&(e.faceBottom=!1),u.faceTop=!h),i&&i.collides&&(h&&(e.faceLeft=!1),i.faceRight=!h),o&&o.collides&&(h&&(e.faceRight=!1),o.faceLeft=!h),e&&!e.collides&&e.resetFaces(),e};p.exports=c},60386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15494),c=t(50811),a=function(r,n,e,s,u){for(var i=null,o=null,h=null,l=null,d=c(r,n,e,s,null,u),v=0;v<d.length;v++){var m=d[v];m&&(m.collides?(i=f(m.x,m.y-1,!0,u),o=f(m.x,m.y+1,!0,u),h=f(m.x-1,m.y,!0,u),l=f(m.x+1,m.y,!0,u),m.faceTop=!(i&&i.collides),m.faceBottom=!(o&&o.collides),m.faceLeft=!(h&&h.collides),m.faceRight=!(l&&l.collides)):m.resetFaces())}};p.exports=a},13125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=new f,a=function(r,n,e,s){var u=e.tilemapLayer,i=u.cullPaddingX,o=u.cullPaddingY,h=u.tilemap.tileToWorldXY(r,n,c,s,u);return h.x>s.worldView.x+u.scaleX*e.tileWidth*(-i-.5)&&h.x<s.worldView.right+u.scaleX*e.tileWidth*(i-.5)&&h.y>s.worldView.y+u.scaleY*e.tileHeight*(-o-1)&&h.y<s.worldView.bottom+u.scaleY*e.tileHeight*(o-.5)};p.exports=a},17347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60386),c=t(50811),a=t(62839),r=t(29633),n=function(e,s,u,i,o,h,l,d){l===void 0&&(l=!0);var v=c(e,s,u,i,null,d),m=[];v.forEach(function(A){var P=new r(A.layer,A.index,A.x,A.y,A.width,A.height,A.baseWidth,A.baseHeight);P.copy(A),m.push(P)});for(var x=o-e,g=h-s,y=0;y<m.length;y++){var T=m[y],E=T.x+x,C=T.y+g;a(E,C,d)&&d.data[C][E]&&(T.x=E,T.y=C,T.updatePixelXY(),d.data[C][E]=T)}l&&f(o-1,h-1,u+2,i+2,d),v.length=0,m.length=0};p.exports=n},93604:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(51202),a=function(r,n,e,s,u,i){e||(e={}),Array.isArray(r)||(r=[r]);var o=i.tilemapLayer;s||(s=o.scene),u||(u=s.cameras.main);var h=f(0,0,i.width,i.height,null,i),l=[],d;for(d=0;d<h.length;d++){var v=h[d];if(r.indexOf(v.index)!==-1){var m=o.tileToWorldXY(v.x,v.y,void 0,u,i);e.x=m.x,e.y=m.y,l.push(s.make.sprite(e))}}if(typeof n=="number")for(d=0;d<r.length;d++)c(r[d],n,0,0,i.width,i.height,i);else if(Array.isArray(n))for(d=0;d<r.length;d++)c(r[d],n[d],0,0,i.width,i.height,i);return l};p.exports=a},71586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(74118),c=t(82127),a=t(84314),r=new f,n=function(e,s){var u=e.tilemapLayer.tilemap,i=e.tilemapLayer,o=Math.floor(u.tileWidth*i.scaleX),h=Math.floor(u.tileHeight*i.scaleY),l=a(s.worldView.x-i.x,o,0,!0)-i.cullPaddingX,d=c(s.worldView.right-i.x,o,0,!0)+i.cullPaddingX,v=a(s.worldView.y-i.y,h,0,!0)-i.cullPaddingY,m=c(s.worldView.bottom-i.y,h,0,!0)+i.cullPaddingY;return r.setTo(l,v,d-l,m-v)};p.exports=n},381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(71586),c=t(6987),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var u=r.tilemapLayer,i=f(r,n);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),c(r,i,s,e),e};p.exports=a},97734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(60386),a=t(68234),r=function(n,e,s,u,i,o,h){for(var l=h.collideIndexes.indexOf(n)!==-1,d=f(e,s,u,i,null,h),v=0;v<d.length;v++)d[v].index=n,a(d[v],l);o&&c(e-1,s-1,u+2,i+2,h)};p.exports=r},63555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i,o){var h=f(n,e,s,u,i,o);return h.filter(a,r)};p.exports=c},37982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f===void 0&&(f=0),c===void 0&&(c=!1);var r=0,n,e,s;if(c){for(e=a.height-1;e>=0;e--)for(n=a.width-1;n>=0;n--)if(s=a.data[e][n],s&&s.index===t){if(r===f)return s;r+=1}}else for(e=0;e<a.height;e++)for(n=0;n<a.width;n++)if(s=a.data[e][n],s&&s.index===t){if(r===f)return s;r+=1}return null};p.exports=S},48297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i,o){var h=f(n,e,s,u,i,o);return h.find(a,r)||null};p.exports=c},80916:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i,o){var h=f(n,e,s,u,i,o);h.forEach(a,r)};p.exports=c},31493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(381),a=t(37524),r=t(20887),n=t(72283),e=t(19242),s=function(u){return u===f.ORTHOGONAL?c:u===f.HEXAGONAL?a:u===f.STAGGERED?e:u===f.ISOMETRIC?r:n};p.exports=s},15494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(62839),c=function(a,r,n,e){if(n===void 0&&(n=!1),f(a,r,e)){var s=e.data[r][a]||null;return s?s.index===-1?n?s:null:s:null}else return null};p.exports=c},24640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(15494),c=t(93736),a=new c,r=function(n,e,s,u,i){return i.tilemapLayer.worldToTileXY(n,e,!0,a,u),f(a.x,a.y,s,i)};p.exports=r},48495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e){var s=e.baseTileWidth,u=e.baseTileHeight,i=e.tilemapLayer,o=0,h=0;i&&(n||(n=i.scene.cameras.main),o=i.x+n.scrollX*(1-i.scrollFactorX),h=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,u*=i.scaleY);var l=o+a*s,d=h+r*u;return[new f(l,d),new f(l+s,d),new f(l+s,d+u),new f(l,d+u)]};p.exports=c},7160:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(63634),a=t(72283),r=t(48495),n=function(e){return e===f.ORTHOGONAL?r:e===f.ISOMETRIC?a:e===f.HEXAGONAL?c:(e===f.STAGGERED,a)};p.exports=n},16884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(72283),a=t(44150),r=function(n){return n===f.ORTHOGONAL?a:c};p.exports=r},68182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(21715),a=t(21808),r=t(72283),n=t(33388),e=t(46836),s=function(u){return u===f.ORTHOGONAL?e:u===f.ISOMETRIC?a:u===f.HEXAGONAL?c:u===f.STAGGERED?n:r};p.exports=s},3752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(72283),a=t(84132),r=t(42477),n=function(e){return e===f.ORTHOGONAL?r:e===f.STAGGERED?a:c};p.exports=n},50811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n,e,s,u){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=u.width),e===void 0&&(e=u.height),s||(s={});var i=f(s,"isNotEmpty",!1),o=f(s,"isColliding",!1),h=f(s,"hasInterestingFace",!1);a<0&&(n+=a,a=0),r<0&&(e+=r,r=0),a+n>u.width&&(n=Math.max(u.width-a,0)),r+e>u.height&&(e=Math.max(u.height-r,0));for(var l=[],d=r;d<r+e;d++)for(var v=a;v<a+n;v++){var m=u.data[d][v];if(m!==null){if(i&&m.index===-1||o&&!m.collides||h&&!m.hasInterestingFace)continue;l.push(m)}}return l};p.exports=c},31674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(84068),c=t(50811),a=t(7563),r=t(72283),n=t(93736),e=function(h,l){return a.RectangleToTriangle(l,h)},s=new n,u=new n,i=new n,o=function(h,l,d,v){if(h===void 0)return[];var m=r;h instanceof f.Circle?m=a.CircleToRectangle:h instanceof f.Rectangle?m=a.RectangleToRectangle:h instanceof f.Triangle?m=e:h instanceof f.Line&&(m=a.LineToRectangle),v.tilemapLayer.worldToTileXY(h.left,h.top,!0,u,d);var x=u.x,g=u.y;v.tilemapLayer.worldToTileXY(h.right,h.bottom,!1,i,d);var y=Math.ceil(i.x),T=Math.ceil(i.y),E=Math.max(y-x,1),C=Math.max(T-g,1),A=c(x,g,E,C,l,v),P=v.tileWidth,F=v.tileHeight;v.tilemapLayer&&(P*=v.tilemapLayer.scaleX,F*=v.tilemapLayer.scaleY);for(var O=[],I=new f.Rectangle(0,0,P,F),G=0;G<A.length;G++){var z=A[G];v.tilemapLayer.tileToWorldXY(z.x,z.y,s,d),I.x=s.x,I.y=s.y,m(h,I)&&O.push(z)}return O};p.exports=o},44662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(93736),a=new c,r=new c,n=function(e,s,u,i,o,h,l){var d=l.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,s,!0,a,h,l);var v=a.x,m=a.y;d(e+u,s+i,!1,r,h,l);var x=Math.ceil(r.x),g=Math.ceil(r.y);return f(v,m,x-v,g-m,o,l)};p.exports=n},29296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(10618),a=t(806),r=function(n){return n===f.ORTHOGONAL?a:c};p.exports=r},32688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(11516),a=t(18750),r=t(72283),n=t(90562),e=t(45676),s=function(u){return u===f.ORTHOGONAL?e:u===f.ISOMETRIC?a:u===f.HEXAGONAL?c:u===f.STAGGERED?n:r};p.exports=s},74326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=t(10618),a=t(3689),r=t(70520),n=function(e){return e===f.ORTHOGONAL?r:e===f.STAGGERED?a:c};p.exports=n},46598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(62839),c=function(a,r,n){if(f(a,r,n)){var e=n.data[r][a];return e!==null&&e.index>-1}else return!1};p.exports=c},28654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(46598),c=t(93736),a=new c,r=function(n,e,s,u){u.tilemapLayer.worldToTileXY(n,e,!0,a,s);var i=a.x,o=a.y;return f(i,o,u)};p.exports=r},6358:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82127),c=t(84314),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,u=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),o=r.hexSideLength,h,l,d,v;if(r.staggerAxis==="y"){var m=(i-o)/2+o;h=c(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,l=f(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,d=c(n.worldView.y-s.y,m,0,!0)-s.cullPaddingY,v=f(n.worldView.bottom-s.y,m,0,!0)+s.cullPaddingY}else{var x=(u-o)/2+o;h=c(n.worldView.x-s.x,x,0,!0)-s.cullPaddingX,l=f(n.worldView.right-s.x,x,0,!0)+s.cullPaddingX,d=c(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,v=f(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:h,right:l,top:d,bottom:v}};p.exports=a},37524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(6358),c=t(6987),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var u=r.tilemapLayer,i=f(r,n);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),c(r,i,s,e),e};p.exports=a},63634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(21715),c=t(93736),a=new c,r=function(n,e,s,u){var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(i*=h.scaleX,o*=h.scaleY);var l=f(n,e,a,s,u),d=[],v=.5773502691896257,m,x;u.staggerAxis==="y"?(m=v*i,x=o/2):(m=i/2,x=v*o);for(var g=0;g<6;g++){var y=2*Math.PI*(.5-g)/6;d.push(new c(l.x+m*Math.cos(y),l.y+x*Math.sin(y)))}return d};p.exports=r},21715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){n||(n=new f);var u=s.baseTileWidth,i=s.baseTileHeight,o=s.tilemapLayer,h=0,l=0;o&&(e||(e=o.scene.cameras.main),h=o.x+e.scrollX*(1-o.scrollFactorX),l=o.y+e.scrollY*(1-o.scrollFactorY),u*=o.scaleX,i*=o.scaleY);var d=u/2,v=i/2,m,x;return s.staggerAxis==="y"?(m=h+u*a+u,x=l+1.5*r*v+v,r%2===0&&(this.staggerIndex==="odd"?m-=d:m+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(m=h+1.5*a*d+d,x=l+i*a+i,a%2===0&&(this.staggerIndex==="odd"?x-=v:x+=v)),n.set(m,x)};p.exports=c},11516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u){e||(e=new f);var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(s||(s=h.scene.cameras.main),a=a-(h.x+s.scrollX*(1-h.scrollFactorX)),r=r-(h.y+s.scrollY*(1-h.scrollFactorY)),i*=h.scaleX,o*=h.scaleY);var l=.5773502691896257,d=-.3333333333333333,v=0,m=.6666666666666666,x=i/2,g=o/2,y,T,E,C,A;u.staggerAxis==="y"?(y=(a-x)/(l*i),T=(r-g)/g,E=l*y+d*T,C=v*y+m*T):(y=(a-x)/x,T=(r-g)/(l*o),E=d*y+l*T,C=m*y+v*T),A=-E-C;var P=Math.round(E),F=Math.round(C),O=Math.round(A),I=Math.abs(P-E),G=Math.abs(F-C),z=Math.abs(O-A);I>G&&I>z?P=-F-O:G>z&&(F=-P-O);var X,H=F;return u.staggerIndex==="odd"?X=H%2===0?F/2+P:F/2+P-.5:X=H%2===0?F/2+P:F/2+P+.5,e.set(X,H)};p.exports=c},62839:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t>=0&&t<c.width&&f>=0&&f<c.height};p.exports=S},20887:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(13125),c=function(a,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=a.tilemapLayer,u=a.data,i=a.width,o=a.height,h=s.skipCull,l=0,d=i,v=0,m=o,x,g,y;if(e===0){for(g=v;g<m;g++)for(x=l;x<d;x++)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===1){for(g=v;g<m;g++)for(x=d;x>=l;x--)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===2){for(g=m;g>=v;g--)for(x=l;x<d;x++)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===3){for(g=m;g>=v;g--)for(x=d;x>=l;x--)if(h||f(x,g,a,r)){if(y=u[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}return s.tilesDrawn=n.length,s.tilesTotal=i*o,n};p.exports=c},21808:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){n||(n=new f);var u=s.baseTileWidth,i=s.baseTileHeight,o=s.tilemapLayer,h=0,l=0;o&&(e||(e=o.scene.cameras.main),h=o.x+e.scrollX*(1-o.scrollFactorX),u*=o.scaleX,l=o.y+e.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var d=h+(a-r)*(u/2),v=l+(a+r)*(i/2);return n.set(d,v)};p.exports=c},18750:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u,i){e||(e=new f);var o=u.baseTileWidth,h=u.baseTileHeight,l=u.tilemapLayer;l&&(s||(s=l.scene.cameras.main),r=r-(l.y+s.scrollY*(1-l.scrollFactorY)),h*=l.scaleY,a=a-(l.x+s.scrollX*(1-l.scrollFactorX)),o*=l.scaleX);var d=o/2,v=h/2;a=a-d,i||(r=r-h);var m=.5*(a/d+r/v),x=.5*(-a/d+r/v);return n&&(m=Math.floor(m),x=Math.floor(x)),e.set(m,x)};p.exports=c},29003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29633),c=t(62839),a=t(92839),r=t(68234),n=function(e,s,u,i,o){if(i===void 0&&(i=!0),!c(s,u,o))return null;var h,l=o.data[u][s],d=l&&l.collides;e instanceof f?(o.data[u][s]===null&&(o.data[u][s]=new f(o,e.index,s,u,o.tileWidth,o.tileHeight)),o.data[u][s].copy(e)):(h=e,o.data[u][s]===null?o.data[u][s]=new f(o,h,s,u,o.tileWidth,o.tileHeight):o.data[u][s].index=h);var v=o.data[u][s],m=o.collideIndexes.indexOf(v.index)!==-1;if(h=e instanceof f?e.index:e,h===-1)v.width=o.tileWidth,v.height=o.tileHeight;else{var x=o.tilemapLayer.tilemap,g=x.tiles,y=g[h][2],T=x.tilesets[y];v.width=T.tileWidth,v.height=T.tileHeight}return r(v,m),i&&d!==v.collides&&a(s,u,o),v};p.exports=n},48565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29003),c=t(93736),a=new c,r=function(n,e,s,u,i,o){return o.tilemapLayer.worldToTileXY(e,s,!0,a,i,o),f(n,a.x,a.y,u,o)};p.exports=r},56547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(60386),c=t(29003),a=function(r,n,e,s,u){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,o=r[0].length,h=0;h<i;h++)for(var l=0;l<o;l++){var d=r[h][l];c(d,n+l,e+h,!1,u)}s&&f(n-1,e-1,o+2,i+2,u)};p.exports=a},91180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(72861),a=function(r,n,e,s,u,i){var o,h=f(r,n,e,s,{},i);if(!u)for(u=[],o=0;o<h.length;o++)u.indexOf(h[o].index)===-1&&u.push(h[o].index);for(o=0;o<h.length;o++)h[o].index=c(u)};p.exports=a},929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(29633),c=t(62839),a=t(92839),r=function(n,e,s,u,i){if(s===void 0&&(s=!0),u===void 0&&(u=!0),!c(n,e,i))return null;var o=i.data[e][n];if(o)i.data[e][n]=s?null:new f(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return u&&o&&o.collides&&a(n,e,i),o};p.exports=r},17384:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(929),c=t(93736),a=new c,r=function(n,e,s,u,i,o){return o.tilemapLayer.worldToTileXY(n,e,!0,a,i,o),f(a.x,a.y,s,u,o)};p.exports=r},93763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(95509),a=new c(105,210,231,150),r=new c(243,134,48,200),n=new c(40,39,37,150),e=function(s,u,i){u===void 0&&(u={});var o=u.tileColor!==void 0?u.tileColor:a,h=u.collidingTileColor!==void 0?u.collidingTileColor:r,l=u.faceColor!==void 0?u.faceColor:n,d=f(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var v=0;v<d.length;v++){var m=d[v],x=m.width,g=m.height,y=m.pixelX,T=m.pixelY,E=m.collides?h:o;E!==null&&(s.fillStyle(E.color,E.alpha/255),s.fillRect(y,T,x,g)),y+=1,T+=1,x-=2,g-=2,l!==null&&(s.lineStyle(1,l.color,l.alpha/255),m.faceTop&&s.lineBetween(y,T,y+x,T),m.faceRight&&s.lineBetween(y+x,T,y+x,T+g),m.faceBottom&&s.lineBetween(y,T+g,y+x,T+g),m.faceLeft&&s.lineBetween(y,T,y,T+g))}};p.exports=e},51202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i){for(var o=f(n,e,s,u,null,i),h=0;h<o.length;h++)o[h]&&o[h].index===a&&(o[h].index=r)};p.exports=c},6987:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,u=Math.max(0,f.left),i=Math.min(n,f.right),o=Math.max(0,f.top),h=Math.min(e,f.bottom),l,d,v;if(c===0)for(d=o;d<h;d++)for(l=u;r[d]&&l<i;l++)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(c===1)for(d=o;d<h;d++)for(l=i;r[d]&&l>=u;l--)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(c===2)for(d=h;d>=o;d--)for(l=u;r[d]&&l<i;l++)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(c===3)for(d=h;d>=o;d--)for(l=i;r[d]&&l>=u;l--)v=r[d][l],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);return s.tilesDrawn=a.length,s.tilesTotal=n*e,a};p.exports=S},51710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(91181),r=function(n,e,s,u,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++)a(n[o],e,u);if(i)for(var h=0;h<u.height;h++)for(var l=0;l<u.width;l++){var d=u.data[h][l];d&&n.indexOf(d.index)!==-1&&f(d,e)}s&&c(0,0,u.width,u.height,u)};p.exports=r},15216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(91181),r=function(n,e,s,u,i,o){if(s===void 0&&(s=!0),u===void 0&&(u=!0),o===void 0&&(o=!0),!(n>e)){for(var h=n;h<=e;h++)a(h,s,i);if(o)for(var l=0;l<i.height;l++)for(var d=0;d<i.width;d++){var v=i.data[l][d];v&&v.index>=n&&v.index<=e&&f(v,s)}u&&c(0,0,i.width,i.height,i)}};p.exports=r},33158:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(91181),r=function(n,e,s,u){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<u.height;i++)for(var o=0;o<u.width;o++){var h=u.data[i][o];h&&n.indexOf(h.index)===-1&&(f(h,e),a(h.index,e,u))}s&&c(0,0,u.width,u.height,u)};p.exports=r},4180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=t(19256),r=function(n,e,s,u){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<u.height;i++)for(var o=0;o<u.width;o++){var h=u.data[i][o];if(!!h){for(var l in n)if(!!a(h.properties,l)){var d=n[l];Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)h.properties[l]===d[v]&&f(h,e)}}}s&&c(0,0,u.width,u.height,u)};p.exports=r},18625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(68234),c=t(60386),a=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var u=0;u<e.width;u++){var i=e.data[s][u];if(!!i){var o=i.getCollisionGroup();o&&o.objects&&o.objects.length>0&&f(i,r)}}n&&c(0,0,e.width,e.height,e)};p.exports=a},91181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.collideIndexes.indexOf(t);f&&a===-1?c.collideIndexes.push(t):!f&&a!==-1&&c.collideIndexes.splice(a,1)};p.exports=S},68234:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},11628:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){if(typeof t=="number")a.callbacks[t]=f!==null?{callback:f,callbackContext:c}:void 0;else for(var r=0,n=t.length;r<n;r++)a.callbacks[t[r]]=f!==null?{callback:f,callbackContext:c}:void 0};p.exports=S},72732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i){for(var o=f(a,r,n,e,null,i),h=0;h<o.length;h++)o[h].setCollisionCallback(s,u)};p.exports=c},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=t(18592),a=function(r,n,e,s,u){var i=f(r,n,e,s,null,u),o=i.map(function(l){return l.index});c(o);for(var h=0;h<i.length;h++)i[h].index=o[h]};p.exports=a},53945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(82127),c=t(84314),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,u=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),o=c(n.worldView.x-s.x,u,0,!0)-s.cullPaddingX,h=f(n.worldView.right-s.x,u,0,!0)+s.cullPaddingX,l=c(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,d=f(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:o,right:h,top:l,bottom:d}};p.exports=a},19242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53945),c=t(6987),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var u=r.tilemapLayer,i=f(r,n);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),c(r,i,s,e),e};p.exports=a},33388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s){n||(n=new f);var u=s.baseTileWidth,i=s.baseTileHeight,o=s.tilemapLayer,h=0,l=0;o&&(e||(e=o.scene.cameras.main),h=o.x+e.scrollX*(1-o.scrollFactorX),u*=o.scaleX,l=o.y+e.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var d=h+a*u+r%2*(u/2),v=l+r*(i/2);return n.set(d,v)};p.exports=c},84132:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.baseTileHeight,r=c.tilemapLayer,n=0;return r&&(f===void 0&&(f=r.scene.cameras.main),n=r.y+f.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*(a/2)+a};p.exports=S},90562:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u){e||(e=new f);var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(s||(s=h.scene.cameras.main),r=r-(h.y+s.scrollY*(1-h.scrollFactorY)),o*=h.scaleY,a=a-(h.x+s.scrollX*(1-h.scrollFactorX)),i*=h.scaleX);var l=n?Math.floor(r/(o/2)):r/(o/2),d=n?Math.floor((a+l%2*.5*i)/i):(a+l%2*.5*i)/i;return e.set(d,l)};p.exports=c},3689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=a.baseTileHeight,n=a.tilemapLayer;return n&&(c||(c=n.scene.cameras.main),t=t-(n.y+c.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),f?Math.floor(t/(r/2)):t/(r/2)};p.exports=S},55217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u,i){for(var o=f(n,e,s,u,null,i),h=0;h<o.length;h++)o[h]&&(o[h].index===a?o[h].index=r:o[h].index===r&&(o[h].index=a))};p.exports=c},44150:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.baseTileWidth,r=c.tilemapLayer,n=0;return r&&(f||(f=r.scene.cameras.main),n=r.x+f.scrollX*(1-r.scrollFactorX),a*=r.scaleX),n+t*a};p.exports=S},46836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(44150),c=t(42477),a=t(93736),r=function(n,e,s,u,i){return s||(s=new a(0,0)),s.x=f(n,u,i),s.y=c(e,u,i),s};p.exports=r},42477:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=c.baseTileHeight,r=c.tilemapLayer,n=0;return r&&(f||(f=r.scene.cameras.main),n=r.y+f.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*a};p.exports=S},39677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(50811),c=function(a,r,n,e,s,u){if(!!s){var i,o=f(a,r,n,e,null,u),h=0;for(i=0;i<s.length;i++)h+=s[i].weight;if(!(h<=0))for(i=0;i<o.length;i++){for(var l=Math.random()*h,d=0,v=-1,m=0;m<s.length;m++)if(d+=s[m].weight,l<=d){var x=s[m].index;v=Array.isArray(x)?x[Math.floor(Math.random()*x.length)]:x;break}o[i].index=v}}};p.exports=c},806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45676),c=t(93736),a=new c,r=function(n,e,s,u){return f(n,0,e,a,s,u),a.x};p.exports=r},45676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93736),c=function(a,r,n,e,s,u){n===void 0&&(n=!0),e||(e=new f);var i=u.baseTileWidth,o=u.baseTileHeight,h=u.tilemapLayer;h&&(s||(s=h.scene.cameras.main),a=a-(h.x+s.scrollX*(1-h.scrollFactorX)),r=r-(h.y+s.scrollY*(1-h.scrollFactorY)),i*=h.scaleX,o*=h.scaleY);var l=a/i,d=r/o;return n&&(l=Math.floor(l),d=Math.floor(d)),e.set(l,d)};p.exports=c},70520:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45676),c=t(93736),a=new c,r=function(n,e,s,u){return f(0,n,e,a,s,u),a.y};p.exports=r},5047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ORIENTATION:t(12920)};p.exports=f},52678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=t(84758),a={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};a=f(!1,a,c.ORIENTATION),p.exports=a},94990:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12920),a=t(72632),r=new f({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},16586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(12920),a=t(72632),r=new f({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},15256:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=new f({initialize:function(n){n===void 0&&(n={}),this.name=c(n,"name","object layer"),this.id=c(n,"id",0),this.opacity=c(n,"opacity",1),this.properties=c(n,"properties",{}),this.propertyTypes=c(n,"propertytypes",{}),this.type=c(n,"type","objectgroup"),this.visible=c(n,"visible",!0),this.objects=c(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=a},21394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(12920),c=function(a){return a=a.toLowerCase(),a==="isometric"?f.ISOMETRIC:a==="staggered"?f.STAGGERED:a==="hexagonal"?f.HEXAGONAL:f.ORTHOGONAL};p.exports=c},90715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(84346),a=t(96097),r=t(2378),n=t(44909),e=function(s,u,i,o,h,l){var d;switch(u){case f.ARRAY_2D:d=c(s,i,o,h,l);break;case f.CSV:d=a(s,i,o,h,l);break;case f.TILED_JSON:d=r(s,i,l);break;case f.WELTMEISTER:d=n(s,i,l);break;default:console.warn("Unrecognized tilemap data format: "+u),d=null}return d};p.exports=e},84346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(94990),a=t(16586),r=t(29633),n=function(e,s,u,i,o){for(var h=new c({tileWidth:u,tileHeight:i}),l=new a({name:e,tileWidth:u,tileHeight:i,format:f.ARRAY_2D,layers:[h]}),d=[],v=s.length,m=0,x=0;x<s.length;x++){d[x]=[];for(var g=s[x],y=0;y<g.length;y++){var T=parseInt(g[y],10);isNaN(T)||T===-1?d[x][y]=o?null:new r(h,-1,y,x,u,i):d[x][y]=new r(h,T,y,x,u,i)}m===0&&(m=g.length)}return l.width=h.width=m,l.height=h.height=v,l.widthInPixels=h.widthInPixels=m*u,l.heightInPixels=h.heightInPixels=v*i,h.data=d,l};p.exports=n},96097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(84346),a=function(r,n,e,s,u){var i=n.trim().split(`
`).map(function(h){return h.split(",")}),o=c(r,i,e,s,u);return o.format=f.CSV,o};p.exports=a},30951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(94990),c=t(29633),a=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var u=r.layer[s],i=new f({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),o=[],h=[],l=0;l<u.data.length;l++){for(var d=0;d<u.data[l].length;d++){var v=u.data[l][d]-1,m;v>-1?m=new c(i,v,d,l,u.tilesize,u.tilesize):m=n?null:new c(i,-1,d,l,u.tilesize,u.tilesize),o.push(m)}h.push(o),o=[]}i.data=h,e.push(i)}return e};p.exports=a},47488:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47975),c=function(a){for(var r=[],n=[],e=0;e<a.layer.length;e++){var s=a.layer[e],u=s.tilesetName;u!==""&&n.indexOf(u)===-1&&(n.push(u),r.push(new f(u,0,s.tilesize,s.tilesize,0,0)))}return r};p.exports=c},44909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(93560),c=t(16586),a=t(30951),r=t(47488),n=function(e,s,u){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,o=0,h=0;h<s.layer.length;h++)s.layer[h].width>i&&(i=s.layer[h].width),s.layer[h].height>o&&(o=s.layer[h].height);var l=new c({width:i,height:o,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:f.WELTMEISTER});return l.layers=a(s,u),l.tilesets=r(s),l};p.exports=n},24507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(98611),c=function(a){for(var r,n,e,s,u,i=0;i<a.layers.length;i++){r=a.layers[i],s=null;for(var o=0;o<r.data.length;o++){u=r.data[o];for(var h=0;h<u.length;h++)n=u[h],!(n===null||n.index<0)&&(e=a.tiles[n.index][2],s=a.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=f(n.properties,s.tileProperties[n.index-s.firstgid])))}}};p.exports=c},43908:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=window.atob(t),c=f.length,a=new Array(c/4),r=0;r<c;r+=4)a[r/4]=(f.charCodeAt(r)|f.charCodeAt(r+1)<<8|f.charCodeAt(r+2)<<16|f.charCodeAt(r+3)<<24)>>>0;return a};p.exports=S},14556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47975),c=function(a){var r,n,e=[];for(r=0;r<a.imageCollections.length;r++)for(var s=a.imageCollections[r],u=s.images,i=0;i<u.length;i++){var o=u[i];n=new f(o.image,o.gid,s.imageWidth,s.imageHeight,0,0),n.updateTileData(s.imageWidth,s.imageHeight),a.tilesets.push(n)}for(r=0;r<a.tilesets.length;r++){n=a.tilesets[r];for(var h=n.tileMargin,l=n.tileMargin,d=0,v=0,m=0,x=n.firstgid;x<n.firstgid+n.total&&(e[x]=[h,l,r],h+=n.tileWidth+n.tileSpacing,d++,!(d===n.total||(v++,v===n.columns&&(h=n.tileMargin,l+=n.tileHeight+n.tileSpacing,v=0,m++,m===n.rows))));x++);}return e};p.exports=c},92044:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=function(a,r,n){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+f(r,"startx",0)*a.tilewidth+f(r,"offsetx",0),s=r.y+f(r,"starty",0)*a.tileheight+f(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};p.exports=c},8847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,f=536870912,c=function(a){var r=Boolean(a&S),n=Boolean(a&t),e=Boolean(a&f);a=a&~(S|t|f);var s=0,u=!1;return r&&n&&e?(s=Math.PI/2,u=!0):r&&n&&!e?(s=Math.PI,u=!1):r&&!n&&e?(s=Math.PI/2,u=!1):r&&!n&&!e?(s=0,u=!0):!r&&n&&e?(s=3*Math.PI/2,u=!1):!r&&n&&!e?(s=Math.PI,u=!0):!r&&!n&&e?(s=3*Math.PI/2,u=!0):!r&&!n&&!e&&(s=0,u=!1),{gid:a,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:u}};p.exports=c},78339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=t(92044),a=function(r){for(var n=[],e=[],s=c(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var u=s.layers[s.i];if(s.i++,u.type!=="imagelayer"){if(u.type==="group"){var i=c(r,u,s);e.push(s),s=i}continue}var o=f(u,"offsetx",0)+f(u,"startx",0),h=f(u,"offsety",0)+f(u,"starty",0);n.push({name:s.name+u.name,image:u.image,x:s.x+o+u.x,y:s.y+h+u.y,alpha:s.opacity*u.opacity,visible:s.visible&&u.visible,properties:f(u,"properties",{})})}return n};p.exports=a},2378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(48646),c=t(14556),a=t(12920),r=t(28699),n=t(93560),e=t(21394),s=t(16586),u=t(78339),i=t(61136),o=t(95925),h=t(93392),l=function(d,v,m){var x=r(v),g=new s({width:x.width,height:x.height,name:d,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:n.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});g.orientation===a.HEXAGONAL&&(g.hexSideLength=x.hexsidelength,g.staggerAxis=x.staggeraxis,g.staggerIndex=x.staggerindex),g.layers=o(x,m),g.images=u(x);var y=h(x);return g.tilesets=y.tilesets,g.imageCollections=y.imageCollections,g.objects=i(x),g.tiles=c(g),f(g),g};p.exports=l},4281:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(28820),c=t(8847),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,u){s===void 0&&(s=0),u===void 0&&(u=0);var i=f(e,r);if(i.x+=s,i.y+=u,e.gid){var o=c(e.gid);i.gid=o.gid,i.flippedHorizontal=o.flippedHorizontal,i.flippedVertical=o.flippedVertical,i.flippedAntiDiagonal=o.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};p.exports=n},61136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72632),c=t(4281),a=t(15256),r=t(92044),n=function(e){for(var s=[],u=[],i=r(e);i.i<i.layers.length||u.length>0;){if(i.i>=i.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=u.pop();continue}var o=i.layers[i.i];if(i.i++,o.opacity*=i.opacity,o.visible=i.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var h=r(e,o,i);u.push(i),i=h}continue}o.name=i.name+o.name;for(var l=i.x+f(o,"startx",0)+f(o,"offsetx",0),d=i.y+f(o,"starty",0)+f(o,"offsety",0),v=[],m=0;m<o.objects.length;m++){var x=c(o.objects[m],l,d);v.push(x)}var g=new a(o);g.objects=v,s.push(g)}return s};p.exports=n},95925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(43908),c=t(12920),a=t(92044),r=t(21394),n=t(72632),e=t(94990),s=t(8847),u=t(29633),i=function(o,h){for(var l=n(o,"infinite",!1),d=[],v=[],m=a(o);m.i<m.layers.length||v.length>0;){if(m.i>=m.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=v.pop();continue}var x=m.layers[m.i];if(m.i++,x.type!=="tilelayer"){if(x.type==="group"){var g=a(o,x,m);v.push(m),m=g}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var y=0;y<x.chunks.length;y++)x.chunks[y].data=f(x.chunks[y].data);x.data&&(x.data=f(x.data)),delete x.encoding}var T,E,C,A,P=[],F=0;if(l){var O=n(x,"startx",0)+x.x,I=n(x,"starty",0)+x.y;T=new e({name:m.name+x.name,id:x.id,x:m.x+n(x,"offsetx",0)+O*o.tilewidth,y:m.y+n(x,"offsety",0)+I*o.tileheight,width:x.width,height:x.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(o.orientation)}),T.orientation===c.HEXAGONAL&&(T.hexSideLength=o.hexsidelength,T.staggerAxis=o.staggeraxis,T.staggerIndex=o.staggerindex);for(var G=0;G<x.height;G++){P[G]=[null];for(var z=0;z<x.width;z++)P[G][z]=null}for(G=0,$=x.chunks.length;G<$;G++)for(var X=x.chunks[G],H=X.x-O,N=X.y-I,U=0,R=0,D=X.data.length;R<D;R++){var B=F+H,V=U+N;E=s(X.data[R]),E.gid>0?(C=new u(T,E.gid,B,V,o.tilewidth,o.tileheight),C.rotation=E.rotation,C.flipX=E.flipped,P[V][B]=C):(A=h?null:new u(T,-1,B,V,o.tilewidth,o.tileheight),P[V][B]=A),F++,F===X.width&&(U++,F=0)}}else{T=new e({name:m.name+x.name,id:x.id,x:m.x+n(x,"offsetx",0)+x.x,y:m.y+n(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(o.orientation)}),T.orientation===c.HEXAGONAL&&(T.hexSideLength=o.hexsidelength,T.staggerAxis=o.staggeraxis,T.staggerIndex=o.staggerindex);for(var Y=[],K=0,$=x.data.length;K<$;K++)E=s(x.data[K]),E.gid>0?(C=new u(T,E.gid,F,P.length,o.tilewidth,o.tileheight),C.rotation=E.rotation,C.flipX=E.flipped,Y.push(C)):(A=h?null:new u(T,-1,F,P.length,o.tilewidth,o.tileheight),Y.push(A)),F++,F===x.width&&(P.push(Y),F=0,Y=[])}T.data=P,d.push(T)}return d};p.exports=i},93392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(47975),c=t(97042),a=t(4281),r=t(39642),n=function(e){for(var s=[],u=[],i=null,o,h=0;h<e.tilesets.length;h++){var l=e.tilesets[h];if(l.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(l.image){var d=new f(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,void 0,void 0,l.tileoffset);if(e.version>1){var v=void 0,m=void 0;if(Array.isArray(l.tiles)){v=v||{},m=m||{};for(var x=0;x<l.tiles.length;x++){var g=l.tiles[x];if(g.properties){var y={};g.properties.forEach(function(G){y[G.name]=G.value}),m[g.id]=y}if(g.objectgroup&&((v[g.id]||(v[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var T=g.objectgroup.objects.map(function(G){return a(G)});v[g.id].objectgroup.objects=T}g.animation&&((v[g.id]||(v[g.id]={})).animation=g.animation),g.type&&((v[g.id]||(v[g.id]={})).type=g.type)}}Array.isArray(l.wangsets)&&(v=v||{},m=m||{},r(l.wangsets,v)),v&&(d.tileData=v,d.tileProperties=m)}else if(l.tileproperties&&(d.tileProperties=l.tileproperties),l.tiles){d.tileData=l.tiles;for(o in d.tileData){var E=d.tileData[o].objectgroup;if(E&&E.objects){var C=E.objects.map(function(G){return a(G)});d.tileData[o].objectgroup.objects=C}}}d.updateTileData(l.imagewidth,l.imageheight),s.push(d)}else{var A=new c(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,l.properties),P=0;for(x=0;x<l.tiles.length;x++){g=l.tiles[x];var F=g.image,O=parseInt(g.id,10),I=l.firstgid+O;A.addImage(I,F),P=Math.max(O,P)}A.maxId=P,u.push(A)}i&&(i.lastgid=l.firstgid-1),i=l}return{tilesets:s,imageCollections:u}};p.exports=n},39642:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=0;c<t.length;c++){var a=t[c],r=c;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var n={},e={},s,u,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,u=a.edgecolors[s],u.name!==""&&(n[i]=u.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,u=a.cornercolors[s],u.name!==""&&(e[i]=u.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)u=a.colors[s],i=1+s,u.name!==""&&(n[i]=e[i]=u.name);for(var o=[n,e,n,e,n,e,n,e],h=0;h<a.wangtiles.length;h++){var l=a.wangtiles[h],d=f[l.tileid]||(f[l.tileid]={});d=d.wangid||(d.wangid={});for(var v=[],m=0;m<Math.min(o.length,l.wangid.length);m++){if(u=l.wangid[m],u===0){v.push(void 0);continue}var x=o[m][u];if(x!==void 0){v.push(x);continue}v.push(u)}d[r]=v}}}};p.exports=S},50044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(91963),a=t(7599),r=t(57911),n=t(66458),e=new f({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var u;return s instanceof r?(u=s,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat):u=new r(s),this._pendingInsertion.push(u),u},delayedCall:function(s,u,i,o){return this.addEvent({delay:s,callback:u,args:i,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var i=s[u];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(s===0&&u===0)){var i,o;for(i=0;i<s;i++){o=this._pendingRemoval[i];var h=this._active.indexOf(o);h>-1&&this._active.splice(h,1),o.destroy()}for(i=0;i<u;i++)o=this._pendingInsertion[i],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,u){if(this.now=s,!this.paused){u*=this.timeScale;for(var i=0;i<this._active.length;i++){var o=this._active[i];if(!o.paused&&(o.elapsed+=u*o.timeScale,o.elapsed>=o.delay)){var h=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,h>=o.delay)for(;h>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),h-=o.delay,o.repeatCount--;o.elapsed=h,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(a.PRE_UPDATE,this.preUpdate,this),u.off(a.UPDATE,this.update,this),u.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});c.register("Clock",e,"time"),p.exports=e},20517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(61286),r=t(72632),n=t(7599),e=t(52944),s=new f({Extends:c,initialize:function(i,o){c.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var h=this.systems.events;h.on(n.PRE_UPDATE,this.preUpdate,this),h.on(n.UPDATE,this.update,this),h.once(n.SHUTDOWN,this.destroy,this),o&&this.add(o)},preUpdate:function(u,i){this.paused||(this.elapsed+=i)},update:function(){if(!(this.paused||this.complete)){var u,i=this.events,o=!1,h=this.systems,l;for(u=0;u<i.length;u++){var d=i[u];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,l=d.target?d.target:this,d.if&&!d.if.call(l,d))continue;if(d.once&&(o=!0),d.set&&d.target)for(var v in d.set)d.target[v]=d.set[v];d.tween&&h.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?h.sound.play(d.sound):h.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,l),d.run&&d.run.call(l),d.stop&&this.stop()}}if(o)for(u=0;u<i.length;u++)i[u].complete&&i[u].once&&(i.splice(u,1),u--);this.totalComplete>=i.length&&(this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(u){return u===void 0&&(u=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,u&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var u=0;u<this.events.length;u++)this.events[u].complete=!1;return this.play(!1)},add:function(u){Array.isArray(u)||(u=[u]);var i=this.events,o=0;i.length>0&&(o=i[i.length-1].time);for(var h=0;h<u.length;h++){var l=u[h],d=r(l,"at",0),v=r(l,"in",null);v!==null&&(d=this.elapsed+v);var m=r(l,"from",null);m!==null&&(d=o+m),i.push({complete:!1,time:d,if:r(l,"if",null),run:r(l,"run",null),event:r(l,"event",null),target:r(l,"target",null),set:r(l,"set",null),tween:r(l,"tween",null),sound:r(l,"sound",null),once:r(l,"once",!1),stop:r(l,"stop",!1)}),o=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var u=Math.min(this.totalComplete,this.events.length);return u/this.events.length},destroy:function(){var u=this.systems.events;u.off(n.PRE_UPDATE,this.preUpdate,this),u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(u){return new s(this.scene,u)}),p.exports=s},57911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(72632),a=new f({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=c(r,"delay",0),this.repeat=c(r,"repeat",0),this.loop=c(r,"loop",!1),this.callback=c(r,"callback",void 0),this.callbackScope=c(r,"callbackScope",this),this.args=c(r,"args",[]),this.timeScale=c(r,"timeScale",1),this.startAt=c(r,"startAt",0),this.paused=c(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=a},12144:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},52944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(12144)}},97121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(73779),Events:t(52944),Timeline:t(20517),TimerEvent:t(57911)}},64532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(56694),a=t(5454),r=t(68710),n=t(91963),e=t(7599),s=t(91944),u=t(39366),i=t(68061),o=t(45641),h=t(56034),l=new c({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var v=[],m=0;m<d.length;m++){var x=d[m];x instanceof u||x instanceof o?v.push(x):Array.isArray(x.tweens)?v.push(h(this,x)):v.push(i(this,x))}return v.length===1?v[0]:v},add:function(d){var v=d,m=this.tweens;return v instanceof u||v instanceof o||(Array.isArray(v.tweens)?v=h(this,v):v=i(this,v)),m.push(v.reset()),v},addMultiple:function(d){for(var v,m=[],x=this.tweens,g=0;g<d.length;g++)v=d[g],v instanceof u||v instanceof o||(Array.isArray(v.tweens)?v=h(this,v):v=i(this,v)),x.push(v.reset()),m.push(v);return m},chain:function(d){var v=h(this,d);return this.tweens.push(v.init()),v},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var v=r(this,d);return this.tweens.push(v.reset()),v},stagger:function(d,v){return s(d,v)},setLagSmooth:function(d,v){return d===void 0&&(d=1/1e-8),v===void 0&&(v=0),this.maxLag=d,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var m=this.prevTime-this.startTime,x=m-this.nextTime,g=m-this.time*1e3;return x>0||d?(m/=1e3,this.time=m,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):g=0,g},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var v=this.getDelta(d);if(!(v<=0)){this.processing=!0;var m,x,g=[],y=this.tweens;for(m=0;m<y.length;m++)x=y[m],x.update(v)&&g.push(x);var T=g.length;if(T&&y.length>0){for(m=0;m<T;m++){x=g[m];var E=y.indexOf(x);E>-1&&(x.isPendingRemove()||x.isDestroyed())&&(y.splice(E,1),x.destroy())}g.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(f(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,v){var m,x=[null];for(m=1;m<arguments.length;m++)x.push(arguments[m]);return this.tweens.forEach(function(g){x[0]=g,d.apply(v,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var v=[],m=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var x=d.length,g=0;g<m.length;g++)for(var y=m[g],T=0;T<x;T++)!y.isDestroyed()&&y.hasTarget(d[T])&&v.push(y);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var v=this.tweens,m,x=0;x<v.length;x++)if(m=v[x],m.isPlaying()&&m.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,v=0;v<d.length;v++)d[v].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var v=this.getTweensOf(d),m=0;m<v.length;m++)v[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",l,"tweens"),p.exports=l},63130:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){return t&&t.hasOwnProperty(f)?t[f]:c};p.exports=S},21902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(35060),c=t(40587),a=function(r,n){var e=f.Power0;if(typeof r=="string")if(f.hasOwnProperty(r))e=f[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var u=s.toLowerCase();u==="in"?s="easeIn":u==="out"?s="easeOut":u==="inout"&&(s="easeInOut")}r=c(r.substring(0,r.indexOf(".")+1)+s),f.hasOwnProperty(r)&&(e=f[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(o){return i[0]=o,e.apply(this,i)}};p.exports=a},4840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63210),c=t(88332),a=t(47614),r={bezier:f,catmull:c,catmullrom:c,linear:a},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};p.exports=n},28348:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a;if(t.hasOwnProperty(f)){var r=typeof t[f];r==="function"?a=function(n,e,s,u,i,o){return t[f](n,e,s,u,i,o)}:a=function(){return t[f]}}else typeof c=="function"?a=c:a=function(){return c};return a};p.exports=S},92407:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(53709),c=function(a){var r,n=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&n.push({key:r,value:a.props[r]});else for(r in a)f.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:a[r]});return n};p.exports=c},65868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=function(a){var r=f(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=c},9744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(17489),c=t(61616);function a(u){return!!u.getActive&&typeof u.getActive=="function"}function r(u){return!!u.getStart&&typeof u.getStart=="function"}function n(u){return!!u.getEnd&&typeof u.getEnd=="function"}function e(u){return r(u)||n(u)||a(u)}var s=function(u,i){var o,h=function(X,H,N){return N},l=function(X,H,N){return N},d=null,v=typeof i;if(v==="number")h=function(){return i};else if(Array.isArray(i))l=function(){return i[0]},h=function(){return i[i.length-1]};else if(v==="string"){var m=i.toLowerCase(),x=m.substring(0,6)==="random",g=m.substring(0,3)==="int";if(x||g){var y=m.indexOf("("),T=m.indexOf(")"),E=m.indexOf(",");if(y&&T&&E){var C=parseFloat(m.substring(y+1,E)),A=parseFloat(m.substring(E+1,T));x?h=function(){return c(C,A)}:h=function(){return f(C,A)}}else throw new Error("invalid random() format")}else{m=m[0];var P=parseFloat(i.substr(2));switch(m){case"+":h=function(X,H,N){return N+P};break;case"-":h=function(X,H,N){return N-P};break;case"*":h=function(X,H,N){return N*P};break;case"/":h=function(X,H,N){return N/P};break;default:h=function(){return parseFloat(i)}}}}else if(v==="function")h=i;else if(v==="object")if(e(i))a(i)&&(d=i.getActive),n(i)&&(h=i.getEnd),r(i)&&(l=i.getStart);else if(i.hasOwnProperty("value"))o=s(u,i.value);else{var F=i.hasOwnProperty("to"),O=i.hasOwnProperty("from"),I=i.hasOwnProperty("start");if(F&&(O||I)){if(o=s(u,i.to),I){var G=s(u,i.start);o.getActive=G.getEnd}if(O){var z=s(u,i.from);o.getStart=z.getEnd}}}return o||(o={getActive:d,getEnd:h,getStart:l}),o};p.exports=s},68710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(99730),a=t(20494),r=t(63130),n=t(21902),e=t(28348),s=t(10850),u=t(9744),i=t(72066),o=t(39366),h=function(l,d,v){if(d instanceof o)return d.parent=l,d;v===void 0?v=c:v=i(c,v);var m=s(d,"from",0),x=s(d,"to",1),g=[{value:m}],y=s(d,"delay",v.delay),T=s(d,"easeParams",v.easeParams),E=s(d,"ease",v.ease),C=u("value",x),A=new o(l,g),P=A.add(0,"value",C.getEnd,C.getStart,C.getActive,n(s(d,"ease",E),s(d,"easeParams",T)),e(d,"delay",y),s(d,"duration",v.duration),r(d,"yoyo",v.yoyo),s(d,"hold",v.hold),s(d,"repeat",v.repeat),s(d,"repeatDelay",v.repeatDelay),!1,!1);P.start=m,P.current=m,A.completeDelay=a(d,"completeDelay",0),A.loop=Math.round(a(d,"loop",0)),A.loopDelay=Math.round(a(d,"loopDelay",0)),A.paused=r(d,"paused",!1),A.persist=r(d,"persist",!1),A.callbackScope=s(d,"callbackScope",A);for(var F=f.TYPES,O=0;O<F.length;O++){var I=F[O],G=s(d,I,!1);if(G){var z=s(d,I+"Params",[]);A.setCallback(I,G,z)}}return A};p.exports=h},91944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(21902),c=t(10850),a=t(83392),r=function(n,e){e===void 0&&(e={});var s,u=c(e,"start",0),i=c(e,"ease",null),o=c(e,"grid",null),h=c(e,"from",0),l=h==="first",d=h==="center",v=h==="last",m=typeof h=="number",x=Array.isArray(n),g=parseFloat(x?n[0]:n),y=x?parseFloat(n[1]):0,T=Math.max(g,y);if(x&&(u+=g),o){var E=o[0],C=o[1],A=0,P=0,F=0,O=0,I=[];v?(A=E-1,P=C-1):m?(A=h%E,P=Math.floor(h/E)):d&&(A=(E-1)/2,P=(C-1)/2);for(var G=a.MIN_SAFE_INTEGER,z=0;z<C;z++){I[z]=[];for(var X=0;X<E;X++){F=A-X,O=P-z;var H=Math.sqrt(F*F+O*O);H>G&&(G=H),I[z][X]=H}}}var N=i?f(i):null;return o?s=function(U,R,D,B){var V=0,Y=B%E,K=Math.floor(B/E);Y>=0&&Y<E&&K>=0&&K<C&&(V=I[K][Y]);var $;if(x){var J=y-g;N?$=V/G*J*N(V/G):$=V/G*J}else N?$=V*g*N(V/G):$=V*g;return $+u}:s=function(U,R,D,B,V){V--;var Y;l?Y=B:d?Y=Math.abs(V/2-B):v?Y=V-B:m&&(Y=Math.abs(h-B));var K;if(x){var $;d?$=(y-g)/V*(Y*2):$=(y-g)/V*Y,N?K=$*N(Y/V):K=$}else N?K=V*T*N(Y/V):K=Y*g;return K+u},s};p.exports=r},68061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(99730),a=t(20494),r=t(63130),n=t(21902),e=t(4840),s=t(28348),u=t(92407),i=t(65868),o=t(10850),h=t(9744),l=t(72066),d=t(39366),v=function(m,x,g){if(x instanceof d)return x.parent=m,x;g===void 0?g=c:g=l(c,g);var y=i(x);!y&&g.targets&&(y=g.targets);for(var T=u(x),E=o(x,"delay",g.delay),C=o(x,"duration",g.duration),A=o(x,"easeParams",g.easeParams),P=o(x,"ease",g.ease),F=o(x,"hold",g.hold),O=o(x,"repeat",g.repeat),I=o(x,"repeatDelay",g.repeatDelay),G=r(x,"yoyo",g.yoyo),z=r(x,"flipX",g.flipX),X=r(x,"flipY",g.flipY),H=o(x,"interpolation",g.interpolation),N=function(k,q,tt,_){if(tt==="texture"){var it=_,st=void 0;Array.isArray(_)?(it=_[0],st=_[1]):_.hasOwnProperty("value")?(it=_.value,Array.isArray(_.value)?(it=_.value[0],st=_.value[1]):typeof _.value=="string"&&(it=_.value)):typeof _=="string"&&(it=_),k.addFrame(q,it,st,s(_,"delay",E),o(_,"duration",C),o(_,"hold",F),o(_,"repeat",O),o(_,"repeatDelay",I),r(_,"flipX",z),r(_,"flipY",X))}else{var ht=h(tt,_),ut=e(o(_,"interpolation",H));k.add(q,tt,ht.getEnd,ht.getStart,ht.getActive,n(o(_,"ease",P),o(_,"easeParams",A)),s(_,"delay",E),o(_,"duration",C),r(_,"yoyo",G),o(_,"hold",F),o(_,"repeat",O),o(_,"repeatDelay",I),r(_,"flipX",z),r(_,"flipY",X),ut,ut?_:null)}},U=new d(m,y),R=0;R<T.length;R++)for(var D=T[R].key,B=T[R].value,V=0;V<y.length;V++)D==="scale"&&!y[V].hasOwnProperty("scale")?(N(U,V,"scaleX",B),N(U,V,"scaleY",B)):N(U,V,D,B);U.completeDelay=a(x,"completeDelay",0),U.loop=Math.round(a(x,"loop",0)),U.loopDelay=Math.round(a(x,"loopDelay",0)),U.paused=r(x,"paused",!1),U.persist=r(x,"persist",!1),U.callbackScope=o(x,"callbackScope",U);for(var Y=f.TYPES,K=0;K<Y.length;K++){var $=Y[K],J=o(x,$,!1);if(J){var Q=o(x,$+"Params",[]);U.setCallback($,J,Q)}}return U};p.exports=v},56034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(20494),a=t(63130),r=t(65868),n=t(10850),e=t(68061),s=t(45641),u=function(i,o){if(o instanceof s)return o.parent=i,o;var h=new s(i);h.startDelay=n(o,"delay",0),h.completeDelay=c(o,"completeDelay",0),h.loop=Math.round(c(o,"loop",n(o,"repeat",0))),h.loopDelay=Math.round(c(o,"loopDelay",n(o,"repeatDelay",0))),h.paused=a(o,"paused",!1),h.persist=a(o,"persist",!0),h.callbackScope=n(o,"callbackScope",h);var l,d=f.TYPES;for(l=0;l<d.length;l++){var v=d[l],m=n(o,v,!1);if(m){var x=n(o,v+"Params",[]);h.setCallback(v,m,x)}}var g=n(o,"tweens",null);if(Array.isArray(g)){var y=[],T=r(o),E=void 0;for(T&&(E={targets:T}),l=0;l<g.length;l++)y.push(e(h,g[l],E));h.add(y)}return h};p.exports=u},79619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},6383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},72582:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},90281:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},80803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},13640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},10472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},5379:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},43449:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},61541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},54272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};p.exports=f},502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(6659),a=t(54272),r=t(55303),n=new f({Extends:c,initialize:function(s){c.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,u){return u===void 0&&(u=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:u}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=n},65521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(56694),c=t(54272),a=t(55303),r=new f({initialize:function(e,s,u,i,o,h,l,d,v,m){this.tween=e,this.targetIndex=s,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=u,this.yoyo=o,this.hold=h,this.repeat=l,this.repeatDelay=d,this.repeatCounter=0,this.flipX=v,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,u=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(u,i,0,s,e,n),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var h=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=h*a.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=h*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var u=this.tween,i=u.totalTargets,o=this.targetIndex,h=u.targets[o],l=this.key,d=l!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&h.toggleFlipX(),this.flipY&&h.toggleFlipY(),d&&(e||s)&&(this.start=this.getStartValue(h,l,this.start,o,i,u)),s){this.setPlayingBackwardState(),this.dispatchEvent(c.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(h,l,this.start,o,i,u)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,d&&(this.current=this.start,h[l]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},99730:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},53709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(502),c=t(56694),a=t(54272),r=t(99325),n=t(61286),e=t(83392),s=t(55303),u=t(15718),i=t(96490),o=new c({Extends:f,initialize:function(l,d){f.call(this,l),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I){var G=new u(this,h,l,d,v,m,x,g,y,T,E,C,A,P,F,O,I);return this.totalData=this.data.push(G),G},addFrame:function(h,l,d,v,m,x,g,y,T,E){var C=new i(this,h,l,d,v,m,x,g,y,T,E);return this.totalData=this.data.push(C),C},getValue:function(h){h===void 0&&(h=0);var l=null;return this.data&&(l=this.data[h].current),l},hasTarget:function(h){return this.targets&&this.targets.indexOf(h)!==-1},updateTo:function(h,l,d){if(d===void 0&&(d=!1),h!=="texture")for(var v=0;v<this.totalData;v++){var m=this.data[v];m.key===h&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=l,d&&(m.start=m.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,f.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(h,l,d){if(h===void 0&&(h=0),l===void 0&&(l=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,h>0){for(var m=Math.floor(h/l),x=h-m*l,g=0;g<m;g++)this.update(l);x>0&&this.update(x)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(h){h===void 0&&(h=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var l=this.data,d=0;d<this.totalData;d++)l[d].reset(h);this.duration=Math.max(this.duration,.01);var v=this.duration,m=this.completeDelay,x=this.loopCounter,g=this.loopDelay;x>0?this.totalDuration=v+m+(v+g)*x:this.totalDuration=v+m},reset:function(h){return h===void 0&&(h=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),h||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(h){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(h*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(h),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(h),!1;this.hasStarted||(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),h=0));var l=!1;if(this.isActive())for(var d=this.data,v=0;v<this.totalData;v++)d[v].update(h)&&(l=!0);this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),l||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(h){return this.update(h),this},rewind:function(h){return this.update(-h),this},dispatchEvent:function(h,l){if(!this.isSeeking){this.emit(h,this,this.targets);var d=this.callbacks[l];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){f.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(h){return this.scene.sys.tweens.add(h)}),r.register("tween",function(h){return this.scene.sys.tweens.create(h)}),p.exports=o},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(66458),c=t(502),a=t(56694),r=t(54272),n=t(99325),e=t(61286),s=t(55303),u=new a({Extends:c,initialize:function(o){c.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(i){var o=this.parent.create(i);Array.isArray(o)||(o=[o]);for(var h=this.data,l=0;l<o.length;l++){var d=o[l];d.parent=this,h.push(d.reset())}return this.totalData=h.length,this},remove:function(i){return f(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var o=this.data,h=0;h<this.totalData;h++)if(o[h].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,o=this.totalData,h=0;h<o;h++)i[h].reset(!1);this.currentIndex=0,this.currentTween=i[0]},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(i,o){this.emit(i,this);var h=this.callbacks[o];h&&h.func.apply(this.callbackScope,[this].concat(h.params))},destroy:function(){c.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),p.exports=u},15718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65521),c=t(82897),a=t(56694),r=t(54272),n=new a({Extends:f,initialize:function(s,u,i,o,h,l,d,v,m,x,g,y,T,E,C,A,P){f.call(this,s,u,v,m,x,g,y,T,E,C),this.key=i,this.getActiveValue=l,this.getEndValue=o,this.getStartValue=h,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=A,this.interpolationData=P},reset:function(e){f.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],u=this.key;e&&(s[u]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[u]=this.getActiveValue(s,u,0))},update:function(e){var s=this.tween,u=s.totalTargets,i=this.targetIndex,o=s.targets[i],h=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,h,o[h],i,u,s),this.end=this.getEndValue(o,h,this.start,i,u,s),this.current=this.start,o[h]=this.start,this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),d=this.isPlayingBackward();if(l||d){var v=this.elapsed,m=this.duration,x=0,g=!1;v+=e,v>=m?(x=v-m,v=m,g=!0):v<0&&(v=0);var y=c(v/m,0,1);if(this.elapsed=v,this.progress=y,this.previous=this.current,g)l?(this.current=this.end,o[h]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(this.current=this.start,o[h]=this.start,this.setStateFromStart(x));else{l||(y=1-y);var T=this.ease(y);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,o[h]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var u=this.tween;if(!u.isSeeking){var i=u.targets[this.targetIndex],o=this.key,h=this.current,l=this.previous;u.emit(e,u,o,i,h,l);var d=u.callbacks[s];d&&d.func.apply(u.callbackScope,[u,i,o,h,l].concat(d.params))}},destroy:function(){f.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=n},96490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(65521),c=t(82897),a=t(56694),r=t(54272),n=new a({Extends:f,initialize:function(s,u,i,o,h,l,d,v,m,x,g){f.call(this,s,u,h,l,!1,d,v,m,x,g),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=o,this.yoyo=v!==0},reset:function(e){f.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,u=this.targetIndex,i=s.targets[u];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),h=this.isPlayingBackward();if(o||h){var l=this.elapsed,d=this.duration,v=0,m=!1;l+=e,l>=d?(v=l-d,l=d,m=!0):l<0&&(l=0);var x=c(l/d,0,1);this.elapsed=l,this.progress=x,m&&(o?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var u=this.tween;if(!u.isSeeking){var i=u.targets[this.targetIndex],o=this.key;u.emit(e,u,o,i);var h=u.callbacks[s];h&&h.func.apply(u.callbackScope,[u,i,o].concat(h.params))}},destroy:function(){f.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=n},55303:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},56694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var u=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&u.value&&typeof u.value=="object"&&(u=u.value),u&&S(u)?(typeof u.enumerable>"u"&&(u.enumerable=!0),typeof u.configurable>"u"&&(u.configurable=!0),u):!1}function f(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function c(n,e,s,u){for(var i in e)if(!!e.hasOwnProperty(i)){var o=t(e,i,s);if(o!==!1){var h=u||n;if(f(h.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,o)}else n.prototype[i]=e[i]}}function a(n,e){if(!!e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)c(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var u=n.Extends;e=function(){u.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),a(e,i),c(e,n,!0,s),e}r.extend=c,r.mixin=a,r.ignoreFinals=!1,p.exports=r},72283:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},10618:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},78991:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r){if(r===void 0&&(r=t),c>0){var n=c-t.length;if(n<=0)return null}if(!Array.isArray(f))return t.indexOf(f)===-1?(t.push(f),a&&a.call(r,f),f):null;for(var e=f.length-1;e>=0;)t.indexOf(f[e])!==-1&&f.splice(e,1),e--;if(e=f.length,e===0)return null;c>0&&e>n&&(f.splice(n),e=n);for(var s=0;s<e;s++){var u=f[s];t.push(u),a&&a.call(r,u)}return f};p.exports=S},48522:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a,r,n){if(c===void 0&&(c=0),n===void 0&&(n=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(f))return t.indexOf(f)===-1?(t.splice(c,0,f),r&&r.call(n,f),f):null;for(var s=f.length-1;s>=0;)t.indexOf(f[s])!==-1&&f.pop(),s--;if(s=f.length,s===0)return null;a>0&&s>e&&(f.splice(e),s=e);for(var u=s-1;u>=0;u--){var i=f[u];t.splice(c,0,i),r&&r.call(n,i)}return f};p.exports=S},58742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);return c!==-1&&c<t.length&&(t.splice(c,1),t.push(f)),f};p.exports=S},30164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var u=0;if(f(a,e,s))for(var i=e;i<s;i++){var o=a[i];o[r]===n&&u++}return u};p.exports=c},36337:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],f.apply(c,r);return t};p.exports=S},46208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),f(a,e,s)){var u,i=[null];for(u=5;u<arguments.length;u++)i.push(arguments[u]);for(u=e;u<s;u++)i[0]=a[u],r.apply(n,i)}return a};p.exports=c},2406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f.length){if(f.length===1)return f[0]}else return NaN;var a=1,r,n;if(c){if(t<f[0][c])return f[0];for(;f[a][c]<t;)a++}else for(;f[a]<t;)a++;return a>f.length&&(a=f.length),c?(r=f[a-1][c],n=f[a][c],n-t<=t-r?f[a]:f[a-1]):(r=f[a-1],n=f[a],n-t<=t-r?n:r)};p.exports=S},5454:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=[]);for(var c=0;c<t.length;c++)Array.isArray(t[c])?S(t[c],f):f.push(t[c]);return f};p.exports=S},71608:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var u=[];if(f(a,e,s))for(var i=e;i<s;i++){var o=a[i];(!r||r&&n===void 0&&o.hasOwnProperty(r)||r&&n!==void 0&&o[r]===n)&&u.push(o)}return u};p.exports=c},51463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),f(a,e,s))for(var u=e;u<s;u++){var i=a[u];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};p.exports=c},72861:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){f===void 0&&(f=0),c===void 0&&(c=t.length);var a=f+Math.floor(Math.random()*c);return t[a]===void 0?null:t[a]};p.exports=S},24218:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===c)return t;var a=t.indexOf(f),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r===t.length-1?t.push(f):t.splice(r,0,f)),t};p.exports=S},58258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===c)return t;var a=t.indexOf(f),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(f):t.splice(r,0,f)),t};p.exports=S},51172:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);if(c>0){var a=t[c-1],r=t.indexOf(a);t[c]=a,t[r]=f}return t};p.exports=S},68396:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.indexOf(f);if(a===-1||c<0||c>=t.length)throw new Error("Supplied index out of bounds");return a!==c&&(t.splice(a,1),t.splice(c,0,f)),f};p.exports=S},27555:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);if(c!==-1&&c<t.length-1){var a=t[c+1],r=t.indexOf(a);t[c]=a,t[r]=f}return t};p.exports=S},13401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=[],n,e=!1;if((c||a)&&(e=!0,c||(c=""),a||(a="")),f<t)for(n=t;n>=f;n--)e?r.push(c+n.toString()+a):r.push(n);else for(n=t;n<=f;n++)e?r.push(c+n.toString()+a):r.push(n);return r};p.exports=S},89955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(67233),c=function(a,r,n){a===void 0&&(a=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=a,a=0);for(var e=[],s=Math.max(f((r-a)/(n||1)),0),u=0;u<s;u++)e.push(a),a+=n;return e};p.exports=c},53466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(c,a,r){var n=c[a];c[a]=c[r],c[r]=n}function t(c,a){return c<a?-1:c>a?1:0}var f=function(c,a,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=c.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,u=a-r+1,i=Math.log(s),o=.5*Math.exp(2*i/3),h=.5*Math.sqrt(i*o*(s-o)/s)*(u-s/2<0?-1:1),l=Math.max(r,Math.floor(a-u*o/s+h)),d=Math.min(n,Math.floor(a+(s-u)*o/s+h));f(c,a,l,d,e)}var v=c[a],m=r,x=n;for(S(c,r,a),e(c[n],v)>0&&S(c,r,n);m<x;){for(S(c,m,x),m++,x--;e(c[m],v)<0;)m++;for(;e(c[x],v)>0;)x--}e(c[r],v)===0?S(c,r,x):(x++,S(c,x,n)),x<=a&&(r=x+1),a<=x&&(n=x-1)}};p.exports=f},75757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=t(18592),a=function(n,e,s){for(var u=[],i=0;i<n.length;i++)for(var o=0;o<e.length;o++)for(var h=0;h<s;h++)u.push({a:n[i],b:e[o]});return u},r=function(n,e,s){var u=f(s,"max",0),i=f(s,"qty",1),o=f(s,"random",!1),h=f(s,"randomB",!1),l=f(s,"repeat",0),d=f(s,"yoyo",!1),v=[];if(h&&c(e),l===-1)if(u===0)l=0;else{var m=n.length*e.length*i;d&&(m*=2),l=Math.ceil(u/m)}for(var x=0;x<=l;x++){var g=a(n,e,i);o&&c(g),v=v.concat(g),d&&(g.reverse(),v=v.concat(g))}return u&&v.splice(u),v};p.exports=r},66458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72677),c=function(a,r,n,e){e===void 0&&(e=a);var s;if(!Array.isArray(r))return s=a.indexOf(r),s!==-1?(f(a,s),n&&n.call(e,r),r):null;for(var u=r.length-1,i=[];u>=0;){var o=r[u];s=a.indexOf(o),s!==-1&&(f(a,s),i.push(o),n&&n.call(e,o)),u--}return i};p.exports=c},8324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72677),c=function(a,r,n,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var s=f(a,r);return n&&n.call(e,s),s};p.exports=c},47427:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=a.length),s===void 0&&(s=a),f(a,r,n)){var u=n-r,i=a.splice(r,u);if(e)for(var o=0;o<i.length;o++){var h=i[o];e.call(s,h)}return i}else return[]};p.exports=c},50147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(72677),c=function(a,r,n){r===void 0&&(r=0),n===void 0&&(n=a.length);var e=r+Math.floor(Math.random()*n);return f(a,e)};p.exports=c},80402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=t.indexOf(f),r=t.indexOf(c);return a!==-1&&r===-1?(t[a]=c,!0):!1};p.exports=S},77640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);for(var c=null,a=0;a<f;a++)c=t.shift(),t.push(c);return c};p.exports=S},38487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){f===void 0&&(f=1);for(var c=null,a=0;a<f;a++)c=t.pop(),t.unshift(c);return c};p.exports=S},45838:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){var r=t.length;if(f<0||f>r||f>=c||c>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},27847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){var c=t.indexOf(f);return c!==-1&&c>0&&(t.splice(c,1),t.unshift(f)),f};p.exports=S},6034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(45838),c=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),f(a,e,s))for(var u=e;u<s;u++){var i=a[u];i.hasOwnProperty(r)&&(i[r]=n)}return a};p.exports=c},18592:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=t.length-1;f>0;f--){var c=Math.floor(Math.random()*(f+1)),a=t[f];t[f]=t[c],t[c]=a}return t};p.exports=S},28834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f=/\D/g;return t.sort(function(c,a){return parseInt(c.replace(f,""),10)-parseInt(a.replace(f,""),10)}),t};p.exports=S},72677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){if(!(f>=t.length)){for(var c=t.length-1,a=t[f],r=f;r<c;r++)t[r]=t[r+1];return t.length=c,a}};p.exports=S},17922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(77290);function c(e,s){return String(e).localeCompare(s)}function a(e,s){var u=e.length;if(u<=1)return e;for(var i=new Array(u),o=1;o<u;o*=2){r(e,s,o,i);var h=e;e=i,i=h}return e}function r(e,s,u,i){var o=e.length,h=0,l=u*2,d,v,m,x,g;for(d=0;d<o;d+=l)for(v=d+u,m=v+u,v>o&&(v=o),m>o&&(m=o),x=d,g=v;;)if(x<v&&g<m)s(e[x],e[g])<=0?i[h++]=e[x++]:i[h++]=e[g++];else if(x<v)i[h++]=e[x++];else if(g<m)i[h++]=e[g++];else break}var n=function(e,s){if(s===void 0&&(s=c),!e||e.length<2)return e;if(f.features.stableSort)return e.sort(s);var u=a(e,s);return u!==e&&r(u,null,e.length,e),e};p.exports=n},96928:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(f===c)return t;var a=t.indexOf(f),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=c,t[r]=f,t};p.exports=S},59959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var f=t[0].length,c=1;c<t.length;c++)if(t[c].length!==f)return!1;return!0};p.exports=S},68428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(76400),c=t(97494),a=function(r){var n="";if(!c(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var u=r[e][s].toString();u!=="undefined"?n+=f(u,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};p.exports=a},59521:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},51995:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=0;f<t.length;f++)t[f].reverse();return t};p.exports=S},89011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63515),c=function(a){return f(a,180)};p.exports=c},42549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63515),c=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=f(a,90);return a};p.exports=c},63515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(97494),c=t(78581),a=function(r,n){if(n===void 0&&(n=90),!f(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=c(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=c(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=a},14305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(63515),c=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=f(a,-90);return a};p.exports=c},27365:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(77640),c=t(38487),a=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?f(r,Math.abs(e)):c(r,e)),n!==0)for(var s=0;s<r.length;s++){var u=r[s];n<0?f(u,Math.abs(n)):c(u,n)}return r};p.exports=a},78581:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var f=t.length,c=t[0].length,a=new Array(c),r=0;r<c;r++){a[r]=new Array(f);for(var n=f-1;n>-1;n--)a[r][n]=t[n][r]}return a};p.exports=S},13515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(f,c){for(var a=new Uint8Array(f),r=a.length,n=c?"data:"+c+";base64,":"",e=0;e<r;e+=3)n+=S[a[e]>>2],n+=S[(a[e]&3)<<4|a[e+1]>>4],n+=S[(a[e+1]&15)<<2|a[e+2]>>6],n+=S[a[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};p.exports=t},82329:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),f=0;f<S.length;f++)t[S.charCodeAt(f)]=f;var c=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,n=r*.75,e=0,s,u,i,o;a[r-1]==="="&&(n--,a[r-2]==="="&&n--);for(var h=new ArrayBuffer(n),l=new Uint8Array(h),d=0;d<r;d+=4)s=t[a.charCodeAt(d)],u=t[a.charCodeAt(d+1)],i=t[a.charCodeAt(d+2)],o=t[a.charCodeAt(d+3)],l[e++]=s<<2|u>>4,l[e++]=(u&15)<<4|i>>2,l[e++]=(i&3)<<6|o&63;return h};p.exports=c},78417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f={};for(var c in t)Array.isArray(t[c])?f[c]=t[c].slice(0):f[c]=t[c];return f};p.exports=S},28699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var f,c,a;if(typeof t!="object"||t===null)return t;f=Array.isArray(t)?[]:{};for(a in t)c=t[a],f[a]=S(c);return f};p.exports=S},98611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(42911),c=function(){var a,r,n,e,s,u,i=arguments[0]||{},o=1,h=arguments.length,l=!1;for(typeof i=="boolean"&&(l=i,i=arguments[1]||{},o=2),h===o&&(i=this,--o);o<h;o++)if((a=arguments[o])!=null)for(r in a)n=i[r],e=a[r],i!==e&&(l&&e&&(f(e)||(s=Array.isArray(e)))?(s?(s=!1,u=n&&Array.isArray(n)?n:[]):u=n&&f(n)?n:{},i[r]=c(l,u,e)):e!==void 0&&(i[r]=e));return i};p.exports=c},20494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(5923),c=t(10850),a=function(r,n,e){var s=c(r,n,null);if(s===null)return e;if(Array.isArray(s))return f.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return f.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return f.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};p.exports=a},72632:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){var a=typeof t;return!t||a==="number"||a==="string"?c:t.hasOwnProperty(f)&&t[f]!==void 0?t[f]:c};p.exports=S},94324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(10850),c=t(82897),a=function(r,n,e,s,u){u===void 0&&(u=e);var i=f(r,n,u);return c(i,e,s)};p.exports=a},10850:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){if(!t&&!a||typeof t=="number")return c;if(t&&t.hasOwnProperty(f))return t[f];if(a&&a.hasOwnProperty(f))return a[f];if(f.indexOf(".")!==-1){for(var r=f.split("."),n=t,e=a,s=c,u=c,i=!0,o=!0,h=0;h<r.length;h++)n&&n.hasOwnProperty(r[h])?(s=n[r[h]],n=n[r[h]]):i=!1,e&&e.hasOwnProperty(r[h])?(u=e[r[h]],e=e[r[h]]):o=!1;return i?s:o?u:c}else return c};p.exports=S},87701:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=0;c<f.length;c++)if(!t.hasOwnProperty(f[c]))return!1;return!0};p.exports=S},53523:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){for(var c=0;c<f.length;c++)if(t.hasOwnProperty(f[c]))return!0;return!1};p.exports=S},19256:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.hasOwnProperty(f)};p.exports=S},42911:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},30657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r){var n=f(a);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};p.exports=c},72066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(32742),c=function(a,r){var n=f(a);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};p.exports=c},28820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=t(19256),c=function(a,r){for(var n={},e=0;e<r.length;e++){var s=r[e];f(a,s)&&(n[s]=a[s])}return n};p.exports=c},22440:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(f))return t[f]=c,!0;if(f.indexOf(".")!==-1){for(var a=f.split("."),r=t,n=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))n=r,r=r[a[e]];else return!1;return n[a[a.length-1]]=c,!0}return!1};p.exports=S},64615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return t.replace(/%([0-9]+)/g,function(c,a){return f[Number(a)-1]})};p.exports=S},76400:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f,c,a){f===void 0&&(f=0),c===void 0&&(c=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(f+1>=t.length)switch(a){case 1:t=new Array(f+1-t.length).join(c)+t;break;case 3:var n=Math.ceil((r=f-t.length)/2),e=r-n;t=new Array(e+1).join(c)+t+new Array(n+1).join(c);break;default:t=t+new Array(f+1-t.length).join(c);break}return t};p.exports=S},76872:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,f){return f===0?t.slice(1):t.slice(0,f-1)+t.slice(f)};p.exports=S},8051:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},76583:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var f=Math.random()*16|0,c=t==="x"?f:f&3|8;return c.toString(16)})};p.exports=S},40587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},50379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},b={};function W(p){var S=b[p];if(S!==void 0)return S.exports;var t=b[p]={exports:{}};return M[p](t,t.exports,W),t.exports}W.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var Z=W(92491);return Z})())})(Qo);const ue=Qo.exports;class It extends jt{constructor(M,b){super(M,b);j(this,"anchor",new Phaser.Math.Vector2(-1,-1));j(this,"view");j(this,"_isUi",!1);this.view=M.add.container(0,0),this.view.setScrollFactor(0,0)}get isUi(){return this._isUi}setAsUI(){this._isUi=!0}setAsWorld(){}added(){super.added(),this.view.parentContainer||(this.setAsUI(),this.eugine.uiCanvas.add(this.view))}afterBuild(){super.afterBuild(),this.view.setVisible(!0)}destroy(){this.eugine.uiCanvas.remove(this.view),this.view.setVisible(!1),this.scene.children.remove(this.view),super.destroy()}setAnchor(M,b){this.anchor.x=M,this.anchor.y=b}updateAnchors(){this.anchor.x>=0&&(this.x=this.eugine.uiCanvas.canvasWidth*this.anchor.x),this.anchor.y>=0&&(this.z=this.eugine.uiCanvas.canvasHeight*this.anchor.y)}removeChild(M){return M.view&&(M.view.parentContainer&&M.view.parentContainer.remove(M.view),this.view.list.includes(M.view)&&this.view.remove(M.view)),super.removeChild(M)}addChild(M){if(M instanceof jt){const b=M;b.view&&(b.setAsUI&&b.setAsUI(),b.view.parentContainer&&b.view.parentContainer.remove(b.view),this.view.add(b.view))}return super.addChild(M)}resize(M,b){}updateView(){this.view&&this.view.setPosition&&this.view.setPosition(this.transform.x,this.transform.z)}}class jo{static generateSquareTexture(w,M,b=64,W=16777215){const Z=w.add.graphics();Z.fillStyle(W,1),Z.fillRect(0,0,b,b),Z.generateTexture(M,b,b),Z.destroy()}static generateRectTexture(w,M,b=64,W=64,Z=16777215){const p=w.add.graphics();p.fillStyle(Z,1),p.fillRect(0,0,b,W),p.generateTexture(M,b,W),p.destroy()}}class su{update(w,M,b){}transitionIn(w,M,b,W){M.setVisible(!0),M.alpha=0;const Z={targets:M,alpha:1,ease:"Quintic.easeIn",duration:100};W&&(Z.onComplete=W),w.add.tween(xt.clone(Z,b))}transitionOut(w,M,b,W){const Z={targets:M,alpha:0,ease:"Quintic.easeIn",duration:100};W&&(Z.onComplete=W),w.add.tween(xt.clone(Z,b))}}class nu{static lerpAngle(w,M,b){w=(w%360+360)%360,M=(M%360+360)%360;let W=(M-w+180)%360-180;return w+b*W}static lerp(w,M,b){return w+b*(M-w)}static distance(w,M,b,W){const Z=b-w,p=W-M;return Math.sqrt(Z*Z+p*p)}}class ko extends It{constructor(M,b){super(M,b);j(this,"frontBar",Object());j(this,"backBar",Object());j(this,"blocker",Object());j(this,"barContainer",Object());j(this,"transition",new su);j(this,"uiCamera",Object());j(this,"backgroundColor",16711680);j(this,"targetProgress",0);j(this,"hideDelay",600);jo.generateRectTexture(this.scene,"baseBar",250,50),this.blocker=this.scene.add.sprite(0,0,"baseBar"),this.blocker.setOrigin(0,0),this.blocker.setSize(5e3,5e3),this.blocker.setInteractive(),this.barContainer=new Phaser.GameObjects.Container(this.scene),this.view.add(this.blocker),this.view.add(this.barContainer),this.view.setSize(5e3,5e3),this.view.setInteractive(),this.update(),this.updateProgress(0),this.view.setVisible(!1)}build(){super.build(),this.buildBars()}buildBars(){this.backBar=this.scene.add.sprite(0,0,"baseBar"),this.backBar.tint=0,this.frontBar=this.scene.add.sprite(0,0,"baseBar"),this.frontBar.setOrigin(0,.5),this.barContainer.add(this.backBar),this.barContainer.add(this.frontBar)}setBackgroundColor(M){this.backgroundColor=M,this.blocker.tint=this.backgroundColor}update(){this.view.setVisible(!!this.eugine.uiCanvas.right),this.blocker.displayWidth=this.eugine.uiCanvas.right+800,this.blocker.displayHeight=this.eugine.uiCanvas.down+500,this.eugine.uiCanvas&&(this.barContainer.x=this.eugine.uiCanvas.right/2,this.barContainer.y=this.eugine.uiCanvas.down*.75),this.frontBar.x=-this.frontBar.width/2,this.view.setDepth(9e8),this.updateProgressView()}updateProgressView(){this.frontBar.scaleX=nu.lerp(this.frontBar.scaleX,this.targetProgress,.1)}show(){}updateProgress(M){this.targetProgress=M,this.update()}hide(M){this.transition.transitionOut(this.scene,this.view,{delay:this.hideDelay},()=>{this.barContainer.alpha=0,this.view.destroy(),M&&(M(),this.destroy())})}}class ru extends ko{constructor(M,b){super(M,b);j(this,"gradientBackGround");j(this,"scrollingBackGround");this.backBar.tint=4627189,this.frontBar.tint=2559545,this.hideDelay=1e3,this.buildBackground()}buildBackground(){this.gradientBackGround=this.scene.add.sprite(0,0,"background_gradient"),this.gradientBackGround.setOrigin(.5,0),this.gradientBackGround.depth=-2e4,this.scrollingBackGround=this.scene.add.tileSprite(0,0,0,0,"background_tilepattern"),this.scrollingBackGround.setOrigin(.5,0),this.scrollingBackGround.depth=-15e3,this.scrollingBackGround.scale=.25,this.scrollingBackGround.alpha=.5,this.scrollingBackGround.blendMode=Phaser.BlendModes.MULTIPLY}update(){this.scrollingBackGround&&(this.scrollingBackGround.x=this.scene.scale.width/2,this.scrollingBackGround.tilePositionY-=.5,this.scrollingBackGround.height=this.scene.scale.height*100,this.scrollingBackGround.width=this.scene.scale.width*100),this.gradientBackGround&&(this.gradientBackGround.x=this.scene.scale.width/2,this.gradientBackGround.y=0,this.gradientBackGround.displayWidth=this.scene.scale.width,this.gradientBackGround.displayHeight=this.scene.scale.height)}cleanup(){this.gradientBackGround.destroy(),this.scrollingBackGround.destroy()}}class au extends jt{constructor(M,b){super(M,b);j(this,"gameStarted",!1);j(this,"gamePaused",!1);j(this,"onDestroyGame",new Lt.exports.Signal)}setResult(M){}destroy(){super.destroy(),this.onDestroyGame.dispatch()}}class ou extends Phaser.Physics.Matter.Sprite{constructor(){super(...arguments);j(this,"parentGameObject",Object())}}class qo extends jt{constructor(M,b){super(M,b);j(this,"physicsEntity");j(this,"elapsedFrameSpeed",new Phaser.Math.Vector3);j(this,"previousPosition",new Phaser.Math.Vector3);j(this,"latestDirection",Phaser.Math.Vector3.ZERO);j(this,"facing",1);this.physicsEntity=new ou(M.matter.world,0,0,""),this.physicsEntity.parentGameObject=this,this.physicsEntity.setCircle(20),this.physicsEntity.setCollisionGroup(1),this.physicsEntity.setVisible(!1)}get containsPhysics(){return this.physicsEntity!=null}get velocity(){return this.physicsEntity.getVelocity()}set velocityX(M){this.physicsEntity.setVelocityX(M)}set velocityY(M){this.physicsEntity.setVelocityY(M)}set x(M){this.physicsEntity.setPosition(M,this.physicsEntity.y),this.transform.x=M}set y(M){this.transform.y=M}set z(M){this.physicsEntity.setPosition(this.physicsEntity.x,M),this.transform.z=M}build(...M){super.build(M),this.scene.matter.world.add(this.physicsEntity),this.physicsEntity.setSensor(!1)}update(M,b){super.update(M,b),this.transform.x=this.physicsEntity.x,this.transform.z=this.physicsEntity.y,this.elapsedFrameSpeed.x=this.physicsEntity.x-this.previousPosition.x,this.elapsedFrameSpeed.z=this.physicsEntity.y-this.previousPosition.z,this.previousPosition.x=this.transform.x,this.previousPosition.z=this.transform.z,this.elapsedFrameSpeed.x!=0&&(this.facing=this.elapsedFrameSpeed.x<0?-1:1)}willIntersect(M,b){for(let Z=M.length-1;Z>=0;Z--){const p=M[Z];if(this!=p){var W=Phaser.Math.Distance.Between(this.physicsEntity.x+this.latestDirection.x*b,this.physicsEntity.y+this.latestDirection.z*b,p.physicsEntity.x,p.physicsEntity.y);if(W<15)return!0}}return!1}findClosest(M,b){for(let Z=M.length-1;Z>=0;Z--){const p=M[Z];if(this!=p){var W=Phaser.Math.Distance.Between(this.physicsEntity.x+this.latestDirection.x*b,this.physicsEntity.y+this.latestDirection.z*b,p.physicsEntity.x,p.physicsEntity.y);if(W<15)return!0}}return!1}findClosestEntity(M){let b={distance:0,entity:null},W=Number.MAX_VALUE;return M.forEach(Z=>{const p=Phaser.Math.Distance.Between(Z.transform.position.x,Z.transform.position.z,this.transform.position.x,this.transform.position.z);p<W&&(W=p,b.entity=Z,b.distance=p)}),b}destroy(){super.destroy(),this.physicsEntity.setSensor(!0)}setPhysicsEnabled(M){this.physicsEntity.setSensor(!M),this.physicsEntity.setStatic(!M)}}class is extends jt{constructor(M,b){super(M,b);j(this,"view");j(this,"_isUi",!1);this.view=new Phaser.GameObjects.Sprite(M,0,0,"")}build(M,b){var W,Z;super.build(),b?((Z=(W=this.view.frame)==null?void 0:W.texture)==null?void 0:Z.key)!=b&&(this.view.destroy(),this.view=new Phaser.GameObjects.Sprite(this.scene,0,0,b),this.scene.add.existing(this.view)):(this.view=new Phaser.GameObjects.Sprite(this.scene,0,0,M),this.scene.add.existing(this.view)),this.scene.add.existing(this.view),this.view.tint=16777215,this.view.setFrame(M),this.view.setOrigin(.5,.5),this.view.setVisible(!1)}afterBuild(){super.afterBuild(),this.view.setVisible(!0)}destroy(){super.destroy(),this.view.setPosition(5e3,5e3),this.view.setVisible(!1),this.view.anims=new Phaser.Animations.AnimationState(this.view),this.scene.children.remove(this.view)}}const us=class{static GetDataForIndex(w){return us.ballData[w]}static get Count(){return us.ballData.length}static SetBallData(w){us.ballData=w}};let ae=us;j(ae,"ballData",[]);class $e{constructor(w,M,b,W,Z,p){j(this,"radius");j(this,"spriteName");j(this,"atlasName");j(this,"scale");j(this,"mass");j(this,"score");this.radius=w,this.spriteName=M,this.atlasName=b,this.scale=W,this.mass=Z,this.score=p}}const ci=class{constructor(){j(this,"sounds",{});j(this,"isMusicMuted",!1);j(this,"musicList",[]);j(this,"soundList",[]);j(this,"isMuted",!1);j(this,"scene",Object());j(this,"onToggleMute",new Lt.exports.Signal);j(this,"onToggleMusicMute",new Lt.exports.Signal)}static get instance(){return ci._instance||(ci._instance=new ci),ci._instance}initialize(w){this.scene=w,this.soundList=this.soundList.filter(M=>M!==void 0),this.musicList=this.musicList.filter(M=>M!==void 0)}stopAll(){this.scene.sound.stopAll()}playMusic(w,M={}){const b=this.play(w,M);this.soundList=this.soundList.filter(W=>W!==b),this.musicList.push(b)}play(w,M={}){var b;if(this.soundList=this.soundList.filter(W=>W!==void 0),this.musicList=this.musicList.filter(W=>W!==void 0),!this.isMuted){const W=this.scene.sound.add(w);return W.on("complete",Z=>{this.soundList=this.soundList.filter(p=>p!==Z)}),W.play({}),M.fadeIn?(W.play(xt.clone(M,{volume:0})),this.scene.tweens.add({targets:W,volume:((b=M==null?void 0:M.soundConfig)==null?void 0:b.volume)||.5,duration:M.fadeIn})):W.play(M.soundConfig),M.fadeOut&&this.scene.time.delayedCall(W.duration-M.fadeOut,()=>{this.scene.tweens.add({targets:W,volume:0,duration:M.fadeIn})}),this.soundList.push(W),W}}mute(){this.isMuted=!0,this.updateMute()}unmute(){this.isMuted=!1,this.updateMute()}toggleMute(){this.isMuted=!this.isMuted,this.updateMute()}musicMute(){this.isMusicMuted=!0,this.updateMute()}musicUnmute(){this.isMusicMuted=!1,this.updateMute()}toggleMusicMute(){this.isMusicMuted=!this.isMusicMuted,this.updateMute()}updateMute(){this.soundList=this.soundList.filter(w=>w!==void 0),this.musicList=this.musicList.filter(w=>w!==void 0),this.soundList.forEach(w=>{w&&w.setMute(this.isMuted)}),this.musicList.forEach(w=>{w&&w.setMute(this.isMusicMuted)}),this.onToggleMute.dispatch(this.isMuted),this.onToggleMusicMute.dispatch(this.isMusicMuted)}};let Mt=ci;j(Mt,"_instance",null);class hu{constructor(w,M){j(this,"scene");j(this,"particles");j(this,"particleFlash");j(this,"particleSparkle");this.scene=w,this.particles=this.scene.add.particles(0,0,"particle"),this.particleFlash=this.scene.add.particles(0,0,"particle"),this.particleSparkle=this.scene.add.particles(0,0,"particle"),M.worldParticleContainer.add(this.particles),M.worldParticleContainer.add(this.particleFlash),M.worldParticleContainer.add(this.particleSparkle)}play(w,M,b){this.particles.setConfig({frame:{frames:["smoke_03","smoke_04","smoke_06"],cycle:!1},scale:{start:.3,end:0},speed:[500*b,400*b],lifespan:300,gravityY:0,emitting:!1}),this.particleFlash.setConfig({frame:{frames:["circle_05"],cycle:!1},scale:{start:.3,end:5*b},alpha:{start:.3,end:0},speed:0,lifespan:200,gravityY:0,delay:0,blendMode:Phaser.BlendModes.ADD,emitting:!1}),this.particleSparkle.setConfig({frame:{frames:["star_01"],cycle:!1},scale:{start:.3,end:0},tint:15234500,speed:[100*b,300*b],lifespan:700,gravityY:0,emitting:!1,blendMode:Phaser.BlendModes.ADD}),this.particles.emitParticleAt(w,M,30),this.particleSparkle.emitParticleAt(w,M,10),this.particleFlash.emitParticleAt(w,M,1);const W=Mt.instance.play("Sparkle Collect");W!=null&&(W.rate=W.rate*(1+b*.1))}}const di=200;class Ue extends qo{constructor(M,b){super(M,b);j(this,"radius",0);j(this,"gameView");j(this,"sizeIndex",0);j(this,"onShouldCombine");j(this,"combineEffect");j(this,"isDestroying",!1);j(this,"cantMergeYet");this.combineEffect=new hu(M,b)}build(M,b,W,Z){var t;this.sizeIndex=M,this.x=b,this.z=W,this.onShouldCombine=Z;const p=ae.GetDataForIndex(M);this.radius=p.radius,this.setUpPhysics(),this.isDestroying=!1,this.gameView=(t=this.eugine)==null?void 0:t.getComponent(is),this.physicsEntity.setFrictionAir(.005),this.physicsEntity.setFriction(.01),this.physicsEntity.setBounce(.1),Ue.setSpriteFromData(this.gameView,p),this.physicsEntity.setMass(p.mass),this.addChild(this.gameView);const S=Mt.instance.play("pop-1");S!=null&&(S.rate=S.rate/(1+this.sizeIndex*.1+Phaser.Math.FloatBetween(-.2,.2))),super.build()}animateIn(){this.cantMergeYet=!0;const M=ae.GetDataForIndex(this.sizeIndex);this.gameView.view.setScale(.001,.001),this.scene.tweens.add({targets:this.gameView.view,props:{scaleX:{value:M.scale,duration:di*3},scaleY:{value:M.scale,duration:di*3}},ease:Phaser.Math.Easing.Bounce.Out,onComplete:()=>{this.cantMergeYet=!1}}),this.combineEffect.play(this.transform.x,this.transform.z,this.radius/64)}setUpPhysics(){this.physicsEntity.setBounce(1e-4),this.physicsEntity.setFriction(0,0),this.physicsEntity.setCircle(this.radius),this.physicsEntity.parentGameObject=this,this.setPhysicsEnabled(!0)}update(M,b){super.update(M,b),this.gameView.view.setRotation(this.physicsEntity.rotation)}destroy(){this.gameView.destroy(),super.destroy()}static setSpriteFromData(M,b){M.build(b.spriteName,b.atlasName),M.view.setScale(b.scale,b.scale),M.view.setOrigin(.5,.5)}animateOut(M,b){this.isDestroying=!0,this.setPhysicsEnabled(!1),this.scene.tweens.add({targets:this.gameView.view,props:{scaleX:{value:.01,duration:di},scaleY:{value:.01,duration:di}},onComplete:W=>{this.destroy()},ease:Phaser.Math.Easing.Cubic.Out}),this.scene.tweens.add({targets:this.physicsEntity,props:{x:{value:M,duration:di},y:{value:b,duration:di}},ease:Phaser.Math.Easing.Cubic.Out})}}class lu extends jt{constructor(){super(...arguments);j(this,"viewBack");j(this,"viewFront");j(this,"container");j(this,"_width",0);j(this,"_height",0);j(this,"_fill",0);j(this,"vertical",!1);j(this,"_targetFill",0);j(this,"animateRate",.1)}get x(){return this.container.x}set x(M){this.container.x=M}get y(){return this.container.y}set y(M){this.container.y=M}get z(){return this.container.z}set z(M){this.container.z=M}get width(){return this._width}set width(M){this._width=M,this.updateDisplay()}get height(){return this._height}set height(M){this._height=M,this.updateDisplay()}get worldHeight(){return this._height*this.viewBack.scaleY}get worldWidth(){return this._width*this.viewBack.scaleX}get fill(){return this._fill}set fill(M){this._fill=Math.max(0,Math.min(1,M)),this.updateDisplay()}get targetFill(){return this._targetFill}set targetFill(M){this._targetFill=Math.max(0,Math.min(1,M)),this.updateDisplay()}get bottomY(){return(this.y+this._height/2)*this.viewFront.scale}get topY(){return this.y-this._height/2*this.viewFront.scale}build(M,b,W,Z,p,S,t){super.build(),this._width=p,this._height=S,this.container=this.scene.add.container(W,Z),this.viewBack=M,this.viewFront=b,this.container.add(this.viewBack),this.container.add(this.viewFront),this.vertical=t,this.updateDisplay()}destroy(){super.destroy(),this.container.destroy(),this.viewBack.destroy(),this.viewFront.destroy()}getYPositionForFill(M){const b=this.topY,W=this.bottomY,Z=M;return Phaser.Math.Interpolation.Linear([W,b],Z)}updateDisplay(){this.vertical?this.updateDisplayVertical():this.updateDisplayHorizontal()}updateDisplayVertical(){this.viewBack.width=this.width,this.viewBack.height=this.height,this.viewFront.width=this.width;const M=this.GetMinBarHeight();this.viewFront.height=M+(this.height-M)*this.fill,this.viewFront.y=(1-this.fill)*(this.height-M)*this.viewFront.scale/2}GetMinBarHeight(){return this.viewFront.bottomHeight+this.viewFront.topHeight}updateDisplayHorizontal(){this.viewBack.width=this.width,this.viewBack.height=this.height,this.viewFront.height=this.height;const M=this.viewFront.leftWidth+this.viewFront.rightWidth;this.viewFront.width=M+(this.width-M)*this.fill,this.viewFront.y=(1-this.fill)*(this.width-M)*this.viewFront.scale/2}update(M,b){const W=this._targetFill-this.fill;this.fill+=Math.min(W,Math.max(.01*M,W*this.animateRate))}setScale(M){this.viewFront.scale=M,this.viewBack.scale=M}}class pa extends Phaser.GameObjects.Container{constructor(M,b,W,Z,p,S,t,f){super(M,b,W);j(this,"unopenedTexture");j(this,"openedTexture");j(this,"sprite");j(this,"isOpen",!1);j(this,"unopenedBackTexture");j(this,"openedBackTexture");j(this,"spriteBack");j(this,"openSound");this.x=b,this.y=W,this.openSound=f,this.unopenedTexture=Z,this.openedTexture=p,this.unopenedBackTexture=S,this.openedBackTexture=t,this.sprite=M.add.sprite(0,0,Z.texture,Z.name),this.spriteBack=M.add.sprite(0,0,this.unopenedBackTexture.texture,this.unopenedBackTexture.name),this.add(this.sprite),this.add(this.spriteBack),this.sendToBack(this.spriteBack)}open(){this.isOpen=!0,this.sprite.setFrame(this.openedTexture),this.spriteBack.setFrame(this.openedBackTexture),Mt.instance.play(this.openSound)}}class _o extends jt{constructor(M,b){super(M,b);j(this,"view");this.view=new Phaser.GameObjects.Container(M),this.scene.add.existing(this.view)}afterBuild(){super.afterBuild(),this.view.setVisible(!0),this.scene.add.existing(this.view)}update(M,b){super.update(M,b)}addChild(M){if(M instanceof jt){const b=M;b.view&&(b.view.parentContainer&&b.view.parentContainer.remove(b.view),this.view.add(b.view))}return super.addChild(M)}destroy(){super.destroy(),this.view.setPosition(5e3,5e3),this.view.setVisible(!1),this.scene.children.remove(this.view)}}class uu extends _o{constructor(){super(...arguments);j(this,"graphics",[]);j(this,"timePerFrame",1e3);j(this,"spriteView1");j(this,"sheet","");j(this,"playing");j(this,"soundConfig");j(this,"stopped");j(this,"activeTween")}get totalRunTimeSeconds(){return this.timePerFrame*this.graphics.length*.001}get isPlaying(){return this.playing!=null}build(M,b,W,Z,p=1e3,S={}){super.build(),this.graphics=W,this.sheet=Z,this.timePerFrame=p,this.x=M,this.z=b,this.soundConfig=S,this.spriteView1=this.scene.add.sprite(0,0,Z,W[0].graphic),this.spriteView1.name="countdown_1",this.spriteView1.scale=0,this.view.add(this.spriteView1),this.view.setDepth(1e4)}destroy(){this.spriteView1.destroy(),super.destroy()}stop(){this.stopped=!0}play(){this.playing==null&&(this.stopped=!1,this.playing=this.playInternalSwap())}async playInternalSwap(){var b,W;(b=this.activeTween)==null||b.stop(),this.spriteView1.alpha=0,this.spriteView1.scale=0,this.spriteView1.setTexture(this.sheet,this.graphics[0].graphic,this.soundConfig),Mt.instance.play(this.graphics[0].sound),this.activeTween=this.scene.tweens.add({targets:this.spriteView1,duration:this.timePerFrame/2,props:{scale:{value:1,duration:this.timePerFrame/2},alpha:{value:1,duration:100}},ease:Phaser.Math.Easing.Bounce.Out}),await new Promise(Z=>setTimeout(Z,this.timePerFrame));for(var M=1;!this.stopped;M++){const Z=M%this.graphics.length;this.view.bringToTop(this.spriteView1),this.spriteView1.alpha=1,this.spriteView1.scale=1,this.spriteView1.setTexture(this.sheet,this.graphics[Z].graphic);const p=Mt.instance.play(this.graphics[Z].sound,this.soundConfig);p!=null&&(p.rate=p.rate/(1+Phaser.Math.FloatBetween(-.05,.05))),this.activeTween=this.scene.tweens.add({targets:this.spriteView1,duration:this.timePerFrame/2,props:{scale:{value:1.2,duration:30}},yoyo:!0,ease:Phaser.Math.Easing.Circular.InOut}),await new Promise(S=>setTimeout(S,this.timePerFrame))}(W=this.activeTween)==null||W.stop(),this.activeTween=this.scene.tweens.add({targets:this.spriteView1,duration:this.timePerFrame/2,props:{scale:{value:0,duration:100}},ease:Phaser.Math.Easing.Circular.In}),this.playing=void 0}}class ga{constructor(w,M){j(this,"graphic");j(this,"sound");this.graphic=w,this.sound=M}}class Qs extends It{constructor(M,b){super(M,b);j(this,"blockerTween");j(this,"screenBlocker",Object());j(this,"blockerAlpha",.5);j(this,"clickCallback")}build(M,b){super.build(),jo.generateSquareTexture(this.scene,"blockerTexture"),this.setBlockerStyle(M,b)}setClickCallback(M){this.clickCallback=M}setBlockerStyle(M,b){this.blockerAlpha=b,this.screenBlocker.parentContainer&&this.screenBlocker.destroy(),this.screenBlocker=this.scene.add.sprite(0,0,"blockerTexture"),this.screenBlocker.tint=M,this.screenBlocker.alpha=b,this.screenBlocker.x=0,this.screenBlocker.y=0,this.screenBlocker.setInteractive(),this.screenBlocker.setScale(200),this.screenBlocker.setVisible(!1),this.addClickEvent(),this.view.add(this.screenBlocker)}disableBlocker(){this.screenBlocker.parentContainer&&(this.screenBlocker.setVisible(!1),this.screenBlocker.parentContainer.remove(this.screenBlocker))}showBlocker(){this.screenBlocker.setVisible(!0),this.blockerTween&&this.blockerTween.stop(),this.blockerTween=this.scene.add.tween({targets:this.screenBlocker,alpha:this.blockerAlpha,ease:"Quintic.easeIn",duration:100})}hideBlocker(M){this.blockerTween&&this.blockerTween.stop(),this.screenBlocker.off("pointerup"),this.blockerTween=this.scene.add.tween({targets:this.screenBlocker,alpha:0,ease:"Quintic.easeIn",duration:500,onComplete:()=>{this.addClickEvent(),this.screenBlocker.setVisible(!1),M&&M()}})}addClickEvent(){this.screenBlocker.on("pointerup",()=>{this.clickCallback&&this.clickCallback()})}}class th extends It{constructor(M,b){super(M,b);j(this,"popupList",new Map);j(this,"activePopup");j(this,"nextPopup");j(this,"onPopupShowEnd",new Lt.exports.Signal);j(this,"onPopupHideEnd",new Lt.exports.Signal);j(this,"floatingData",Object());j(this,"screenBlocker",Object());j(this,"blockerAlpha",.5);j(this,"useBlocker",!0);j(this,"blockerTween")}build(...M){super.build(M),this.view.setDepth(1e8),this.screenBlocker=this.addFromPool(Qs),this.screenBlocker.build(0,.5),this.useBlocker=!0}disableBlocker(){this.screenBlocker.disableBlocker(),this.useBlocker=!1}registerPopUp(M){this.popupList.has(M.name)||(this.popupList.set(M.name,M),M.onStartShow.add((b,W)=>{this.startShowPopup(b,W)}),M.onShowEnd.add((b,W)=>{this.endShowPopup(b,W)}),M.onStartHide.add((b,W)=>{this.startHidePopup(b,W)}),M.onHideEnd.add((b,W)=>{this.endHidePopup(b,W)}),this.addChild(M),M.forceHide())}hideCurrentPopup(){var M;this.activePopup&&((M=this.activePopup)==null||M.hide({}),this.activePopup=void 0)}showPopUp(M,b){var W;if(this.popupList.has(M)||console.error("pop up ",M," doesnt exists on ",this),this.activePopup){if(M==this.activePopup.name)return;this.floatingData=b,this.nextPopup=this.popupList.get(M),this.hideCurrentPopup()}else this.activePopup=this.popupList.get(M),(W=this.activePopup)==null||W.show(b)}startShowPopup(M,b){this.showBlocker()}endShowPopup(M,b){this.onPopupShowEnd.dispatch(M,b)}startHidePopup(M,b){}endHidePopup(M,b){var W;this.nextPopup?((W=this.nextPopup)==null||W.show(this.floatingData),this.activePopup=this.nextPopup,this.nextPopup=void 0):(this.activePopup=void 0,this.hideBlocker()),this.onPopupHideEnd.dispatch(M,b)}update(M,b){super.update(M,b),this.x=this.eugine.uiCanvas.halfWidth,this.z=this.eugine.uiCanvas.halfHeight}showBlocker(){!this.useBlocker||this.screenBlocker.showBlocker()}hideBlocker(M){!this.useBlocker||this.screenBlocker.hideBlocker(M)}destroy(){super.destroy(),this.screenBlocker.parentContainer&&this.screenBlocker.destroy()}}class fu{static clone(w,M=null){if(!w)return{};if(M){const b={...w};for(const W in M)M[W]&&(b[W]=M[W]);return b}return{...w}}}class Qt extends It{constructor(){super(...arguments);j(this,"buttonShape",Object());j(this,"textField");j(this,"isPointerDown",!1);j(this,"isPointerOver",!1);j(this,"buttonConfig");j(this,"latestWidth",0);j(this,"latestHeight",0);j(this,"mainIcon")}build(M){var b,W,Z;super.build(),this.buttonConfig=M,this.buttonConfig.atlas?(this.buttonShape=new Phaser.GameObjects.NineSlice(this.scene,0,0,this.buttonConfig.atlas,this.buttonConfig.texture,this.buttonConfig.width,this.buttonConfig.height,this.buttonConfig.leftWidth||0,this.buttonConfig.rightWidth||0,this.buttonConfig.topHeight||0,this.buttonConfig.bottomHeight||0),this.buttonShape.setFrame(this.buttonConfig.texture)):this.buttonShape=new Phaser.GameObjects.NineSlice(this.scene,0,0,this.buttonConfig.texture,void 0,this.buttonConfig.width,this.buttonConfig.height,this.buttonConfig.leftWidth||0,this.buttonConfig.rightWidth||0,this.buttonConfig.topHeight||0,this.buttonConfig.bottomHeight||0),this.scene.add.existing(this.buttonShape),this.buttonConfig.width<=0&&(this.buttonConfig.width=this.buttonShape.width),this.buttonConfig.height<=0&&(this.buttonConfig.height=this.buttonShape.height),this.view.add(this.buttonShape),this.buttonConfig.textStyle&&(this.textField=this.scene.add.text(0,0,this.buttonConfig.text,this.buttonConfig.textStyle),this.buttonConfig.textOrigin?this.textField.setOrigin(this.buttonConfig.textOrigin.x,this.buttonConfig.textOrigin.y):this.textField.setOrigin(.5,.5),this.view.add(this.textField),(b=this.buttonConfig)!=null&&b.textOffset&&(this.textField.x=(W=this.buttonConfig)==null?void 0:W.textOffset.x,this.textField.y=(Z=this.buttonConfig)==null?void 0:Z.textOffset.y)),this.view.setSize(this.buttonConfig.width,this.buttonConfig.height),this.buttonShape.setInteractive({useHandCursor:!0}),this.buttonConfig.buttonOrigin?this.buttonShape.setOrigin(this.buttonConfig.buttonOrigin.x,this.buttonConfig.buttonOrigin.y):this.buttonShape.setOrigin(.5,.5),this.addEvents()}addEvents(){this.buttonShape.on("pointerdown",this.onPointerDown.bind(this)),this.buttonShape.on("pointerup",this.onPointerUp.bind(this)),this.buttonShape.on("pointerover",this.onPointerOver.bind(this)),this.buttonShape.on("pointerout",this.onPointerOut.bind(this))}updateHoverTexture(M){var b,W;this.buttonConfig={...this.buttonConfig},this.buttonConfig.textureOver=M,this.isPointerOver&&(b=this.buttonConfig)!=null&&b.textureOver&&this.swapTexture((W=this.buttonConfig)==null?void 0:W.textureOver)}updateMainTexture(M){var b,W,Z;this.buttonConfig={...this.buttonConfig},this.buttonConfig.texture=M,this.swapTexture((b=this.buttonConfig)==null?void 0:b.texture),this.isPointerOver&&(W=this.buttonConfig)!=null&&W.textureOver&&this.swapTexture((Z=this.buttonConfig)==null?void 0:Z.textureOver)}updateOrigin(){var M,b;if(!!this.buttonConfig){if(this.buttonConfig.buttonOrigin?this.buttonShape.setOrigin(this.buttonConfig.buttonOrigin.x,this.buttonConfig.buttonOrigin.y):this.buttonShape.setOrigin(.5,.5),this.textField&&(this.buttonConfig.textOrigin?this.textField.setOrigin(this.buttonConfig.textOrigin.x,this.buttonConfig.textOrigin.y):this.textField.setOrigin(.5,.5),this.textField.x=this.buttonShape.displayWidth/2-this.buttonShape.displayWidth*this.buttonShape.originX,this.textField.y=this.buttonShape.displayHeight/2-this.buttonShape.displayHeight*this.buttonShape.originY,this.updateTextOffset(this.isPointerOver),(M=this.buttonConfig)!=null&&M.fitText)){const W=this.buttonShape.displayWidth/this.textField.displayWidth;W<1&&this.textField.setScale(W*((b=this.buttonConfig)==null?void 0:b.fitText))}this.updateIconOffset(this.isPointerOver)}}resize(M,b){var W;this.latestWidth==M&&this.latestHeight==b||((W=this.buttonShape)==null||W.setSize(M,b),this.latestWidth=M,this.latestHeight=b,this.buttonConfig&&(this.buttonConfig=fu.clone(this.buttonConfig,{width:M,height:b})),this.updateOrigin())}setIcon(M,b){this.mainIcon&&this.mainIcon.destroy(),this.mainIcon=new Phaser.GameObjects.Sprite(this.scene,0,0,M,b),this.view.add(this.mainIcon),this.updateIconOffset()}setText(M){!this.textField||(this.textField.setText(M),this.updateOrigin())}updateIconOffset(M=!1){var b,W,Z,p,S,t;!this.mainIcon||this.mainIcon&&(this.mainIcon.x=0,this.mainIcon.y=0,M?(b=this.buttonConfig)!=null&&b.textOffsetOver&&(this.mainIcon.x+=(W=this.buttonConfig)==null?void 0:W.textOffsetOver.x,this.mainIcon.y+=(Z=this.buttonConfig)==null?void 0:Z.textOffsetOver.y):(p=this.buttonConfig)!=null&&p.textOffset&&(this.mainIcon.x+=(S=this.buttonConfig)==null?void 0:S.textOffset.x,this.mainIcon.y+=(t=this.buttonConfig)==null?void 0:t.textOffset.y))}updateTextOffset(M=!1){var b,W,Z,p,S,t;!this.textField||(M?(b=this.buttonConfig)!=null&&b.textOffsetOver&&(this.textField.x+=(W=this.buttonConfig)==null?void 0:W.textOffsetOver.x,this.textField.y+=(Z=this.buttonConfig)==null?void 0:Z.textOffsetOver.y):(p=this.buttonConfig)!=null&&p.textOffset&&(this.textField.x+=(S=this.buttonConfig)==null?void 0:S.textOffset.x,this.textField.y+=(t=this.buttonConfig)==null?void 0:t.textOffset.y))}onPointerDown(){var M,b;this.isPointerDown=!0,this.isPointerOver=!0,(M=this.buttonConfig)!=null&&M.textureDown&&this.swapTexture((b=this.buttonConfig)==null?void 0:b.textureDown),this.updateOrigin()}onPointerOver(){var M,b,W,Z,p;this.isPointerOver=!0,(M=this.buttonConfig)!=null&&M.textureOver&&this.swapTexture((b=this.buttonConfig)==null?void 0:b.textureOver),(W=this.buttonConfig)!=null&&W.hoverSound&&Mt.instance.play((Z=this.buttonConfig)==null?void 0:Z.hoverSound,{soundConfig:{volume:((p=this.buttonConfig)==null?void 0:p.hoverVolume)||.2}}),this.updateOrigin()}onPointerOut(){var M,b;this.isPointerOver=!1,(M=this.buttonConfig)!=null&&M.texture&&this.swapTexture((b=this.buttonConfig)==null?void 0:b.texture),this.updateOrigin()}swapTexture(M){var b,W,Z;(b=this.buttonConfig)!=null&&b.atlas?(W=this.buttonShape)==null||W.setFrame(M):(Z=this.buttonShape)==null||Z.setTexture(M),this.updateOrigin()}onPointerUp(){var M,b,W,Z;this.isPointerOver=!0,this.isPointerDown&&((M=this.buttonConfig)==null||M.clickCallback(),(b=this.buttonConfig)!=null&&b.clickSound&&Mt.instance.play((W=this.buttonConfig)==null?void 0:W.clickSound,{soundConfig:{volume:((Z=this.buttonConfig)==null?void 0:Z.clickVolume)||.2}}),this.updateOrigin())}destroy(){super.destroy()}}class du{update(w,M,b){}transitionIn(w,M,b,W){M.setVisible(!0),M.alpha=1,M.setScale(1.5,.5);const Z={targets:M,alpha:1,scaleX:1,scaleY:1,ease:function(p,S,t){return S=.8,t=.5,Phaser.Math.Easing.Elastic.Out(p,S,t)},duration:750};W&&(Z.onComplete=W),w.add.tween(xt.clone(Z,b))}transitionOut(w,M,b,W){const Z={targets:M,alpha:0,ease:"Quintic.easeIn",duration:200};W&&(Z.onComplete=W),w.add.tween(xt.clone(Z,b))}}class fs extends It{constructor(M,b){super(M,b);j(this,"onStartShow",new Lt.exports.Signal);j(this,"onShowEnd",new Lt.exports.Signal);j(this,"onStartHide",new Lt.exports.Signal);j(this,"onHideEnd",new Lt.exports.Signal);j(this,"isShowing",!1);j(this,"name","");j(this,"enableCloseBlocker",!0);j(this,"popupConfig",Object());j(this,"popupShape");j(this,"popupResult",Object());j(this,"transition",new du)}build(M,b){this.name=M,this.popupConfig=b,this.popupConfig.allSidesPadding&&(this.popupConfig.leftWidth=this.popupConfig.allSidesPadding,this.popupConfig.rightWidth=this.popupConfig.allSidesPadding,this.popupConfig.topHeight=this.popupConfig.allSidesPadding,this.popupConfig.bottomHeight=this.popupConfig.allSidesPadding),super.build(),this.setupPopupBackground()}setupPopupBackground(){this.popupShape&&this.popupShape.destroy(),this.popupShape=new Phaser.GameObjects.NineSlice(this.scene,0,0,this.popupConfig.atlas||"",this.popupConfig.texture,this.popupConfig.width,this.popupConfig.height,this.popupConfig.leftWidth,this.popupConfig.rightWidth,this.popupConfig.topHeight,this.popupConfig.bottomHeight),this.resizeShape()}resizeShape(){this.popupShape.setSize(this.popupConfig.width,this.popupConfig.height),this.popupShape.setInteractive({useHandCursor:!0})}afterBuild(){}show(M){this.popupConfig.showSound&&Mt.instance.play(this.popupConfig.showSound,{soundConfig:{volume:.2}}),this.showStart(M)}hide(M){this.popupConfig.hideSound&&Mt.instance.play(this.popupConfig.hideSound,{soundConfig:{volume:.2}}),this.hideStart(M)}forceHide(){this.view.setVisible(!1),this.view.alpha=0}showStart(M){this.onStartShow.dispatch(this,M),this.transition.transitionIn(this.scene,this.view,{},()=>{this.showEnd(M)})}hideStart(M){this.onStartHide.dispatch(this,M),this.transition.transitionOut(this.scene,this.view,{},()=>{this.hideEnd(M)})}showEnd(M){this.onShowEnd.dispatch(this,M),this.isShowing=!0}hideEnd(M){this.popupResult=M,this.isShowing=!1,this.view.setVisible(!1),this.dispatchEnd()}dispatchEnd(){this.onHideEnd.dispatch(this,this.popupResult)}update(M,b){super.update(M,b),this.transition.update(this,M,b)}}const ti=class{};let yt=ti;j(yt,"GoldenBitmapFont","poppins-gold"),j(yt,"EmeraldBitmapFont","poppins-emerald"),j(yt,"GoldenAssets",{particlesTint:[16742411,16761371,16752907],backFx1:16777215,bitmapFont:ti.GoldenBitmapFont,currencyTexture:"coin_small",contentImage:"new-coins",atlas:"template"}),j(yt,"EmeraldAssets",{particlesTint:[2200869,7667622,65306],backFx1:6291363,bitmapFont:ti.EmeraldBitmapFont,currencyTexture:"emerald_small",contentImage:"new-emeralds",atlas:"template"}),j(yt,"PrimaryPopup",{width:1e3,height:900,atlas:"template",texture:"config/betting-background",allSidesPadding:66,showSound:"template/Synth-Appear-01",hideSound:"template/Synth-Whoosh-Small-01"}),j(yt,"EmeraldViewAssets",{buttonTexture:"buttonsBevel/square_button_0001",overTexture:"buttons/square_button_0001",roundTexture:"roundButtons/green"}),j(yt,"GoldViewAssets",{buttonTexture:"buttonsBevel/square_button_0010",overTexture:"buttons/square_button_0010",roundTexture:"roundButtons/golden"}),j(yt,"PrimaryFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal",stroke:"#000",strokeThickness:0}),j(yt,"PrimaryFontBold",{fontFamily:"poppins-bold",fontSize:"52px",color:"#fff",fontStyle:"normal",stroke:"#000",strokeThickness:0}),j(yt,"EmeraldGradient",[10551070,65280,10616606,8899845]),j(yt,"GoldenCoinsGradient",[16775680,16496384,16763648,16484608]),j(yt,"CurrencyFont",{fontFamily:"poppins-bold",fontSize:"52px",color:"#fff",stroke:"#272822",strokeThickness:4,shadow:{offsetY:6,color:"#272822",fill:!0,stroke:!0}}),j(yt,"BalanceFont",{fontFamily:"poppins-regular",fontSize:"32px",color:"#fff",fontStyle:"normal",stroke:"#000",strokeThickness:0}),j(yt,"SecondaryFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal",stroke:"#32507B",strokeThickness:8}),j(yt,"PrimaryButtonFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal",stroke:"#000",strokeThickness:8}),j(yt,"PlainFont",{fontFamily:"poppins-regular",fontSize:"48px",color:"#fff",fontStyle:"normal"}),j(yt,"SwitchCurrenciesFont",{fontFamily:"poppins-bold",fontSize:"48px",color:"#fff",fontStyle:"normal",stroke:"#272822",strokeThickness:8,resolution:.9,shadow:{offsetY:4,color:"#272822",fill:!0,stroke:!0}}),j(yt,"PrimaryButton",{textStyle:xt.clone(ti.PrimaryButtonFont,{strokeThickness:0}),textOffset:{x:0,y:15},textOrigin:{x:.5,y:1},textOffsetOver:{x:0,y:30},fitText:1,atlas:"template",width:200,height:200,leftWidth:20,rightWidth:20,topHeight:60,bottomHeight:40,hoverSound:"template/Bubbles",clickSound:"template/Tap",texture:"buttonsBevel/square_button_0006",textureOver:"buttons/square_button_0006",clickCallback:()=>{console.log("Button clicked!")}}),j(yt,"ChangeBetButton",{textStyle:xt.clone(ti.SwitchCurrenciesFont,{strokeThickness:8,fontSize:64}),textOffset:{x:0,y:30},textOrigin:{x:.5,y:1},textOffsetOver:{x:0,y:45},fitText:1,atlas:"template",width:200,height:200,leftWidth:20,rightWidth:20,topHeight:40,bottomHeight:40,hoverVolume:.1,hoverSound:"template/Bubbles",texture:"buttonsBevel/square_button_0006",textureOver:"buttons/square_button_0006",clickCallback:()=>{console.log("Button clicked!")}}),j(yt,"SwitchCurrenciesButton",{textStyle:xt.clone(ti.SwitchCurrenciesFont),textOffset:{x:0,y:20},textOrigin:{x:.5,y:1},textOffsetOver:{x:0,y:35},fitText:1,atlas:"template",width:500,height:140,leftWidth:20,rightWidth:20,topHeight:40,bottomHeight:40,hoverSound:"template/Bubbles",clickSound:"template/Tap",texture:"buttonsBevel/square_button_0001",textureOver:"buttons/square_button_0001",clickCallback:()=>{console.log("Button clicked!")}});class eh{constructor(w=250,M=15,b=1){j(this,"position",0);j(this,"target",0);j(this,"velocity",0);j(this,"stiffness");j(this,"damping");j(this,"mass");j(this,"twoPi",2*Math.PI);this.stiffness=w,this.damping=M,this.mass=b}setTarget(w){this.target=w%this.twoPi}setPosition(w){this.position=w%this.twoPi}update(w){const b=(-this.stiffness*(this.position-this.target)-this.damping*this.velocity)/this.mass;this.velocity+=b*w,this.position=(this.position+this.velocity*w)%this.twoPi}getPosition(){return this.position}}class ih{constructor(w=250,M=15,b=1){j(this,"position",{x:0,y:0});j(this,"target",{x:0,y:0});j(this,"velocity",{x:0,y:0});j(this,"stiffness");j(this,"damping");j(this,"mass");this.stiffness=w,this.damping=M,this.mass=b}setTarget(w,M){this.target.x=w,this.target.y=M}setPosition(w,M){this.position.x=w,this.position.y=M}getPosition(){return this.position}update(w){const b=(-this.stiffness*(this.position.x-this.target.x)-this.damping*this.velocity.x)/this.mass;this.velocity.x+=b*w,this.position.x+=this.velocity.x*w;const Z=(-this.stiffness*(this.position.y-this.target.y)-this.damping*this.velocity.y)/this.mass;this.velocity.y+=Z*w,this.position.y+=this.velocity.y*w}}class ds{constructor(){j(this,"springPosition",new ih(100,8));j(this,"rotationSpring",new eh(100,4));this.springPosition.setPosition(0,-1e3),this.springPosition.setTarget(0,-1e3),this.rotationSpring.setPosition(-.2),this.rotationSpring.setTarget(-.2)}update(w,M,b){this.springPosition.update(M),this.rotationSpring.update(M),w.z=this.springPosition.getPosition().y,w.view.setRotation(this.rotationSpring.getPosition())}transitionIn(w,M,b,W){M.setVisible(!0),M.alpha=1,this.springPosition.setTarget(0,0),this.rotationSpring.setTarget(0)}transitionOut(w,M,b,W){this.springPosition.setTarget(0,-1e3),this.rotationSpring.setTarget(.3);const Z={targets:M,alpha:0,delay:50,ease:"Quintic.easeIn",duration:100};W&&(Z.onComplete=W),w.add.tween(xt.clone(Z,b))}}class oe{static elementScaler(w,M,b=0){return b||(b=M),Math.min(M/w.displayWidth,b/w.displayHeight)}static elementScalerBySize(w,M,b,W){return Math.min(b/w,W/M)}static getContainerBounds(w){if(!w.iterate)return w;let M=Number.MAX_SAFE_INTEGER,b=Number.MAX_SAFE_INTEGER,W=Number.MIN_SAFE_INTEGER,Z=Number.MIN_SAFE_INTEGER;const p=f=>{const c=f.getWorldTransformMatrix(),a=w.getLocalPoint(c.tx,c.ty);M=Math.min(M,a.x),b=Math.min(b,a.y),W=Math.max(W,a.x+f.displayWidth),Z=Math.max(Z,a.y+f.displayHeight),f.list&&f.list.length>0&&f.list.forEach(p)};w.iterate(p);const S=W-M,t=Z-b;return{x:M,y:b,displayWidth:S*w.scaleX,displayHeight:t*w.scaleY}}}var Gt=(L=>(L[L.EMERALD=0]="EMERALD",L[L.GOLD_COIN=1]="GOLD_COIN",L))(Gt||{});const pi=class{constructor(){j(this,"defaultLanguage");j(this,"currentLanguage");j(this,"languagesMap");j(this,"initialized",!1)}static get instance(){return pi._instance||(pi._instance=new pi),pi._instance}initialize(w,M){if(this.initialized)return;this.languagesMap=M,this.initialized=!0,this.defaultLanguage=M.get("localization_EN"),this.currentLanguage=M.get("localization_EN"),console.debug("Completed load",this.currentLanguage);let b=navigator.language;if(b){let W=b[0]+b[1];if(W=W.toUpperCase(),w&&(W=w),M.has("localization_"+W)){let Z=M.get("localization_"+W);Z&&Z&&(this.currentLanguage=Z)}}}changeLanguage(w){if(w=w.toUpperCase(),this.languagesMap.has("localization_"+w)){let M=this.languagesMap.get("localization_"+w);M&&M&&(this.currentLanguage=M)}else console.warn("Language not supported "+w)}getLabel(w,M=!1){return this.currentLanguage==null?w+"_NOT FOUND":this.currentLanguage[w]?M?this.currentLanguage[w].toUpperCase():this.currentLanguage[w]:this.defaultLanguage[w]?M?this.defaultLanguage[w].toUpperCase():this.defaultLanguage[w]:w+"_NOT FOUND"}getLabelTutorial(w,M=!1){return this.currentLanguage[w]?M?this.currentLanguage[w].toUpperCase():this.currentLanguage[w]:this.defaultLanguage[w]?M?this.defaultLanguage[w].toUpperCase():this.defaultLanguage[w]:"_NOT FOUND"}};let Rt=pi;j(Rt,"_instance",null);var Ys={},vs={},js={},Re={},ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.TypeUtils=void 0;class Ke{static isString(w){return typeof w=="string"}static isDate(w){return w instanceof Date&&Ke.isInteger(w.getTime())}static isObject(w){return Object.prototype.toString.call(w)==="[object Object]"}static isNumber(w){return typeof w=="number"&&w>Number.NEGATIVE_INFINITY&&w<Number.POSITIVE_INFINITY}static isFunction(w){return typeof w=="function"}static isBoolean(w){return typeof w=="boolean"}static isSymbol(w){return typeof w=="symbol"||typeof w=="object"&&Object.prototype.toString.call(w)==="[object Symbol]"}static isInteger(w){return Ke.isNumber(w)&&Number.isInteger(w)}static isNull(w){return w===null}static isUndefined(w){return typeof w>"u"}static isArray(w){return Array.isArray(w)}static isAssigned(w){return!Ke.isNull(w)&&!Ke.isUndefined(w)}static isNonEmptyString(w){return Ke.isString(w)&&w!==""}static isNonBlankString(w){return Ke.isString(w)&&w.trim()!=""}static isInRange(w,M,b){return w>=M&&w<=b}}ks.TypeUtils=Ke;var qs={},ve=function(){return ve=Object.assign||function(w){for(var M,b=1,W=arguments.length;b<W;b++){M=arguments[b];for(var Z in M)Object.prototype.hasOwnProperty.call(M,Z)&&(w[Z]=M[Z])}return w},ve.apply(this,arguments)};function vu(L){return L.toLowerCase()}var cu=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],pu=/[^A-Z0-9]+/gi;function Pi(L,w){w===void 0&&(w={});for(var M=w.splitRegexp,b=M===void 0?cu:M,W=w.stripRegexp,Z=W===void 0?pu:W,p=w.transform,S=p===void 0?vu:p,t=w.delimiter,f=t===void 0?" ":t,c=ma(ma(L,b,"$1\0$2"),Z,"\0"),a=0,r=c.length;c.charAt(a)==="\0";)a++;for(;c.charAt(r-1)==="\0";)r--;return c.slice(a,r).split("\0").map(S).join(f)}function ma(L,w,M){return w instanceof RegExp?L.replace(w,M):w.reduce(function(b,W){return b.replace(W,M)},L)}function Cr(L,w){var M=L.charAt(0),b=L.substr(1).toLowerCase();return w>0&&M>="0"&&M<="9"?"_"+M+b:""+M.toUpperCase()+b}function sh(L){return L.charAt(0).toUpperCase()+L.slice(1).toLowerCase()}function nh(L,w){return w===void 0&&(w={}),Pi(L,ve({delimiter:"",transform:Cr},w))}function rh(L,w){return w===0?L.toLowerCase():Cr(L,w)}function gu(L,w){return w===0?L.toLowerCase():sh(L)}function mu(L,w){return w===void 0&&(w={}),nh(L,ve({transform:rh},w))}function ah(L){return L.charAt(0).toUpperCase()+L.substr(1)}function oh(L){return ah(L.toLowerCase())}function hh(L,w){return w===void 0&&(w={}),Pi(L,ve({delimiter:" ",transform:oh},w))}function xu(L){return L.toUpperCase()}function yu(L,w){return w===void 0&&(w={}),Pi(L,ve({delimiter:"_",transform:xu},w))}function _s(L,w){return w===void 0&&(w={}),Pi(L,ve({delimiter:"."},w))}function Tu(L,w){return w===void 0&&(w={}),hh(L,ve({delimiter:"-"},w))}function Su(L,w){return w===void 0&&(w={}),_s(L,ve({delimiter:"-"},w))}function Eu(L,w){return w===void 0&&(w={}),_s(L,ve({delimiter:"/"},w))}function lh(L,w){var M=L.toLowerCase();return w===0?ah(M):M}function Cu(L,w){return w===void 0&&(w={}),Pi(L,ve({delimiter:" ",transform:lh},w))}function Pu(L,w){return w===void 0&&(w={}),_s(L,ve({delimiter:"_"},w))}const Au=Object.freeze(Object.defineProperty({__proto__:null,camelCaseTransform:rh,camelCaseTransformMerge:gu,camelCase:mu,capitalCaseTransform:oh,capitalCase:hh,constantCase:yu,dotCase:_s,headerCase:Tu,noCase:Pi,paramCase:Su,pascalCaseTransform:Cr,pascalCaseTransformMerge:sh,pascalCase:nh,pathCase:Eu,sentenceCaseTransform:lh,sentenceCase:Cu,snakeCase:Pu},Symbol.toStringTag,{value:"Module"})),Ru=_l(Au);Object.defineProperty(qs,"__esModule",{value:!0});qs.StringUtils=void 0;const Ge=Ru;class Mu{static upperCase(w){return w.toUpperCase()}static lowerCase(w){return w.toLowerCase()}static trim(w){return w.trim()}static trimStart(w){return w.trimStart()}static trimEnd(w){return w.trimEnd()}static padStart(w,M,b){return w.padStart(M,b)}static padEnd(w,M,b){return w.padEnd(M,b)}static split(w,M,b){return w.split(M,b)}static pathCase(w){return(0,Ge.pathCase)(w)}static headerCase(w){return(0,Ge.headerCase)(w)}static paramCase(w){return(0,Ge.paramCase)(w)}static snakeCase(w){return(0,Ge.snakeCase)(w)}static pascalCase(w){return(0,Ge.pascalCase)(w)}static capitalCase(w){return(0,Ge.capitalCase)(w)}static camelCase(w){return(0,Ge.camelCase)(w)}static constantCase(w){return(0,Ge.constantCase)(w)}static dotCase(w){return(0,Ge.dotCase)(w)}}qs.StringUtils=Mu;var tn={},uh={exports:{}};(function(L,w){(function(M,b){L.exports=b()})(vt,function(){var M=1e3,b=6e4,W=36e5,Z="millisecond",p="second",S="minute",t="hour",f="day",c="week",a="month",r="quarter",n="year",e="date",s="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var A=["th","st","nd","rd"],P=C%100;return"["+C+(A[(P-20)%10]||A[P]||A[0])+"]"}},h=function(C,A,P){var F=String(C);return!F||F.length>=A?C:""+Array(A+1-F.length).join(P)+C},l={s:h,z:function(C){var A=-C.utcOffset(),P=Math.abs(A),F=Math.floor(P/60),O=P%60;return(A<=0?"+":"-")+h(F,2,"0")+":"+h(O,2,"0")},m:function C(A,P){if(A.date()<P.date())return-C(P,A);var F=12*(P.year()-A.year())+(P.month()-A.month()),O=A.clone().add(F,a),I=P-O<0,G=A.clone().add(F+(I?-1:1),a);return+(-(F+(P-O)/(I?O-G:G-O))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:a,y:n,w:c,d:f,D:e,h:t,m:S,s:p,ms:Z,Q:r}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},d="en",v={};v[d]=o;var m=function(C){return C instanceof T},x=function C(A,P,F){var O;if(!A)return d;if(typeof A=="string"){var I=A.toLowerCase();v[I]&&(O=I),P&&(v[I]=P,O=I);var G=A.split("-");if(!O&&G.length>1)return C(G[0])}else{var z=A.name;v[z]=A,O=z}return!F&&O&&(d=O),O||!F&&d},g=function(C,A){if(m(C))return C.clone();var P=typeof A=="object"?A:{};return P.date=C,P.args=arguments,new T(P)},y=l;y.l=x,y.i=m,y.w=function(C,A){return g(C,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var T=function(){function C(P){this.$L=x(P.locale,null,!0),this.parse(P)}var A=C.prototype;return A.parse=function(P){this.$d=function(F){var O=F.date,I=F.utc;if(O===null)return new Date(NaN);if(y.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var G=O.match(u);if(G){var z=G[2]-1||0,X=(G[7]||"0").substring(0,3);return I?new Date(Date.UTC(G[1],z,G[3]||1,G[4]||0,G[5]||0,G[6]||0,X)):new Date(G[1],z,G[3]||1,G[4]||0,G[5]||0,G[6]||0,X)}}return new Date(O)}(P),this.$x=P.x||{},this.init()},A.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},A.$utils=function(){return y},A.isValid=function(){return this.$d.toString()!==s},A.isSame=function(P,F){var O=g(P);return this.startOf(F)<=O&&O<=this.endOf(F)},A.isAfter=function(P,F){return g(P)<this.startOf(F)},A.isBefore=function(P,F){return this.endOf(F)<g(P)},A.$g=function(P,F,O){return y.u(P)?this[F]:this.set(O,P)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(P,F){var O=this,I=!!y.u(F)||F,G=y.p(P),z=function(V,Y){var K=y.w(O.$u?Date.UTC(O.$y,Y,V):new Date(O.$y,Y,V),O);return I?K:K.endOf(f)},X=function(V,Y){return y.w(O.toDate()[V].apply(O.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(Y)),O)},H=this.$W,N=this.$M,U=this.$D,R="set"+(this.$u?"UTC":"");switch(G){case n:return I?z(1,0):z(31,11);case a:return I?z(1,N):z(0,N+1);case c:var D=this.$locale().weekStart||0,B=(H<D?H+7:H)-D;return z(I?U-B:U+(6-B),N);case f:case e:return X(R+"Hours",0);case t:return X(R+"Minutes",1);case S:return X(R+"Seconds",2);case p:return X(R+"Milliseconds",3);default:return this.clone()}},A.endOf=function(P){return this.startOf(P,!1)},A.$set=function(P,F){var O,I=y.p(P),G="set"+(this.$u?"UTC":""),z=(O={},O[f]=G+"Date",O[e]=G+"Date",O[a]=G+"Month",O[n]=G+"FullYear",O[t]=G+"Hours",O[S]=G+"Minutes",O[p]=G+"Seconds",O[Z]=G+"Milliseconds",O)[I],X=I===f?this.$D+(F-this.$W):F;if(I===a||I===n){var H=this.clone().set(e,1);H.$d[z](X),H.init(),this.$d=H.set(e,Math.min(this.$D,H.daysInMonth())).$d}else z&&this.$d[z](X);return this.init(),this},A.set=function(P,F){return this.clone().$set(P,F)},A.get=function(P){return this[y.p(P)]()},A.add=function(P,F){var O,I=this;P=Number(P);var G=y.p(F),z=function(N){var U=g(I);return y.w(U.date(U.date()+Math.round(N*P)),I)};if(G===a)return this.set(a,this.$M+P);if(G===n)return this.set(n,this.$y+P);if(G===f)return z(1);if(G===c)return z(7);var X=(O={},O[S]=b,O[t]=W,O[p]=M,O)[G]||1,H=this.$d.getTime()+P*X;return y.w(H,this)},A.subtract=function(P,F){return this.add(-1*P,F)},A.format=function(P){var F=this,O=this.$locale();if(!this.isValid())return O.invalidDate||s;var I=P||"YYYY-MM-DDTHH:mm:ssZ",G=y.z(this),z=this.$H,X=this.$m,H=this.$M,N=O.weekdays,U=O.months,R=function(Y,K,$,J){return Y&&(Y[K]||Y(F,I))||$[K].slice(0,J)},D=function(Y){return y.s(z%12||12,Y,"0")},B=O.meridiem||function(Y,K,$){var J=Y<12?"AM":"PM";return $?J.toLowerCase():J},V={YY:String(this.$y).slice(-2),YYYY:this.$y,M:H+1,MM:y.s(H+1,2,"0"),MMM:R(O.monthsShort,H,U,3),MMMM:R(U,H),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:R(O.weekdaysMin,this.$W,N,2),ddd:R(O.weekdaysShort,this.$W,N,3),dddd:N[this.$W],H:String(z),HH:y.s(z,2,"0"),h:D(1),hh:D(2),a:B(z,X,!0),A:B(z,X,!1),m:String(X),mm:y.s(X,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:G};return I.replace(i,function(Y,K){return K||V[Y]||G.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(P,F,O){var I,G=y.p(F),z=g(P),X=(z.utcOffset()-this.utcOffset())*b,H=this-z,N=y.m(this,z);return N=(I={},I[n]=N/12,I[a]=N,I[r]=N/3,I[c]=(H-X)/6048e5,I[f]=(H-X)/864e5,I[t]=H/W,I[S]=H/b,I[p]=H/M,I)[G]||H,O?N:y.a(N)},A.daysInMonth=function(){return this.endOf(a).$D},A.$locale=function(){return v[this.$L]},A.locale=function(P,F){if(!P)return this.$L;var O=this.clone(),I=x(P,F,!0);return I&&(O.$L=I),O},A.clone=function(){return y.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},C}(),E=T.prototype;return g.prototype=E,[["$ms",Z],["$s",p],["$m",S],["$H",t],["$W",f],["$M",a],["$y",n],["$D",e]].forEach(function(C){E[C[1]]=function(A){return this.$g(A,C[0],C[1])}}),g.extend=function(C,A){return C.$i||(C(A,T,g),C.$i=!0),g},g.locale=x,g.isDayjs=m,g.unix=function(C){return g(1e3*C)},g.en=v[d],g.Ls=v,g.p={},g})})(uh);Object.defineProperty(tn,"__esModule",{value:!0});tn.DateUtils=void 0;const be=uh.exports;class wt{static now(){return be().toDate()}static getToday(){return be().toDate()}static getYesterday(){return be().subtract(1,"day").toDate()}static getTomorrow(){return be().add(1,"day").toDate()}static format(w,M){return be(w).format(M)}static addMilliseconds(w,M){return wt.addTimeUnit(w,"ms",M)}static subtractMilliseconds(w,M){return wt.subtractTimeUnit(w,"ms",M)}static setMilliseconds(w,M){return wt.setTimeUnit(w,"ms",M)}static getMilliseconds(w){return wt.getTimeUnit(w,"ms")}static addSeconds(w,M){return wt.addTimeUnit(w,"s",M)}static subtractSeconds(w,M){return wt.subtractTimeUnit(w,"s",M)}static setSeconds(w,M){return wt.setTimeUnit(w,"s",M)}static getSeconds(w){return wt.getTimeUnit(w,"s")}static addMinutes(w,M){return wt.addTimeUnit(w,"m",M)}static subtractMinutes(w,M){return wt.subtractTimeUnit(w,"m",M)}static setMinutes(w,M){return wt.setTimeUnit(w,"m",M)}static getMinutes(w){return wt.getTimeUnit(w,"m")}static addHours(w,M){return wt.addTimeUnit(w,"h",M)}static subtractHours(w,M){return wt.subtractTimeUnit(w,"h",M)}static setHours(w,M){return wt.setTimeUnit(w,"h",M)}static getHours(w){return wt.getTimeUnit(w,"h")}static addDays(w,M){return wt.addTimeUnit(w,"d",M)}static subtractDays(w,M){return wt.subtractTimeUnit(w,"d",M)}static setDaysOfWeek(w,M){return wt.setTimeUnit(w,"day",M)}static setDaysOfMonth(w,M){return wt.setTimeUnit(w,"date",M)}static getDaysOfWeek(w){return wt.getTimeUnit(w,"day")}static getDaysOfMonth(w){return wt.getTimeUnit(w,"date")}static addMonths(w,M){return wt.addTimeUnit(w,"M",M)}static subtractMonths(w,M){return wt.subtractTimeUnit(w,"M",M)}static setMonths(w,M){return wt.setTimeUnit(w,"M",M)}static getMonths(w){return wt.getTimeUnit(w,"M")}static addYears(w,M){return wt.addTimeUnit(w,"y",M)}static subtractYears(w,M){return wt.subtractTimeUnit(w,"y",M)}static setYears(w,M){return wt.setTimeUnit(w,"y",M)}static getYears(w){return wt.getTimeUnit(w,"y")}static addTimeUnit(w,M,b){return be(w).add(b,M).toDate()}static subtractTimeUnit(w,M,b){return be(w).subtract(b,M).toDate()}static setTimeUnit(w,M,b){return be(w).set(M,b).toDate()}static getTimeUnit(w,M){return be(w).get(M)}}tn.DateUtils=wt;(function(L){var w=vt&&vt.__createBinding||(Object.create?function(b,W,Z,p){p===void 0&&(p=Z);var S=Object.getOwnPropertyDescriptor(W,Z);(!S||("get"in S?!W.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return W[Z]}}),Object.defineProperty(b,p,S)}:function(b,W,Z,p){p===void 0&&(p=Z),b[p]=W[Z]}),M=vt&&vt.__exportStar||function(b,W){for(var Z in b)Z!=="default"&&!Object.prototype.hasOwnProperty.call(W,Z)&&w(W,b,Z)};Object.defineProperty(L,"__esModule",{value:!0}),M(ks,L),M(qs,L),M(tn,L)})(Re);Object.defineProperty(js,"__esModule",{value:!0});js.TemplateParser=void 0;const xa=Re;class en{constructor(w){this.builder=w}parse(w){const M=[];if(!xa.TypeUtils.isNonEmptyString(w))return M;let b=0;const W=w.matchAll(en.InterpolationRegexp);for(const Z of W)!xa.TypeUtils.isAssigned(Z==null?void 0:Z.index)||(Z.index>b&&M.push(this.builder.constant(w.slice(b,Z.index))),M.push(this.builder.flow(Z[0].slice(2,-1))),b=Z.index+Z[0].length);return b<w.length&&M.push(this.builder.constant(w.slice(b))),M}}js.TemplateParser=en;en.InterpolationRegexp=/\${(.*?)}/g;var sn={},nn={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.Pipe=void 0;class Fu{}Me.Pipe=Fu;Object.defineProperty(nn,"__esModule",{value:!0});nn.Noop=void 0;const Lu=Me;class rs extends Lu.Pipe{constructor(){super()}static instance(){return rs.singletonInstance||(rs.singletonInstance=new rs)}handle(w){return w}}nn.Noop=rs;var rn={},an={};Object.defineProperty(an,"__esModule",{value:!0});an.PathFinder=void 0;const ws=Re;class Ou{static get(w,M){if(!ws.TypeUtils.isAssigned(M))throw new Error("Path must not be null or undefined!");if(!ws.TypeUtils.isNonBlankString(M.value))throw new Error("Path must be a non-empty string!");let b=w;const W=M.value.split(".");for(const Z of W){if(!ws.TypeUtils.isAssigned(b)||!b.hasOwnProperty(Z))return;b=b[Z]}if(M.type==="PROPERTY")return b;if(!ws.TypeUtils.isFunction(b))throw new Error(`The property ${M.value} is not a function!`);return b(...M.parameters)}}an.PathFinder=Ou;Object.defineProperty(rn,"__esModule",{value:!0});rn.Query=void 0;const wu=an,Iu=Me;class Du extends Iu.Pipe{constructor(w){super(),this.path=w}handle(w){return wu.PathFinder.get(w,this.path)}getQuery(){return this.path}}rn.Query=Du;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.Flow=void 0;const Bu=Me;class Nu extends Bu.Pipe{constructor(w){super(),this.pipes=w}handle(w){return this.pipes.reduce((M,b)=>b.handle(M),w)}getPipes(){return this.pipes}}on.Flow=Nu;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.Stringifier=void 0;const ya=Re,Gu=Me;class as extends Gu.Pipe{constructor(){super()}static instance(){return as.singletonInstance||(as.singletonInstance=new as)}handle(w){return ya.TypeUtils.isString(w)?w:ya.TypeUtils.isAssigned(w)?String(w):""}}hn.Stringifier=as;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.Constant=void 0;const bu=Me;class Uu extends bu.Pipe{constructor(w){super(),this.value=w}handle(){return this.value}getValue(){return this.value}}ln.Constant=Uu;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.ErrorBoundary=void 0;const zu=Me;class Vu extends zu.Pipe{constructor(w){super(),this.pipe=w}handle(w){try{return this.pipe.handle(w)}catch{return}}getPipe(){return this.pipe}}un.ErrorBoundary=Vu;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.Functional=void 0;const Xu=Re,Yu=Me;class Wu extends Yu.Pipe{constructor(w){if(!Xu.TypeUtils.isFunction(w.fn))throw new Error("Pipe must be a function!");super(),this.pipe=w}handle(w){return this.pipe.fn(w,...this.pipe.parameters)}getPipe(){return this.pipe}}fn.Functional=Wu;Object.defineProperty(sn,"__esModule",{value:!0});sn.PipeBuilder=void 0;const Hu=Re,$u=nn,Ku=rn,Zu=on,Ju=hn,Qu=ln,ju=un,ku=fn;class Pr{constructor(w,M,b){this.engine=w,this.pipes=M,this.options=b}constant(w){return new Qu.Constant(w)}flow(w){const M=this.engine.parse(w),b=[Pr.getInitialPipe(M)];for(const W of M.pipes){const Z=this.pipes.resolve(W.name),p=new ku.Functional({fn:Z,parameters:W.parameters});b.push(this.decoratePipe(p))}return b.push(Ju.Stringifier.instance()),new Zu.Flow(b)}decoratePipe(w){return this.options.ignoreErrors()?new ju.ErrorBoundary(w):w}static getInitialPipe(w){return Hu.TypeUtils.isAssigned(w.path)?new Ku.Query(w.path):$u.Noop.instance()}}sn.PipeBuilder=Pr;var Ai={},fh={};(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.initializeWithDefaults=L.registerUtilityPipes=L.registerArrayPipes=L.registerDatePipes=void 0;const w=Re,M=S=>{S.register("lowerCase",w.StringUtils.lowerCase),S.register("upperCase",w.StringUtils.upperCase),S.register("constantCase",w.StringUtils.constantCase),S.register("dotCase",w.StringUtils.dotCase),S.register("headerCase",w.StringUtils.headerCase),S.register("paramCase",w.StringUtils.paramCase),S.register("pascalCase",w.StringUtils.pascalCase),S.register("pathCase",w.StringUtils.pathCase),S.register("snakeCase",w.StringUtils.snakeCase),S.register("capitalCase",w.StringUtils.capitalCase),S.register("camelCase",w.StringUtils.camelCase),S.register("trim",w.StringUtils.trim),S.register("trimStart",w.StringUtils.trimStart),S.register("trimEnd",w.StringUtils.trimEnd),S.register("padStart",w.StringUtils.padStart),S.register("padEnd",w.StringUtils.padEnd),S.register("split",(t,f)=>t.split(f))},b=S=>{S.register("date",w.DateUtils.format)};L.registerDatePipes=b;const W=S=>{S.register("reverse",t=>[...t].reverse()),S.register("join",(t,f)=>t.join(f)),S.register("sort",t=>[...t].sort())};L.registerArrayPipes=W;const Z=S=>{S.register("default",(t,f)=>t||f)};L.registerUtilityPipes=Z;const p=S=>{M(S),(0,L.registerDatePipes)(S),(0,L.registerArrayPipes)(S),(0,L.registerUtilityPipes)(S)};L.initializeWithDefaults=p})(fh);Object.defineProperty(Ai,"__esModule",{value:!0});Ai.Pipes=void 0;const _n=Re,qu=fh;class ze{constructor(){this.pipes=new Map}static empty(){return new ze}static withDefaults(){const w=ze.empty();return(0,qu.initializeWithDefaults)(w),w}resolve(w){ze.assertPipeName(w);const M=w.trim(),b=this.pipes.get(M);if(!_n.TypeUtils.isAssigned(b))throw new Error(`Pipe with name "${M}" could not be found!`);return b}register(w,M){if(ze.assertPipeName(w),!_n.TypeUtils.isFunction(M))throw new Error("Pipe name must be a function!");return this.pipes.set(w.trim(),M),this}unregister(w){return ze.assertPipeName(w),this.pipes.delete(w.trim()),this}clearAll(){return this.pipes.clear(),this}static assertPipeName(w){if(!_n.TypeUtils.isNonBlankString(w))throw new Error("Pipe name must be a non-blank string!");if(!ze.PipeNameRegexp.test(w.trim()))throw new Error("Pipe name must be a valid function name!")}}Ai.Pipes=ze;ze.PipeNameRegexp=/^[$_a-z][\w$]*$/i;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.Template=void 0;class _u{constructor(w){this.pipes=w}format(w){return this.pipes.reduce((M,b)=>M+b.handle(w),"")}}dn.Template=_u;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.OptionsWrapper=void 0;const tf=Re;class Ws{constructor(w){this.options=Ws.normalizeOptions(w)}ignoreErrors(){return this.options.ignoreErrors}static normalizeOptions(w){return{ignoreErrors:Ws.normalizeBoolean(w==null?void 0:w.ignoreErrors,!0)}}static normalizeBoolean(w,M){return tf.TypeUtils.isBoolean(w)?w:M}}vn.OptionsWrapper=Ws;var cn={},pn={},gn={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.VERSION=void 0;cs.VERSION="10.5.0";var tr={},ef=Object.prototype;function sf(L){var w=L&&L.constructor,M=typeof w=="function"&&w.prototype||ef;return L===M}var ps=sf;function nf(L,w){return function(M){return L(w(M))}}var dh=nf,rf=dh,af=rf(Object.keys,Object),of=af,hf=ps,lf=of,uf=Object.prototype,ff=uf.hasOwnProperty;function df(L){if(!hf(L))return lf(L);var w=[];for(var M in Object(L))ff.call(L,M)&&M!="constructor"&&w.push(M);return w}var vh=df,vf=typeof vt=="object"&&vt&&vt.Object===Object&&vt,ch=vf,cf=ch,pf=typeof self=="object"&&self&&self.Object===Object&&self,gf=cf||pf||Function("return this")(),Fe=gf,mf=Fe,xf=mf.Symbol,Ri=xf,Ta=Ri,ph=Object.prototype,yf=ph.hasOwnProperty,Tf=ph.toString,$i=Ta?Ta.toStringTag:void 0;function Sf(L){var w=yf.call(L,$i),M=L[$i];try{L[$i]=void 0;var b=!0}catch{}var W=Tf.call(L);return b&&(w?L[$i]=M:delete L[$i]),W}var Ef=Sf,Cf=Object.prototype,Pf=Cf.toString;function Af(L){return Pf.call(L)}var Rf=Af,Sa=Ri,Mf=Ef,Ff=Rf,Lf="[object Null]",Of="[object Undefined]",Ea=Sa?Sa.toStringTag:void 0;function wf(L){return L==null?L===void 0?Of:Lf:Ea&&Ea in Object(L)?Mf(L):Ff(L)}var ni=wf;function If(L){var w=typeof L;return L!=null&&(w=="object"||w=="function")}var Le=If,Df=ni,Bf=Le,Nf="[object AsyncFunction]",Gf="[object Function]",bf="[object GeneratorFunction]",Uf="[object Proxy]";function zf(L){if(!Bf(L))return!1;var w=Df(L);return w==Gf||w==bf||w==Nf||w==Uf}var gs=zf,Vf=Fe,Xf=Vf["__core-js_shared__"],Yf=Xf,er=Yf,Ca=function(){var L=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}();function Wf(L){return!!Ca&&Ca in L}var Hf=Wf,$f=Function.prototype,Kf=$f.toString;function Zf(L){if(L!=null){try{return Kf.call(L)}catch{}try{return L+""}catch{}}return""}var gh=Zf,Jf=gs,Qf=Hf,jf=Le,kf=gh,qf=/[\\^$.*+?()[\]{}|]/g,_f=/^\[object .+?Constructor\]$/,td=Function.prototype,ed=Object.prototype,id=td.toString,sd=ed.hasOwnProperty,nd=RegExp("^"+id.call(sd).replace(qf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rd(L){if(!jf(L)||Qf(L))return!1;var w=Jf(L)?nd:_f;return w.test(kf(L))}var ad=rd;function od(L,w){return L==null?void 0:L[w]}var hd=od,ld=ad,ud=hd;function fd(L,w){var M=ud(L,w);return ld(M)?M:void 0}var ri=fd,dd=ri,vd=Fe,cd=dd(vd,"DataView"),pd=cd,gd=ri,md=Fe,xd=gd(md,"Map"),Ar=xd,yd=ri,Td=Fe,Sd=yd(Td,"Promise"),Ed=Sd,Cd=ri,Pd=Fe,Ad=Cd(Pd,"Set"),mh=Ad,Rd=ri,Md=Fe,Fd=Rd(Md,"WeakMap"),Ld=Fd,ur=pd,fr=Ar,dr=Ed,vr=mh,cr=Ld,xh=ni,Mi=gh,Pa="[object Map]",Od="[object Object]",Aa="[object Promise]",Ra="[object Set]",Ma="[object WeakMap]",Fa="[object DataView]",wd=Mi(ur),Id=Mi(fr),Dd=Mi(dr),Bd=Mi(vr),Nd=Mi(cr),_e=xh;(ur&&_e(new ur(new ArrayBuffer(1)))!=Fa||fr&&_e(new fr)!=Pa||dr&&_e(dr.resolve())!=Aa||vr&&_e(new vr)!=Ra||cr&&_e(new cr)!=Ma)&&(_e=function(L){var w=xh(L),M=w==Od?L.constructor:void 0,b=M?Mi(M):"";if(b)switch(b){case wd:return Fa;case Id:return Pa;case Dd:return Aa;case Bd:return Ra;case Nd:return Ma}return w});var ms=_e;function Gd(L){return L!=null&&typeof L=="object"}var Oe=Gd,bd=ni,Ud=Oe,zd="[object Arguments]";function Vd(L){return Ud(L)&&bd(L)==zd}var Xd=Vd,La=Xd,Yd=Oe,yh=Object.prototype,Wd=yh.hasOwnProperty,Hd=yh.propertyIsEnumerable,$d=La(function(){return arguments}())?La:function(L){return Yd(L)&&Wd.call(L,"callee")&&!Hd.call(L,"callee")},mn=$d,Kd=Array.isArray,Nt=Kd,Zd=9007199254740991;function Jd(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=Zd}var Rr=Jd,Qd=gs,jd=Rr;function kd(L){return L!=null&&jd(L.length)&&!Qd(L)}var we=kd,Si={exports:{}};function qd(){return!1}var _d=qd;(function(L,w){var M=Fe,b=_d,W=w&&!w.nodeType&&w,Z=W&&!0&&L&&!L.nodeType&&L,p=Z&&Z.exports===W,S=p?M.Buffer:void 0,t=S?S.isBuffer:void 0,f=t||b;L.exports=f})(Si,Si.exports);var tv=ni,ev=Rr,iv=Oe,sv="[object Arguments]",nv="[object Array]",rv="[object Boolean]",av="[object Date]",ov="[object Error]",hv="[object Function]",lv="[object Map]",uv="[object Number]",fv="[object Object]",dv="[object RegExp]",vv="[object Set]",cv="[object String]",pv="[object WeakMap]",gv="[object ArrayBuffer]",mv="[object DataView]",xv="[object Float32Array]",yv="[object Float64Array]",Tv="[object Int8Array]",Sv="[object Int16Array]",Ev="[object Int32Array]",Cv="[object Uint8Array]",Pv="[object Uint8ClampedArray]",Av="[object Uint16Array]",Rv="[object Uint32Array]",Xt={};Xt[xv]=Xt[yv]=Xt[Tv]=Xt[Sv]=Xt[Ev]=Xt[Cv]=Xt[Pv]=Xt[Av]=Xt[Rv]=!0;Xt[sv]=Xt[nv]=Xt[gv]=Xt[rv]=Xt[mv]=Xt[av]=Xt[ov]=Xt[hv]=Xt[lv]=Xt[uv]=Xt[fv]=Xt[dv]=Xt[vv]=Xt[cv]=Xt[pv]=!1;function Mv(L){return iv(L)&&ev(L.length)&&!!Xt[tv(L)]}var Fv=Mv;function Lv(L){return function(w){return L(w)}}var xs=Lv,Ei={exports:{}};(function(L,w){var M=ch,b=w&&!w.nodeType&&w,W=b&&!0&&L&&!L.nodeType&&L,Z=W&&W.exports===b,p=Z&&M.process,S=function(){try{var t=W&&W.require&&W.require("util").types;return t||p&&p.binding&&p.binding("util")}catch{}}();L.exports=S})(Ei,Ei.exports);var Ov=Fv,wv=xs,Oa=Ei.exports,wa=Oa&&Oa.isTypedArray,Iv=wa?wv(wa):Ov,Mr=Iv,Dv=vh,Bv=ms,Nv=mn,Gv=Nt,bv=we,Uv=Si.exports,zv=ps,Vv=Mr,Xv="[object Map]",Yv="[object Set]",Wv=Object.prototype,Hv=Wv.hasOwnProperty;function $v(L){if(L==null)return!0;if(bv(L)&&(Gv(L)||typeof L=="string"||typeof L.splice=="function"||Uv(L)||Vv(L)||Nv(L)))return!L.length;var w=Bv(L);if(w==Xv||w==Yv)return!L.size;if(zv(L))return!Dv(L).length;for(var M in L)if(Hv.call(L,M))return!1;return!0}var Te=$v;function Kv(L,w){for(var M=-1,b=L==null?0:L.length,W=Array(b);++M<b;)W[M]=w(L[M],M,L);return W}var ys=Kv;function Zv(){this.__data__=[],this.size=0}var Jv=Zv;function Qv(L,w){return L===w||L!==L&&w!==w}var Ts=Qv,jv=Ts;function kv(L,w){for(var M=L.length;M--;)if(jv(L[M][0],w))return M;return-1}var xn=kv,qv=xn,_v=Array.prototype,tc=_v.splice;function ec(L){var w=this.__data__,M=qv(w,L);if(M<0)return!1;var b=w.length-1;return M==b?w.pop():tc.call(w,M,1),--this.size,!0}var ic=ec,sc=xn;function nc(L){var w=this.__data__,M=sc(w,L);return M<0?void 0:w[M][1]}var rc=nc,ac=xn;function oc(L){return ac(this.__data__,L)>-1}var hc=oc,lc=xn;function uc(L,w){var M=this.__data__,b=lc(M,L);return b<0?(++this.size,M.push([L,w])):M[b][1]=w,this}var fc=uc,dc=Jv,vc=ic,cc=rc,pc=hc,gc=fc;function Fi(L){var w=-1,M=L==null?0:L.length;for(this.clear();++w<M;){var b=L[w];this.set(b[0],b[1])}}Fi.prototype.clear=dc;Fi.prototype.delete=vc;Fi.prototype.get=cc;Fi.prototype.has=pc;Fi.prototype.set=gc;var yn=Fi,mc=yn;function xc(){this.__data__=new mc,this.size=0}var yc=xc;function Tc(L){var w=this.__data__,M=w.delete(L);return this.size=w.size,M}var Sc=Tc;function Ec(L){return this.__data__.get(L)}var Cc=Ec;function Pc(L){return this.__data__.has(L)}var Ac=Pc,Rc=ri,Mc=Rc(Object,"create"),Tn=Mc,Ia=Tn;function Fc(){this.__data__=Ia?Ia(null):{},this.size=0}var Lc=Fc;function Oc(L){var w=this.has(L)&&delete this.__data__[L];return this.size-=w?1:0,w}var wc=Oc,Ic=Tn,Dc="__lodash_hash_undefined__",Bc=Object.prototype,Nc=Bc.hasOwnProperty;function Gc(L){var w=this.__data__;if(Ic){var M=w[L];return M===Dc?void 0:M}return Nc.call(w,L)?w[L]:void 0}var bc=Gc,Uc=Tn,zc=Object.prototype,Vc=zc.hasOwnProperty;function Xc(L){var w=this.__data__;return Uc?w[L]!==void 0:Vc.call(w,L)}var Yc=Xc,Wc=Tn,Hc="__lodash_hash_undefined__";function $c(L,w){var M=this.__data__;return this.size+=this.has(L)?0:1,M[L]=Wc&&w===void 0?Hc:w,this}var Kc=$c,Zc=Lc,Jc=wc,Qc=bc,jc=Yc,kc=Kc;function Li(L){var w=-1,M=L==null?0:L.length;for(this.clear();++w<M;){var b=L[w];this.set(b[0],b[1])}}Li.prototype.clear=Zc;Li.prototype.delete=Jc;Li.prototype.get=Qc;Li.prototype.has=jc;Li.prototype.set=kc;var qc=Li,Da=qc,_c=yn,tp=Ar;function ep(){this.size=0,this.__data__={hash:new Da,map:new(tp||_c),string:new Da}}var ip=ep;function sp(L){var w=typeof L;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?L!=="__proto__":L===null}var np=sp,rp=np;function ap(L,w){var M=L.__data__;return rp(w)?M[typeof w=="string"?"string":"hash"]:M.map}var Sn=ap,op=Sn;function hp(L){var w=op(this,L).delete(L);return this.size-=w?1:0,w}var lp=hp,up=Sn;function fp(L){return up(this,L).get(L)}var dp=fp,vp=Sn;function cp(L){return vp(this,L).has(L)}var pp=cp,gp=Sn;function mp(L,w){var M=gp(this,L),b=M.size;return M.set(L,w),this.size+=M.size==b?0:1,this}var xp=mp,yp=ip,Tp=lp,Sp=dp,Ep=pp,Cp=xp;function Oi(L){var w=-1,M=L==null?0:L.length;for(this.clear();++w<M;){var b=L[w];this.set(b[0],b[1])}}Oi.prototype.clear=yp;Oi.prototype.delete=Tp;Oi.prototype.get=Sp;Oi.prototype.has=Ep;Oi.prototype.set=Cp;var Fr=Oi,Pp=yn,Ap=Ar,Rp=Fr,Mp=200;function Fp(L,w){var M=this.__data__;if(M instanceof Pp){var b=M.__data__;if(!Ap||b.length<Mp-1)return b.push([L,w]),this.size=++M.size,this;M=this.__data__=new Rp(b)}return M.set(L,w),this.size=M.size,this}var Lp=Fp,Op=yn,wp=yc,Ip=Sc,Dp=Cc,Bp=Ac,Np=Lp;function wi(L){var w=this.__data__=new Op(L);this.size=w.size}wi.prototype.clear=wp;wi.prototype.delete=Ip;wi.prototype.get=Dp;wi.prototype.has=Bp;wi.prototype.set=Np;var Lr=wi,Gp="__lodash_hash_undefined__";function bp(L){return this.__data__.set(L,Gp),this}var Up=bp;function zp(L){return this.__data__.has(L)}var Vp=zp,Xp=Fr,Yp=Up,Wp=Vp;function Hs(L){var w=-1,M=L==null?0:L.length;for(this.__data__=new Xp;++w<M;)this.add(L[w])}Hs.prototype.add=Hs.prototype.push=Yp;Hs.prototype.has=Wp;var Or=Hs;function Hp(L,w){for(var M=-1,b=L==null?0:L.length;++M<b;)if(w(L[M],M,L))return!0;return!1}var Th=Hp;function $p(L,w){return L.has(w)}var wr=$p,Kp=Or,Zp=Th,Jp=wr,Qp=1,jp=2;function kp(L,w,M,b,W,Z){var p=M&Qp,S=L.length,t=w.length;if(S!=t&&!(p&&t>S))return!1;var f=Z.get(L),c=Z.get(w);if(f&&c)return f==w&&c==L;var a=-1,r=!0,n=M&jp?new Kp:void 0;for(Z.set(L,w),Z.set(w,L);++a<S;){var e=L[a],s=w[a];if(b)var u=p?b(s,e,a,w,L,Z):b(e,s,a,L,w,Z);if(u!==void 0){if(u)continue;r=!1;break}if(n){if(!Zp(w,function(i,o){if(!Jp(n,o)&&(e===i||W(e,i,M,b,Z)))return n.push(o)})){r=!1;break}}else if(!(e===s||W(e,s,M,b,Z))){r=!1;break}}return Z.delete(L),Z.delete(w),r}var Sh=kp,qp=Fe,_p=qp.Uint8Array,Eh=_p;function t0(L){var w=-1,M=Array(L.size);return L.forEach(function(b,W){M[++w]=[W,b]}),M}var e0=t0;function i0(L){var w=-1,M=Array(L.size);return L.forEach(function(b){M[++w]=b}),M}var Ir=i0,Ba=Ri,Na=Eh,s0=Ts,n0=Sh,r0=e0,a0=Ir,o0=1,h0=2,l0="[object Boolean]",u0="[object Date]",f0="[object Error]",d0="[object Map]",v0="[object Number]",c0="[object RegExp]",p0="[object Set]",g0="[object String]",m0="[object Symbol]",x0="[object ArrayBuffer]",y0="[object DataView]",Ga=Ba?Ba.prototype:void 0,ir=Ga?Ga.valueOf:void 0;function T0(L,w,M,b,W,Z,p){switch(M){case y0:if(L.byteLength!=w.byteLength||L.byteOffset!=w.byteOffset)return!1;L=L.buffer,w=w.buffer;case x0:return!(L.byteLength!=w.byteLength||!Z(new Na(L),new Na(w)));case l0:case u0:case v0:return s0(+L,+w);case f0:return L.name==w.name&&L.message==w.message;case c0:case g0:return L==w+"";case d0:var S=r0;case p0:var t=b&o0;if(S||(S=a0),L.size!=w.size&&!t)return!1;var f=p.get(L);if(f)return f==w;b|=h0,p.set(L,w);var c=n0(S(L),S(w),b,W,Z,p);return p.delete(L),c;case m0:if(ir)return ir.call(L)==ir.call(w)}return!1}var S0=T0;function E0(L,w){for(var M=-1,b=w.length,W=L.length;++M<b;)L[W+M]=w[M];return L}var Dr=E0,C0=Dr,P0=Nt;function A0(L,w,M){var b=w(L);return P0(L)?b:C0(b,M(L))}var Ch=A0;function R0(L,w){for(var M=-1,b=L==null?0:L.length,W=0,Z=[];++M<b;){var p=L[M];w(p,M,L)&&(Z[W++]=p)}return Z}var Br=R0;function M0(){return[]}var Ph=M0,F0=Br,L0=Ph,O0=Object.prototype,w0=O0.propertyIsEnumerable,ba=Object.getOwnPropertySymbols,I0=ba?function(L){return L==null?[]:(L=Object(L),F0(ba(L),function(w){return w0.call(L,w)}))}:L0,Nr=I0;function D0(L,w){for(var M=-1,b=Array(L);++M<L;)b[M]=w(M);return b}var B0=D0,N0=9007199254740991,G0=/^(?:0|[1-9]\d*)$/;function b0(L,w){var M=typeof L;return w=w==null?N0:w,!!w&&(M=="number"||M!="symbol"&&G0.test(L))&&L>-1&&L%1==0&&L<w}var En=b0,U0=B0,z0=mn,V0=Nt,X0=Si.exports,Y0=En,W0=Mr,H0=Object.prototype,$0=H0.hasOwnProperty;function K0(L,w){var M=V0(L),b=!M&&z0(L),W=!M&&!b&&X0(L),Z=!M&&!b&&!W&&W0(L),p=M||b||W||Z,S=p?U0(L.length,String):[],t=S.length;for(var f in L)(w||$0.call(L,f))&&!(p&&(f=="length"||W&&(f=="offset"||f=="parent")||Z&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Y0(f,t)))&&S.push(f);return S}var Ah=K0,Z0=Ah,J0=vh,Q0=we;function j0(L){return Q0(L)?Z0(L):J0(L)}var ce=j0,k0=Ch,q0=Nr,_0=ce;function tg(L){return k0(L,_0,q0)}var Rh=tg,Ua=Rh,eg=1,ig=Object.prototype,sg=ig.hasOwnProperty;function ng(L,w,M,b,W,Z){var p=M&eg,S=Ua(L),t=S.length,f=Ua(w),c=f.length;if(t!=c&&!p)return!1;for(var a=t;a--;){var r=S[a];if(!(p?r in w:sg.call(w,r)))return!1}var n=Z.get(L),e=Z.get(w);if(n&&e)return n==w&&e==L;var s=!0;Z.set(L,w),Z.set(w,L);for(var u=p;++a<t;){r=S[a];var i=L[r],o=w[r];if(b)var h=p?b(o,i,r,w,L,Z):b(i,o,r,L,w,Z);if(!(h===void 0?i===o||W(i,o,M,b,Z):h)){s=!1;break}u||(u=r=="constructor")}if(s&&!u){var l=L.constructor,d=w.constructor;l!=d&&"constructor"in L&&"constructor"in w&&!(typeof l=="function"&&l instanceof l&&typeof d=="function"&&d instanceof d)&&(s=!1)}return Z.delete(L),Z.delete(w),s}var rg=ng,sr=Lr,ag=Sh,og=S0,hg=rg,za=ms,Va=Nt,Xa=Si.exports,lg=Mr,ug=1,Ya="[object Arguments]",Wa="[object Array]",Is="[object Object]",fg=Object.prototype,Ha=fg.hasOwnProperty;function dg(L,w,M,b,W,Z){var p=Va(L),S=Va(w),t=p?Wa:za(L),f=S?Wa:za(w);t=t==Ya?Is:t,f=f==Ya?Is:f;var c=t==Is,a=f==Is,r=t==f;if(r&&Xa(L)){if(!Xa(w))return!1;p=!0,c=!1}if(r&&!c)return Z||(Z=new sr),p||lg(L)?ag(L,w,M,b,W,Z):og(L,w,t,M,b,W,Z);if(!(M&ug)){var n=c&&Ha.call(L,"__wrapped__"),e=a&&Ha.call(w,"__wrapped__");if(n||e){var s=n?L.value():L,u=e?w.value():w;return Z||(Z=new sr),W(s,u,M,b,Z)}}return r?(Z||(Z=new sr),hg(L,w,M,b,W,Z)):!1}var vg=dg,cg=vg,$a=Oe;function Mh(L,w,M,b,W){return L===w?!0:L==null||w==null||!$a(L)&&!$a(w)?L!==L&&w!==w:cg(L,w,M,b,Mh,W)}var Fh=Mh,pg=Lr,gg=Fh,mg=1,xg=2;function yg(L,w,M,b){var W=M.length,Z=W,p=!b;if(L==null)return!Z;for(L=Object(L);W--;){var S=M[W];if(p&&S[2]?S[1]!==L[S[0]]:!(S[0]in L))return!1}for(;++W<Z;){S=M[W];var t=S[0],f=L[t],c=S[1];if(p&&S[2]){if(f===void 0&&!(t in L))return!1}else{var a=new pg;if(b)var r=b(f,c,t,L,w,a);if(!(r===void 0?gg(c,f,mg|xg,b,a):r))return!1}}return!0}var Tg=yg,Sg=Le;function Eg(L){return L===L&&!Sg(L)}var Lh=Eg,Cg=Lh,Pg=ce;function Ag(L){for(var w=Pg(L),M=w.length;M--;){var b=w[M],W=L[b];w[M]=[b,W,Cg(W)]}return w}var Rg=Ag;function Mg(L,w){return function(M){return M==null?!1:M[L]===w&&(w!==void 0||L in Object(M))}}var Oh=Mg,Fg=Tg,Lg=Rg,Og=Oh;function wg(L){var w=Lg(L);return w.length==1&&w[0][2]?Og(w[0][0],w[0][1]):function(M){return M===L||Fg(M,L,w)}}var Ig=wg,Dg=ni,Bg=Oe,Ng="[object Symbol]";function Gg(L){return typeof L=="symbol"||Bg(L)&&Dg(L)==Ng}var Cn=Gg,bg=Nt,Ug=Cn,zg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vg=/^\w*$/;function Xg(L,w){if(bg(L))return!1;var M=typeof L;return M=="number"||M=="symbol"||M=="boolean"||L==null||Ug(L)?!0:Vg.test(L)||!zg.test(L)||w!=null&&L in Object(w)}var Gr=Xg,wh=Fr,Yg="Expected a function";function br(L,w){if(typeof L!="function"||w!=null&&typeof w!="function")throw new TypeError(Yg);var M=function(){var b=arguments,W=w?w.apply(this,b):b[0],Z=M.cache;if(Z.has(W))return Z.get(W);var p=L.apply(this,b);return M.cache=Z.set(W,p)||Z,p};return M.cache=new(br.Cache||wh),M}br.Cache=wh;var Wg=br,Hg=Wg,$g=500;function Kg(L){var w=Hg(L,function(b){return M.size===$g&&M.clear(),b}),M=w.cache;return w}var Zg=Kg,Jg=Zg,Qg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jg=/\\(\\)?/g,kg=Jg(function(L){var w=[];return L.charCodeAt(0)===46&&w.push(""),L.replace(Qg,function(M,b,W,Z){w.push(W?Z.replace(jg,"$1"):b||M)}),w}),qg=kg,Ka=Ri,_g=ys,tm=Nt,em=Cn,im=1/0,Za=Ka?Ka.prototype:void 0,Ja=Za?Za.toString:void 0;function Ih(L){if(typeof L=="string")return L;if(tm(L))return _g(L,Ih)+"";if(em(L))return Ja?Ja.call(L):"";var w=L+"";return w=="0"&&1/L==-im?"-0":w}var sm=Ih,nm=sm;function rm(L){return L==null?"":nm(L)}var Dh=rm,am=Nt,om=Gr,hm=qg,lm=Dh;function um(L,w){return am(L)?L:om(L,w)?[L]:hm(lm(L))}var Pn=um,fm=Cn,dm=1/0;function vm(L){if(typeof L=="string"||fm(L))return L;var w=L+"";return w=="0"&&1/L==-dm?"-0":w}var Ss=vm,cm=Pn,pm=Ss;function gm(L,w){w=cm(w,L);for(var M=0,b=w.length;L!=null&&M<b;)L=L[pm(w[M++])];return M&&M==b?L:void 0}var Ur=gm,mm=Ur;function xm(L,w,M){var b=L==null?void 0:mm(L,w);return b===void 0?M:b}var ym=xm;function Tm(L,w){return L!=null&&w in Object(L)}var Sm=Tm,Em=Pn,Cm=mn,Pm=Nt,Am=En,Rm=Rr,Mm=Ss;function Fm(L,w,M){w=Em(w,L);for(var b=-1,W=w.length,Z=!1;++b<W;){var p=Mm(w[b]);if(!(Z=L!=null&&M(L,p)))break;L=L[p]}return Z||++b!=W?Z:(W=L==null?0:L.length,!!W&&Rm(W)&&Am(p,W)&&(Pm(L)||Cm(L)))}var Bh=Fm,Lm=Sm,Om=Bh;function wm(L,w){return L!=null&&Om(L,w,Lm)}var Im=wm,Dm=Fh,Bm=ym,Nm=Im,Gm=Gr,bm=Lh,Um=Oh,zm=Ss,Vm=1,Xm=2;function Ym(L,w){return Gm(L)&&bm(w)?Um(zm(L),w):function(M){var b=Bm(M,L);return b===void 0&&b===w?Nm(M,L):Dm(w,b,Vm|Xm)}}var Wm=Ym;function Hm(L){return L}var Es=Hm;function $m(L){return function(w){return w==null?void 0:w[L]}}var Km=$m,Zm=Ur;function Jm(L){return function(w){return Zm(w,L)}}var Qm=Jm,jm=Km,km=Qm,qm=Gr,_m=Ss;function tx(L){return qm(L)?jm(_m(L)):km(L)}var ex=tx,ix=Ig,sx=Wm,nx=Es,rx=Nt,ax=ex;function ox(L){return typeof L=="function"?L:L==null?nx:typeof L=="object"?rx(L)?sx(L[0],L[1]):ix(L):ax(L)}var Ie=ox;function hx(L){return function(w,M,b){for(var W=-1,Z=Object(w),p=b(w),S=p.length;S--;){var t=p[L?S:++W];if(M(Z[t],t,Z)===!1)break}return w}}var lx=hx,ux=lx,fx=ux(),dx=fx,vx=dx,cx=ce;function px(L,w){return L&&vx(L,w,cx)}var gx=px,mx=we;function xx(L,w){return function(M,b){if(M==null)return M;if(!mx(M))return L(M,b);for(var W=M.length,Z=w?W:-1,p=Object(M);(w?Z--:++Z<W)&&b(p[Z],Z,p)!==!1;);return M}}var yx=xx,Tx=gx,Sx=yx,Ex=Sx(Tx),ai=Ex,Cx=ai,Px=we;function Ax(L,w){var M=-1,b=Px(L)?Array(L.length):[];return Cx(L,function(W,Z,p){b[++M]=w(W,Z,p)}),b}var Rx=Ax,Mx=ys,Fx=Ie,Lx=Rx,Ox=Nt;function wx(L,w){var M=Ox(L)?Mx:Lx;return M(L,Fx(w))}var ne=wx;function Ix(L,w){for(var M=-1,b=L==null?0:L.length;++M<b&&w(L[M],M,L)!==!1;);return L}var Nh=Ix,Dx=Es;function Bx(L){return typeof L=="function"?L:Dx}var Nx=Bx,Gx=Nh,bx=ai,Ux=Nx,zx=Nt;function Vx(L,w){var M=zx(L)?Gx:bx;return M(L,Ux(w))}var _t=Vx,Xx=ys;function Yx(L,w){return Xx(w,function(M){return L[M]})}var Wx=Yx,Hx=Wx,$x=ce;function Kx(L){return L==null?[]:Hx(L,$x(L))}var Xe=Kx,Zx=Object.prototype,Jx=Zx.hasOwnProperty;function Qx(L,w){return L!=null&&Jx.call(L,w)}var jx=Qx,kx=jx,qx=Bh;function _x(L,w){return L!=null&&qx(L,w,kx)}var pe=_x,t1=ri,e1=function(){try{var L=t1(Object,"defineProperty");return L({},"",{}),L}catch{}}(),Gh=e1,Qa=Gh;function i1(L,w,M){w=="__proto__"&&Qa?Qa(L,w,{configurable:!0,enumerable:!0,value:M,writable:!0}):L[w]=M}var zr=i1,s1=zr,n1=Ts,r1=Object.prototype,a1=r1.hasOwnProperty;function o1(L,w,M){var b=L[w];(!(a1.call(L,w)&&n1(b,M))||M===void 0&&!(w in L))&&s1(L,w,M)}var An=o1,h1=An,l1=zr;function u1(L,w,M,b){var W=!M;M||(M={});for(var Z=-1,p=w.length;++Z<p;){var S=w[Z],t=b?b(M[S],L[S],S,M,L):void 0;t===void 0&&(t=L[S]),W?l1(M,S,t):h1(M,S,t)}return M}var Cs=u1,f1=Cs,d1=ce;function v1(L,w){return L&&f1(w,d1(w),L)}var c1=v1;function p1(L){var w=[];if(L!=null)for(var M in Object(L))w.push(M);return w}var g1=p1,m1=Le,x1=ps,y1=g1,T1=Object.prototype,S1=T1.hasOwnProperty;function E1(L){if(!m1(L))return y1(L);var w=x1(L),M=[];for(var b in L)b=="constructor"&&(w||!S1.call(L,b))||M.push(b);return M}var C1=E1,P1=Ah,A1=C1,R1=we;function M1(L){return R1(L)?P1(L,!0):A1(L)}var Rn=M1,F1=Cs,L1=Rn;function O1(L,w){return L&&F1(w,L1(w),L)}var w1=O1,pr={exports:{}};(function(L,w){var M=Fe,b=w&&!w.nodeType&&w,W=b&&!0&&L&&!L.nodeType&&L,Z=W&&W.exports===b,p=Z?M.Buffer:void 0,S=p?p.allocUnsafe:void 0;function t(f,c){if(c)return f.slice();var a=f.length,r=S?S(a):new f.constructor(a);return f.copy(r),r}L.exports=t})(pr,pr.exports);function I1(L,w){var M=-1,b=L.length;for(w||(w=Array(b));++M<b;)w[M]=L[M];return w}var D1=I1,B1=Cs,N1=Nr;function G1(L,w){return B1(L,N1(L),w)}var b1=G1,U1=dh,z1=U1(Object.getPrototypeOf,Object),bh=z1,V1=Dr,X1=bh,Y1=Nr,W1=Ph,H1=Object.getOwnPropertySymbols,$1=H1?function(L){for(var w=[];L;)V1(w,Y1(L)),L=X1(L);return w}:W1,Uh=$1,K1=Cs,Z1=Uh;function J1(L,w){return K1(L,Z1(L),w)}var Q1=J1,j1=Ch,k1=Uh,q1=Rn;function _1(L){return j1(L,q1,k1)}var zh=_1,ty=Object.prototype,ey=ty.hasOwnProperty;function iy(L){var w=L.length,M=new L.constructor(w);return w&&typeof L[0]=="string"&&ey.call(L,"index")&&(M.index=L.index,M.input=L.input),M}var sy=iy,ja=Eh;function ny(L){var w=new L.constructor(L.byteLength);return new ja(w).set(new ja(L)),w}var Vr=ny,ry=Vr;function ay(L,w){var M=w?ry(L.buffer):L.buffer;return new L.constructor(M,L.byteOffset,L.byteLength)}var oy=ay,hy=/\w*$/;function ly(L){var w=new L.constructor(L.source,hy.exec(L));return w.lastIndex=L.lastIndex,w}var uy=ly,ka=Ri,qa=ka?ka.prototype:void 0,_a=qa?qa.valueOf:void 0;function fy(L){return _a?Object(_a.call(L)):{}}var dy=fy,vy=Vr;function cy(L,w){var M=w?vy(L.buffer):L.buffer;return new L.constructor(M,L.byteOffset,L.length)}var py=cy,gy=Vr,my=oy,xy=uy,yy=dy,Ty=py,Sy="[object Boolean]",Ey="[object Date]",Cy="[object Map]",Py="[object Number]",Ay="[object RegExp]",Ry="[object Set]",My="[object String]",Fy="[object Symbol]",Ly="[object ArrayBuffer]",Oy="[object DataView]",wy="[object Float32Array]",Iy="[object Float64Array]",Dy="[object Int8Array]",By="[object Int16Array]",Ny="[object Int32Array]",Gy="[object Uint8Array]",by="[object Uint8ClampedArray]",Uy="[object Uint16Array]",zy="[object Uint32Array]";function Vy(L,w,M){var b=L.constructor;switch(w){case Ly:return gy(L);case Sy:case Ey:return new b(+L);case Oy:return my(L,M);case wy:case Iy:case Dy:case By:case Ny:case Gy:case by:case Uy:case zy:return Ty(L,M);case Cy:return new b;case Py:case My:return new b(L);case Ay:return xy(L);case Ry:return new b;case Fy:return yy(L)}}var Xy=Vy,Yy=Le,to=Object.create,Wy=function(){function L(){}return function(w){if(!Yy(w))return{};if(to)return to(w);L.prototype=w;var M=new L;return L.prototype=void 0,M}}(),Hy=Wy,$y=Hy,Ky=bh,Zy=ps;function Jy(L){return typeof L.constructor=="function"&&!Zy(L)?$y(Ky(L)):{}}var Qy=Jy,jy=ms,ky=Oe,qy="[object Map]";function _y(L){return ky(L)&&jy(L)==qy}var tT=_y,eT=tT,iT=xs,eo=Ei.exports,io=eo&&eo.isMap,sT=io?iT(io):eT,nT=sT,rT=ms,aT=Oe,oT="[object Set]";function hT(L){return aT(L)&&rT(L)==oT}var lT=hT,uT=lT,fT=xs,so=Ei.exports,no=so&&so.isSet,dT=no?fT(no):uT,vT=dT,cT=Lr,pT=Nh,gT=An,mT=c1,xT=w1,yT=pr.exports,TT=D1,ST=b1,ET=Q1,CT=Rh,PT=zh,AT=ms,RT=sy,MT=Xy,FT=Qy,LT=Nt,OT=Si.exports,wT=nT,IT=Le,DT=vT,BT=ce,NT=Rn,GT=1,bT=2,UT=4,Vh="[object Arguments]",zT="[object Array]",VT="[object Boolean]",XT="[object Date]",YT="[object Error]",Xh="[object Function]",WT="[object GeneratorFunction]",HT="[object Map]",$T="[object Number]",Yh="[object Object]",KT="[object RegExp]",ZT="[object Set]",JT="[object String]",QT="[object Symbol]",jT="[object WeakMap]",kT="[object ArrayBuffer]",qT="[object DataView]",_T="[object Float32Array]",tS="[object Float64Array]",eS="[object Int8Array]",iS="[object Int16Array]",sS="[object Int32Array]",nS="[object Uint8Array]",rS="[object Uint8ClampedArray]",aS="[object Uint16Array]",oS="[object Uint32Array]",zt={};zt[Vh]=zt[zT]=zt[kT]=zt[qT]=zt[VT]=zt[XT]=zt[_T]=zt[tS]=zt[eS]=zt[iS]=zt[sS]=zt[HT]=zt[$T]=zt[Yh]=zt[KT]=zt[ZT]=zt[JT]=zt[QT]=zt[nS]=zt[rS]=zt[aS]=zt[oS]=!0;zt[YT]=zt[Xh]=zt[jT]=!1;function Gs(L,w,M,b,W,Z){var p,S=w&GT,t=w&bT,f=w&UT;if(M&&(p=W?M(L,b,W,Z):M(L)),p!==void 0)return p;if(!IT(L))return L;var c=LT(L);if(c){if(p=RT(L),!S)return TT(L,p)}else{var a=AT(L),r=a==Xh||a==WT;if(OT(L))return yT(L,S);if(a==Yh||a==Vh||r&&!W){if(p=t||r?{}:FT(L),!S)return t?ET(L,xT(p,L)):ST(L,mT(p,L))}else{if(!zt[a])return W?L:{};p=MT(L,a,S)}}Z||(Z=new cT);var n=Z.get(L);if(n)return n;Z.set(L,p),DT(L)?L.forEach(function(u){p.add(Gs(u,w,M,u,L,Z))}):wT(L)&&L.forEach(function(u,i){p.set(i,Gs(u,w,M,i,L,Z))});var e=f?t?PT:CT:t?NT:BT,s=c?void 0:e(L);return pT(s||L,function(u,i){s&&(i=u,u=L[i]),gT(p,i,Gs(u,w,M,i,L,Z))}),p}var hS=Gs,lS=hS,uS=4;function fS(L){return lS(L,uS)}var Je=fS,Ii={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.PRINT_WARNING=Ci.PRINT_ERROR=void 0;function dS(L){console&&console.error&&console.error("Error: ".concat(L))}Ci.PRINT_ERROR=dS;function vS(L){console&&console.warn&&console.warn("Warning: ".concat(L))}Ci.PRINT_WARNING=vS;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.timer=void 0;function cS(L){var w=new Date().getTime(),M=L(),b=new Date().getTime(),W=b-w;return{time:W,value:M}}Mn.timer=cS;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.toFastProperties=void 0;function pS(L){function w(){}w.prototype=L;var M=new w;function b(){return typeof M.bar}return b(),b(),L}Fn.toFastProperties=pS;(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.toFastProperties=L.timer=L.PRINT_ERROR=L.PRINT_WARNING=void 0;var w=Ci;Object.defineProperty(L,"PRINT_WARNING",{enumerable:!0,get:function(){return w.PRINT_WARNING}}),Object.defineProperty(L,"PRINT_ERROR",{enumerable:!0,get:function(){return w.PRINT_ERROR}});var M=Mn;Object.defineProperty(L,"timer",{enumerable:!0,get:function(){return M.timer}});var b=Fn;Object.defineProperty(L,"toFastProperties",{enumerable:!0,get:function(){return b.toFastProperties}})})(Ii);var Ce={},Di={};function gS(L,w,M){var b=-1,W=L.length;w<0&&(w=-w>W?0:W+w),M=M>W?W:M,M<0&&(M+=W),W=w>M?0:M-w>>>0,w>>>=0;for(var Z=Array(W);++b<W;)Z[b]=L[b+w];return Z}var Xr=gS,mS=/\s/;function xS(L){for(var w=L.length;w--&&mS.test(L.charAt(w)););return w}var yS=xS,TS=yS,SS=/^\s+/;function ES(L){return L&&L.slice(0,TS(L)+1).replace(SS,"")}var CS=ES,PS=CS,ro=Le,AS=Cn,ao=0/0,RS=/^[-+]0x[0-9a-f]+$/i,MS=/^0b[01]+$/i,FS=/^0o[0-7]+$/i,LS=parseInt;function OS(L){if(typeof L=="number")return L;if(AS(L))return ao;if(ro(L)){var w=typeof L.valueOf=="function"?L.valueOf():L;L=ro(w)?w+"":w}if(typeof L!="string")return L===0?L:+L;L=PS(L);var M=MS.test(L);return M||FS.test(L)?LS(L.slice(2),M?2:8):RS.test(L)?ao:+L}var wS=OS,IS=wS,oo=1/0,DS=17976931348623157e292;function BS(L){if(!L)return L===0?L:0;if(L=IS(L),L===oo||L===-oo){var w=L<0?-1:1;return w*DS}return L===L?L:0}var NS=BS,GS=NS;function bS(L){var w=GS(L),M=w%1;return w===w?M?w-M:w:0}var Ps=bS,US=Xr,zS=Ps;function VS(L,w,M){var b=L==null?0:L.length;return b?(w=M||w===void 0?1:zS(w),US(L,w<0?0:w,b)):[]}var Yr=VS,Jt={},Bt={},XS=ni,YS=Nt,WS=Oe,HS="[object String]";function $S(L){return typeof L=="string"||!YS(L)&&WS(L)&&XS(L)==HS}var Ln=$S,KS=ni,ZS=Oe,JS="[object RegExp]";function QS(L){return ZS(L)&&KS(L)==JS}var jS=QS,kS=jS,qS=xs,ho=Ei.exports,lo=ho&&ho.isRegExp,_S=lo?qS(lo):kS,Wh=_S,t2=An,e2=Pn,i2=En,uo=Le,s2=Ss;function n2(L,w,M,b){if(!uo(L))return L;w=e2(w,L);for(var W=-1,Z=w.length,p=Z-1,S=L;S!=null&&++W<Z;){var t=s2(w[W]),f=M;if(t==="__proto__"||t==="constructor"||t==="prototype")return L;if(W!=p){var c=S[t];f=b?b(c,t,S):void 0,f===void 0&&(f=uo(c)?c:i2(w[W+1])?[]:{})}t2(S,t,f),S=S[t]}return L}var r2=n2,a2=Ur,o2=r2,h2=Pn;function l2(L,w,M){for(var b=-1,W=w.length,Z={};++b<W;){var p=w[b],S=a2(L,p);M(S,p)&&o2(Z,h2(p,L),S)}return Z}var u2=l2,f2=ys,d2=Ie,v2=u2,c2=zh;function p2(L,w){if(L==null)return{};var M=f2(c2(L),function(b){return[b]});return w=d2(w),v2(L,M,function(b,W){return w(b,W[0])})}var Hh=p2;function g2(L,w,M){switch(M.length){case 0:return L.call(w);case 1:return L.call(w,M[0]);case 2:return L.call(w,M[0],M[1]);case 3:return L.call(w,M[0],M[1],M[2])}return L.apply(w,M)}var m2=g2,x2=m2,fo=Math.max;function y2(L,w,M){return w=fo(w===void 0?L.length-1:w,0),function(){for(var b=arguments,W=-1,Z=fo(b.length-w,0),p=Array(Z);++W<Z;)p[W]=b[w+W];W=-1;for(var S=Array(w+1);++W<w;)S[W]=b[W];return S[w]=M(p),x2(L,this,S)}}var T2=y2;function S2(L){return function(){return L}}var E2=S2,C2=E2,vo=Gh,P2=Es,A2=vo?function(L,w){return vo(L,"toString",{configurable:!0,enumerable:!1,value:C2(w),writable:!0})}:P2,R2=A2,M2=800,F2=16,L2=Date.now;function O2(L){var w=0,M=0;return function(){var b=L2(),W=F2-(b-M);if(M=b,W>0){if(++w>=M2)return arguments[0]}else w=0;return L.apply(void 0,arguments)}}var w2=O2,I2=R2,D2=w2,B2=D2(I2),N2=B2,G2=Es,b2=T2,U2=N2;function z2(L,w){return U2(b2(L,w,G2),L+"")}var Wr=z2,V2=Ts,X2=we,Y2=En,W2=Le;function H2(L,w,M){if(!W2(M))return!1;var b=typeof w;return(b=="number"?X2(M)&&Y2(w,M.length):b=="string"&&w in M)?V2(M[w],L):!1}var On=H2,$2=Wr,K2=On;function Z2(L){return $2(function(w,M){var b=-1,W=M.length,Z=W>1?M[W-1]:void 0,p=W>2?M[2]:void 0;for(Z=L.length>3&&typeof Z=="function"?(W--,Z):void 0,p&&K2(M[0],M[1],p)&&(Z=W<3?void 0:Z,W=1),w=Object(w);++b<W;){var S=M[b];S&&L(w,S,b,Z)}return w})}var J2=Z2,Q2=An,j2=Cs,k2=J2,q2=we,_2=ps,tE=ce,eE=Object.prototype,iE=eE.hasOwnProperty,sE=k2(function(L,w){if(_2(w)||q2(w)){j2(w,tE(w),L);return}for(var M in w)iE.call(w,M)&&Q2(L,M,w[M])}),wn=sE,Ye=vt&&vt.__extends||function(){var L=function(w,M){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,W){b.__proto__=W}||function(b,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(b[Z]=W[Z])},L(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");L(w,M);function b(){this.constructor=w}w.prototype=M===null?Object.create(M):(b.prototype=M.prototype,new b)}}(),Bi=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.serializeProduction=Bt.serializeGrammar=Bt.Terminal=Bt.Alternation=Bt.RepetitionWithSeparator=Bt.Repetition=Bt.RepetitionMandatoryWithSeparator=Bt.RepetitionMandatory=Bt.Option=Bt.Alternative=Bt.Rule=Bt.NonTerminal=Bt.AbstractProduction=void 0;var $h=Bi(ne),nE=Bi(_t),gr=Bi(Ln),rE=Bi(Wh),De=Bi(Hh),Be=Bi(wn);function aE(L){return oE(L)?L.LABEL:L.name}function oE(L){return(0,gr.default)(L.LABEL)&&L.LABEL!==""}var Ne=function(){function L(w){this._definition=w}return Object.defineProperty(L.prototype,"definition",{get:function(){return this._definition},set:function(w){this._definition=w},enumerable:!1,configurable:!0}),L.prototype.accept=function(w){w.visit(this),(0,nE.default)(this.definition,function(M){M.accept(w)})},L}();Bt.AbstractProduction=Ne;var Kh=function(L){Ye(w,L);function w(M){var b=L.call(this,[])||this;return b.idx=1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return Object.defineProperty(w.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(M){},enumerable:!1,configurable:!0}),w.prototype.accept=function(M){M.visit(this)},w}(Ne);Bt.NonTerminal=Kh;var Zh=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.orgText="",(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.Rule=Zh;var Jh=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.ignoreAmbiguities=!1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.Alternative=Jh;var Qh=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.idx=1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.Option=Qh;var jh=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.idx=1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.RepetitionMandatory=jh;var kh=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.idx=1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.RepetitionMandatoryWithSeparator=kh;var qh=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.idx=1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.Repetition=qh;var _h=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.idx=1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return w}(Ne);Bt.RepetitionWithSeparator=_h;var tl=function(L){Ye(w,L);function w(M){var b=L.call(this,M.definition)||this;return b.idx=1,b.ignoreAmbiguities=!1,b.hasPredicates=!1,(0,Be.default)(b,(0,De.default)(M,function(W){return W!==void 0})),b}return Object.defineProperty(w.prototype,"definition",{get:function(){return this._definition},set:function(M){this._definition=M},enumerable:!1,configurable:!0}),w}(Ne);Bt.Alternation=tl;var bs=function(){function L(w){this.idx=1,(0,Be.default)(this,(0,De.default)(w,function(M){return M!==void 0}))}return L.prototype.accept=function(w){w.visit(this)},L}();Bt.Terminal=bs;function hE(L){return(0,$h.default)(L,os)}Bt.serializeGrammar=hE;function os(L){function w(Z){return(0,$h.default)(Z,os)}if(L instanceof Kh){var M={type:"NonTerminal",name:L.nonTerminalName,idx:L.idx};return(0,gr.default)(L.label)&&(M.label=L.label),M}else{if(L instanceof Jh)return{type:"Alternative",definition:w(L.definition)};if(L instanceof Qh)return{type:"Option",idx:L.idx,definition:w(L.definition)};if(L instanceof jh)return{type:"RepetitionMandatory",idx:L.idx,definition:w(L.definition)};if(L instanceof kh)return{type:"RepetitionMandatoryWithSeparator",idx:L.idx,separator:os(new bs({terminalType:L.separator})),definition:w(L.definition)};if(L instanceof _h)return{type:"RepetitionWithSeparator",idx:L.idx,separator:os(new bs({terminalType:L.separator})),definition:w(L.definition)};if(L instanceof qh)return{type:"Repetition",idx:L.idx,definition:w(L.definition)};if(L instanceof tl)return{type:"Alternation",idx:L.idx,definition:w(L.definition)};if(L instanceof bs){var b={type:"Terminal",name:L.terminalType.name,label:aE(L.terminalType),idx:L.idx};(0,gr.default)(L.label)&&(b.terminalLabel=L.label);var W=L.terminalType.PATTERN;return L.terminalType.PATTERN&&(b.pattern=(0,rE.default)(W)?W.source:W),b}else{if(L instanceof Zh)return{type:"Rule",name:L.name,orgText:L.orgText,definition:w(L.definition)};throw Error("non exhaustive match")}}}Bt.serializeProduction=os;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.GAstVisitor=void 0;var Se=Bt,lE=function(){function L(){}return L.prototype.visit=function(w){var M=w;switch(M.constructor){case Se.NonTerminal:return this.visitNonTerminal(M);case Se.Alternative:return this.visitAlternative(M);case Se.Option:return this.visitOption(M);case Se.RepetitionMandatory:return this.visitRepetitionMandatory(M);case Se.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(M);case Se.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(M);case Se.Repetition:return this.visitRepetition(M);case Se.Alternation:return this.visitAlternation(M);case Se.Terminal:return this.visitTerminal(M);case Se.Rule:return this.visitRule(M);default:throw Error("non exhaustive match")}},L.prototype.visitNonTerminal=function(w){},L.prototype.visitAlternative=function(w){},L.prototype.visitOption=function(w){},L.prototype.visitRepetition=function(w){},L.prototype.visitRepetitionMandatory=function(w){},L.prototype.visitRepetitionMandatoryWithSeparator=function(w){},L.prototype.visitRepetitionWithSeparator=function(w){},L.prototype.visitAlternation=function(w){},L.prototype.visitTerminal=function(w){},L.prototype.visitRule=function(w){},L}();In.GAstVisitor=lE;var Pe={},uE=ai;function fE(L,w){var M;return uE(L,function(b,W,Z){return M=w(b,W,Z),!M}),!!M}var dE=fE,vE=Th,cE=Ie,pE=dE,gE=Nt,mE=On;function xE(L,w,M){var b=gE(L)?vE:pE;return M&&mE(L,w,M)&&(w=void 0),b(L,cE(w))}var Hr=xE;function yE(L,w){for(var M=-1,b=L==null?0:L.length;++M<b;)if(!w(L[M],M,L))return!1;return!0}var TE=yE,SE=ai;function EE(L,w){var M=!0;return SE(L,function(b,W,Z){return M=!!w(b,W,Z),M}),M}var CE=EE,PE=TE,AE=CE,RE=Ie,ME=Nt,FE=On;function LE(L,w,M){var b=ME(L)?PE:AE;return M&&FE(L,w,M)&&(w=void 0),b(L,RE(w))}var Dn=LE;function OE(L,w,M,b){for(var W=L.length,Z=M+(b?1:-1);b?Z--:++Z<W;)if(w(L[Z],Z,L))return Z;return-1}var el=OE;function wE(L){return L!==L}var IE=wE;function DE(L,w,M){for(var b=M-1,W=L.length;++b<W;)if(L[b]===w)return b;return-1}var BE=DE,NE=el,GE=IE,bE=BE;function UE(L,w,M){return w===w?bE(L,w,M):NE(L,GE,M)}var $r=UE,zE=$r,VE=we,XE=Ln,YE=Ps,WE=Xe,HE=Math.max;function $E(L,w,M,b){L=VE(L)?L:WE(L),M=M&&!b?YE(M):0;var W=L.length;return M<0&&(M=HE(W+M,0)),XE(L)?M<=W&&L.indexOf(w,M)>-1:!!W&&zE(L,w,M)>-1}var Qe=$E,Kr=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getProductionDslName=Pe.isBranchingProd=Pe.isOptionalProd=Pe.isSequenceProd=void 0;var KE=Kr(Hr),ZE=Kr(Dn),JE=Kr(Qe),Wt=Bt;function QE(L){return L instanceof Wt.Alternative||L instanceof Wt.Option||L instanceof Wt.Repetition||L instanceof Wt.RepetitionMandatory||L instanceof Wt.RepetitionMandatoryWithSeparator||L instanceof Wt.RepetitionWithSeparator||L instanceof Wt.Terminal||L instanceof Wt.Rule}Pe.isSequenceProd=QE;function mr(L,w){w===void 0&&(w=[]);var M=L instanceof Wt.Option||L instanceof Wt.Repetition||L instanceof Wt.RepetitionWithSeparator;return M?!0:L instanceof Wt.Alternation?(0,KE.default)(L.definition,function(b){return mr(b,w)}):L instanceof Wt.NonTerminal&&(0,JE.default)(w,L)?!1:L instanceof Wt.AbstractProduction?(L instanceof Wt.NonTerminal&&w.push(L),(0,ZE.default)(L.definition,function(b){return mr(b,w)})):!1}Pe.isOptionalProd=mr;function jE(L){return L instanceof Wt.Alternation}Pe.isBranchingProd=jE;function kE(L){if(L instanceof Wt.NonTerminal)return"SUBRULE";if(L instanceof Wt.Option)return"OPTION";if(L instanceof Wt.Alternation)return"OR";if(L instanceof Wt.RepetitionMandatory)return"AT_LEAST_ONE";if(L instanceof Wt.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(L instanceof Wt.RepetitionWithSeparator)return"MANY_SEP";if(L instanceof Wt.Repetition)return"MANY";if(L instanceof Wt.Terminal)return"CONSUME";throw Error("non exhaustive match")}Pe.getProductionDslName=kE;(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.isSequenceProd=L.isBranchingProd=L.isOptionalProd=L.getProductionDslName=L.GAstVisitor=L.serializeProduction=L.serializeGrammar=L.Alternative=L.Alternation=L.RepetitionWithSeparator=L.RepetitionMandatoryWithSeparator=L.RepetitionMandatory=L.Repetition=L.Option=L.NonTerminal=L.Terminal=L.Rule=void 0;var w=Bt;Object.defineProperty(L,"Rule",{enumerable:!0,get:function(){return w.Rule}}),Object.defineProperty(L,"Terminal",{enumerable:!0,get:function(){return w.Terminal}}),Object.defineProperty(L,"NonTerminal",{enumerable:!0,get:function(){return w.NonTerminal}}),Object.defineProperty(L,"Option",{enumerable:!0,get:function(){return w.Option}}),Object.defineProperty(L,"Repetition",{enumerable:!0,get:function(){return w.Repetition}}),Object.defineProperty(L,"RepetitionMandatory",{enumerable:!0,get:function(){return w.RepetitionMandatory}}),Object.defineProperty(L,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return w.RepetitionMandatoryWithSeparator}}),Object.defineProperty(L,"RepetitionWithSeparator",{enumerable:!0,get:function(){return w.RepetitionWithSeparator}}),Object.defineProperty(L,"Alternation",{enumerable:!0,get:function(){return w.Alternation}}),Object.defineProperty(L,"Alternative",{enumerable:!0,get:function(){return w.Alternative}}),Object.defineProperty(L,"serializeGrammar",{enumerable:!0,get:function(){return w.serializeGrammar}}),Object.defineProperty(L,"serializeProduction",{enumerable:!0,get:function(){return w.serializeProduction}});var M=In;Object.defineProperty(L,"GAstVisitor",{enumerable:!0,get:function(){return M.GAstVisitor}});var b=Pe;Object.defineProperty(L,"getProductionDslName",{enumerable:!0,get:function(){return b.getProductionDslName}}),Object.defineProperty(L,"isOptionalProd",{enumerable:!0,get:function(){return b.isOptionalProd}}),Object.defineProperty(L,"isBranchingProd",{enumerable:!0,get:function(){return b.isBranchingProd}}),Object.defineProperty(L,"isSequenceProd",{enumerable:!0,get:function(){return b.isSequenceProd}})})(Jt);var il=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Di,"__esModule",{value:!0});Di.RestWalker=void 0;var qE=il(Yr),co=il(_t),ie=Jt,_E=function(){function L(){}return L.prototype.walk=function(w,M){var b=this;M===void 0&&(M=[]),(0,co.default)(w.definition,function(W,Z){var p=(0,qE.default)(w.definition,Z+1);if(W instanceof ie.NonTerminal)b.walkProdRef(W,p,M);else if(W instanceof ie.Terminal)b.walkTerminal(W,p,M);else if(W instanceof ie.Alternative)b.walkFlat(W,p,M);else if(W instanceof ie.Option)b.walkOption(W,p,M);else if(W instanceof ie.RepetitionMandatory)b.walkAtLeastOne(W,p,M);else if(W instanceof ie.RepetitionMandatoryWithSeparator)b.walkAtLeastOneSep(W,p,M);else if(W instanceof ie.RepetitionWithSeparator)b.walkManySep(W,p,M);else if(W instanceof ie.Repetition)b.walkMany(W,p,M);else if(W instanceof ie.Alternation)b.walkOr(W,p,M);else throw Error("non exhaustive match")})},L.prototype.walkTerminal=function(w,M,b){},L.prototype.walkProdRef=function(w,M,b){},L.prototype.walkFlat=function(w,M,b){var W=M.concat(b);this.walk(w,W)},L.prototype.walkOption=function(w,M,b){var W=M.concat(b);this.walk(w,W)},L.prototype.walkAtLeastOne=function(w,M,b){var W=[new ie.Option({definition:w.definition})].concat(M,b);this.walk(w,W)},L.prototype.walkAtLeastOneSep=function(w,M,b){var W=po(w,M,b);this.walk(w,W)},L.prototype.walkMany=function(w,M,b){var W=[new ie.Option({definition:w.definition})].concat(M,b);this.walk(w,W)},L.prototype.walkManySep=function(w,M,b){var W=po(w,M,b);this.walk(w,W)},L.prototype.walkOr=function(w,M,b){var W=this,Z=M.concat(b);(0,co.default)(w.definition,function(p){var S=new ie.Alternative({definition:[p]});W.walk(S,Z)})},L}();Di.RestWalker=_E;function po(L,w,M){var b=[new ie.Option({definition:[new ie.Terminal({terminalType:L.separator})].concat(L.definition)})],W=b.concat(w,M);return W}var xe={},go=Ri,tC=mn,eC=Nt,mo=go?go.isConcatSpreadable:void 0;function iC(L){return eC(L)||tC(L)||!!(mo&&L&&L[mo])}var sC=iC,nC=Dr,rC=sC;function sl(L,w,M,b,W){var Z=-1,p=L.length;for(M||(M=rC),W||(W=[]);++Z<p;){var S=L[Z];w>0&&M(S)?w>1?sl(S,w-1,M,b,W):nC(W,S):b||(W[W.length]=S)}return W}var Zr=sl,aC=Zr;function oC(L){var w=L==null?0:L.length;return w?aC(L,1):[]}var We=oC,hC=$r;function lC(L,w){var M=L==null?0:L.length;return!!M&&hC(L,w,0)>-1}var nl=lC;function uC(L,w,M){for(var b=-1,W=L==null?0:L.length;++b<W;)if(M(w,L[b]))return!0;return!1}var rl=uC;function fC(){}var Jr=fC,nr=mh,dC=Jr,vC=Ir,cC=1/0,pC=nr&&1/vC(new nr([,-0]))[1]==cC?function(L){return new nr(L)}:dC,gC=pC,mC=Or,xC=nl,yC=rl,TC=wr,SC=gC,EC=Ir,CC=200;function PC(L,w,M){var b=-1,W=xC,Z=L.length,p=!0,S=[],t=S;if(M)p=!1,W=yC;else if(Z>=CC){var f=w?null:SC(L);if(f)return EC(f);p=!1,W=TC,t=new mC}else t=w?[]:S;t:for(;++b<Z;){var c=L[b],a=w?w(c):c;if(c=M||c!==0?c:0,p&&a===a){for(var r=t.length;r--;)if(t[r]===a)continue t;w&&t.push(a),S.push(c)}else W(t,a,M)||(t!==S&&t.push(a),S.push(c))}return S}var AC=PC,RC=AC;function MC(L){return L&&L.length?RC(L):[]}var Qr=MC,jr=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(xe,"__esModule",{value:!0});xe.firstForTerminal=xe.firstForBranching=xe.firstForSequence=xe.first=void 0;var FC=jr(We),al=jr(Qr),LC=jr(ne),xo=Jt,xr=Jt;function Bn(L){if(L instanceof xo.NonTerminal)return Bn(L.referencedRule);if(L instanceof xo.Terminal)return ll(L);if((0,xr.isSequenceProd)(L))return ol(L);if((0,xr.isBranchingProd)(L))return hl(L);throw Error("non exhaustive match")}xe.first=Bn;function ol(L){for(var w=[],M=L.definition,b=0,W=M.length>b,Z,p=!0;W&&p;)Z=M[b],p=(0,xr.isOptionalProd)(Z),w=w.concat(Bn(Z)),b=b+1,W=M.length>b;return(0,al.default)(w)}xe.firstForSequence=ol;function hl(L){var w=(0,LC.default)(L.definition,function(M){return Bn(M)});return(0,al.default)((0,FC.default)(w))}xe.firstForBranching=hl;function ll(L){return[L.terminalType]}xe.firstForTerminal=ll;var As={};Object.defineProperty(As,"__esModule",{value:!0});As.IN=void 0;As.IN="_~IN~_";var OC=vt&&vt.__extends||function(){var L=function(w,M){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,W){b.__proto__=W}||function(b,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(b[Z]=W[Z])},L(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");L(w,M);function b(){this.constructor=w}w.prototype=M===null?Object.create(M):(b.prototype=M.prototype,new b)}}(),ul=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.buildInProdFollowPrefix=Ce.buildBetweenProdsFollowPrefix=Ce.computeAllProdsFollows=Ce.ResyncFollowsWalker=void 0;var wC=Di,IC=xe,DC=ul(_t),BC=ul(wn),fl=As,NC=Jt,dl=function(L){OC(w,L);function w(M){var b=L.call(this)||this;return b.topProd=M,b.follows={},b}return w.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},w.prototype.walkTerminal=function(M,b,W){},w.prototype.walkProdRef=function(M,b,W){var Z=vl(M.referencedRule,M.idx)+this.topProd.name,p=b.concat(W),S=new NC.Alternative({definition:p}),t=(0,IC.first)(S);this.follows[Z]=t},w}(wC.RestWalker);Ce.ResyncFollowsWalker=dl;function GC(L){var w={};return(0,DC.default)(L,function(M){var b=new dl(M).startWalking();(0,BC.default)(w,b)}),w}Ce.computeAllProdsFollows=GC;function vl(L,w){return L.name+w+fl.IN}Ce.buildBetweenProdsFollowPrefix=vl;function bC(L){var w=L.terminalType.name;return w+L.idx+fl.IN}Ce.buildInProdFollowPrefix=bC;var oi={};function UC(L){return L===void 0}var Ni=UC,rr={},ar={},Nn={exports:{}};(function(L){(function(w,M){L.exports?L.exports=M():w.regexpToAst=M()})(typeof self<"u"?self:vt,function(){function w(){}w.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},w.prototype.restoreState=function(s){this.idx=s.idx,this.input=s.input,this.groupIdx=s.groupIdx},w.prototype.pattern=function(s){this.idx=0,this.input=s,this.groupIdx=0,this.consumeChar("/");var u=this.disjunction();this.consumeChar("/");for(var i={type:"Flags",loc:{begin:this.idx,end:s.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":S(i,"global");break;case"i":S(i,"ignoreCase");break;case"m":S(i,"multiLine");break;case"u":S(i,"unicode");break;case"y":S(i,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:i,value:u,loc:this.loc(0)}},w.prototype.disjunction=function(){var s=[],u=this.idx;for(s.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),s.push(this.alternative());return{type:"Disjunction",value:s,loc:this.loc(u)}},w.prototype.alternative=function(){for(var s=[],u=this.idx;this.isTerm();)s.push(this.term());return{type:"Alternative",value:s,loc:this.loc(u)}},w.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},w.prototype.assertion=function(){var s=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(s)};case"$":return{type:"EndAnchor",loc:this.loc(s)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(s)};case"B":return{type:"NonWordBoundary",loc:this.loc(s)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var u;switch(this.popChar()){case"=":u="Lookahead";break;case"!":u="NegativeLookahead";break}t(u);var i=this.disjunction();return this.consumeChar(")"),{type:u,value:i,loc:this.loc(s)}}f()},w.prototype.quantifier=function(s){var u,i=this.idx;switch(this.popChar()){case"*":u={atLeast:0,atMost:1/0};break;case"+":u={atLeast:1,atMost:1/0};break;case"?":u={atLeast:0,atMost:1};break;case"{":var o=this.integerIncludingZero();switch(this.popChar()){case"}":u={atLeast:o,atMost:o};break;case",":var h;this.isDigit()?(h=this.integerIncludingZero(),u={atLeast:o,atMost:h}):u={atLeast:o,atMost:1/0},this.consumeChar("}");break}if(s===!0&&u===void 0)return;t(u);break}if(!(s===!0&&u===void 0))return t(u),this.peekChar(0)==="?"?(this.consumeChar("?"),u.greedy=!1):u.greedy=!0,u.type="Quantifier",u.loc=this.loc(i),u},w.prototype.atom=function(){var s,u=this.idx;switch(this.peekChar()){case".":s=this.dotAll();break;case"\\":s=this.atomEscape();break;case"[":s=this.characterClass();break;case"(":s=this.group();break}return s===void 0&&this.isPatternCharacter()&&(s=this.patternCharacter()),t(s),s.loc=this.loc(u),this.isQuantifier()&&(s.quantifier=this.quantifier()),s},w.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Z(`
`),Z("\r"),Z("\u2028"),Z("\u2029")]}},w.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},w.prototype.decimalEscapeAtom=function(){var s=this.positiveInteger();return{type:"GroupBackReference",value:s}},w.prototype.characterClassEscape=function(){var s,u=!1;switch(this.popChar()){case"d":s=a;break;case"D":s=a,u=!0;break;case"s":s=n;break;case"S":s=n,u=!0;break;case"w":s=r;break;case"W":s=r,u=!0;break}return t(s),{type:"Set",value:s,complement:u}},w.prototype.controlEscapeAtom=function(){var s;switch(this.popChar()){case"f":s=Z("\f");break;case"n":s=Z(`
`);break;case"r":s=Z("\r");break;case"t":s=Z("	");break;case"v":s=Z("\v");break}return t(s),{type:"Character",value:s}},w.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var s=this.popChar();if(/[a-zA-Z]/.test(s)===!1)throw Error("Invalid ");var u=s.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:u}},w.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:Z("\0")}},w.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},w.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},w.prototype.identityEscapeAtom=function(){var s=this.popChar();return{type:"Character",value:Z(s)}},w.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var s=this.popChar();return{type:"Character",value:Z(s)}}},w.prototype.characterClass=function(){var s=[],u=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),u=!0);this.isClassAtom();){var i=this.classAtom(),o=i.type==="Character";if(o&&this.isRangeDash()){this.consumeChar("-");var h=this.classAtom(),l=h.type==="Character";if(l){if(h.value<i.value)throw Error("Range out of order in character class");s.push({from:i.value,to:h.value})}else p(i.value,s),s.push(Z("-")),p(h.value,s)}else p(i.value,s)}return this.consumeChar("]"),{type:"Set",complement:u,value:s}},w.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},w.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Z("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},w.prototype.group=function(){var s=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),s=!1;break;default:this.groupIdx++;break}var u=this.disjunction();this.consumeChar(")");var i={type:"Group",capturing:s,value:u};return s&&(i.idx=this.groupIdx),i},w.prototype.positiveInteger=function(){var s=this.popChar();if(W.test(s)===!1)throw Error("Expecting a positive integer");for(;b.test(this.peekChar(0));)s+=this.popChar();return parseInt(s,10)},w.prototype.integerIncludingZero=function(){var s=this.popChar();if(b.test(s)===!1)throw Error("Expecting an integer");for(;b.test(this.peekChar(0));)s+=this.popChar();return parseInt(s,10)},w.prototype.patternCharacter=function(){var s=this.popChar();switch(s){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Z(s)}}},w.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},w.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},w.prototype.isDigit=function(){return b.test(this.peekChar(0))},w.prototype.isClassAtom=function(s){switch(s===void 0&&(s=0),this.peekChar(s)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},w.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},w.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},w.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},w.prototype.isQuantifier=function(){var s=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(s)}},w.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},w.prototype.parseHexDigits=function(s){for(var u="",i=0;i<s;i++){var o=this.popChar();if(M.test(o)===!1)throw Error("Expecting a HexDecimal digits");u+=o}var h=parseInt(u,16);return{type:"Character",value:h}},w.prototype.peekChar=function(s){return s===void 0&&(s=0),this.input[this.idx+s]},w.prototype.popChar=function(){var s=this.peekChar(0);return this.consumeChar(),s},w.prototype.consumeChar=function(s){if(s!==void 0&&this.input[this.idx]!==s)throw Error("Expected: '"+s+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},w.prototype.loc=function(s){return{begin:s,end:this.idx}};var M=/[0-9a-fA-F]/,b=/[0-9]/,W=/[1-9]/;function Z(s){return s.charCodeAt(0)}function p(s,u){s.length!==void 0?s.forEach(function(i){u.push(i)}):u.push(s)}function S(s,u){if(s[u]===!0)throw"duplicate flag "+u;s[u]=!0}function t(s){if(s===void 0)throw Error("Internal Error - Should never get here!")}function f(){throw Error("Internal Error - Should never get here!")}var c,a=[];for(c=Z("0");c<=Z("9");c++)a.push(c);var r=[Z("_")].concat(a);for(c=Z("a");c<=Z("z");c++)r.push(c);for(c=Z("A");c<=Z("Z");c++)r.push(c);var n=[Z(" "),Z("\f"),Z(`
`),Z("\r"),Z("	"),Z("\v"),Z("	"),Z("\xA0"),Z("\u1680"),Z("\u2000"),Z("\u2001"),Z("\u2002"),Z("\u2003"),Z("\u2004"),Z("\u2005"),Z("\u2006"),Z("\u2007"),Z("\u2008"),Z("\u2009"),Z("\u200A"),Z("\u2028"),Z("\u2029"),Z("\u202F"),Z("\u205F"),Z("\u3000"),Z("\uFEFF")];function e(){}return e.prototype.visitChildren=function(s){for(var u in s){var i=s[u];s.hasOwnProperty(u)&&(i.type!==void 0?this.visit(i):Array.isArray(i)&&i.forEach(function(o){this.visit(o)},this))}},e.prototype.visit=function(s){switch(s.type){case"Pattern":this.visitPattern(s);break;case"Flags":this.visitFlags(s);break;case"Disjunction":this.visitDisjunction(s);break;case"Alternative":this.visitAlternative(s);break;case"StartAnchor":this.visitStartAnchor(s);break;case"EndAnchor":this.visitEndAnchor(s);break;case"WordBoundary":this.visitWordBoundary(s);break;case"NonWordBoundary":this.visitNonWordBoundary(s);break;case"Lookahead":this.visitLookahead(s);break;case"NegativeLookahead":this.visitNegativeLookahead(s);break;case"Character":this.visitCharacter(s);break;case"Set":this.visitSet(s);break;case"Group":this.visitGroup(s);break;case"GroupBackReference":this.visitGroupBackReference(s);break;case"Quantifier":this.visitQuantifier(s);break}this.visitChildren(s)},e.prototype.visitPattern=function(s){},e.prototype.visitFlags=function(s){},e.prototype.visitDisjunction=function(s){},e.prototype.visitAlternative=function(s){},e.prototype.visitStartAnchor=function(s){},e.prototype.visitEndAnchor=function(s){},e.prototype.visitWordBoundary=function(s){},e.prototype.visitNonWordBoundary=function(s){},e.prototype.visitLookahead=function(s){},e.prototype.visitNegativeLookahead=function(s){},e.prototype.visitCharacter=function(s){},e.prototype.visitSet=function(s){},e.prototype.visitGroup=function(s){},e.prototype.visitGroupBackReference=function(s){},e.prototype.visitQuantifier=function(s){},{RegExpParser:w,BaseRegExpVisitor:e,VERSION:"0.5.0"}})})(Nn);var Gi={exports:{}};function zC(L){return L&&L.length?L[0]:void 0}var VC=zC;(function(L){L.exports=VC})(Gi);function XC(L){for(var w=-1,M=L==null?0:L.length,b=0,W=[];++w<M;){var Z=L[w];Z&&(W[b++]=Z)}return W}var Gn=XC,YC=ai;function WC(L,w){var M=[];return YC(L,function(b,W,Z){w(b,W,Z)&&M.push(b)}),M}var cl=WC,HC="Expected a function";function $C(L){if(typeof L!="function")throw new TypeError(HC);return function(){var w=arguments;switch(w.length){case 0:return!L.call(this);case 1:return!L.call(this,w[0]);case 2:return!L.call(this,w[0],w[1]);case 3:return!L.call(this,w[0],w[1],w[2])}return!L.apply(this,w)}}var KC=$C,ZC=Br,JC=cl,QC=Ie,jC=Nt,kC=KC;function qC(L,w){var M=jC(L)?ZC:JC;return M(L,kC(QC(w)))}var kr=qC,_C=Or,tP=nl,eP=rl,iP=ys,sP=xs,nP=wr,rP=200;function aP(L,w,M,b){var W=-1,Z=tP,p=!0,S=L.length,t=[],f=w.length;if(!S)return t;M&&(w=iP(w,sP(M))),b?(Z=eP,p=!1):w.length>=rP&&(Z=nP,p=!1,w=new _C(w));t:for(;++W<S;){var c=L[W],a=M==null?c:M(c);if(c=b||c!==0?c:0,p&&a===a){for(var r=f;r--;)if(w[r]===a)continue t;t.push(c)}else Z(w,a,b)||t.push(c)}return t}var oP=aP,hP=we,lP=Oe;function uP(L){return lP(L)&&hP(L)}var fP=uP,dP=oP,vP=Zr,cP=Wr,yo=fP,pP=cP(function(L,w){return yo(L)?dP(L,vP(w,1,yo,!0)):[]}),qr=pP,gP=$r,mP=Ps,xP=Math.max;function yP(L,w,M){var b=L==null?0:L.length;if(!b)return-1;var W=M==null?0:mP(M);return W<0&&(W=xP(b+W,0)),gP(L,w,W)}var TP=yP,SP=Ie,EP=we,CP=ce;function PP(L){return function(w,M,b){var W=Object(w);if(!EP(w)){var Z=SP(M);w=CP(w),M=function(S){return Z(W[S],S,W)}}var p=L(w,M,b);return p>-1?W[Z?w[p]:p]:void 0}}var AP=PP,RP=el,MP=Ie,FP=Ps,LP=Math.max;function OP(L,w,M){var b=L==null?0:L.length;if(!b)return-1;var W=M==null?0:FP(M);return W<0&&(W=LP(b+W,0)),RP(L,MP(w),W)}var wP=OP,IP=AP,DP=wP,BP=IP(DP),_r=BP,NP=Br,GP=cl,bP=Ie,UP=Nt;function zP(L,w){var M=UP(L)?NP:GP;return M(L,bP(w))}var ta=zP,VP=Wr,XP=Ts,YP=On,WP=Rn,pl=Object.prototype,HP=pl.hasOwnProperty,$P=VP(function(L,w){L=Object(L);var M=-1,b=w.length,W=b>2?w[2]:void 0;for(W&&YP(w[0],w[1],W)&&(b=1);++M<b;)for(var Z=w[M],p=WP(Z),S=-1,t=p.length;++S<t;){var f=p[S],c=L[f];(c===void 0||XP(c,pl[f])&&!HP.call(L,f))&&(L[f]=Z[f])}return L}),gl=$P;function KP(L,w,M,b){var W=-1,Z=L==null?0:L.length;for(b&&Z&&(M=L[++W]);++W<Z;)M=w(M,L[W],W,L);return M}var ZP=KP;function JP(L,w,M,b,W){return W(L,function(Z,p,S){M=b?(b=!1,Z):w(M,Z,p,S)}),M}var QP=JP,jP=ZP,kP=ai,qP=Ie,_P=QP,tA=Nt;function eA(L,w,M){var b=tA(L)?jP:_P,W=arguments.length<3;return b(L,qP(w),M,W,kP)}var hi=eA,or={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.clearRegExpParserCache=Ze.getRegExpAst=void 0;var iA=Nn.exports,Us={},sA=new iA.RegExpParser;function nA(L){var w=L.toString();if(Us.hasOwnProperty(w))return Us[w];var M=sA.pattern(w);return Us[w]=M,M}Ze.getRegExpAst=nA;function rA(){Us={}}Ze.clearRegExpParserCache=rA;var To;function aA(){return To||(To=1,function(L){var w=vt&&vt.__extends||function(){var v=function(m,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T])},v(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");v(m,x);function g(){this.constructor=m}m.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}}(),M=vt&&vt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(L,"__esModule",{value:!0}),L.canMatchCharCode=L.firstCharOptimizedIndices=L.getOptimizedStartCodesIndices=L.failedOptimizationPrefixMsg=void 0;var b=Nn.exports,W=M(Nt),Z=M(Dn),p=M(_t),S=M(_r),t=M(Xe),f=M(Qe),c=Ii,a=Ze,r=ml(),n="Complement Sets are not supported for first char optimization";L.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function e(v,m){m===void 0&&(m=!1);try{var x=(0,a.getRegExpAst)(v),g=s(x.value,{},x.flags.ignoreCase);return g}catch(T){if(T.message===n)m&&(0,c.PRINT_WARNING)("".concat(L.failedOptimizationPrefixMsg)+"	Unable to optimize: < ".concat(v.toString(),` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var y="";m&&(y=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),(0,c.PRINT_ERROR)("".concat(L.failedOptimizationPrefixMsg,`
`)+"	Failed parsing: < ".concat(v.toString(),` >
`)+"	Using the regexp-to-ast library version: ".concat(b.VERSION,`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+y)}}return[]}L.getOptimizedStartCodesIndices=e;function s(v,m,x){switch(v.type){case"Disjunction":for(var g=0;g<v.value.length;g++)s(v.value[g],m,x);break;case"Alternative":for(var y=v.value,g=0;g<y.length;g++){var T=y[g];switch(T.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var E=T;switch(E.type){case"Character":u(E.value,m,x);break;case"Set":if(E.complement===!0)throw Error(n);(0,p.default)(E.value,function(P){if(typeof P=="number")u(P,m,x);else{var F=P;if(x===!0)for(var O=F.from;O<=F.to;O++)u(O,m,x);else{for(var O=F.from;O<=F.to&&O<r.minOptimizationVal;O++)u(O,m,x);if(F.to>=r.minOptimizationVal)for(var I=F.from>=r.minOptimizationVal?F.from:r.minOptimizationVal,G=F.to,z=(0,r.charCodeToOptimizedIndex)(I),X=(0,r.charCodeToOptimizedIndex)(G),H=z;H<=X;H++)m[H]=H}}});break;case"Group":s(E.value,m,x);break;default:throw Error("Non Exhaustive Match")}var C=E.quantifier!==void 0&&E.quantifier.atLeast===0;if(E.type==="Group"&&h(E)===!1||E.type!=="Group"&&C===!1)break}break;default:throw Error("non exhaustive match!")}return(0,t.default)(m)}L.firstCharOptimizedIndices=s;function u(v,m,x){var g=(0,r.charCodeToOptimizedIndex)(v);m[g]=g,x===!0&&i(v,m)}function i(v,m){var x=String.fromCharCode(v),g=x.toUpperCase();if(g!==x){var y=(0,r.charCodeToOptimizedIndex)(g.charCodeAt(0));m[y]=y}else{var T=x.toLowerCase();if(T!==x){var y=(0,r.charCodeToOptimizedIndex)(T.charCodeAt(0));m[y]=y}}}function o(v,m){return(0,S.default)(v.value,function(x){if(typeof x=="number")return(0,f.default)(m,x);var g=x;return(0,S.default)(m,function(y){return g.from<=y&&y<=g.to})!==void 0})}function h(v){var m=v.quantifier;return m&&m.atLeast===0?!0:v.value?(0,W.default)(v.value)?(0,Z.default)(v.value,h):h(v.value):!1}var l=function(v){w(m,v);function m(x){var g=v.call(this)||this;return g.targetCharCodes=x,g.found=!1,g}return m.prototype.visitChildren=function(x){if(this.found!==!0){switch(x.type){case"Lookahead":this.visitLookahead(x);return;case"NegativeLookahead":this.visitNegativeLookahead(x);return}v.prototype.visitChildren.call(this,x)}},m.prototype.visitCharacter=function(x){(0,f.default)(this.targetCharCodes,x.value)&&(this.found=!0)},m.prototype.visitSet=function(x){x.complement?o(x,this.targetCharCodes)===void 0&&(this.found=!0):o(x,this.targetCharCodes)!==void 0&&(this.found=!0)},m}(b.BaseRegExpVisitor);function d(v,m){if(m instanceof RegExp){var x=(0,a.getRegExpAst)(m),g=new l(v);return g.visit(x),g.found}else return(0,S.default)(m,function(y){return(0,f.default)(v,y.charCodeAt(0))})!==void 0}L.canMatchCharCode=d}(or)),or}var So;function ml(){return So||(So=1,function(L){var w=vt&&vt.__extends||function(){var lt=function(ot,at){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,ft){dt.__proto__=ft}||function(dt,ft){for(var ct in ft)Object.prototype.hasOwnProperty.call(ft,ct)&&(dt[ct]=ft[ct])},lt(ot,at)};return function(ot,at){if(typeof at!="function"&&at!==null)throw new TypeError("Class extends value "+String(at)+" is not a constructor or null");lt(ot,at);function dt(){this.constructor=ot}ot.prototype=at===null?Object.create(at):(dt.prototype=at.prototype,new dt)}}(),M=vt&&vt.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(L,"__esModule",{value:!0}),L.charCodeToOptimizedIndex=L.minOptimizationVal=L.buildLineBreakIssueMessage=L.LineTerminatorOptimizedTester=L.isShortPattern=L.isCustomPattern=L.cloneEmptyGroups=L.performWarningRuntimeChecks=L.performRuntimeChecks=L.addStickyFlag=L.addStartOfInput=L.findUnreachablePatterns=L.findModesThatDoNotExist=L.findInvalidGroupType=L.findDuplicatePatterns=L.findUnsupportedFlags=L.findStartOfInputAnchor=L.findEmptyMatchRegExps=L.findEndOfInputAnchor=L.findInvalidPatterns=L.findMissingPatterns=L.validatePatterns=L.analyzeTokenTypes=L.enableSticky=L.disableSticky=L.SUPPORT_STICKY=L.MODES=L.DEFAULT_MODE=void 0;var b=Nn.exports,W=bn(),Z=M(Gi.exports),p=M(Te),S=M(Gn),t=M(Nt),f=M(Xe),c=M(We),a=M(kr),r=M(qr),n=M(TP),e=M(ne),s=M(_t),u=M(Ln),i=M(gs),o=M(Ni),h=M(_r),l=M(pe),d=M(ce),v=M(Wh),m=M(ta),x=M(gl),g=M(hi),y=M(Qe),T=Ii,E=aA(),C=Ze,A="PATTERN";L.DEFAULT_MODE="defaultMode",L.MODES="modes",L.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function P(){L.SUPPORT_STICKY=!1}L.disableSticky=P;function F(){L.SUPPORT_STICKY=!0}L.enableSticky=F;function O(lt,ot){ot=(0,x.default)(ot,{useSticky:L.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(Ot,St){return St()}});var at=ot.tracer;at("initCharCodeToOptimizedIndexMap",function(){Tt()});var dt;at("Reject Lexer.NA",function(){dt=(0,a.default)(lt,function(Ot){return Ot[A]===W.Lexer.NA})});var ft=!1,ct;at("Transform Patterns",function(){ft=!1,ct=(0,e.default)(dt,function(Ot){var St=Ot[A];if((0,v.default)(St)){var Kt=St.source;return Kt.length===1&&Kt!=="^"&&Kt!=="$"&&Kt!=="."&&!St.ignoreCase?Kt:Kt.length===2&&Kt[0]==="\\"&&!(0,y.default)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Kt[1])?Kt[1]:ot.useSticky?q(St):k(St)}else{if((0,i.default)(St))return ft=!0,{exec:St};if(typeof St=="object")return ft=!0,St;if(typeof St=="string"){if(St.length===1)return St;var Wi=St.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),Ls=new RegExp(Wi);return ot.useSticky?q(Ls):k(Ls)}else throw Error("non exhaustive match")}})});var mt,Et,Pt,Ft,Yt;at("misc mapping",function(){mt=(0,e.default)(dt,function(Ot){return Ot.tokenTypeIdx}),Et=(0,e.default)(dt,function(Ot){var St=Ot.GROUP;if(St!==W.Lexer.SKIPPED){if((0,u.default)(St))return St;if((0,o.default)(St))return!1;throw Error("non exhaustive match")}}),Pt=(0,e.default)(dt,function(Ot){var St=Ot.LONGER_ALT;if(St){var Kt=(0,t.default)(St)?(0,e.default)(St,function(Wi){return(0,n.default)(dt,Wi)}):[(0,n.default)(dt,St)];return Kt}}),Ft=(0,e.default)(dt,function(Ot){return Ot.PUSH_MODE}),Yt=(0,e.default)(dt,function(Ot){return(0,l.default)(Ot,"POP_MODE")})});var Vt;at("Line Terminator Handling",function(){var Ot=rt(ot.lineTerminatorCharacters);Vt=(0,e.default)(dt,function(St){return!1}),ot.positionTracking!=="onlyOffset"&&(Vt=(0,e.default)(dt,function(St){return(0,l.default)(St,"LINE_BREAKS")?!!St.LINE_BREAKS:ut(St,Ot)===!1&&(0,E.canMatchCharCode)(Ot,St.PATTERN)}))});var $t,Xi,Yi,ge;at("Misc Mapping #2",function(){$t=(0,e.default)(dt,st),Xi=(0,e.default)(ct,ht),Yi=(0,g.default)(dt,function(Ot,St){var Kt=St.GROUP;return(0,u.default)(Kt)&&Kt!==W.Lexer.SKIPPED&&(Ot[Kt]=[]),Ot},{}),ge=(0,e.default)(ct,function(Ot,St){return{pattern:ct[St],longerAlt:Pt[St],canLineTerminator:Vt[St],isCustom:$t[St],short:Xi[St],group:Et[St],push:Ft[St],pop:Yt[St],tokenTypeIdx:mt[St],tokenType:dt[St]}})});var He=!0,kt=[];return ot.safeMode||at("First Char Optimization",function(){kt=(0,g.default)(dt,function(Ot,St,Kt){if(typeof St.PATTERN=="string"){var Wi=St.PATTERN.charCodeAt(0),Ls=gt(Wi);nt(Ot,Ls,ge[Kt])}else if((0,t.default)(St.START_CHARS_HINT)){var va;(0,s.default)(St.START_CHARS_HINT,function(Hi){var jl=typeof Hi=="string"?Hi.charCodeAt(0):Hi,qn=gt(jl);va!==qn&&(va=qn,nt(Ot,qn,ge[Kt]))})}else if((0,v.default)(St.PATTERN))if(St.PATTERN.unicode)He=!1,ot.ensureOptimizations&&(0,T.PRINT_ERROR)("".concat(E.failedOptimizationPrefixMsg)+"	Unable to analyze < ".concat(St.PATTERN.toString(),` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var ca=(0,E.getOptimizedStartCodesIndices)(St.PATTERN,ot.ensureOptimizations);(0,p.default)(ca)&&(He=!1),(0,s.default)(ca,function(Hi){nt(Ot,Hi,ge[Kt])})}else ot.ensureOptimizations&&(0,T.PRINT_ERROR)("".concat(E.failedOptimizationPrefixMsg)+"	TokenType: <".concat(St.name,`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),He=!1;return Ot},[])}),{emptyGroups:Yi,patternIdxToConfig:ge,charCodeToPatternIdxToConfig:kt,hasCustom:ft,canBeOptimized:He}}L.analyzeTokenTypes=O;function I(lt,ot){var at=[],dt=z(lt);at=at.concat(dt.errors);var ft=X(dt.valid),ct=ft.valid;return at=at.concat(ft.errors),at=at.concat(G(ct)),at=at.concat(Y(ct)),at=at.concat(K(ct,ot)),at=at.concat($(ct)),at}L.validatePatterns=I;function G(lt){var ot=[],at=(0,m.default)(lt,function(dt){return(0,v.default)(dt[A])});return ot=ot.concat(N(at)),ot=ot.concat(D(at)),ot=ot.concat(B(at)),ot=ot.concat(V(at)),ot=ot.concat(U(at)),ot}function z(lt){var ot=(0,m.default)(lt,function(ft){return!(0,l.default)(ft,A)}),at=(0,e.default)(ot,function(ft){return{message:"Token Type: ->"+ft.name+"<- missing static 'PATTERN' property",type:W.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[ft]}}),dt=(0,r.default)(lt,ot);return{errors:at,valid:dt}}L.findMissingPatterns=z;function X(lt){var ot=(0,m.default)(lt,function(ft){var ct=ft[A];return!(0,v.default)(ct)&&!(0,i.default)(ct)&&!(0,l.default)(ct,"exec")&&!(0,u.default)(ct)}),at=(0,e.default)(ot,function(ft){return{message:"Token Type: ->"+ft.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:W.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[ft]}}),dt=(0,r.default)(lt,ot);return{errors:at,valid:dt}}L.findInvalidPatterns=X;var H=/[^\\][$]/;function N(lt){var ot=function(ft){w(ct,ft);function ct(){var mt=ft!==null&&ft.apply(this,arguments)||this;return mt.found=!1,mt}return ct.prototype.visitEndAnchor=function(mt){this.found=!0},ct}(b.BaseRegExpVisitor),at=(0,m.default)(lt,function(ft){var ct=ft.PATTERN;try{var mt=(0,C.getRegExpAst)(ct),Et=new ot;return Et.visit(mt),Et.found}catch{return H.test(ct.source)}}),dt=(0,e.default)(at,function(ft){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+ft.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:W.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[ft]}});return dt}L.findEndOfInputAnchor=N;function U(lt){var ot=(0,m.default)(lt,function(dt){var ft=dt.PATTERN;return ft.test("")}),at=(0,e.default)(ot,function(dt){return{message:"Token Type: ->"+dt.name+"<- static 'PATTERN' must not match an empty string",type:W.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[dt]}});return at}L.findEmptyMatchRegExps=U;var R=/[^\\[][\^]|^\^/;function D(lt){var ot=function(ft){w(ct,ft);function ct(){var mt=ft!==null&&ft.apply(this,arguments)||this;return mt.found=!1,mt}return ct.prototype.visitStartAnchor=function(mt){this.found=!0},ct}(b.BaseRegExpVisitor),at=(0,m.default)(lt,function(ft){var ct=ft.PATTERN;try{var mt=(0,C.getRegExpAst)(ct),Et=new ot;return Et.visit(mt),Et.found}catch{return R.test(ct.source)}}),dt=(0,e.default)(at,function(ft){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+ft.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:W.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[ft]}});return dt}L.findStartOfInputAnchor=D;function B(lt){var ot=(0,m.default)(lt,function(dt){var ft=dt[A];return ft instanceof RegExp&&(ft.multiline||ft.global)}),at=(0,e.default)(ot,function(dt){return{message:"Token Type: ->"+dt.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:W.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[dt]}});return at}L.findUnsupportedFlags=B;function V(lt){var ot=[],at=(0,e.default)(lt,function(ct){return(0,g.default)(lt,function(mt,Et){return ct.PATTERN.source===Et.PATTERN.source&&!(0,y.default)(ot,Et)&&Et.PATTERN!==W.Lexer.NA&&(ot.push(Et),mt.push(Et)),mt},[])});at=(0,S.default)(at);var dt=(0,m.default)(at,function(ct){return ct.length>1}),ft=(0,e.default)(dt,function(ct){var mt=(0,e.default)(ct,function(Pt){return Pt.name}),Et=(0,Z.default)(ct).PATTERN;return{message:"The same RegExp pattern ->".concat(Et,"<-")+"has been used in all of the following Token Types: ".concat(mt.join(", ")," <-"),type:W.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:ct}});return ft}L.findDuplicatePatterns=V;function Y(lt){var ot=(0,m.default)(lt,function(dt){if(!(0,l.default)(dt,"GROUP"))return!1;var ft=dt.GROUP;return ft!==W.Lexer.SKIPPED&&ft!==W.Lexer.NA&&!(0,u.default)(ft)}),at=(0,e.default)(ot,function(dt){return{message:"Token Type: ->"+dt.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:W.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[dt]}});return at}L.findInvalidGroupType=Y;function K(lt,ot){var at=(0,m.default)(lt,function(ft){return ft.PUSH_MODE!==void 0&&!(0,y.default)(ot,ft.PUSH_MODE)}),dt=(0,e.default)(at,function(ft){var ct="Token Type: ->".concat(ft.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(ft.PUSH_MODE,"<-")+"which does not exist";return{message:ct,type:W.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[ft]}});return dt}L.findModesThatDoNotExist=K;function $(lt){var ot=[],at=(0,g.default)(lt,function(dt,ft,ct){var mt=ft.PATTERN;return mt===W.Lexer.NA||((0,u.default)(mt)?dt.push({str:mt,idx:ct,tokenType:ft}):(0,v.default)(mt)&&Q(mt)&&dt.push({str:mt.source,idx:ct,tokenType:ft})),dt},[]);return(0,s.default)(lt,function(dt,ft){(0,s.default)(at,function(ct){var mt=ct.str,Et=ct.idx,Pt=ct.tokenType;if(ft<Et&&J(mt,dt.PATTERN)){var Ft="Token: ->".concat(Pt.name,`<- can never be matched.
`)+"Because it appears AFTER the Token Type ->".concat(dt.name,"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;ot.push({message:Ft,type:W.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[dt,Pt]})}})}),ot}L.findUnreachablePatterns=$;function J(lt,ot){if((0,v.default)(ot)){var at=ot.exec(lt);return at!==null&&at.index===0}else{if((0,i.default)(ot))return ot(lt,0,[],{});if((0,l.default)(ot,"exec"))return ot.exec(lt,0,[],{});if(typeof ot=="string")return ot===lt;throw Error("non exhaustive match")}}function Q(lt){var ot=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,h.default)(ot,function(at){return lt.source.indexOf(at)!==-1})===void 0}function k(lt){var ot=lt.ignoreCase?"i":"";return new RegExp("^(?:".concat(lt.source,")"),ot)}L.addStartOfInput=k;function q(lt){var ot=lt.ignoreCase?"iy":"y";return new RegExp("".concat(lt.source),ot)}L.addStickyFlag=q;function tt(lt,ot,at){var dt=[];return(0,l.default)(lt,L.DEFAULT_MODE)||dt.push({message:"A MultiMode Lexer cannot be initialized without a <"+L.DEFAULT_MODE+`> property in its definition
`,type:W.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,l.default)(lt,L.MODES)||dt.push({message:"A MultiMode Lexer cannot be initialized without a <"+L.MODES+`> property in its definition
`,type:W.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,l.default)(lt,L.MODES)&&(0,l.default)(lt,L.DEFAULT_MODE)&&!(0,l.default)(lt.modes,lt.defaultMode)&&dt.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(L.DEFAULT_MODE,": <").concat(lt.defaultMode,">")+`which does not exist
`,type:W.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,l.default)(lt,L.MODES)&&(0,s.default)(lt.modes,function(ft,ct){(0,s.default)(ft,function(mt,Et){if((0,o.default)(mt))dt.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(ct,"> at index: <").concat(Et,`>
`),type:W.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,l.default)(mt,"LONGER_ALT")){var Pt=(0,t.default)(mt.LONGER_ALT)?mt.LONGER_ALT:[mt.LONGER_ALT];(0,s.default)(Pt,function(Ft){!(0,o.default)(Ft)&&!(0,y.default)(ft,Ft)&&dt.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(Ft.name,"> on token <").concat(mt.name,"> outside of mode <").concat(ct,`>
`),type:W.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),dt}L.performRuntimeChecks=tt;function _(lt,ot,at){var dt=[],ft=!1,ct=(0,S.default)((0,c.default)((0,f.default)(lt.modes))),mt=(0,a.default)(ct,function(Pt){return Pt[A]===W.Lexer.NA}),Et=rt(at);return ot&&(0,s.default)(mt,function(Pt){var Ft=ut(Pt,Et);if(Ft!==!1){var Yt=et(Pt,Ft),Vt={message:Yt,type:Ft.issue,tokenType:Pt};dt.push(Vt)}else(0,l.default)(Pt,"LINE_BREAKS")?Pt.LINE_BREAKS===!0&&(ft=!0):(0,E.canMatchCharCode)(Et,Pt.PATTERN)&&(ft=!0)}),ot&&!ft&&dt.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:W.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),dt}L.performWarningRuntimeChecks=_;function it(lt){var ot={},at=(0,d.default)(lt);return(0,s.default)(at,function(dt){var ft=lt[dt];if((0,t.default)(ft))ot[dt]=[];else throw Error("non exhaustive match")}),ot}L.cloneEmptyGroups=it;function st(lt){var ot=lt.PATTERN;if((0,v.default)(ot))return!1;if((0,i.default)(ot))return!0;if((0,l.default)(ot,"exec"))return!0;if((0,u.default)(ot))return!1;throw Error("non exhaustive match")}L.isCustomPattern=st;function ht(lt){return(0,u.default)(lt)&&lt.length===1?lt.charCodeAt(0):!1}L.isShortPattern=ht,L.LineTerminatorOptimizedTester={test:function(lt){for(var ot=lt.length,at=this.lastIndex;at<ot;at++){var dt=lt.charCodeAt(at);if(dt===10)return this.lastIndex=at+1,!0;if(dt===13)return lt.charCodeAt(at+1)===10?this.lastIndex=at+2:this.lastIndex=at+1,!0}return!1},lastIndex:0};function ut(lt,ot){if((0,l.default)(lt,"LINE_BREAKS"))return!1;if((0,v.default)(lt.PATTERN)){try{(0,E.canMatchCharCode)(ot,lt.PATTERN)}catch(at){return{issue:W.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:at.message}}return!1}else{if((0,u.default)(lt.PATTERN))return!1;if(st(lt))return{issue:W.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function et(lt,ot){if(ot.issue===W.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+"	The problem is in the <".concat(lt.name,`> Token Type
`)+"	 Root cause: ".concat(ot.errMsg,`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(ot.issue===W.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+"	The problem is in the <".concat(lt.name,`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}L.buildLineBreakIssueMessage=et;function rt(lt){var ot=(0,e.default)(lt,function(at){return(0,u.default)(at)?at.charCodeAt(0):at});return ot}function nt(lt,ot,at){lt[ot]===void 0?lt[ot]=[at]:lt[ot].push(at)}L.minOptimizationVal=256;var pt=[];function gt(lt){return lt<L.minOptimizationVal?lt:pt[lt]}L.charCodeToOptimizedIndex=gt;function Tt(){if((0,p.default)(pt)){pt=new Array(65536);for(var lt=0;lt<65536;lt++)pt[lt]=lt>255?255+~~(lt/255):lt}}}(ar)),ar}function oA(L){var w=L==null?0:L.length;return w?L[w-1]:void 0}var ea=oA,li={};(function(L){var w=vt&&vt.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(L,"__esModule",{value:!0}),L.isTokenType=L.hasExtendingTokensTypesMapProperty=L.hasExtendingTokensTypesProperty=L.hasCategoriesProperty=L.hasShortKeyProperty=L.singleAssignCategoriesToksMap=L.assignCategoriesMapProp=L.assignCategoriesTokensProp=L.assignTokenDefaultProps=L.expandCategories=L.augmentTokenTypes=L.tokenIdxToClass=L.tokenShortNameIdx=L.tokenStructuredMatcherNoCategories=L.tokenStructuredMatcher=void 0;var M=w(Te),b=w(Gn),W=w(Nt),Z=w(We),p=w(qr),S=w(ne),t=w(_t),f=w(pe),c=w(Qe),a=w(Je);function r(g,y){var T=g.tokenTypeIdx;return T===y.tokenTypeIdx?!0:y.isParent===!0&&y.categoryMatchesMap[T]===!0}L.tokenStructuredMatcher=r;function n(g,y){return g.tokenTypeIdx===y.tokenTypeIdx}L.tokenStructuredMatcherNoCategories=n,L.tokenShortNameIdx=1,L.tokenIdxToClass={};function e(g){var y=s(g);u(y),o(y),i(y),(0,t.default)(y,function(T){T.isParent=T.categoryMatches.length>0})}L.augmentTokenTypes=e;function s(g){for(var y=(0,a.default)(g),T=g,E=!0;E;){T=(0,b.default)((0,Z.default)((0,S.default)(T,function(A){return A.CATEGORIES})));var C=(0,p.default)(T,y);y=y.concat(C),(0,M.default)(C)?E=!1:T=C}return y}L.expandCategories=s;function u(g){(0,t.default)(g,function(y){l(y)||(L.tokenIdxToClass[L.tokenShortNameIdx]=y,y.tokenTypeIdx=L.tokenShortNameIdx++),d(y)&&!(0,W.default)(y.CATEGORIES)&&(y.CATEGORIES=[y.CATEGORIES]),d(y)||(y.CATEGORIES=[]),v(y)||(y.categoryMatches=[]),m(y)||(y.categoryMatchesMap={})})}L.assignTokenDefaultProps=u;function i(g){(0,t.default)(g,function(y){y.categoryMatches=[],(0,t.default)(y.categoryMatchesMap,function(T,E){y.categoryMatches.push(L.tokenIdxToClass[E].tokenTypeIdx)})})}L.assignCategoriesTokensProp=i;function o(g){(0,t.default)(g,function(y){h([],y)})}L.assignCategoriesMapProp=o;function h(g,y){(0,t.default)(g,function(T){y.categoryMatchesMap[T.tokenTypeIdx]=!0}),(0,t.default)(y.CATEGORIES,function(T){var E=g.concat(y);(0,c.default)(E,T)||h(E,T)})}L.singleAssignCategoriesToksMap=h;function l(g){return(0,f.default)(g,"tokenTypeIdx")}L.hasShortKeyProperty=l;function d(g){return(0,f.default)(g,"CATEGORIES")}L.hasCategoriesProperty=d;function v(g){return(0,f.default)(g,"categoryMatches")}L.hasExtendingTokensTypesProperty=v;function m(g){return(0,f.default)(g,"categoryMatchesMap")}L.hasExtendingTokensTypesMapProperty=m;function x(g){return(0,f.default)(g,"tokenTypeIdx")}L.isTokenType=x})(li);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.defaultLexerErrorProvider=void 0;Rs.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(L){return"Unable to pop Lexer Mode after encountering Token ->".concat(L.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(L,w,M,b,W){return"unexpected character: ->".concat(L.charAt(w),"<- at offset: ").concat(w,",")+" skipped ".concat(M," characters.")}};var Eo;function bn(){return Eo||(Eo=1,function(L){var w=vt&&vt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(L,"__esModule",{value:!0}),L.Lexer=L.LexerDefinitionErrorType=void 0;var M=ml(),b=w(Jr),W=w(Te),Z=w(Nt),p=w(ea),S=w(kr),t=w(ne),f=w(_t),c=w(ce),a=w(Ni),r=w(Es),n=w(wn),e=w(hi),s=w(Je),u=Ii,i=li,o=Rs,h=Ze;(function(v){v[v.MISSING_PATTERN=0]="MISSING_PATTERN",v[v.INVALID_PATTERN=1]="INVALID_PATTERN",v[v.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",v[v.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",v[v.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",v[v.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",v[v.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",v[v.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",v[v.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",v[v.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",v[v.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",v[v.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",v[v.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",v[v.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",v[v.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",v[v.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",v[v.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",v[v.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(L.LexerDefinitionErrorType||(L.LexerDefinitionErrorType={}));var l={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:o.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(l);var d=function(){function v(m,x){x===void 0&&(x=l);var g=this;if(this.lexerDefinition=m,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(T,E){if(g.traceInitPerf===!0){g.traceInitIndent++;var C=new Array(g.traceInitIndent+1).join("	");g.traceInitIndent<g.traceInitMaxIdent&&console.log("".concat(C,"--> <").concat(T,">"));var A=(0,u.timer)(E),P=A.time,F=A.value,O=P>10?console.warn:console.log;return g.traceInitIndent<g.traceInitMaxIdent&&O("".concat(C,"<-- <").concat(T,"> time: ").concat(P,"ms")),g.traceInitIndent--,F}else return E()},typeof x=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=(0,n.default)({},l,x);var y=this.config.traceInitPerf;y===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof y=="number"&&(this.traceInitMaxIdent=y,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var T,E=!0;g.TRACE_INIT("Lexer Config handling",function(){if(g.config.lineTerminatorsPattern===l.lineTerminatorsPattern)g.config.lineTerminatorsPattern=M.LineTerminatorOptimizedTester;else if(g.config.lineTerminatorCharacters===l.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(x.safeMode&&x.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');g.trackStartLines=/full|onlyStart/i.test(g.config.positionTracking),g.trackEndLines=/full/i.test(g.config.positionTracking),(0,Z.default)(m)?T={modes:{defaultMode:(0,s.default)(m)},defaultMode:M.DEFAULT_MODE}:(E=!1,T=(0,s.default)(m))}),g.config.skipValidations===!1&&(g.TRACE_INIT("performRuntimeChecks",function(){g.lexerDefinitionErrors=g.lexerDefinitionErrors.concat((0,M.performRuntimeChecks)(T,g.trackStartLines,g.config.lineTerminatorCharacters))}),g.TRACE_INIT("performWarningRuntimeChecks",function(){g.lexerDefinitionWarning=g.lexerDefinitionWarning.concat((0,M.performWarningRuntimeChecks)(T,g.trackStartLines,g.config.lineTerminatorCharacters))})),T.modes=T.modes?T.modes:{},(0,f.default)(T.modes,function(F,O){T.modes[O]=(0,S.default)(F,function(I){return(0,a.default)(I)})});var C=(0,c.default)(T.modes);if((0,f.default)(T.modes,function(F,O){g.TRACE_INIT("Mode: <".concat(O,"> processing"),function(){if(g.modes.push(O),g.config.skipValidations===!1&&g.TRACE_INIT("validatePatterns",function(){g.lexerDefinitionErrors=g.lexerDefinitionErrors.concat((0,M.validatePatterns)(F,C))}),(0,W.default)(g.lexerDefinitionErrors)){(0,i.augmentTokenTypes)(F);var I;g.TRACE_INIT("analyzeTokenTypes",function(){I=(0,M.analyzeTokenTypes)(F,{lineTerminatorCharacters:g.config.lineTerminatorCharacters,positionTracking:x.positionTracking,ensureOptimizations:x.ensureOptimizations,safeMode:x.safeMode,tracer:g.TRACE_INIT})}),g.patternIdxToConfig[O]=I.patternIdxToConfig,g.charCodeToPatternIdxToConfig[O]=I.charCodeToPatternIdxToConfig,g.emptyGroups=(0,n.default)({},g.emptyGroups,I.emptyGroups),g.hasCustom=I.hasCustom||g.hasCustom,g.canModeBeOptimized[O]=I.canBeOptimized}})}),g.defaultMode=T.defaultMode,!(0,W.default)(g.lexerDefinitionErrors)&&!g.config.deferDefinitionErrorsHandling){var A=(0,t.default)(g.lexerDefinitionErrors,function(F){return F.message}),P=A.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+P)}(0,f.default)(g.lexerDefinitionWarning,function(F){(0,u.PRINT_WARNING)(F.message)}),g.TRACE_INIT("Choosing sub-methods implementations",function(){if(M.SUPPORT_STICKY?(g.chopInput=r.default,g.match=g.matchWithTest):(g.updateLastIndex=b.default,g.match=g.matchWithExec),E&&(g.handleModes=b.default),g.trackStartLines===!1&&(g.computeNewColumn=r.default),g.trackEndLines===!1&&(g.updateTokenEndLineColumnLocation=b.default),/full/i.test(g.config.positionTracking))g.createTokenInstance=g.createFullToken;else if(/onlyStart/i.test(g.config.positionTracking))g.createTokenInstance=g.createStartOnlyToken;else if(/onlyOffset/i.test(g.config.positionTracking))g.createTokenInstance=g.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'.concat(g.config.positionTracking,'"'));g.hasCustom?(g.addToken=g.addTokenUsingPush,g.handlePayload=g.handlePayloadWithCustom):(g.addToken=g.addTokenUsingMemberAccess,g.handlePayload=g.handlePayloadNoCustom)}),g.TRACE_INIT("Failed Optimization Warnings",function(){var F=(0,e.default)(g.canModeBeOptimized,function(O,I,G){return I===!1&&O.push(G),O},[]);if(x.ensureOptimizations&&!(0,W.default)(F))throw Error("Lexer Modes: < ".concat(F.join(", "),` > cannot be optimized.
`)+`	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),g.TRACE_INIT("clearRegExpParserCache",function(){(0,h.clearRegExpParserCache)()}),g.TRACE_INIT("toFastProperties",function(){(0,u.toFastProperties)(g)})})}return v.prototype.tokenize=function(m,x){if(x===void 0&&(x=this.defaultMode),!(0,W.default)(this.lexerDefinitionErrors)){var g=(0,t.default)(this.lexerDefinitionErrors,function(T){return T.message}),y=g.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+y)}return this.tokenizeInternal(m,x)},v.prototype.tokenizeInternal=function(m,x){var g=this,y,T,E,C,A,P,F,O,I,G,z,X,H,N,U,R=m,D=R.length,B=0,V=0,Y=this.hasCustom?0:Math.floor(m.length/10),K=new Array(Y),$=[],J=this.trackStartLines?1:void 0,Q=this.trackStartLines?1:void 0,k=(0,M.cloneEmptyGroups)(this.emptyGroups),q=this.trackStartLines,tt=this.config.lineTerminatorsPattern,_=0,it=[],st=[],ht=[],ut=[];Object.freeze(ut);var et;function rt(){return it}function nt(kt){var Ot=(0,M.charCodeToOptimizedIndex)(kt),St=st[Ot];return St===void 0?ut:St}var pt=function(kt){if(ht.length===1&&kt.tokenType.PUSH_MODE===void 0){var Ot=g.config.errorMessageProvider.buildUnableToPopLexerModeMessage(kt);$.push({offset:kt.startOffset,line:kt.startLine,column:kt.startColumn,length:kt.image.length,message:Ot})}else{ht.pop();var St=(0,p.default)(ht);it=g.patternIdxToConfig[St],st=g.charCodeToPatternIdxToConfig[St],_=it.length;var Kt=g.canModeBeOptimized[St]&&g.config.safeMode===!1;st&&Kt?et=nt:et=rt}};function gt(kt){ht.push(kt),st=this.charCodeToPatternIdxToConfig[kt],it=this.patternIdxToConfig[kt],_=it.length,_=it.length;var Ot=this.canModeBeOptimized[kt]&&this.config.safeMode===!1;st&&Ot?et=nt:et=rt}gt.call(this,x);for(var Tt,lt=this.config.recoveryEnabled;B<D;){P=null;var ot=R.charCodeAt(B),at=et(ot),dt=at.length;for(y=0;y<dt;y++){Tt=at[y];var ft=Tt.pattern;F=null;var ct=Tt.short;if(ct!==!1?ot===ct&&(P=ft):Tt.isCustom===!0?(U=ft.exec(R,B,K,k),U!==null?(P=U[0],U.payload!==void 0&&(F=U.payload)):P=null):(this.updateLastIndex(ft,B),P=this.match(ft,m,B)),P!==null){if(A=Tt.longerAlt,A!==void 0){var mt=A.length;for(E=0;E<mt;E++){var Et=it[A[E]],Pt=Et.pattern;if(O=null,Et.isCustom===!0?(U=Pt.exec(R,B,K,k),U!==null?(C=U[0],U.payload!==void 0&&(O=U.payload)):C=null):(this.updateLastIndex(Pt,B),C=this.match(Pt,m,B)),C&&C.length>P.length){P=C,F=O,Tt=Et;break}}}break}}if(P!==null){if(I=P.length,G=Tt.group,G!==void 0&&(z=Tt.tokenTypeIdx,X=this.createTokenInstance(P,B,z,Tt.tokenType,J,Q,I),this.handlePayload(X,F),G===!1?V=this.addToken(K,V,X):k[G].push(X)),m=this.chopInput(m,I),B=B+I,Q=this.computeNewColumn(Q,I),q===!0&&Tt.canLineTerminator===!0){var Ft=0,Yt=void 0,Vt=void 0;tt.lastIndex=0;do Yt=tt.test(P),Yt===!0&&(Vt=tt.lastIndex-1,Ft++);while(Yt===!0);Ft!==0&&(J=J+Ft,Q=I-Vt,this.updateTokenEndLineColumnLocation(X,G,Vt,Ft,J,Q,I))}this.handleModes(Tt,pt,gt,X)}else{for(var $t=B,Xi=J,Yi=Q,ge=lt===!1;ge===!1&&B<D;)for(m=this.chopInput(m,1),B++,T=0;T<_;T++){var He=it[T],ft=He.pattern,ct=He.short;if(ct!==!1?R.charCodeAt(B)===ct&&(ge=!0):He.isCustom===!0?ge=ft.exec(R,B,K,k)!==null:(this.updateLastIndex(ft,B),ge=ft.exec(m)!==null),ge===!0)break}if(H=B-$t,N=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(R,$t,H,Xi,Yi),$.push({offset:$t,line:Xi,column:Yi,length:H,message:N}),lt===!1)break}}return this.hasCustom||(K.length=V),{tokens:K,groups:k,errors:$}},v.prototype.handleModes=function(m,x,g,y){if(m.pop===!0){var T=m.push;x(y),T!==void 0&&g.call(this,T)}else m.push!==void 0&&g.call(this,m.push)},v.prototype.chopInput=function(m,x){return m.substring(x)},v.prototype.updateLastIndex=function(m,x){m.lastIndex=x},v.prototype.updateTokenEndLineColumnLocation=function(m,x,g,y,T,E,C){var A,P;x!==void 0&&(A=g===C-1,P=A?-1:0,y===1&&A===!0||(m.endLine=T+P,m.endColumn=E-1+-P))},v.prototype.computeNewColumn=function(m,x){return m+x},v.prototype.createOffsetOnlyToken=function(m,x,g,y){return{image:m,startOffset:x,tokenTypeIdx:g,tokenType:y}},v.prototype.createStartOnlyToken=function(m,x,g,y,T,E){return{image:m,startOffset:x,startLine:T,startColumn:E,tokenTypeIdx:g,tokenType:y}},v.prototype.createFullToken=function(m,x,g,y,T,E,C){return{image:m,startOffset:x,endOffset:x+C-1,startLine:T,endLine:T,startColumn:E,endColumn:E+C-1,tokenTypeIdx:g,tokenType:y}},v.prototype.addTokenUsingPush=function(m,x,g){return m.push(g),x},v.prototype.addTokenUsingMemberAccess=function(m,x,g){return m[x]=g,x++,x},v.prototype.handlePayloadNoCustom=function(m,x){},v.prototype.handlePayloadWithCustom=function(m,x){x!==null&&(m.payload=x)},v.prototype.matchWithTest=function(m,x,g){var y=m.test(x);return y===!0?x.substring(g,m.lastIndex):null},v.prototype.matchWithExec=function(m,x){var g=m.exec(x);return g!==null?g[0]:null},v.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",v.NA=/NOT_APPLICABLE/,v}();L.Lexer=d}(rr)),rr}(function(L){var w=vt&&vt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(L,"__esModule",{value:!0}),L.tokenMatcher=L.createTokenInstance=L.EOF=L.createToken=L.hasTokenLabel=L.tokenName=L.tokenLabel=void 0;var M=w(Ln),b=w(pe),W=w(Ni),Z=bn(),p=li;function S(m){return f(m)?m.LABEL:m.name}L.tokenLabel=S;function t(m){return m.name}L.tokenName=t;function f(m){return(0,M.default)(m.LABEL)&&m.LABEL!==""}L.hasTokenLabel=f;var c="parent",a="categories",r="label",n="group",e="push_mode",s="pop_mode",u="longer_alt",i="line_breaks",o="start_chars_hint";function h(m){return l(m)}L.createToken=h;function l(m){var x=m.pattern,g={};if(g.name=m.name,(0,W.default)(x)||(g.PATTERN=x),(0,b.default)(m,c))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,b.default)(m,a)&&(g.CATEGORIES=m[a]),(0,p.augmentTokenTypes)([g]),(0,b.default)(m,r)&&(g.LABEL=m[r]),(0,b.default)(m,n)&&(g.GROUP=m[n]),(0,b.default)(m,s)&&(g.POP_MODE=m[s]),(0,b.default)(m,e)&&(g.PUSH_MODE=m[e]),(0,b.default)(m,u)&&(g.LONGER_ALT=m[u]),(0,b.default)(m,i)&&(g.LINE_BREAKS=m[i]),(0,b.default)(m,o)&&(g.START_CHARS_HINT=m[o]),g}L.EOF=h({name:"EOF",pattern:Z.Lexer.NA}),(0,p.augmentTokenTypes)([L.EOF]);function d(m,x,g,y,T,E,C,A){return{image:x,startOffset:g,endOffset:y,startLine:T,endLine:E,startColumn:C,endColumn:A,tokenTypeIdx:m.tokenTypeIdx,tokenType:m}}L.createTokenInstance=d;function v(m,x){return(0,p.tokenStructuredMatcher)(m,x)}L.tokenMatcher=v})(oi);var bi={};(function(L){var w=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(L,"__esModule",{value:!0}),L.defaultGrammarValidatorErrorProvider=L.defaultGrammarResolverErrorProvider=L.defaultParserErrorProvider=void 0;var M=oi,b=w(Gi.exports),W=w(ne),Z=w(hi),p=Jt,S=Jt;L.defaultParserErrorProvider={buildMismatchTokenMessage:function(t){var f=t.expected,c=t.actual;t.previous,t.ruleName;var a=(0,M.hasTokenLabel)(f),r=a?"--> ".concat((0,M.tokenLabel)(f)," <--"):"token of type --> ".concat(f.name," <--"),n="Expecting ".concat(r," but found --> '").concat(c.image,"' <--");return n},buildNotAllInputParsedMessage:function(t){var f=t.firstRedundant;return t.ruleName,"Redundant input, expecting EOF but found: "+f.image},buildNoViableAltMessage:function(t){var f=t.expectedPathsPerAlt,c=t.actual;t.previous;var a=t.customUserDescription;t.ruleName;var r="Expecting: ",n=(0,b.default)(c).image,e=`
but found: '`+n+"'";if(a)return r+a+e;var s=(0,Z.default)(f,function(h,l){return h.concat(l)},[]),u=(0,W.default)(s,function(h){return"[".concat((0,W.default)(h,function(l){return(0,M.tokenLabel)(l)}).join(", "),"]")}),i=(0,W.default)(u,function(h,l){return"  ".concat(l+1,". ").concat(h)}),o=`one of these possible Token sequences:
`.concat(i.join(`
`));return r+o+e},buildEarlyExitMessage:function(t){var f=t.expectedIterationPaths,c=t.actual,a=t.customUserDescription;t.ruleName;var r="Expecting: ",n=(0,b.default)(c).image,e=`
but found: '`+n+"'";if(a)return r+a+e;var s=(0,W.default)(f,function(i){return"[".concat((0,W.default)(i,function(o){return(0,M.tokenLabel)(o)}).join(","),"]")}),u=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+"<".concat(s.join(" ,"),">");return r+u+e}},Object.freeze(L.defaultParserErrorProvider),L.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(t,f){var c="Invalid grammar, reference to a rule which is not defined: ->"+f.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-";return c}},L.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(t,f){function c(o){return o instanceof p.Terminal?o.terminalType.name:o instanceof p.NonTerminal?o.nonTerminalName:""}var a=t.name,r=(0,b.default)(f),n=r.idx,e=(0,S.getProductionDslName)(r),s=c(r),u=n>0,i="->".concat(e).concat(u?n:"","<- ").concat(s?"with argument: ->".concat(s,"<-"):"",`
                  appears more than once (`).concat(f.length," times) in the top level rule: ->").concat(a,`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `);return i=i.replace(/[ \t]+/g," "),i=i.replace(/\s\s+/g,`
`),i},buildNamespaceConflictError:function(t){var f=`Namespace conflict found in grammar.
`+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(t.name,`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return f},buildAlternationPrefixAmbiguityError:function(t){var f=(0,W.default)(t.prefixPath,function(r){return(0,M.tokenLabel)(r)}).join(", "),c=t.alternation.idx===0?"":t.alternation.idx,a="Ambiguous alternatives: <".concat(t.ambiguityIndices.join(" ,"),`> due to common lookahead prefix
`)+"in <OR".concat(c,"> inside <").concat(t.topLevelRule.name,`> Rule,
`)+"<".concat(f,`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return a},buildAlternationAmbiguityError:function(t){var f=(0,W.default)(t.prefixPath,function(r){return(0,M.tokenLabel)(r)}).join(", "),c=t.alternation.idx===0?"":t.alternation.idx,a="Ambiguous Alternatives Detected: <".concat(t.ambiguityIndices.join(" ,"),"> in <OR").concat(c,">")+" inside <".concat(t.topLevelRule.name,`> Rule,
`)+"<".concat(f,`> may appears as a prefix path in all these alternatives.
`);return a=a+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,a},buildEmptyRepetitionError:function(t){var f=(0,S.getProductionDslName)(t.repetition);t.repetition.idx!==0&&(f+=t.repetition.idx);var c="The repetition <".concat(f,"> within Rule <").concat(t.topLevelRule.name,`> can never consume any tokens.
`)+"This could lead to an infinite loop.";return c},buildTokenNameError:function(t){return"deprecated"},buildEmptyAlternationError:function(t){var f="Ambiguous empty alternative: <".concat(t.emptyChoiceIdx+1,">")+" in <OR".concat(t.alternation.idx,"> inside <").concat(t.topLevelRule.name,`> Rule.
`)+"Only the last alternative may be an empty alternative.";return f},buildTooManyAlternativesError:function(t){var f=`An Alternation cannot have more than 256 alternatives:
`+"<OR".concat(t.alternation.idx,"> inside <").concat(t.topLevelRule.name,`> Rule.
 has `).concat(t.alternation.definition.length+1," alternatives.");return f},buildLeftRecursionError:function(t){var f=t.topLevelRule.name,c=(0,W.default)(t.leftRecursionPath,function(n){return n.name}),a="".concat(f," --> ").concat(c.concat([f]).join(" --> ")),r=`Left Recursion found in grammar.
`+"rule: <".concat(f,`> can be invoked from itself (directly or indirectly)
`)+`without consuming any Tokens. The grammar path that causes this is: 
 `.concat(a,`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return r},buildInvalidRuleNameError:function(t){return"deprecated"},buildDuplicateRuleNameError:function(t){var f;t.topLevelRule instanceof p.Rule?f=t.topLevelRule.name:f=t.topLevelRule;var c="Duplicate definition, rule: ->".concat(f,"<- is already defined in the grammar: ->").concat(t.grammarName,"<-");return c}}})(bi);var je={},ke={},Co;function hA(){if(Co)return ke;Co=1;var L=vt&&vt.__extends||function(){var t=function(f,c){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])},t(f,c)};return function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");t(f,c);function a(){this.constructor=f}f.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)}}(),w=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0}),ke.GastRefResolverVisitor=ke.resolveGrammar=void 0;var M=le(),b=w(_t),W=w(Xe),Z=Jt;function p(t,f){var c=new S(t,f);return c.resolveRefs(),c.errors}ke.resolveGrammar=p;var S=function(t){L(f,t);function f(c,a){var r=t.call(this)||this;return r.nameToTopRule=c,r.errMsgProvider=a,r.errors=[],r}return f.prototype.resolveRefs=function(){var c=this;(0,b.default)((0,W.default)(this.nameToTopRule),function(a){c.currTopLevel=a,a.accept(c)})},f.prototype.visitNonTerminal=function(c){var a=this.nameToTopRule[c.nonTerminalName];if(a)c.referencedRule=a;else{var r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,c);this.errors.push({message:r,type:M.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:c.nonTerminalName})}},f}(Z.GAstVisitor);return ke.GastRefResolverVisitor=S,ke}var Dt={};function lA(L,w,M,b){for(var W=-1,Z=L==null?0:L.length;++W<Z;){var p=L[W];w(b,p,M(p),L)}return b}var uA=lA,fA=ai;function dA(L,w,M,b){return fA(L,function(W,Z,p){w(b,W,M(W),p)}),b}var vA=dA,cA=uA,pA=vA,gA=Ie,mA=Nt;function xA(L,w){return function(M,b){var W=mA(M)?cA:pA,Z=w?w():{};return W(M,L,gA(b),Z)}}var yA=xA,TA=zr,SA=yA,EA=Object.prototype,CA=EA.hasOwnProperty,PA=SA(function(L,w,M){CA.call(L,M)?L[M].push(w):TA(L,M,[w])}),xl=PA,AA=Zr,RA=ne;function MA(L,w){return AA(RA(L,w),1)}var yl=MA,Ui={},Ht={},FA=Xr,LA=Ps;function OA(L,w,M){var b=L==null?0:L.length;return b?(w=M||w===void 0?1:LA(w),w=b-w,FA(L,0,w<0?0:w)):[]}var ia=OA,ui=vt&&vt.__extends||function(){var L=function(w,M){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,W){b.__proto__=W}||function(b,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(b[Z]=W[Z])},L(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");L(w,M);function b(){this.constructor=w}w.prototype=M===null?Object.create(M):(b.prototype=M.prototype,new b)}}(),fi=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.nextPossibleTokensAfter=Ht.possiblePathsFrom=Ht.NextTerminalAfterAtLeastOneSepWalker=Ht.NextTerminalAfterAtLeastOneWalker=Ht.NextTerminalAfterManySepWalker=Ht.NextTerminalAfterManyWalker=Ht.AbstractNextTerminalAfterProductionWalker=Ht.NextAfterTokenWalker=Ht.AbstractNextPossibleTokensWalker=void 0;var Tl=Di,Un=fi(Gi.exports),$s=fi(Te),Po=fi(ia),te=fi(Yr),wA=fi(ea),IA=fi(_t),si=fi(Je),DA=xe,At=Jt,Sl=function(L){ui(w,L);function w(M,b){var W=L.call(this)||this;return W.topProd=M,W.path=b,W.possibleTokTypes=[],W.nextProductionName="",W.nextProductionOccurrence=0,W.found=!1,W.isAtEndOfPath=!1,W}return w.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,si.default)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,si.default)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},w.prototype.walk=function(M,b){b===void 0&&(b=[]),this.found||L.prototype.walk.call(this,M,b)},w.prototype.walkProdRef=function(M,b,W){if(M.referencedRule.name===this.nextProductionName&&M.idx===this.nextProductionOccurrence){var Z=b.concat(W);this.updateExpectedNext(),this.walk(M.referencedRule,Z)}},w.prototype.updateExpectedNext=function(){(0,$s.default)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},w}(Tl.RestWalker);Ht.AbstractNextPossibleTokensWalker=Sl;var BA=function(L){ui(w,L);function w(M,b){var W=L.call(this,M,b)||this;return W.path=b,W.nextTerminalName="",W.nextTerminalOccurrence=0,W.nextTerminalName=W.path.lastTok.name,W.nextTerminalOccurrence=W.path.lastTokOccurrence,W}return w.prototype.walkTerminal=function(M,b,W){if(this.isAtEndOfPath&&M.terminalType.name===this.nextTerminalName&&M.idx===this.nextTerminalOccurrence&&!this.found){var Z=b.concat(W),p=new At.Alternative({definition:Z});this.possibleTokTypes=(0,DA.first)(p),this.found=!0}},w}(Sl);Ht.NextAfterTokenWalker=BA;var Ms=function(L){ui(w,L);function w(M,b){var W=L.call(this)||this;return W.topRule=M,W.occurrence=b,W.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},W}return w.prototype.startWalking=function(){return this.walk(this.topRule),this.result},w}(Tl.RestWalker);Ht.AbstractNextTerminalAfterProductionWalker=Ms;var NA=function(L){ui(w,L);function w(){return L!==null&&L.apply(this,arguments)||this}return w.prototype.walkMany=function(M,b,W){if(M.idx===this.occurrence){var Z=(0,Un.default)(b.concat(W));this.result.isEndOfRule=Z===void 0,Z instanceof At.Terminal&&(this.result.token=Z.terminalType,this.result.occurrence=Z.idx)}else L.prototype.walkMany.call(this,M,b,W)},w}(Ms);Ht.NextTerminalAfterManyWalker=NA;var GA=function(L){ui(w,L);function w(){return L!==null&&L.apply(this,arguments)||this}return w.prototype.walkManySep=function(M,b,W){if(M.idx===this.occurrence){var Z=(0,Un.default)(b.concat(W));this.result.isEndOfRule=Z===void 0,Z instanceof At.Terminal&&(this.result.token=Z.terminalType,this.result.occurrence=Z.idx)}else L.prototype.walkManySep.call(this,M,b,W)},w}(Ms);Ht.NextTerminalAfterManySepWalker=GA;var bA=function(L){ui(w,L);function w(){return L!==null&&L.apply(this,arguments)||this}return w.prototype.walkAtLeastOne=function(M,b,W){if(M.idx===this.occurrence){var Z=(0,Un.default)(b.concat(W));this.result.isEndOfRule=Z===void 0,Z instanceof At.Terminal&&(this.result.token=Z.terminalType,this.result.occurrence=Z.idx)}else L.prototype.walkAtLeastOne.call(this,M,b,W)},w}(Ms);Ht.NextTerminalAfterAtLeastOneWalker=bA;var UA=function(L){ui(w,L);function w(){return L!==null&&L.apply(this,arguments)||this}return w.prototype.walkAtLeastOneSep=function(M,b,W){if(M.idx===this.occurrence){var Z=(0,Un.default)(b.concat(W));this.result.isEndOfRule=Z===void 0,Z instanceof At.Terminal&&(this.result.token=Z.terminalType,this.result.occurrence=Z.idx)}else L.prototype.walkAtLeastOneSep.call(this,M,b,W)},w}(Ms);Ht.NextTerminalAfterAtLeastOneSepWalker=UA;function El(L,w,M){M===void 0&&(M=[]),M=(0,si.default)(M);var b=[],W=0;function Z(f){return f.concat((0,te.default)(L,W+1))}function p(f){var c=El(Z(f),w,M);return b.concat(c)}for(;M.length<w&&W<L.length;){var S=L[W];if(S instanceof At.Alternative)return p(S.definition);if(S instanceof At.NonTerminal)return p(S.definition);if(S instanceof At.Option)b=p(S.definition);else if(S instanceof At.RepetitionMandatory){var t=S.definition.concat([new At.Repetition({definition:S.definition})]);return p(t)}else if(S instanceof At.RepetitionMandatoryWithSeparator){var t=[new At.Alternative({definition:S.definition}),new At.Repetition({definition:[new At.Terminal({terminalType:S.separator})].concat(S.definition)})];return p(t)}else if(S instanceof At.RepetitionWithSeparator){var t=S.definition.concat([new At.Repetition({definition:[new At.Terminal({terminalType:S.separator})].concat(S.definition)})]);b=p(t)}else if(S instanceof At.Repetition){var t=S.definition.concat([new At.Repetition({definition:S.definition})]);b=p(t)}else{if(S instanceof At.Alternation)return(0,IA.default)(S.definition,function(f){(0,$s.default)(f.definition)===!1&&(b=p(f.definition))}),b;if(S instanceof At.Terminal)M.push(S.terminalType);else throw Error("non exhaustive match")}W++}return b.push({partialPath:M,suffixDef:(0,te.default)(L,W)}),b}Ht.possiblePathsFrom=El;function zA(L,w,M,b){var W="EXIT_NONE_TERMINAL",Z=[W],p="EXIT_ALTERNATIVE",S=!1,t=w.length,f=t-b-1,c=[],a=[];for(a.push({idx:-1,def:L,ruleStack:[],occurrenceStack:[]});!(0,$s.default)(a);){var r=a.pop();if(r===p){S&&(0,wA.default)(a).idx<=f&&a.pop();continue}var n=r.def,e=r.idx,s=r.ruleStack,u=r.occurrenceStack;if(!(0,$s.default)(n)){var i=n[0];if(i===W){var o={idx:e,def:(0,te.default)(n),ruleStack:(0,Po.default)(s),occurrenceStack:(0,Po.default)(u)};a.push(o)}else if(i instanceof At.Terminal)if(e<t-1){var h=e+1,l=w[h];if(M(l,i.terminalType)){var o={idx:h,def:(0,te.default)(n),ruleStack:s,occurrenceStack:u};a.push(o)}}else if(e===t-1)c.push({nextTokenType:i.terminalType,nextTokenOccurrence:i.idx,ruleStack:s,occurrenceStack:u}),S=!0;else throw Error("non exhaustive match");else if(i instanceof At.NonTerminal){var d=(0,si.default)(s);d.push(i.nonTerminalName);var v=(0,si.default)(u);v.push(i.idx);var o={idx:e,def:i.definition.concat(Z,(0,te.default)(n)),ruleStack:d,occurrenceStack:v};a.push(o)}else if(i instanceof At.Option){var m={idx:e,def:(0,te.default)(n),ruleStack:s,occurrenceStack:u};a.push(m),a.push(p);var x={idx:e,def:i.definition.concat((0,te.default)(n)),ruleStack:s,occurrenceStack:u};a.push(x)}else if(i instanceof At.RepetitionMandatory){var g=new At.Repetition({definition:i.definition,idx:i.idx}),y=i.definition.concat([g],(0,te.default)(n)),o={idx:e,def:y,ruleStack:s,occurrenceStack:u};a.push(o)}else if(i instanceof At.RepetitionMandatoryWithSeparator){var T=new At.Terminal({terminalType:i.separator}),g=new At.Repetition({definition:[T].concat(i.definition),idx:i.idx}),y=i.definition.concat([g],(0,te.default)(n)),o={idx:e,def:y,ruleStack:s,occurrenceStack:u};a.push(o)}else if(i instanceof At.RepetitionWithSeparator){var m={idx:e,def:(0,te.default)(n),ruleStack:s,occurrenceStack:u};a.push(m),a.push(p);var T=new At.Terminal({terminalType:i.separator}),E=new At.Repetition({definition:[T].concat(i.definition),idx:i.idx}),y=i.definition.concat([E],(0,te.default)(n)),x={idx:e,def:y,ruleStack:s,occurrenceStack:u};a.push(x)}else if(i instanceof At.Repetition){var m={idx:e,def:(0,te.default)(n),ruleStack:s,occurrenceStack:u};a.push(m),a.push(p);var E=new At.Repetition({definition:i.definition,idx:i.idx}),y=i.definition.concat([E],(0,te.default)(n)),x={idx:e,def:y,ruleStack:s,occurrenceStack:u};a.push(x)}else if(i instanceof At.Alternation)for(var C=i.definition.length-1;C>=0;C--){var A=i.definition[C],P={idx:e,def:A.definition.concat((0,te.default)(n)),ruleStack:s,occurrenceStack:u};a.push(P),a.push(p)}else if(i instanceof At.Alternative)a.push({idx:e,def:i.definition.concat((0,te.default)(n)),ruleStack:s,occurrenceStack:u});else if(i instanceof At.Rule)a.push(VA(i,e,s,u));else throw Error("non exhaustive match")}}return c}Ht.nextPossibleTokensAfter=zA;function VA(L,w,M,b){var W=(0,si.default)(M);W.push(L.name);var Z=(0,si.default)(b);return Z.push(1),{idx:w,def:L.definition,ruleStack:W,occurrenceStack:Z}}(function(L){var w=vt&&vt.__extends||function(){var O=function(I,G){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,X){z.__proto__=X}||function(z,X){for(var H in X)Object.prototype.hasOwnProperty.call(X,H)&&(z[H]=X[H])},O(I,G)};return function(I,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");O(I,G);function z(){this.constructor=I}I.prototype=G===null?Object.create(G):(z.prototype=G.prototype,new z)}}(),M=vt&&vt.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(L,"__esModule",{value:!0}),L.areTokenCategoriesNotUsed=L.isStrictPrefixOfPath=L.containsPath=L.getLookaheadPathsForOptionalProd=L.getLookaheadPathsForOr=L.lookAheadSequenceFromAlternatives=L.buildSingleAlternativeLookaheadFunction=L.buildAlternativesLookAheadFunc=L.buildLookaheadFuncForOptionalProd=L.buildLookaheadFuncForOr=L.getLookaheadPaths=L.getProdType=L.PROD_TYPE=void 0;var b=M(Te),W=M(We),Z=M(Dn),p=M(ne),S=M(_t),t=M(pe),f=M(hi),c=Ht,a=Di,r=li,n=Jt,e=Jt,s;(function(O){O[O.OPTION=0]="OPTION",O[O.REPETITION=1]="REPETITION",O[O.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",O[O.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",O[O.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",O[O.ALTERNATION=5]="ALTERNATION"})(s=L.PROD_TYPE||(L.PROD_TYPE={}));function u(O){if(O instanceof n.Option||O==="Option")return s.OPTION;if(O instanceof n.Repetition||O==="Repetition")return s.REPETITION;if(O instanceof n.RepetitionMandatory||O==="RepetitionMandatory")return s.REPETITION_MANDATORY;if(O instanceof n.RepetitionMandatoryWithSeparator||O==="RepetitionMandatoryWithSeparator")return s.REPETITION_MANDATORY_WITH_SEPARATOR;if(O instanceof n.RepetitionWithSeparator||O==="RepetitionWithSeparator")return s.REPETITION_WITH_SEPARATOR;if(O instanceof n.Alternation||O==="Alternation")return s.ALTERNATION;throw Error("non exhaustive match")}L.getProdType=u;function i(O){var I=O.occurrence,G=O.rule,z=O.prodType,X=O.maxLookahead,H=u(z);return H===s.ALTERNATION?E(I,G,X):C(I,G,H,X)}L.getLookaheadPaths=i;function o(O,I,G,z,X,H){var N=E(O,I,G),U=F(N)?r.tokenStructuredMatcherNoCategories:r.tokenStructuredMatcher;return H(N,z,U,X)}L.buildLookaheadFuncForOr=o;function h(O,I,G,z,X,H){var N=C(O,I,X,G),U=F(N)?r.tokenStructuredMatcherNoCategories:r.tokenStructuredMatcher;return H(N[0],U,z)}L.buildLookaheadFuncForOptionalProd=h;function l(O,I,G,z){var X=O.length,H=(0,Z.default)(O,function(R){return(0,Z.default)(R,function(D){return D.length===1})});if(I)return function(R){for(var D=(0,p.default)(R,function(tt){return tt.GATE}),B=0;B<X;B++){var V=O[B],Y=V.length,K=D[B];if(K!==void 0&&K.call(this)===!1)continue;t:for(var $=0;$<Y;$++){for(var J=V[$],Q=J.length,k=0;k<Q;k++){var q=this.LA(k+1);if(G(q,J[k])===!1)continue t}return B}}};if(H&&!z){var N=(0,p.default)(O,function(R){return(0,W.default)(R)}),U=(0,f.default)(N,function(R,D,B){return(0,S.default)(D,function(V){(0,t.default)(R,V.tokenTypeIdx)||(R[V.tokenTypeIdx]=B),(0,S.default)(V.categoryMatches,function(Y){(0,t.default)(R,Y)||(R[Y]=B)})}),R},{});return function(){var R=this.LA(1);return U[R.tokenTypeIdx]}}else return function(){for(var R=0;R<X;R++){var D=O[R],B=D.length;t:for(var V=0;V<B;V++){for(var Y=D[V],K=Y.length,$=0;$<K;$++){var J=this.LA($+1);if(G(J,Y[$])===!1)continue t}return R}}}}L.buildAlternativesLookAheadFunc=l;function d(O,I,G){var z=(0,Z.default)(O,function(D){return D.length===1}),X=O.length;if(z&&!G){var H=(0,W.default)(O);if(H.length===1&&(0,b.default)(H[0].categoryMatches)){var N=H[0],U=N.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===U}}else{var R=(0,f.default)(H,function(D,B,V){return D[B.tokenTypeIdx]=!0,(0,S.default)(B.categoryMatches,function(Y){D[Y]=!0}),D},[]);return function(){var D=this.LA(1);return R[D.tokenTypeIdx]===!0}}}else return function(){t:for(var D=0;D<X;D++){for(var B=O[D],V=B.length,Y=0;Y<V;Y++){var K=this.LA(Y+1);if(I(K,B[Y])===!1)continue t}return!0}return!1}}L.buildSingleAlternativeLookaheadFunction=d;var v=function(O){w(I,O);function I(G,z,X){var H=O.call(this)||this;return H.topProd=G,H.targetOccurrence=z,H.targetProdType=X,H}return I.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},I.prototype.checkIsTarget=function(G,z,X,H){return G.idx===this.targetOccurrence&&this.targetProdType===z?(this.restDef=X.concat(H),!0):!1},I.prototype.walkOption=function(G,z,X){this.checkIsTarget(G,s.OPTION,z,X)||O.prototype.walkOption.call(this,G,z,X)},I.prototype.walkAtLeastOne=function(G,z,X){this.checkIsTarget(G,s.REPETITION_MANDATORY,z,X)||O.prototype.walkOption.call(this,G,z,X)},I.prototype.walkAtLeastOneSep=function(G,z,X){this.checkIsTarget(G,s.REPETITION_MANDATORY_WITH_SEPARATOR,z,X)||O.prototype.walkOption.call(this,G,z,X)},I.prototype.walkMany=function(G,z,X){this.checkIsTarget(G,s.REPETITION,z,X)||O.prototype.walkOption.call(this,G,z,X)},I.prototype.walkManySep=function(G,z,X){this.checkIsTarget(G,s.REPETITION_WITH_SEPARATOR,z,X)||O.prototype.walkOption.call(this,G,z,X)},I}(a.RestWalker),m=function(O){w(I,O);function I(G,z,X){var H=O.call(this)||this;return H.targetOccurrence=G,H.targetProdType=z,H.targetRef=X,H.result=[],H}return I.prototype.checkIsTarget=function(G,z){G.idx===this.targetOccurrence&&this.targetProdType===z&&(this.targetRef===void 0||G===this.targetRef)&&(this.result=G.definition)},I.prototype.visitOption=function(G){this.checkIsTarget(G,s.OPTION)},I.prototype.visitRepetition=function(G){this.checkIsTarget(G,s.REPETITION)},I.prototype.visitRepetitionMandatory=function(G){this.checkIsTarget(G,s.REPETITION_MANDATORY)},I.prototype.visitRepetitionMandatoryWithSeparator=function(G){this.checkIsTarget(G,s.REPETITION_MANDATORY_WITH_SEPARATOR)},I.prototype.visitRepetitionWithSeparator=function(G){this.checkIsTarget(G,s.REPETITION_WITH_SEPARATOR)},I.prototype.visitAlternation=function(G){this.checkIsTarget(G,s.ALTERNATION)},I}(e.GAstVisitor);function x(O){for(var I=new Array(O),G=0;G<O;G++)I[G]=[];return I}function g(O){for(var I=[""],G=0;G<O.length;G++){for(var z=O[G],X=[],H=0;H<I.length;H++){var N=I[H];X.push(N+"_"+z.tokenTypeIdx);for(var U=0;U<z.categoryMatches.length;U++){var R="_"+z.categoryMatches[U];X.push(N+R)}}I=X}return I}function y(O,I,G){for(var z=0;z<O.length;z++)if(z!==G)for(var X=O[z],H=0;H<I.length;H++){var N=I[H];if(X[N]===!0)return!1}return!0}function T(O,I){for(var G=(0,p.default)(O,function(B){return(0,c.possiblePathsFrom)([B],1)}),z=x(G.length),X=(0,p.default)(G,function(B){var V={};return(0,S.default)(B,function(Y){var K=g(Y.partialPath);(0,S.default)(K,function($){V[$]=!0})}),V}),H=G,N=1;N<=I;N++){var U=H;H=x(U.length);for(var R=function(B){for(var V=U[B],Y=0;Y<V.length;Y++){var K=V[Y].partialPath,$=V[Y].suffixDef,J=g(K),Q=y(X,J,B);if(Q||(0,b.default)($)||K.length===I){var k=z[B];if(A(k,K)===!1){k.push(K);for(var q=0;q<J.length;q++){var tt=J[q];X[B][tt]=!0}}}else{var _=(0,c.possiblePathsFrom)($,N+1,K);H[B]=H[B].concat(_),(0,S.default)(_,function(it){var st=g(it.partialPath);(0,S.default)(st,function(ht){X[B][ht]=!0})})}}},D=0;D<U.length;D++)R(D)}return z}L.lookAheadSequenceFromAlternatives=T;function E(O,I,G,z){var X=new m(O,s.ALTERNATION,z);return I.accept(X),T(X.result,G)}L.getLookaheadPathsForOr=E;function C(O,I,G,z){var X=new m(O,G);I.accept(X);var H=X.result,N=new v(I,O,G),U=N.startWalking(),R=new n.Alternative({definition:H}),D=new n.Alternative({definition:U});return T([R,D],z)}L.getLookaheadPathsForOptionalProd=C;function A(O,I){t:for(var G=0;G<O.length;G++){var z=O[G];if(z.length===I.length){for(var X=0;X<z.length;X++){var H=I[X],N=z[X],U=H===N||N.categoryMatchesMap[H.tokenTypeIdx]!==void 0;if(U===!1)continue t}return!0}}return!1}L.containsPath=A;function P(O,I){return O.length<I.length&&(0,Z.default)(O,function(G,z){var X=I[z];return G===X||X.categoryMatchesMap[G.tokenTypeIdx]})}L.isStrictPrefixOfPath=P;function F(O){return(0,Z.default)(O,function(I){return(0,Z.default)(I,function(G){return(0,Z.default)(G,function(z){return(0,b.default)(z.categoryMatches)})})})}L.areTokenCategoriesNotUsed=F})(Ui);var Ao;function zn(){if(Ao)return Dt;Ao=1;var L=vt&&vt.__extends||function(){var $=function(J,Q){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,q){k.__proto__=q}||function(k,q){for(var tt in q)Object.prototype.hasOwnProperty.call(q,tt)&&(k[tt]=q[tt])},$(J,Q)};return function(J,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");$(J,Q);function k(){this.constructor=J}J.prototype=Q===null?Object.create(Q):(k.prototype=Q.prototype,new k)}}(),w=vt&&vt.__assign||function(){return w=Object.assign||function($){for(var J,Q=1,k=arguments.length;Q<k;Q++){J=arguments[Q];for(var q in J)Object.prototype.hasOwnProperty.call(J,q)&&($[q]=J[q])}return $},w.apply(this,arguments)},M=vt&&vt.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.checkPrefixAlternativesAmbiguities=Dt.validateSomeNonEmptyLookaheadPath=Dt.validateTooManyAlts=Dt.RepetitionCollector=Dt.validateAmbiguousAlternationAlternatives=Dt.validateEmptyOrAlternative=Dt.getFirstNoneTerminal=Dt.validateNoLeftRecursion=Dt.validateRuleIsOverridden=Dt.validateRuleDoesNotAlreadyExist=Dt.OccurrenceValidationCollector=Dt.identifyProductionForDuplicates=Dt.validateGrammar=Dt.validateLookahead=void 0;var b=M(Gi.exports),W=M(Te),Z=M(Yr),p=M(We),S=M(ta),t=M(kr),f=M(qr),c=M(ne),a=M(_t),r=M(xl),n=M(hi),e=M(Hh),s=M(Xe),u=M(Qe),i=M(yl),o=M(Je),h=le(),l=Jt,d=Ui,v=Ht,m=Jt,x=Jt,g=M(ia),y=M(Gn),T=li;function E($){var J=$.lookaheadStrategy.validate({rules:$.rules,tokenTypes:$.tokenTypes,grammarName:$.grammarName});return(0,c.default)(J,function(Q){return w({type:h.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION},Q)})}Dt.validateLookahead=E;function C($,J,Q,k){var q=(0,i.default)($,function(st){return A(st,Q)}),tt=K($,J,Q),_=(0,i.default)($,function(st){return D(st,Q)}),it=(0,i.default)($,function(st){return I(st,$,k,Q)});return q.concat(tt,_,it)}Dt.validateGrammar=C;function A($,J){var Q=new O;$.accept(Q);var k=Q.allProductions,q=(0,r.default)(k,P),tt=(0,e.default)(q,function(it){return it.length>1}),_=(0,c.default)((0,s.default)(tt),function(it){var st=(0,b.default)(it),ht=J.buildDuplicateFoundError($,it),ut=(0,l.getProductionDslName)(st),et={message:ht,type:h.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:$.name,dslName:ut,occurrence:st.idx},rt=F(st);return rt&&(et.parameter=rt),et});return _}function P($){return"".concat((0,l.getProductionDslName)($),"_#_").concat($.idx,"_#_").concat(F($))}Dt.identifyProductionForDuplicates=P;function F($){return $ instanceof m.Terminal?$.terminalType.name:$ instanceof m.NonTerminal?$.nonTerminalName:""}var O=function($){L(J,$);function J(){var Q=$!==null&&$.apply(this,arguments)||this;return Q.allProductions=[],Q}return J.prototype.visitNonTerminal=function(Q){this.allProductions.push(Q)},J.prototype.visitOption=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetitionWithSeparator=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetitionMandatory=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetitionMandatoryWithSeparator=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetition=function(Q){this.allProductions.push(Q)},J.prototype.visitAlternation=function(Q){this.allProductions.push(Q)},J.prototype.visitTerminal=function(Q){this.allProductions.push(Q)},J}(x.GAstVisitor);Dt.OccurrenceValidationCollector=O;function I($,J,Q,k){var q=[],tt=(0,n.default)(J,function(it,st){return st.name===$.name?it+1:it},0);if(tt>1){var _=k.buildDuplicateRuleNameError({topLevelRule:$,grammarName:Q});q.push({message:_,type:h.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:$.name})}return q}Dt.validateRuleDoesNotAlreadyExist=I;function G($,J,Q){var k=[],q;return(0,u.default)(J,$)||(q="Invalid rule override, rule: ->".concat($,"<- cannot be overridden in the grammar: ->").concat(Q,"<-")+"as it is not defined in any of the super grammars ",k.push({message:q,type:h.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:$})),k}Dt.validateRuleIsOverridden=G;function z($,J,Q,k){k===void 0&&(k=[]);var q=[],tt=X(J.definition);if((0,W.default)(tt))return[];var _=$.name,it=(0,u.default)(tt,$);it&&q.push({message:Q.buildLeftRecursionError({topLevelRule:$,leftRecursionPath:k}),type:h.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:_});var st=(0,f.default)(tt,k.concat([$])),ht=(0,i.default)(st,function(ut){var et=(0,o.default)(k);return et.push(ut),z($,ut,Q,et)});return q.concat(ht)}Dt.validateNoLeftRecursion=z;function X($){var J=[];if((0,W.default)($))return J;var Q=(0,b.default)($);if(Q instanceof m.NonTerminal)J.push(Q.referencedRule);else if(Q instanceof m.Alternative||Q instanceof m.Option||Q instanceof m.RepetitionMandatory||Q instanceof m.RepetitionMandatoryWithSeparator||Q instanceof m.RepetitionWithSeparator||Q instanceof m.Repetition)J=J.concat(X(Q.definition));else if(Q instanceof m.Alternation)J=(0,p.default)((0,c.default)(Q.definition,function(_){return X(_.definition)}));else if(!(Q instanceof m.Terminal))throw Error("non exhaustive match");var k=(0,l.isOptionalProd)(Q),q=$.length>1;if(k&&q){var tt=(0,Z.default)($);return J.concat(X(tt))}else return J}Dt.getFirstNoneTerminal=X;var H=function($){L(J,$);function J(){var Q=$!==null&&$.apply(this,arguments)||this;return Q.alternations=[],Q}return J.prototype.visitAlternation=function(Q){this.alternations.push(Q)},J}(x.GAstVisitor);function N($,J){var Q=new H;$.accept(Q);var k=Q.alternations,q=(0,i.default)(k,function(tt){var _=(0,g.default)(tt.definition);return(0,i.default)(_,function(it,st){var ht=(0,v.nextPossibleTokensAfter)([it],[],T.tokenStructuredMatcher,1);return(0,W.default)(ht)?[{message:J.buildEmptyAlternationError({topLevelRule:$,alternation:tt,emptyChoiceIdx:st}),type:h.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:$.name,occurrence:tt.idx,alternative:st+1}]:[]})});return q}Dt.validateEmptyOrAlternative=N;function U($,J,Q){var k=new H;$.accept(k);var q=k.alternations;q=(0,t.default)(q,function(_){return _.ignoreAmbiguities===!0});var tt=(0,i.default)(q,function(_){var it=_.idx,st=_.maxLookahead||J,ht=(0,d.getLookaheadPathsForOr)(it,$,st,_),ut=V(ht,_,$,Q),et=Y(ht,_,$,Q);return ut.concat(et)});return tt}Dt.validateAmbiguousAlternationAlternatives=U;var R=function($){L(J,$);function J(){var Q=$!==null&&$.apply(this,arguments)||this;return Q.allProductions=[],Q}return J.prototype.visitRepetitionWithSeparator=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetitionMandatory=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetitionMandatoryWithSeparator=function(Q){this.allProductions.push(Q)},J.prototype.visitRepetition=function(Q){this.allProductions.push(Q)},J}(x.GAstVisitor);Dt.RepetitionCollector=R;function D($,J){var Q=new H;$.accept(Q);var k=Q.alternations,q=(0,i.default)(k,function(tt){return tt.definition.length>255?[{message:J.buildTooManyAlternativesError({topLevelRule:$,alternation:tt}),type:h.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:$.name,occurrence:tt.idx}]:[]});return q}Dt.validateTooManyAlts=D;function B($,J,Q){var k=[];return(0,a.default)($,function(q){var tt=new R;q.accept(tt);var _=tt.allProductions;(0,a.default)(_,function(it){var st=(0,d.getProdType)(it),ht=it.maxLookahead||J,ut=it.idx,et=(0,d.getLookaheadPathsForOptionalProd)(ut,q,st,ht),rt=et[0];if((0,W.default)((0,p.default)(rt))){var nt=Q.buildEmptyRepetitionError({topLevelRule:q,repetition:it});k.push({message:nt,type:h.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:q.name})}})}),k}Dt.validateSomeNonEmptyLookaheadPath=B;function V($,J,Q,k){var q=[],tt=(0,n.default)($,function(it,st,ht){return J.definition[ht].ignoreAmbiguities===!0||(0,a.default)(st,function(ut){var et=[ht];(0,a.default)($,function(rt,nt){ht!==nt&&(0,d.containsPath)(rt,ut)&&J.definition[nt].ignoreAmbiguities!==!0&&et.push(nt)}),et.length>1&&!(0,d.containsPath)(q,ut)&&(q.push(ut),it.push({alts:et,path:ut}))}),it},[]),_=(0,c.default)(tt,function(it){var st=(0,c.default)(it.alts,function(ut){return ut+1}),ht=k.buildAlternationAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:st,prefixPath:it.path});return{message:ht,type:h.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:Q.name,occurrence:J.idx,alternatives:it.alts}});return _}function Y($,J,Q,k){var q=(0,n.default)($,function(_,it,st){var ht=(0,c.default)(it,function(ut){return{idx:st,path:ut}});return _.concat(ht)},[]),tt=(0,y.default)((0,i.default)(q,function(_){var it=J.definition[_.idx];if(it.ignoreAmbiguities===!0)return[];var st=_.idx,ht=_.path,ut=(0,S.default)(q,function(rt){return J.definition[rt.idx].ignoreAmbiguities!==!0&&rt.idx<st&&(0,d.isStrictPrefixOfPath)(rt.path,ht)}),et=(0,c.default)(ut,function(rt){var nt=[rt.idx+1,st+1],pt=J.idx===0?"":J.idx,gt=k.buildAlternationPrefixAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:nt,prefixPath:rt.path});return{message:gt,type:h.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:Q.name,occurrence:pt,alternatives:nt}});return et}));return tt}Dt.checkPrefixAlternativesAmbiguities=Y;function K($,J,Q){var k=[],q=(0,c.default)(J,function(tt){return tt.name});return(0,a.default)($,function(tt){var _=tt.name;if((0,u.default)(q,_)){var it=Q.buildNamespaceConflictError(tt);k.push({message:it,type:h.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:_})}}),k}return Dt}var Ro;function XA(){if(Ro)return je;Ro=1;var L=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0}),je.validateGrammar=je.resolveGrammar=void 0;var w=L(_t),M=L(gl),b=hA(),W=zn(),Z=bi;function p(t){var f=(0,M.default)(t,{errMsgProvider:Z.defaultGrammarResolverErrorProvider}),c={};return(0,w.default)(t.rules,function(a){c[a.name]=a}),(0,b.resolveGrammar)(c,f.errMsgProvider)}je.resolveGrammar=p;function S(t){return t=(0,M.default)(t,{errMsgProvider:Z.defaultGrammarValidatorErrorProvider}),(0,W.validateGrammar)(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}return je.validateGrammar=S,je}var hr={},qt={},Fs=vt&&vt.__extends||function(){var L=function(w,M){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,W){b.__proto__=W}||function(b,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(b[Z]=W[Z])},L(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");L(w,M);function b(){this.constructor=w}w.prototype=M===null?Object.create(M):(b.prototype=M.prototype,new b)}}(),YA=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(qt,"__esModule",{value:!0});qt.EarlyExitException=qt.NotAllInputParsedException=qt.NoViableAltException=qt.MismatchedTokenException=qt.isRecognitionException=void 0;var WA=YA(Qe),Cl="MismatchedTokenException",Pl="NoViableAltException",Al="EarlyExitException",Rl="NotAllInputParsedException",Ml=[Cl,Pl,Al,Rl];Object.freeze(Ml);function HA(L){return(0,WA.default)(Ml,L.name)}qt.isRecognitionException=HA;var Vn=function(L){Fs(w,L);function w(M,b){var W=this.constructor,Z=L.call(this,M)||this;return Z.token=b,Z.resyncedTokens=[],Object.setPrototypeOf(Z,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(Z,Z.constructor),Z}return w}(Error),$A=function(L){Fs(w,L);function w(M,b,W){var Z=L.call(this,M,b)||this;return Z.previousToken=W,Z.name=Cl,Z}return w}(Vn);qt.MismatchedTokenException=$A;var KA=function(L){Fs(w,L);function w(M,b,W){var Z=L.call(this,M,b)||this;return Z.previousToken=W,Z.name=Pl,Z}return w}(Vn);qt.NoViableAltException=KA;var ZA=function(L){Fs(w,L);function w(M,b){var W=L.call(this,M,b)||this;return W.name=Rl,W}return w}(Vn);qt.NotAllInputParsedException=ZA;var JA=function(L){Fs(w,L);function w(M,b,W){var Z=L.call(this,M,b)||this;return Z.previousToken=W,Z.name=Al,Z}return w}(Vn);qt.EarlyExitException=JA;var Mo;function Fl(){return Mo||(Mo=1,function(L){var w=vt&&vt.__extends||function(){var o=function(h,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},o(h,l)};return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(h,l);function d(){this.constructor=h}h.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),M=vt&&vt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(L,"__esModule",{value:!0}),L.attemptInRepetitionRecovery=L.Recoverable=L.InRuleRecoveryException=L.IN_RULE_RECOVERY_EXCEPTION=L.EOF_FOLLOW_KEY=void 0;var b=oi,W=M(Te),Z=M(ia),p=M(We),S=M(ne),t=M(_r),f=M(pe),c=M(Qe),a=M(Je),r=qt,n=As,e=le();L.EOF_FOLLOW_KEY={},L.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";var s=function(o){w(h,o);function h(l){var d=o.call(this,l)||this;return d.name=L.IN_RULE_RECOVERY_EXCEPTION,d}return h}(Error);L.InRuleRecoveryException=s;var u=function(){function o(){}return o.prototype.initRecoverable=function(h){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,f.default)(h,"recoveryEnabled")?h.recoveryEnabled:e.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=i)},o.prototype.getTokenToInsert=function(h){var l=(0,b.createTokenInstance)(h,"",NaN,NaN,NaN,NaN,NaN,NaN);return l.isInsertedInRecovery=!0,l},o.prototype.canTokenTypeBeInsertedInRecovery=function(h){return!0},o.prototype.canTokenTypeBeDeletedInRecovery=function(h){return!0},o.prototype.tryInRepetitionRecovery=function(h,l,d,v){for(var m=this,x=this.findReSyncTokenType(),g=this.exportLexerState(),y=[],T=!1,E=this.LA(1),C=this.LA(1),A=function(){var P=m.LA(0),F=m.errorMessageProvider.buildMismatchTokenMessage({expected:v,actual:E,previous:P,ruleName:m.getCurrRuleFullName()}),O=new r.MismatchedTokenException(F,E,m.LA(0));O.resyncedTokens=(0,Z.default)(y),m.SAVE_ERROR(O)};!T;)if(this.tokenMatcher(C,v)){A();return}else if(d.call(this)){A(),h.apply(this,l);return}else this.tokenMatcher(C,x)?T=!0:(C=this.SKIP_TOKEN(),this.addToResyncTokens(C,y));this.importLexerState(g)},o.prototype.shouldInRepetitionRecoveryBeTried=function(h,l,d){return!(d===!1||this.tokenMatcher(this.LA(1),h)||this.isBackTracking()||this.canPerformInRuleRecovery(h,this.getFollowsForInRuleRecovery(h,l)))},o.prototype.getFollowsForInRuleRecovery=function(h,l){var d=this.getCurrentGrammarPath(h,l),v=this.getNextPossibleTokenTypes(d);return v},o.prototype.tryInRuleRecovery=function(h,l){if(this.canRecoverWithSingleTokenInsertion(h,l)){var d=this.getTokenToInsert(h);return d}if(this.canRecoverWithSingleTokenDeletion(h)){var v=this.SKIP_TOKEN();return this.consumeToken(),v}throw new s("sad sad panda")},o.prototype.canPerformInRuleRecovery=function(h,l){return this.canRecoverWithSingleTokenInsertion(h,l)||this.canRecoverWithSingleTokenDeletion(h)},o.prototype.canRecoverWithSingleTokenInsertion=function(h,l){var d=this;if(!this.canTokenTypeBeInsertedInRecovery(h)||(0,W.default)(l))return!1;var v=this.LA(1),m=(0,t.default)(l,function(x){return d.tokenMatcher(v,x)})!==void 0;return m},o.prototype.canRecoverWithSingleTokenDeletion=function(h){if(!this.canTokenTypeBeDeletedInRecovery(h))return!1;var l=this.tokenMatcher(this.LA(2),h);return l},o.prototype.isInCurrentRuleReSyncSet=function(h){var l=this.getCurrFollowKey(),d=this.getFollowSetFromFollowKey(l);return(0,c.default)(d,h)},o.prototype.findReSyncTokenType=function(){for(var h=this.flattenFollowSet(),l=this.LA(1),d=2;;){var v=(0,t.default)(h,function(m){var x=(0,b.tokenMatcher)(l,m);return x});if(v!==void 0)return v;l=this.LA(d),d++}},o.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return L.EOF_FOLLOW_KEY;var h=this.getLastExplicitRuleShortName(),l=this.getLastExplicitRuleOccurrenceIndex(),d=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(h),idxInCallingRule:l,inRule:this.shortRuleNameToFullName(d)}},o.prototype.buildFullFollowKeyStack=function(){var h=this,l=this.RULE_STACK,d=this.RULE_OCCURRENCE_STACK;return(0,S.default)(l,function(v,m){return m===0?L.EOF_FOLLOW_KEY:{ruleName:h.shortRuleNameToFullName(v),idxInCallingRule:d[m],inRule:h.shortRuleNameToFullName(l[m-1])}})},o.prototype.flattenFollowSet=function(){var h=this,l=(0,S.default)(this.buildFullFollowKeyStack(),function(d){return h.getFollowSetFromFollowKey(d)});return(0,p.default)(l)},o.prototype.getFollowSetFromFollowKey=function(h){if(h===L.EOF_FOLLOW_KEY)return[b.EOF];var l=h.ruleName+h.idxInCallingRule+n.IN+h.inRule;return this.resyncFollows[l]},o.prototype.addToResyncTokens=function(h,l){return this.tokenMatcher(h,b.EOF)||l.push(h),l},o.prototype.reSyncTo=function(h){for(var l=[],d=this.LA(1);this.tokenMatcher(d,h)===!1;)d=this.SKIP_TOKEN(),this.addToResyncTokens(d,l);return(0,Z.default)(l)},o.prototype.attemptInRepetitionRecovery=function(h,l,d,v,m,x,g){},o.prototype.getCurrentGrammarPath=function(h,l){var d=this.getHumanReadableRuleStack(),v=(0,a.default)(this.RULE_OCCURRENCE_STACK),m={ruleStack:d,occurrenceStack:v,lastTok:h,lastTokOccurrence:l};return m},o.prototype.getHumanReadableRuleStack=function(){var h=this;return(0,S.default)(this.RULE_STACK,function(l){return h.shortRuleNameToFullName(l)})},o}();L.Recoverable=u;function i(o,h,l,d,v,m,x){var g=this.getKeyForAutomaticLookahead(d,v),y=this.firstAfterRepMap[g];if(y===void 0){var T=this.getCurrRuleFullName(),E=this.getGAstProductions()[T],C=new m(E,v);y=C.startWalking(),this.firstAfterRepMap[g]=y}var A=y.token,P=y.occurrence,F=y.isEndOfRule;this.RULE_STACK.length===1&&F&&A===void 0&&(A=b.EOF,P=1),!(A===void 0||P===void 0)&&this.shouldInRepetitionRecoveryBeTried(A,P,x)&&this.tryInRepetitionRecovery(o,h,l,A)}L.attemptInRepetitionRecovery=i}(hr)),hr}var qe={},Xn={};(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.getKeyForAutomaticLookahead=L.AT_LEAST_ONE_SEP_IDX=L.MANY_SEP_IDX=L.AT_LEAST_ONE_IDX=L.MANY_IDX=L.OPTION_IDX=L.OR_IDX=L.BITS_FOR_ALT_IDX=L.BITS_FOR_RULE_IDX=L.BITS_FOR_OCCURRENCE_IDX=L.BITS_FOR_METHOD_TYPE=void 0,L.BITS_FOR_METHOD_TYPE=4,L.BITS_FOR_OCCURRENCE_IDX=8,L.BITS_FOR_RULE_IDX=12,L.BITS_FOR_ALT_IDX=8,L.OR_IDX=1<<L.BITS_FOR_OCCURRENCE_IDX,L.OPTION_IDX=2<<L.BITS_FOR_OCCURRENCE_IDX,L.MANY_IDX=3<<L.BITS_FOR_OCCURRENCE_IDX,L.AT_LEAST_ONE_IDX=4<<L.BITS_FOR_OCCURRENCE_IDX,L.MANY_SEP_IDX=5<<L.BITS_FOR_OCCURRENCE_IDX,L.AT_LEAST_ONE_SEP_IDX=6<<L.BITS_FOR_OCCURRENCE_IDX;function w(M,b,W){return W|b|M}L.getKeyForAutomaticLookahead=w,32-L.BITS_FOR_ALT_IDX})(Xn);var Ki={},Fo;function Ll(){if(Fo)return Ki;Fo=1;var L=vt&&vt.__spreadArray||function(f,c,a){if(a||arguments.length===2)for(var r=0,n=c.length,e;r<n;r++)(e||!(r in c))&&(e||(e=Array.prototype.slice.call(c,0,r)),e[r]=c[r]);return f.concat(e||Array.prototype.slice.call(c))},w=vt&&vt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.LLkLookaheadStrategy=void 0;var M=w(yl),b=w(Te),W=bi,Z=le(),p=zn(),S=Ui,t=function(){function f(c){var a;this.maxLookahead=(a=c==null?void 0:c.maxLookahead)!==null&&a!==void 0?a:Z.DEFAULT_PARSER_CONFIG.maxLookahead}return f.prototype.validate=function(c){var a=this.validateNoLeftRecursion(c.rules);if((0,b.default)(a)){var r=this.validateEmptyOrAlternatives(c.rules),n=this.validateAmbiguousAlternationAlternatives(c.rules,this.maxLookahead),e=this.validateSomeNonEmptyLookaheadPath(c.rules,this.maxLookahead),s=L(L(L(L([],a,!0),r,!0),n,!0),e,!0);return s}return a},f.prototype.validateNoLeftRecursion=function(c){return(0,M.default)(c,function(a){return(0,p.validateNoLeftRecursion)(a,a,W.defaultGrammarValidatorErrorProvider)})},f.prototype.validateEmptyOrAlternatives=function(c){return(0,M.default)(c,function(a){return(0,p.validateEmptyOrAlternative)(a,W.defaultGrammarValidatorErrorProvider)})},f.prototype.validateAmbiguousAlternationAlternatives=function(c,a){return(0,M.default)(c,function(r){return(0,p.validateAmbiguousAlternationAlternatives)(r,a,W.defaultGrammarValidatorErrorProvider)})},f.prototype.validateSomeNonEmptyLookaheadPath=function(c,a){return(0,p.validateSomeNonEmptyLookaheadPath)(c,a,W.defaultGrammarValidatorErrorProvider)},f.prototype.buildLookaheadForAlternation=function(c){return(0,S.buildLookaheadFuncForOr)(c.prodOccurrence,c.rule,c.maxLookahead,c.hasPredicates,c.dynamicTokensEnabled,S.buildAlternativesLookAheadFunc)},f.prototype.buildLookaheadForOptional=function(c){return(0,S.buildLookaheadFuncForOptionalProd)(c.prodOccurrence,c.rule,c.maxLookahead,c.dynamicTokensEnabled,(0,S.getProdType)(c.prodType),S.buildSingleAlternativeLookaheadFunction)},f}();return Ki.LLkLookaheadStrategy=t,Ki}var Lo;function QA(){if(Lo)return qe;Lo=1;var L=vt&&vt.__extends||function(){var n=function(e,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,i){u.__proto__=i}||function(u,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(u[o]=i[o])},n(e,s)};return function(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(e,s);function u(){this.constructor=e}e.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),w=vt&&vt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.collectMethods=qe.LooksAhead=void 0;var M=w(_t),b=w(pe),W=le(),Z=Xn,p=Jt,S=Jt,t=Ll(),f=function(){function n(){}return n.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,b.default)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:W.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,b.default)(e,"maxLookahead")?e.maxLookahead:W.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookaheadStrategy=(0,b.default)(e,"lookaheadStrategy")?e.lookaheadStrategy:new t.LLkLookaheadStrategy({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map},n.prototype.preComputeLookaheadFunctions=function(e){var s=this;(0,M.default)(e,function(u){s.TRACE_INIT("".concat(u.name," Rule Lookahead"),function(){var i=r(u),o=i.alternation,h=i.repetition,l=i.option,d=i.repetitionMandatory,v=i.repetitionMandatoryWithSeparator,m=i.repetitionWithSeparator;(0,M.default)(o,function(x){var g=x.idx===0?"":x.idx;s.TRACE_INIT("".concat((0,S.getProductionDslName)(x)).concat(g),function(){var y=s.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:x.idx,rule:u,maxLookahead:x.maxLookahead||s.maxLookahead,hasPredicates:x.hasPredicates,dynamicTokensEnabled:s.dynamicTokensEnabled}),T=(0,Z.getKeyForAutomaticLookahead)(s.fullRuleNameToShort[u.name],Z.OR_IDX,x.idx);s.setLaFuncCache(T,y)})}),(0,M.default)(h,function(x){s.computeLookaheadFunc(u,x.idx,Z.MANY_IDX,"Repetition",x.maxLookahead,(0,S.getProductionDslName)(x))}),(0,M.default)(l,function(x){s.computeLookaheadFunc(u,x.idx,Z.OPTION_IDX,"Option",x.maxLookahead,(0,S.getProductionDslName)(x))}),(0,M.default)(d,function(x){s.computeLookaheadFunc(u,x.idx,Z.AT_LEAST_ONE_IDX,"RepetitionMandatory",x.maxLookahead,(0,S.getProductionDslName)(x))}),(0,M.default)(v,function(x){s.computeLookaheadFunc(u,x.idx,Z.AT_LEAST_ONE_SEP_IDX,"RepetitionMandatoryWithSeparator",x.maxLookahead,(0,S.getProductionDslName)(x))}),(0,M.default)(m,function(x){s.computeLookaheadFunc(u,x.idx,Z.MANY_SEP_IDX,"RepetitionWithSeparator",x.maxLookahead,(0,S.getProductionDslName)(x))})})})},n.prototype.computeLookaheadFunc=function(e,s,u,i,o,h){var l=this;this.TRACE_INIT("".concat(h).concat(s===0?"":s),function(){var d=l.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:s,rule:e,maxLookahead:o||l.maxLookahead,dynamicTokensEnabled:l.dynamicTokensEnabled,prodType:i}),v=(0,Z.getKeyForAutomaticLookahead)(l.fullRuleNameToShort[e.name],u,s);l.setLaFuncCache(v,d)})},n.prototype.getKeyForAutomaticLookahead=function(e,s){var u=this.getLastExplicitRuleShortName();return(0,Z.getKeyForAutomaticLookahead)(u,e,s)},n.prototype.getLaFuncFromCache=function(e){return this.lookAheadFuncsCache.get(e)},n.prototype.setLaFuncCache=function(e,s){this.lookAheadFuncsCache.set(e,s)},n}();qe.LooksAhead=f;var c=function(n){L(e,n);function e(){var s=n!==null&&n.apply(this,arguments)||this;return s.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},s}return e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitOption=function(s){this.dslMethods.option.push(s)},e.prototype.visitRepetitionWithSeparator=function(s){this.dslMethods.repetitionWithSeparator.push(s)},e.prototype.visitRepetitionMandatory=function(s){this.dslMethods.repetitionMandatory.push(s)},e.prototype.visitRepetitionMandatoryWithSeparator=function(s){this.dslMethods.repetitionMandatoryWithSeparator.push(s)},e.prototype.visitRepetition=function(s){this.dslMethods.repetition.push(s)},e.prototype.visitAlternation=function(s){this.dslMethods.alternation.push(s)},e}(p.GAstVisitor),a=new c;function r(n){a.reset(),n.accept(a);var e=a.dslMethods;return a.reset(),e}return qe.collectMethods=r,qe}var Zi={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.addNoneTerminalToCst=Ae.addTerminalToCst=Ae.setNodeLocationFull=Ae.setNodeLocationOnlyOffset=void 0;function jA(L,w){isNaN(L.startOffset)===!0?(L.startOffset=w.startOffset,L.endOffset=w.endOffset):L.endOffset<w.endOffset&&(L.endOffset=w.endOffset)}Ae.setNodeLocationOnlyOffset=jA;function kA(L,w){isNaN(L.startOffset)===!0?(L.startOffset=w.startOffset,L.startColumn=w.startColumn,L.startLine=w.startLine,L.endOffset=w.endOffset,L.endColumn=w.endColumn,L.endLine=w.endLine):L.endOffset<w.endOffset&&(L.endOffset=w.endOffset,L.endColumn=w.endColumn,L.endLine=w.endLine)}Ae.setNodeLocationFull=kA;function qA(L,w,M){L.children[M]===void 0?L.children[M]=[w]:L.children[M].push(w)}Ae.addTerminalToCst=qA;function _A(L,w,M){L.children[w]===void 0?L.children[w]=[M]:L.children[w].push(M)}Ae.addNoneTerminalToCst=_A;var Ol={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.defineNameProp=void 0;var tR="name";function eR(L,w){Object.defineProperty(L,tR,{enumerable:!1,configurable:!0,writable:!1,value:w})}Yn.defineNameProp=eR;(function(L){var w=vt&&vt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(L,"__esModule",{value:!0}),L.validateMissingCstMethods=L.validateVisitor=L.CstVisitorDefinitionError=L.createBaseVisitorConstructorWithDefaults=L.createBaseSemanticVisitorConstructor=L.defaultVisit=void 0;var M=w(Te),b=w(Gn),W=w(Nt),Z=w(ne),p=w(_t),S=w(ta),t=w(ce),f=w(gs),c=w(Ni),a=Yn;function r(o,h){for(var l=(0,t.default)(o),d=l.length,v=0;v<d;v++)for(var m=l[v],x=o[m],g=x.length,y=0;y<g;y++){var T=x[y];T.tokenTypeIdx===void 0&&this[T.name](T.children,h)}}L.defaultVisit=r;function n(o,h){var l=function(){};(0,a.defineNameProp)(l,o+"BaseSemantics");var d={visit:function(v,m){if((0,W.default)(v)&&(v=v[0]),!(0,c.default)(v))return this[v.name](v.children,m)},validateVisitor:function(){var v=u(this,h);if(!(0,M.default)(v)){var m=(0,Z.default)(v,function(x){return x.msg});throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,`>:
	`)+"".concat(m.join(`

`).replace(/\n/g,`
	`)))}}};return l.prototype=d,l.prototype.constructor=l,l._RULE_NAMES=h,l}L.createBaseSemanticVisitorConstructor=n;function e(o,h,l){var d=function(){};(0,a.defineNameProp)(d,o+"BaseSemanticsWithDefaults");var v=Object.create(l.prototype);return(0,p.default)(h,function(m){v[m]=r}),d.prototype=v,d.prototype.constructor=d,d}L.createBaseVisitorConstructorWithDefaults=e;var s;(function(o){o[o.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",o[o.MISSING_METHOD=1]="MISSING_METHOD"})(s=L.CstVisitorDefinitionError||(L.CstVisitorDefinitionError={}));function u(o,h){var l=i(o,h);return l}L.validateVisitor=u;function i(o,h){var l=(0,S.default)(h,function(v){return(0,f.default)(o[v])===!1}),d=(0,Z.default)(l,function(v){return{msg:"Missing visitor method: <".concat(v,"> on ").concat(o.constructor.name," CST Visitor."),type:s.MISSING_METHOD,methodName:v}});return(0,b.default)(d)}L.validateMissingCstMethods=i})(Ol);var Oo;function iR(){if(Oo)return Zi;Oo=1;var L=vt&&vt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.TreeBuilder=void 0;var w=Ae,M=L(Jr),b=L(pe),W=L(ce),Z=L(Ni),p=Ol,S=le(),t=function(){function f(){}return f.prototype.initTreeBuilder=function(c){if(this.CST_STACK=[],this.outputCst=c.outputCst,this.nodeLocationTracking=(0,b.default)(c,"nodeLocationTracking")?c.nodeLocationTracking:S.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=M.default,this.cstFinallyStateUpdate=M.default,this.cstPostTerminal=M.default,this.cstPostNonTerminal=M.default,this.cstPostRule=M.default;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=w.setNodeLocationFull,this.setNodeLocationFromNode=w.setNodeLocationFull,this.cstPostRule=M.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=M.default,this.setNodeLocationFromNode=M.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=w.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=w.setNodeLocationOnlyOffset,this.cstPostRule=M.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=M.default,this.setNodeLocationFromNode=M.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=M.default,this.setNodeLocationFromNode=M.default,this.cstPostRule=M.default,this.setInitialNodeLocation=M.default;else throw Error('Invalid <nodeLocationTracking> config option: "'.concat(c.nodeLocationTracking,'"'))},f.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(c){c.location={startOffset:NaN,endOffset:NaN}},f.prototype.setInitialNodeLocationOnlyOffsetRegular=function(c){c.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},f.prototype.setInitialNodeLocationFullRecovery=function(c){c.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},f.prototype.setInitialNodeLocationFullRegular=function(c){var a=this.LA(1);c.location={startOffset:a.startOffset,startLine:a.startLine,startColumn:a.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},f.prototype.cstInvocationStateUpdate=function(c){var a={name:c,children:Object.create(null)};this.setInitialNodeLocation(a),this.CST_STACK.push(a)},f.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},f.prototype.cstPostRuleFull=function(c){var a=this.LA(0),r=c.location;r.startOffset<=a.startOffset?(r.endOffset=a.endOffset,r.endLine=a.endLine,r.endColumn=a.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)},f.prototype.cstPostRuleOnlyOffset=function(c){var a=this.LA(0),r=c.location;r.startOffset<=a.startOffset?r.endOffset=a.endOffset:r.startOffset=NaN},f.prototype.cstPostTerminal=function(c,a){var r=this.CST_STACK[this.CST_STACK.length-1];(0,w.addTerminalToCst)(r,a,c),this.setNodeLocationFromToken(r.location,a)},f.prototype.cstPostNonTerminal=function(c,a){var r=this.CST_STACK[this.CST_STACK.length-1];(0,w.addNoneTerminalToCst)(r,a,c),this.setNodeLocationFromNode(r.location,c.location)},f.prototype.getBaseCstVisitorConstructor=function(){if((0,Z.default)(this.baseCstVisitorConstructor)){var c=(0,p.createBaseSemanticVisitorConstructor)(this.className,(0,W.default)(this.gastProductionsCache));return this.baseCstVisitorConstructor=c,c}return this.baseCstVisitorConstructor},f.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,Z.default)(this.baseCstVisitorWithDefaultsConstructor)){var c=(0,p.createBaseVisitorConstructorWithDefaults)(this.className,(0,W.default)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=c,c}return this.baseCstVisitorWithDefaultsConstructor},f.prototype.getLastExplicitRuleShortName=function(){var c=this.RULE_STACK;return c[c.length-1]},f.prototype.getPreviousExplicitRuleShortName=function(){var c=this.RULE_STACK;return c[c.length-2]},f.prototype.getLastExplicitRuleOccurrenceIndex=function(){var c=this.RULE_OCCURRENCE_STACK;return c[c.length-1]},f}();return Zi.TreeBuilder=t,Zi}var Ji={},wo;function sR(){if(wo)return Ji;wo=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.LexerAdapter=void 0;var L=le(),w=function(){function M(){}return M.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(M.prototype,"input",{get:function(){return this.tokVector},set:function(b){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=b,this.tokVectorLength=b.length},enumerable:!1,configurable:!0}),M.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):L.END_OF_FILE},M.prototype.LA=function(b){var W=this.currIdx+b;return W<0||this.tokVectorLength<=W?L.END_OF_FILE:this.tokVector[W]},M.prototype.consumeToken=function(){this.currIdx++},M.prototype.exportLexerState=function(){return this.currIdx},M.prototype.importLexerState=function(b){this.currIdx=b},M.prototype.resetLexerState=function(){this.currIdx=-1},M.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},M.prototype.getLexerPosition=function(){return this.exportLexerState()},M}();return Ji.LexerAdapter=w,Ji}var Qi={},Io;function nR(){if(Io)return Qi;Io=1;var L=vt&&vt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.RecognizerApi=void 0;var w=L(Xe),M=L(Qe),b=qt,W=le(),Z=bi,p=zn(),S=Jt,t=function(){function f(){}return f.prototype.ACTION=function(c){return c.call(this)},f.prototype.consume=function(c,a,r){return this.consumeInternal(a,c,r)},f.prototype.subrule=function(c,a,r){return this.subruleInternal(a,c,r)},f.prototype.option=function(c,a){return this.optionInternal(a,c)},f.prototype.or=function(c,a){return this.orInternal(a,c)},f.prototype.many=function(c,a){return this.manyInternal(c,a)},f.prototype.atLeastOne=function(c,a){return this.atLeastOneInternal(c,a)},f.prototype.CONSUME=function(c,a){return this.consumeInternal(c,0,a)},f.prototype.CONSUME1=function(c,a){return this.consumeInternal(c,1,a)},f.prototype.CONSUME2=function(c,a){return this.consumeInternal(c,2,a)},f.prototype.CONSUME3=function(c,a){return this.consumeInternal(c,3,a)},f.prototype.CONSUME4=function(c,a){return this.consumeInternal(c,4,a)},f.prototype.CONSUME5=function(c,a){return this.consumeInternal(c,5,a)},f.prototype.CONSUME6=function(c,a){return this.consumeInternal(c,6,a)},f.prototype.CONSUME7=function(c,a){return this.consumeInternal(c,7,a)},f.prototype.CONSUME8=function(c,a){return this.consumeInternal(c,8,a)},f.prototype.CONSUME9=function(c,a){return this.consumeInternal(c,9,a)},f.prototype.SUBRULE=function(c,a){return this.subruleInternal(c,0,a)},f.prototype.SUBRULE1=function(c,a){return this.subruleInternal(c,1,a)},f.prototype.SUBRULE2=function(c,a){return this.subruleInternal(c,2,a)},f.prototype.SUBRULE3=function(c,a){return this.subruleInternal(c,3,a)},f.prototype.SUBRULE4=function(c,a){return this.subruleInternal(c,4,a)},f.prototype.SUBRULE5=function(c,a){return this.subruleInternal(c,5,a)},f.prototype.SUBRULE6=function(c,a){return this.subruleInternal(c,6,a)},f.prototype.SUBRULE7=function(c,a){return this.subruleInternal(c,7,a)},f.prototype.SUBRULE8=function(c,a){return this.subruleInternal(c,8,a)},f.prototype.SUBRULE9=function(c,a){return this.subruleInternal(c,9,a)},f.prototype.OPTION=function(c){return this.optionInternal(c,0)},f.prototype.OPTION1=function(c){return this.optionInternal(c,1)},f.prototype.OPTION2=function(c){return this.optionInternal(c,2)},f.prototype.OPTION3=function(c){return this.optionInternal(c,3)},f.prototype.OPTION4=function(c){return this.optionInternal(c,4)},f.prototype.OPTION5=function(c){return this.optionInternal(c,5)},f.prototype.OPTION6=function(c){return this.optionInternal(c,6)},f.prototype.OPTION7=function(c){return this.optionInternal(c,7)},f.prototype.OPTION8=function(c){return this.optionInternal(c,8)},f.prototype.OPTION9=function(c){return this.optionInternal(c,9)},f.prototype.OR=function(c){return this.orInternal(c,0)},f.prototype.OR1=function(c){return this.orInternal(c,1)},f.prototype.OR2=function(c){return this.orInternal(c,2)},f.prototype.OR3=function(c){return this.orInternal(c,3)},f.prototype.OR4=function(c){return this.orInternal(c,4)},f.prototype.OR5=function(c){return this.orInternal(c,5)},f.prototype.OR6=function(c){return this.orInternal(c,6)},f.prototype.OR7=function(c){return this.orInternal(c,7)},f.prototype.OR8=function(c){return this.orInternal(c,8)},f.prototype.OR9=function(c){return this.orInternal(c,9)},f.prototype.MANY=function(c){this.manyInternal(0,c)},f.prototype.MANY1=function(c){this.manyInternal(1,c)},f.prototype.MANY2=function(c){this.manyInternal(2,c)},f.prototype.MANY3=function(c){this.manyInternal(3,c)},f.prototype.MANY4=function(c){this.manyInternal(4,c)},f.prototype.MANY5=function(c){this.manyInternal(5,c)},f.prototype.MANY6=function(c){this.manyInternal(6,c)},f.prototype.MANY7=function(c){this.manyInternal(7,c)},f.prototype.MANY8=function(c){this.manyInternal(8,c)},f.prototype.MANY9=function(c){this.manyInternal(9,c)},f.prototype.MANY_SEP=function(c){this.manySepFirstInternal(0,c)},f.prototype.MANY_SEP1=function(c){this.manySepFirstInternal(1,c)},f.prototype.MANY_SEP2=function(c){this.manySepFirstInternal(2,c)},f.prototype.MANY_SEP3=function(c){this.manySepFirstInternal(3,c)},f.prototype.MANY_SEP4=function(c){this.manySepFirstInternal(4,c)},f.prototype.MANY_SEP5=function(c){this.manySepFirstInternal(5,c)},f.prototype.MANY_SEP6=function(c){this.manySepFirstInternal(6,c)},f.prototype.MANY_SEP7=function(c){this.manySepFirstInternal(7,c)},f.prototype.MANY_SEP8=function(c){this.manySepFirstInternal(8,c)},f.prototype.MANY_SEP9=function(c){this.manySepFirstInternal(9,c)},f.prototype.AT_LEAST_ONE=function(c){this.atLeastOneInternal(0,c)},f.prototype.AT_LEAST_ONE1=function(c){return this.atLeastOneInternal(1,c)},f.prototype.AT_LEAST_ONE2=function(c){this.atLeastOneInternal(2,c)},f.prototype.AT_LEAST_ONE3=function(c){this.atLeastOneInternal(3,c)},f.prototype.AT_LEAST_ONE4=function(c){this.atLeastOneInternal(4,c)},f.prototype.AT_LEAST_ONE5=function(c){this.atLeastOneInternal(5,c)},f.prototype.AT_LEAST_ONE6=function(c){this.atLeastOneInternal(6,c)},f.prototype.AT_LEAST_ONE7=function(c){this.atLeastOneInternal(7,c)},f.prototype.AT_LEAST_ONE8=function(c){this.atLeastOneInternal(8,c)},f.prototype.AT_LEAST_ONE9=function(c){this.atLeastOneInternal(9,c)},f.prototype.AT_LEAST_ONE_SEP=function(c){this.atLeastOneSepFirstInternal(0,c)},f.prototype.AT_LEAST_ONE_SEP1=function(c){this.atLeastOneSepFirstInternal(1,c)},f.prototype.AT_LEAST_ONE_SEP2=function(c){this.atLeastOneSepFirstInternal(2,c)},f.prototype.AT_LEAST_ONE_SEP3=function(c){this.atLeastOneSepFirstInternal(3,c)},f.prototype.AT_LEAST_ONE_SEP4=function(c){this.atLeastOneSepFirstInternal(4,c)},f.prototype.AT_LEAST_ONE_SEP5=function(c){this.atLeastOneSepFirstInternal(5,c)},f.prototype.AT_LEAST_ONE_SEP6=function(c){this.atLeastOneSepFirstInternal(6,c)},f.prototype.AT_LEAST_ONE_SEP7=function(c){this.atLeastOneSepFirstInternal(7,c)},f.prototype.AT_LEAST_ONE_SEP8=function(c){this.atLeastOneSepFirstInternal(8,c)},f.prototype.AT_LEAST_ONE_SEP9=function(c){this.atLeastOneSepFirstInternal(9,c)},f.prototype.RULE=function(c,a,r){if(r===void 0&&(r=W.DEFAULT_RULE_CONFIG),(0,M.default)(this.definedRulesNames,c)){var n=Z.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:c,grammarName:this.className}),e={message:n,type:W.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:c};this.definitionErrors.push(e)}this.definedRulesNames.push(c);var s=this.defineRule(c,a,r);return this[c]=s,s},f.prototype.OVERRIDE_RULE=function(c,a,r){r===void 0&&(r=W.DEFAULT_RULE_CONFIG);var n=(0,p.validateRuleIsOverridden)(c,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);var e=this.defineRule(c,a,r);return this[c]=e,e},f.prototype.BACKTRACK=function(c,a){return function(){this.isBackTrackingStack.push(1);var r=this.saveRecogState();try{return c.apply(this,a),!0}catch(n){if((0,b.isRecognitionException)(n))return!1;throw n}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}},f.prototype.getGAstProductions=function(){return this.gastProductionsCache},f.prototype.getSerializedGastProductions=function(){return(0,S.serializeGrammar)((0,w.default)(this.gastProductionsCache))},f}();return Qi.RecognizerApi=t,Qi}var ji={},Do;function rR(){if(Do)return ji;Do=1;var L=vt&&vt.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ji,"__esModule",{value:!0}),ji.RecognizerEngine=void 0;var w=L(Te),M=L(Nt),b=L(We),W=L(Dn),Z=L(Qr),p=L(Le),S=L(pe),t=L(Xe),f=L(hi),c=L(Je),a=Xn,r=qt,n=Ui,e=Ht,s=le(),u=Fl(),i=oi,o=li,h=function(){function l(){}return l.prototype.initRecognizerEngine=function(d,v){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=o.tokenStructuredMatcherNoCategories,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,S.default)(v,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,M.default)(d)){if((0,w.default)(d))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof d[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,M.default)(d))this.tokensMap=(0,f.default)(d,function(T,E){return T[E.name]=E,T},{});else if((0,S.default)(d,"modes")&&(0,W.default)((0,b.default)((0,t.default)(d.modes)),o.isTokenType)){var m=(0,b.default)((0,t.default)(d.modes)),x=(0,Z.default)(m);this.tokensMap=(0,f.default)(x,function(T,E){return T[E.name]=E,T},{})}else if((0,p.default)(d))this.tokensMap=(0,c.default)(d);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=i.EOF;var g=(0,S.default)(d,"modes")?(0,b.default)((0,t.default)(d.modes)):(0,t.default)(d),y=(0,W.default)(g,function(T){return(0,w.default)(T.categoryMatches)});this.tokenMatcher=y?o.tokenStructuredMatcherNoCategories:o.tokenStructuredMatcher,(0,o.augmentTokenTypes)((0,t.default)(this.tokensMap))},l.prototype.defineRule=function(d,v,m){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(d,`> may not be defined after the 'performSelfAnalysis' method has been called'
`)+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var x=(0,S.default)(m,"resyncEnabled")?m.resyncEnabled:s.DEFAULT_RULE_CONFIG.resyncEnabled,g=(0,S.default)(m,"recoveryValueFunc")?m.recoveryValueFunc:s.DEFAULT_RULE_CONFIG.recoveryValueFunc,y=this.ruleShortNameIdx<<a.BITS_FOR_METHOD_TYPE+a.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[y]=d,this.fullRuleNameToShort[d]=y;var T;this.outputCst===!0?T=function(){for(var A=[],P=0;P<arguments.length;P++)A[P]=arguments[P];try{this.ruleInvocationStateUpdate(y,d,this.subruleIdx),v.apply(this,A);var F=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(F),F}catch(O){return this.invokeRuleCatch(O,x,g)}finally{this.ruleFinallyStateUpdate()}}:T=function(){for(var A=[],P=0;P<arguments.length;P++)A[P]=arguments[P];try{return this.ruleInvocationStateUpdate(y,d,this.subruleIdx),v.apply(this,A)}catch(F){return this.invokeRuleCatch(F,x,g)}finally{this.ruleFinallyStateUpdate()}};var E=Object.assign(T,{ruleName:d,originalGrammarAction:v});return E},l.prototype.invokeRuleCatch=function(d,v,m){var x=this.RULE_STACK.length===1,g=v&&!this.isBackTracking()&&this.recoveryEnabled;if((0,r.isRecognitionException)(d)){var y=d;if(g){var T=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(T))if(y.resyncedTokens=this.reSyncTo(T),this.outputCst){var E=this.CST_STACK[this.CST_STACK.length-1];return E.recoveredNode=!0,E}else return m(d);else{if(this.outputCst){var E=this.CST_STACK[this.CST_STACK.length-1];E.recoveredNode=!0,y.partialCstResult=E}throw y}}else{if(x)return this.moveToTerminatedState(),m(d);throw y}}else throw d},l.prototype.optionInternal=function(d,v){var m=this.getKeyForAutomaticLookahead(a.OPTION_IDX,v);return this.optionInternalLogic(d,v,m)},l.prototype.optionInternalLogic=function(d,v,m){var x=this,g=this.getLaFuncFromCache(m),y;if(typeof d!="function"){y=d.DEF;var T=d.GATE;if(T!==void 0){var E=g;g=function(){return T.call(x)&&E.call(x)}}}else y=d;if(g.call(this)===!0)return y.call(this)},l.prototype.atLeastOneInternal=function(d,v){var m=this.getKeyForAutomaticLookahead(a.AT_LEAST_ONE_IDX,d);return this.atLeastOneInternalLogic(d,v,m)},l.prototype.atLeastOneInternalLogic=function(d,v,m){var x=this,g=this.getLaFuncFromCache(m),y;if(typeof v!="function"){y=v.DEF;var T=v.GATE;if(T!==void 0){var E=g;g=function(){return T.call(x)&&E.call(x)}}}else y=v;if(g.call(this)===!0)for(var C=this.doSingleRepetition(y);g.call(this)===!0&&C===!0;)C=this.doSingleRepetition(y);else throw this.raiseEarlyExitException(d,n.PROD_TYPE.REPETITION_MANDATORY,v.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[d,v],g,a.AT_LEAST_ONE_IDX,d,e.NextTerminalAfterAtLeastOneWalker)},l.prototype.atLeastOneSepFirstInternal=function(d,v){var m=this.getKeyForAutomaticLookahead(a.AT_LEAST_ONE_SEP_IDX,d);this.atLeastOneSepFirstInternalLogic(d,v,m)},l.prototype.atLeastOneSepFirstInternalLogic=function(d,v,m){var x=this,g=v.DEF,y=v.SEP,T=this.getLaFuncFromCache(m);if(T.call(this)===!0){g.call(this);for(var E=function(){return x.tokenMatcher(x.LA(1),y)};this.tokenMatcher(this.LA(1),y)===!0;)this.CONSUME(y),g.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[d,y,E,g,e.NextTerminalAfterAtLeastOneSepWalker],E,a.AT_LEAST_ONE_SEP_IDX,d,e.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(d,n.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,v.ERR_MSG)},l.prototype.manyInternal=function(d,v){var m=this.getKeyForAutomaticLookahead(a.MANY_IDX,d);return this.manyInternalLogic(d,v,m)},l.prototype.manyInternalLogic=function(d,v,m){var x=this,g=this.getLaFuncFromCache(m),y;if(typeof v!="function"){y=v.DEF;var T=v.GATE;if(T!==void 0){var E=g;g=function(){return T.call(x)&&E.call(x)}}}else y=v;for(var C=!0;g.call(this)===!0&&C===!0;)C=this.doSingleRepetition(y);this.attemptInRepetitionRecovery(this.manyInternal,[d,v],g,a.MANY_IDX,d,e.NextTerminalAfterManyWalker,C)},l.prototype.manySepFirstInternal=function(d,v){var m=this.getKeyForAutomaticLookahead(a.MANY_SEP_IDX,d);this.manySepFirstInternalLogic(d,v,m)},l.prototype.manySepFirstInternalLogic=function(d,v,m){var x=this,g=v.DEF,y=v.SEP,T=this.getLaFuncFromCache(m);if(T.call(this)===!0){g.call(this);for(var E=function(){return x.tokenMatcher(x.LA(1),y)};this.tokenMatcher(this.LA(1),y)===!0;)this.CONSUME(y),g.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[d,y,E,g,e.NextTerminalAfterManySepWalker],E,a.MANY_SEP_IDX,d,e.NextTerminalAfterManySepWalker)}},l.prototype.repetitionSepSecondInternal=function(d,v,m,x,g){for(;m();)this.CONSUME(v),x.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[d,v,m,x,g],m,a.AT_LEAST_ONE_SEP_IDX,d,g)},l.prototype.doSingleRepetition=function(d){var v=this.getLexerPosition();d.call(this);var m=this.getLexerPosition();return m>v},l.prototype.orInternal=function(d,v){var m=this.getKeyForAutomaticLookahead(a.OR_IDX,v),x=(0,M.default)(d)?d:d.DEF,g=this.getLaFuncFromCache(m),y=g.call(this,x);if(y!==void 0){var T=x[y];return T.ALT.call(this)}this.raiseNoAltException(v,d.ERR_MSG)},l.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var d=this.LA(1),v=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:d,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new r.NotAllInputParsedException(v,d))}},l.prototype.subruleInternal=function(d,v,m){var x;try{var g=m!==void 0?m.ARGS:void 0;return this.subruleIdx=v,x=d.apply(this,g),this.cstPostNonTerminal(x,m!==void 0&&m.LABEL!==void 0?m.LABEL:d.ruleName),x}catch(y){throw this.subruleInternalError(y,m,d.ruleName)}},l.prototype.subruleInternalError=function(d,v,m){throw(0,r.isRecognitionException)(d)&&d.partialCstResult!==void 0&&(this.cstPostNonTerminal(d.partialCstResult,v!==void 0&&v.LABEL!==void 0?v.LABEL:m),delete d.partialCstResult),d},l.prototype.consumeInternal=function(d,v,m){var x;try{var g=this.LA(1);this.tokenMatcher(g,d)===!0?(this.consumeToken(),x=g):this.consumeInternalError(d,g,m)}catch(y){x=this.consumeInternalRecovery(d,v,y)}return this.cstPostTerminal(m!==void 0&&m.LABEL!==void 0?m.LABEL:d.name,x),x},l.prototype.consumeInternalError=function(d,v,m){var x,g=this.LA(0);throw m!==void 0&&m.ERR_MSG?x=m.ERR_MSG:x=this.errorMessageProvider.buildMismatchTokenMessage({expected:d,actual:v,previous:g,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new r.MismatchedTokenException(x,v,g))},l.prototype.consumeInternalRecovery=function(d,v,m){if(this.recoveryEnabled&&m.name==="MismatchedTokenException"&&!this.isBackTracking()){var x=this.getFollowsForInRuleRecovery(d,v);try{return this.tryInRuleRecovery(d,x)}catch(g){throw g.name===u.IN_RULE_RECOVERY_EXCEPTION?m:g}}else throw m},l.prototype.saveRecogState=function(){var d=this.errors,v=(0,c.default)(this.RULE_STACK);return{errors:d,lexerState:this.exportLexerState(),RULE_STACK:v,CST_STACK:this.CST_STACK}},l.prototype.reloadRecogState=function(d){this.errors=d.errors,this.importLexerState(d.lexerState),this.RULE_STACK=d.RULE_STACK},l.prototype.ruleInvocationStateUpdate=function(d,v,m){this.RULE_OCCURRENCE_STACK.push(m),this.RULE_STACK.push(d),this.cstInvocationStateUpdate(v)},l.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},l.prototype.getCurrRuleFullName=function(){var d=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[d]},l.prototype.shortRuleNameToFullName=function(d){return this.shortRuleNameToFull[d]},l.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),i.EOF)},l.prototype.reset=function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},l}();return ji.RecognizerEngine=h,ji}var ki={},Bo;function aR(){if(Bo)return ki;Bo=1;var L=vt&&vt.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(ki,"__esModule",{value:!0}),ki.ErrorHandler=void 0;var w=qt,M=L(pe),b=L(Je),W=Ui,Z=le(),p=function(){function S(){}return S.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=(0,M.default)(t,"errorMessageProvider")?t.errorMessageProvider:Z.DEFAULT_PARSER_CONFIG.errorMessageProvider},S.prototype.SAVE_ERROR=function(t){if((0,w.isRecognitionException)(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,b.default)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(S.prototype,"errors",{get:function(){return(0,b.default)(this._errors)},set:function(t){this._errors=t},enumerable:!1,configurable:!0}),S.prototype.raiseEarlyExitException=function(t,f,c){for(var a=this.getCurrRuleFullName(),r=this.getGAstProductions()[a],n=(0,W.getLookaheadPathsForOptionalProd)(t,r,f,this.maxLookahead),e=n[0],s=[],u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));var i=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:e,actual:s,previous:this.LA(0),customUserDescription:c,ruleName:a});throw this.SAVE_ERROR(new w.EarlyExitException(i,this.LA(1),this.LA(0)))},S.prototype.raiseNoAltException=function(t,f){for(var c=this.getCurrRuleFullName(),a=this.getGAstProductions()[c],r=(0,W.getLookaheadPathsForOr)(t,a,this.maxLookahead),n=[],e=1;e<=this.maxLookahead;e++)n.push(this.LA(e));var s=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:n,previous:s,customUserDescription:f,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new w.NoViableAltException(u,this.LA(1),s))},S}();return ki.ErrorHandler=p,ki}var Wn={},wl=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.ContentAssist=void 0;var No=Ht,oR=wl(Gi.exports),hR=wl(Ni),lR=function(){function L(){}return L.prototype.initContentAssist=function(){},L.prototype.computeContentAssist=function(w,M){var b=this.gastProductionsCache[w];if((0,hR.default)(b))throw Error("Rule ->".concat(w,"<- does not exist in this grammar."));return(0,No.nextPossibleTokensAfter)([b],M,this.tokenMatcher,this.maxLookahead)},L.prototype.getNextPossibleTokenTypes=function(w){var M=(0,oR.default)(w.ruleStack),b=this.getGAstProductions(),W=b[M],Z=new No.NextAfterTokenWalker(W,w).startWalking();return Z},L}();Wn.ContentAssist=lR;var qi={},Go;function uR(){if(Go)return qi;Go=1;var L=vt&&vt.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(qi,"__esModule",{value:!0}),qi.GastRecorder=void 0;var w=L(ea),M=L(Nt),b=L(Hr),W=L(_t),Z=L(gs),p=L(pe),S=Jt,t=bn(),f=li,c=oi,a=le(),r=Xn,n={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(n);var e=!0,s=Math.pow(2,r.BITS_FOR_OCCURRENCE_IDX)-1,u=(0,c.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:t.Lexer.NA});(0,f.augmentTokenTypes)([u]);var i=(0,c.createTokenInstance)(u,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(i);var o={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},h=function(){function x(){}return x.prototype.initGastRecorder=function(g){this.recordingProdStack=[],this.RECORDING_PHASE=!1},x.prototype.enableRecording=function(){var g=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var y=function(E){var C=E>0?E:"";g["CONSUME".concat(C)]=function(A,P){return this.consumeInternalRecord(A,E,P)},g["SUBRULE".concat(C)]=function(A,P){return this.subruleInternalRecord(A,E,P)},g["OPTION".concat(C)]=function(A){return this.optionInternalRecord(A,E)},g["OR".concat(C)]=function(A){return this.orInternalRecord(A,E)},g["MANY".concat(C)]=function(A){this.manyInternalRecord(E,A)},g["MANY_SEP".concat(C)]=function(A){this.manySepFirstInternalRecord(E,A)},g["AT_LEAST_ONE".concat(C)]=function(A){this.atLeastOneInternalRecord(E,A)},g["AT_LEAST_ONE_SEP".concat(C)]=function(A){this.atLeastOneSepFirstInternalRecord(E,A)}},T=0;T<10;T++)y(T);g.consume=function(E,C,A){return this.consumeInternalRecord(C,E,A)},g.subrule=function(E,C,A){return this.subruleInternalRecord(C,E,A)},g.option=function(E,C){return this.optionInternalRecord(C,E)},g.or=function(E,C){return this.orInternalRecord(C,E)},g.many=function(E,C){this.manyInternalRecord(E,C)},g.atLeastOne=function(E,C){this.atLeastOneInternalRecord(E,C)},g.ACTION=g.ACTION_RECORD,g.BACKTRACK=g.BACKTRACK_RECORD,g.LA=g.LA_RECORD})},x.prototype.disableRecording=function(){var g=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var y=g,T=0;T<10;T++){var E=T>0?T:"";delete y["CONSUME".concat(E)],delete y["SUBRULE".concat(E)],delete y["OPTION".concat(E)],delete y["OR".concat(E)],delete y["MANY".concat(E)],delete y["MANY_SEP".concat(E)],delete y["AT_LEAST_ONE".concat(E)],delete y["AT_LEAST_ONE_SEP".concat(E)]}delete y.consume,delete y.subrule,delete y.option,delete y.or,delete y.many,delete y.atLeastOne,delete y.ACTION,delete y.BACKTRACK,delete y.LA})},x.prototype.ACTION_RECORD=function(g){},x.prototype.BACKTRACK_RECORD=function(g,y){return function(){return!0}},x.prototype.LA_RECORD=function(g){return a.END_OF_FILE},x.prototype.topLevelRuleRecord=function(g,y){try{var T=new S.Rule({definition:[],name:g});return T.name=g,this.recordingProdStack.push(T),y.call(this),this.recordingProdStack.pop(),T}catch(E){if(E.KNOWN_RECORDER_ERROR!==!0)try{E.message=E.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw E}throw E}},x.prototype.optionInternalRecord=function(g,y){return l.call(this,S.Option,g,y)},x.prototype.atLeastOneInternalRecord=function(g,y){l.call(this,S.RepetitionMandatory,y,g)},x.prototype.atLeastOneSepFirstInternalRecord=function(g,y){l.call(this,S.RepetitionMandatoryWithSeparator,y,g,e)},x.prototype.manyInternalRecord=function(g,y){l.call(this,S.Repetition,y,g)},x.prototype.manySepFirstInternalRecord=function(g,y){l.call(this,S.RepetitionWithSeparator,y,g,e)},x.prototype.orInternalRecord=function(g,y){return d.call(this,g,y)},x.prototype.subruleInternalRecord=function(g,y,T){if(m(y),!g||(0,p.default)(g,"ruleName")===!1){var E=new Error("<SUBRULE".concat(v(y),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(g),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw E.KNOWN_RECORDER_ERROR=!0,E}var C=(0,w.default)(this.recordingProdStack),A=g.ruleName,P=new S.NonTerminal({idx:y,nonTerminalName:A,label:T==null?void 0:T.LABEL,referencedRule:void 0});return C.definition.push(P),this.outputCst?o:n},x.prototype.consumeInternalRecord=function(g,y,T){if(m(y),!(0,f.hasShortKeyProperty)(g)){var E=new Error("<CONSUME".concat(v(y),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(g),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw E.KNOWN_RECORDER_ERROR=!0,E}var C=(0,w.default)(this.recordingProdStack),A=new S.Terminal({idx:y,terminalType:g,label:T==null?void 0:T.LABEL});return C.definition.push(A),i},x}();qi.GastRecorder=h;function l(x,g,y,T){T===void 0&&(T=!1),m(y);var E=(0,w.default)(this.recordingProdStack),C=(0,Z.default)(g)?g:g.DEF,A=new x({definition:[],idx:y});return T&&(A.separator=g.SEP),(0,p.default)(g,"MAX_LOOKAHEAD")&&(A.maxLookahead=g.MAX_LOOKAHEAD),this.recordingProdStack.push(A),C.call(this),E.definition.push(A),this.recordingProdStack.pop(),n}function d(x,g){var y=this;m(g);var T=(0,w.default)(this.recordingProdStack),E=(0,M.default)(x)===!1,C=E===!1?x:x.DEF,A=new S.Alternation({definition:[],idx:g,ignoreAmbiguities:E&&x.IGNORE_AMBIGUITIES===!0});(0,p.default)(x,"MAX_LOOKAHEAD")&&(A.maxLookahead=x.MAX_LOOKAHEAD);var P=(0,b.default)(C,function(F){return(0,Z.default)(F.GATE)});return A.hasPredicates=P,T.definition.push(A),(0,W.default)(C,function(F){var O=new S.Alternative({definition:[]});A.definition.push(O),(0,p.default)(F,"IGNORE_AMBIGUITIES")?O.ignoreAmbiguities=F.IGNORE_AMBIGUITIES:(0,p.default)(F,"GATE")&&(O.ignoreAmbiguities=!0),y.recordingProdStack.push(O),F.ALT.call(y),y.recordingProdStack.pop()}),n}function v(x){return x===0?"":"".concat(x)}function m(x){if(x<0||x>s){var g=new Error("Invalid DSL Method idx value: <".concat(x,`>
	`)+"Idx value must be a none negative value smaller than ".concat(s+1));throw g.KNOWN_RECORDER_ERROR=!0,g}}return qi}var _i={},bo;function fR(){if(bo)return _i;bo=1;var L=vt&&vt.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(_i,"__esModule",{value:!0}),_i.PerformanceTracer=void 0;var w=L(pe),M=Ii,b=le(),W=function(){function Z(){}return Z.prototype.initPerformanceTracer=function(p){if((0,w.default)(p,"traceInitPerf")){var S=p.traceInitPerf,t=typeof S=="number";this.traceInitMaxIdent=t?S:1/0,this.traceInitPerf=t?S>0:S}else this.traceInitMaxIdent=0,this.traceInitPerf=b.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},Z.prototype.TRACE_INIT=function(p,S){if(this.traceInitPerf===!0){this.traceInitIndent++;var t=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(t,"--> <").concat(p,">"));var f=(0,M.timer)(S),c=f.time,a=f.value,r=c>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&r("".concat(t,"<-- <").concat(p,"> time: ").concat(c,"ms")),this.traceInitIndent--,a}else return S()},Z}();return _i.PerformanceTracer=W,_i}var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.applyMixins=void 0;function dR(L,w){w.forEach(function(M){var b=M.prototype;Object.getOwnPropertyNames(b).forEach(function(W){if(W!=="constructor"){var Z=Object.getOwnPropertyDescriptor(b,W);Z&&(Z.get||Z.set)?Object.defineProperty(L.prototype,W,Z):L.prototype[W]=M.prototype[W]}})})}Hn.applyMixins=dR;var Uo;function le(){return Uo||(Uo=1,function(L){var w=vt&&vt.__extends||function(){var A=function(P,F){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,I){O.__proto__=I}||function(O,I){for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&(O[G]=I[G])},A(P,F)};return function(P,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");A(P,F);function O(){this.constructor=P}P.prototype=F===null?Object.create(F):(O.prototype=F.prototype,new O)}}(),M=vt&&vt.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(L,"__esModule",{value:!0}),L.EmbeddedActionsParser=L.CstParser=L.Parser=L.EMPTY_ALT=L.ParserDefinitionErrorType=L.DEFAULT_RULE_CONFIG=L.DEFAULT_PARSER_CONFIG=L.END_OF_FILE=void 0;var b=M(Te),W=M(ne),Z=M(_t),p=M(Xe),S=M(pe),t=M(Je),f=Ii,c=Ce,a=oi,r=bi,n=XA(),e=Fl(),s=QA(),u=iR(),i=sR(),o=nR(),h=rR(),l=aR(),d=Wn,v=uR(),m=fR(),x=Hn,g=zn();L.END_OF_FILE=(0,a.createTokenInstance)(a.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(L.END_OF_FILE),L.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:r.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),L.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),function(A){A[A.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",A[A.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",A[A.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",A[A.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",A[A.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",A[A.LEFT_RECURSION=5]="LEFT_RECURSION",A[A.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",A[A.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",A[A.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",A[A.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",A[A.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",A[A.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",A[A.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",A[A.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(L.ParserDefinitionErrorType||(L.ParserDefinitionErrorType={}));function y(A){return A===void 0&&(A=void 0),function(){return A}}L.EMPTY_ALT=y;var T=function(){function A(P,F){this.definitionErrors=[],this.selfAnalysisDone=!1;var O=this;if(O.initErrorHandler(F),O.initLexerAdapter(),O.initLooksAhead(F),O.initRecognizerEngine(P,F),O.initRecoverable(F),O.initTreeBuilder(F),O.initContentAssist(),O.initGastRecorder(F),O.initPerformanceTracer(F),(0,S.default)(F,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,S.default)(F,"skipValidations")?F.skipValidations:L.DEFAULT_PARSER_CONFIG.skipValidations}return A.performSelfAnalysis=function(P){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},A.prototype.performSelfAnalysis=function(){var P=this;this.TRACE_INIT("performSelfAnalysis",function(){var F;P.selfAnalysisDone=!0;var O=P.className;P.TRACE_INIT("toFastProps",function(){(0,f.toFastProperties)(P)}),P.TRACE_INIT("Grammar Recording",function(){try{P.enableRecording(),(0,Z.default)(P.definedRulesNames,function(G){var z=P[G],X=z.originalGrammarAction,H;P.TRACE_INIT("".concat(G," Rule"),function(){H=P.topLevelRuleRecord(G,X)}),P.gastProductionsCache[G]=H})}finally{P.disableRecording()}});var I=[];if(P.TRACE_INIT("Grammar Resolving",function(){I=(0,n.resolveGrammar)({rules:(0,p.default)(P.gastProductionsCache)}),P.definitionErrors=P.definitionErrors.concat(I)}),P.TRACE_INIT("Grammar Validations",function(){if((0,b.default)(I)&&P.skipValidations===!1){var G=(0,n.validateGrammar)({rules:(0,p.default)(P.gastProductionsCache),tokenTypes:(0,p.default)(P.tokensMap),errMsgProvider:r.defaultGrammarValidatorErrorProvider,grammarName:O}),z=(0,g.validateLookahead)({lookaheadStrategy:P.lookaheadStrategy,rules:(0,p.default)(P.gastProductionsCache),tokenTypes:(0,p.default)(P.tokensMap),grammarName:O});P.definitionErrors=P.definitionErrors.concat(G,z)}}),(0,b.default)(P.definitionErrors)&&(P.recoveryEnabled&&P.TRACE_INIT("computeAllProdsFollows",function(){var G=(0,c.computeAllProdsFollows)((0,p.default)(P.gastProductionsCache));P.resyncFollows=G}),P.TRACE_INIT("ComputeLookaheadFunctions",function(){var G,z;(z=(G=P.lookaheadStrategy).initialize)===null||z===void 0||z.call(G,{rules:(0,p.default)(P.gastProductionsCache)}),P.preComputeLookaheadFunctions((0,p.default)(P.gastProductionsCache))})),!A.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,b.default)(P.definitionErrors))throw F=(0,W.default)(P.definitionErrors,function(G){return G.message}),new Error(`Parser Definition Errors detected:
 `.concat(F.join(`
-------------------------------
`)))})},A.DEFER_DEFINITION_ERRORS_HANDLING=!1,A}();L.Parser=T,(0,x.applyMixins)(T,[e.Recoverable,s.LooksAhead,u.TreeBuilder,i.LexerAdapter,h.RecognizerEngine,o.RecognizerApi,l.ErrorHandler,d.ContentAssist,v.GastRecorder,m.PerformanceTracer]);var E=function(A){w(P,A);function P(F,O){O===void 0&&(O=L.DEFAULT_PARSER_CONFIG);var I=(0,t.default)(O);return I.outputCst=!0,A.call(this,F,I)||this}return P}(T);L.CstParser=E;var C=function(A){w(P,A);function P(F,O){O===void 0&&(O=L.DEFAULT_PARSER_CONFIG);var I=(0,t.default)(O);return I.outputCst=!1,A.call(this,F,I)||this}return P}(T);L.EmbeddedActionsParser=C}(tr)),tr}var $n={},Kn={},vR=vt&&vt.__extends||function(){var L=function(w,M){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,W){b.__proto__=W}||function(b,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(b[Z]=W[Z])},L(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");L(w,M);function b(){this.constructor=w}w.prototype=M===null?Object.create(M):(b.prototype=M.prototype,new b)}}(),zi=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.buildModel=void 0;var Il=Jt,ss=zi(ne),cR=zi(We),pR=zi(Xe),gR=zi(Hr),mR=zi(xl),xR=zi(wn);function yR(L){var w=new TR,M=(0,pR.default)(L);return(0,ss.default)(M,function(b){return w.visitRule(b)})}Kn.buildModel=yR;var TR=function(L){vR(w,L);function w(){return L!==null&&L.apply(this,arguments)||this}return w.prototype.visitRule=function(M){var b=this.visitEach(M.definition),W=(0,mR.default)(b,function(p){return p.propertyName}),Z=(0,ss.default)(W,function(p,S){var t=!(0,gR.default)(p,function(c){return!c.canBeNull}),f=p[0].type;return p.length>1&&(f=(0,ss.default)(p,function(c){return c.type})),{name:S,type:f,optional:t}});return{name:M.name,properties:Z}},w.prototype.visitAlternative=function(M){return this.visitEachAndOverrideWith(M.definition,{canBeNull:!0})},w.prototype.visitOption=function(M){return this.visitEachAndOverrideWith(M.definition,{canBeNull:!0})},w.prototype.visitRepetition=function(M){return this.visitEachAndOverrideWith(M.definition,{canBeNull:!0})},w.prototype.visitRepetitionMandatory=function(M){return this.visitEach(M.definition)},w.prototype.visitRepetitionMandatoryWithSeparator=function(M){return this.visitEach(M.definition).concat({propertyName:M.separator.name,canBeNull:!0,type:Ds(M.separator)})},w.prototype.visitRepetitionWithSeparator=function(M){return this.visitEachAndOverrideWith(M.definition,{canBeNull:!0}).concat({propertyName:M.separator.name,canBeNull:!0,type:Ds(M.separator)})},w.prototype.visitAlternation=function(M){return this.visitEachAndOverrideWith(M.definition,{canBeNull:!0})},w.prototype.visitTerminal=function(M){return[{propertyName:M.label||M.terminalType.name,canBeNull:!1,type:Ds(M)}]},w.prototype.visitNonTerminal=function(M){return[{propertyName:M.label||M.nonTerminalName,canBeNull:!1,type:Ds(M)}]},w.prototype.visitEachAndOverrideWith=function(M,b){return(0,ss.default)(this.visitEach(M),function(W){return(0,xR.default)({},W,b)})},w.prototype.visitEach=function(M){var b=this;return(0,cR.default)((0,ss.default)(M,function(W){return b.visit(W)}))},w}(Il.GAstVisitor);function Ds(L){return L instanceof Il.NonTerminal?{kind:"rule",name:L.referencedRule.name}:{kind:"token"}}var Zn={},SR=Xr;function ER(L,w,M){var b=L.length;return M=M===void 0?b:M,!w&&M>=b?L:SR(L,w,M)}var CR=ER,PR="\\ud800-\\udfff",AR="\\u0300-\\u036f",RR="\\ufe20-\\ufe2f",MR="\\u20d0-\\u20ff",FR=AR+RR+MR,LR="\\ufe0e\\ufe0f",OR="\\u200d",wR=RegExp("["+OR+PR+FR+LR+"]");function IR(L){return wR.test(L)}var Dl=IR;function DR(L){return L.split("")}var BR=DR,Bl="\\ud800-\\udfff",NR="\\u0300-\\u036f",GR="\\ufe20-\\ufe2f",bR="\\u20d0-\\u20ff",UR=NR+GR+bR,zR="\\ufe0e\\ufe0f",VR="["+Bl+"]",yr="["+UR+"]",Tr="\\ud83c[\\udffb-\\udfff]",XR="(?:"+yr+"|"+Tr+")",Nl="[^"+Bl+"]",Gl="(?:\\ud83c[\\udde6-\\uddff]){2}",bl="[\\ud800-\\udbff][\\udc00-\\udfff]",YR="\\u200d",Ul=XR+"?",zl="["+zR+"]?",WR="(?:"+YR+"(?:"+[Nl,Gl,bl].join("|")+")"+zl+Ul+")*",HR=zl+Ul+WR,$R="(?:"+[Nl+yr+"?",yr,Gl,bl,VR].join("|")+")",KR=RegExp(Tr+"(?="+Tr+")|"+$R+HR,"g");function ZR(L){return L.match(KR)||[]}var JR=ZR,QR=BR,jR=Dl,kR=JR;function qR(L){return jR(L)?kR(L):QR(L)}var _R=qR,tM=CR,eM=Dl,iM=_R,sM=Dh;function nM(L){return function(w){w=sM(w);var M=eM(w)?iM(w):void 0,b=M?M[0]:w.charAt(0),W=M?tM(M,1).join(""):w.slice(1);return b[L]()+W}}var rM=nM,aM=rM,oM=aM("toUpperCase"),hM=oM,Vi=vt&&vt.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.genDts=void 0;var lM=Vi(We),uM=Vi(Nt),Jn=Vi(ne),fM=Vi(hi),dM=Vi(Qr),Vl=Vi(hM);function vM(L,w){var M=[];return M=M.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),M=M.concat((0,lM.default)((0,Jn.default)(L,function(b){return cM(b)}))),w.includeVisitorInterface&&(M=M.concat(xM(w.visitorInterfaceName,L))),M.join(`

`)+`
`}Zn.genDts=vM;function cM(L){var w=pM(L),M=gM(L);return[w,M]}function pM(L){var w=Xl(L.name),M=sa(L.name);return"export interface ".concat(w,` extends CstNode {
  name: "`).concat(L.name,`";
  children: `).concat(M,`;
}`)}function gM(L){var w=sa(L.name);return"export type ".concat(w,` = {
  `).concat((0,Jn.default)(L.properties,function(M){return mM(M)}).join(`
  `),`
};`)}function mM(L){var w=TM(L.type);return"".concat(L.name).concat(L.optional?"?":"",": ").concat(w,"[];")}function xM(L,w){return"export interface ".concat(L,`<IN, OUT> extends ICstVisitor<IN, OUT> {
  `).concat((0,Jn.default)(w,function(M){return yM(M)}).join(`
  `),`
}`)}function yM(L){var w=sa(L.name);return"".concat(L.name,"(children: ").concat(w,", param?: IN): OUT;")}function TM(L){if((0,uM.default)(L)){var w=(0,dM.default)((0,Jn.default)(L,function(b){return zo(b)})),M=(0,fM.default)(w,function(b,W){return b+" | "+W});return"("+M+")"}else return zo(L)}function zo(L){return L.kind==="token"?"IToken":Xl(L.name)}function Xl(L){return(0,Vl.default)(L)+"CstNode"}function sa(L){return(0,Vl.default)(L)+"CstChildren"}var Ks=vt&&vt.__assign||function(){return Ks=Object.assign||function(L){for(var w,M=1,b=arguments.length;M<b;M++){w=arguments[M];for(var W in w)Object.prototype.hasOwnProperty.call(w,W)&&(L[W]=w[W])}return L},Ks.apply(this,arguments)};Object.defineProperty($n,"__esModule",{value:!0});$n.generateCstDts=void 0;var SM=Kn,EM=Zn,CM={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function PM(L,w){var M=Ks(Ks({},CM),w),b=(0,SM.buildModel)(L);return(0,EM.genDts)(b,M)}$n.generateCstDts=PM;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.createSyntaxDiagramsCode=void 0;var Vo=cs;function AM(L,w){var M=w===void 0?{}:w,b=M.resourceBase,W=b===void 0?"https://unpkg.com/chevrotain@".concat(Vo.VERSION,"/diagrams/"):b,Z=M.css,p=Z===void 0?"https://unpkg.com/chevrotain@".concat(Vo.VERSION,"/diagrams/diagrams.css"):Z,S=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,t=`
<link rel='stylesheet' href='`.concat(p,`'>
`),f=`
<script src='`.concat(W,`vendor/railroad-diagrams.js'><\/script>
<script src='`).concat(W,`src/diagrams_builder.js'><\/script>
<script src='`).concat(W,`src/diagrams_behavior.js'><\/script>
<script src='`).concat(W,`src/main.js'><\/script>
`),c=`
<div id="diagrams" align="center"></div>    
`,a=`
<script>
    window.serializedGrammar = `.concat(JSON.stringify(L,null,"  "),`;
<\/script>
`),r=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return S+t+f+c+a+r}Qn.createSyntaxDiagramsCode=AM;(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.Parser=L.createSyntaxDiagramsCode=L.clearCache=L.generateCstDts=L.GAstVisitor=L.serializeProduction=L.serializeGrammar=L.Terminal=L.Rule=L.RepetitionWithSeparator=L.RepetitionMandatoryWithSeparator=L.RepetitionMandatory=L.Repetition=L.Option=L.NonTerminal=L.Alternative=L.Alternation=L.defaultLexerErrorProvider=L.NoViableAltException=L.NotAllInputParsedException=L.MismatchedTokenException=L.isRecognitionException=L.EarlyExitException=L.defaultParserErrorProvider=L.LLkLookaheadStrategy=L.getLookaheadPaths=L.tokenName=L.tokenMatcher=L.tokenLabel=L.EOF=L.createTokenInstance=L.createToken=L.LexerDefinitionErrorType=L.Lexer=L.EMPTY_ALT=L.ParserDefinitionErrorType=L.EmbeddedActionsParser=L.CstParser=L.VERSION=void 0;var w=cs;Object.defineProperty(L,"VERSION",{enumerable:!0,get:function(){return w.VERSION}});var M=le();Object.defineProperty(L,"CstParser",{enumerable:!0,get:function(){return M.CstParser}}),Object.defineProperty(L,"EmbeddedActionsParser",{enumerable:!0,get:function(){return M.EmbeddedActionsParser}}),Object.defineProperty(L,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return M.ParserDefinitionErrorType}}),Object.defineProperty(L,"EMPTY_ALT",{enumerable:!0,get:function(){return M.EMPTY_ALT}});var b=bn();Object.defineProperty(L,"Lexer",{enumerable:!0,get:function(){return b.Lexer}}),Object.defineProperty(L,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return b.LexerDefinitionErrorType}});var W=oi;Object.defineProperty(L,"createToken",{enumerable:!0,get:function(){return W.createToken}}),Object.defineProperty(L,"createTokenInstance",{enumerable:!0,get:function(){return W.createTokenInstance}}),Object.defineProperty(L,"EOF",{enumerable:!0,get:function(){return W.EOF}}),Object.defineProperty(L,"tokenLabel",{enumerable:!0,get:function(){return W.tokenLabel}}),Object.defineProperty(L,"tokenMatcher",{enumerable:!0,get:function(){return W.tokenMatcher}}),Object.defineProperty(L,"tokenName",{enumerable:!0,get:function(){return W.tokenName}});var Z=Ui;Object.defineProperty(L,"getLookaheadPaths",{enumerable:!0,get:function(){return Z.getLookaheadPaths}});var p=Ll();Object.defineProperty(L,"LLkLookaheadStrategy",{enumerable:!0,get:function(){return p.LLkLookaheadStrategy}});var S=bi;Object.defineProperty(L,"defaultParserErrorProvider",{enumerable:!0,get:function(){return S.defaultParserErrorProvider}});var t=qt;Object.defineProperty(L,"EarlyExitException",{enumerable:!0,get:function(){return t.EarlyExitException}}),Object.defineProperty(L,"isRecognitionException",{enumerable:!0,get:function(){return t.isRecognitionException}}),Object.defineProperty(L,"MismatchedTokenException",{enumerable:!0,get:function(){return t.MismatchedTokenException}}),Object.defineProperty(L,"NotAllInputParsedException",{enumerable:!0,get:function(){return t.NotAllInputParsedException}}),Object.defineProperty(L,"NoViableAltException",{enumerable:!0,get:function(){return t.NoViableAltException}});var f=Rs;Object.defineProperty(L,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return f.defaultLexerErrorProvider}});var c=Jt;Object.defineProperty(L,"Alternation",{enumerable:!0,get:function(){return c.Alternation}}),Object.defineProperty(L,"Alternative",{enumerable:!0,get:function(){return c.Alternative}}),Object.defineProperty(L,"NonTerminal",{enumerable:!0,get:function(){return c.NonTerminal}}),Object.defineProperty(L,"Option",{enumerable:!0,get:function(){return c.Option}}),Object.defineProperty(L,"Repetition",{enumerable:!0,get:function(){return c.Repetition}}),Object.defineProperty(L,"RepetitionMandatory",{enumerable:!0,get:function(){return c.RepetitionMandatory}}),Object.defineProperty(L,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return c.RepetitionMandatoryWithSeparator}}),Object.defineProperty(L,"RepetitionWithSeparator",{enumerable:!0,get:function(){return c.RepetitionWithSeparator}}),Object.defineProperty(L,"Rule",{enumerable:!0,get:function(){return c.Rule}}),Object.defineProperty(L,"Terminal",{enumerable:!0,get:function(){return c.Terminal}});var a=Jt;Object.defineProperty(L,"serializeGrammar",{enumerable:!0,get:function(){return a.serializeGrammar}}),Object.defineProperty(L,"serializeProduction",{enumerable:!0,get:function(){return a.serializeProduction}}),Object.defineProperty(L,"GAstVisitor",{enumerable:!0,get:function(){return a.GAstVisitor}});var r=$n;Object.defineProperty(L,"generateCstDts",{enumerable:!0,get:function(){return r.generateCstDts}});function n(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}L.clearCache=n;var e=Qn;Object.defineProperty(L,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return e.createSyntaxDiagramsCode}});var s=function(){function u(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return u}();L.Parser=s})(gn);(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.FormatterLexer=L.MultiModeLexerDefinition=L.Pipe=L.Path=L.Colon=L.RightParenthesis=L.LeftParenthesis=L.FunctionLiteral=L.NumberLiteral=L.StringLiteral=L.JsonColon=L.Comma=L.RightSquare=L.LeftSquare=L.RightCurly=L.LeftCurly=L.Null=L.False=L.True=L.WhiteSpace=void 0;const w=gn;L.WhiteSpace=(0,w.createToken)({name:"WhiteSpace",pattern:/\s+/,group:w.Lexer.SKIPPED}),L.True=(0,w.createToken)({name:"True",pattern:/true/}),L.False=(0,w.createToken)({name:"False",pattern:/false/}),L.Null=(0,w.createToken)({name:"Null",pattern:/null/}),L.LeftCurly=(0,w.createToken)({name:"LeftCurly",pattern:"{",start_chars_hint:["{"]}),L.RightCurly=(0,w.createToken)({name:"RightCurly",pattern:"}",start_chars_hint:["}"]}),L.LeftSquare=(0,w.createToken)({name:"LeftSquare",pattern:"[",start_chars_hint:["["]}),L.RightSquare=(0,w.createToken)({name:"RightSquare",pattern:"]",start_chars_hint:["]"]}),L.Comma=(0,w.createToken)({name:"Comma",pattern:",",start_chars_hint:[","]}),L.JsonColon=(0,w.createToken)({name:"JsonColon",pattern:":",start_chars_hint:[":"]}),L.StringLiteral=(0,w.createToken)({name:"StringLiteral",pattern:/"(?:[^"\\]|\\(?:["/\\bfnrtv]|u[\dA-Fa-f]{4}))*"/,start_chars_hint:['"']}),L.NumberLiteral=(0,w.createToken)({name:"NumberLiteral",pattern:/-?(0|[1-9]\d*)(\.\d+)?([Ee][+-]?\d+)?/}),L.FunctionLiteral=(0,w.createToken)({name:"FunctionLiteral",pattern:/[$_a-z][\w$]*/i}),L.LeftParenthesis=(0,w.createToken)({name:"LeftParenthesis",pattern:"(",start_chars_hint:["("],push_mode:"args_mode"}),L.RightParenthesis=(0,w.createToken)({name:"RightParenthesis",pattern:")",start_chars_hint:[")"],pop_mode:!0}),L.Colon=(0,w.createToken)({name:"Colon",pattern:":",start_chars_hint:[":"],push_mode:"pipe_mode"}),L.Path=(0,w.createToken)({name:"Path",pattern:/([\w$\-]+)(\.[\w$\-]+)*/}),L.Pipe=(0,w.createToken)({name:"Pipe",pattern:"|",start_chars_hint:["|"]}),L.MultiModeLexerDefinition={modes:{args_mode:[L.WhiteSpace,L.LeftCurly,L.LeftSquare,L.RightCurly,L.StringLiteral,L.RightSquare,L.Comma,L.JsonColon,L.True,L.False,L.Null,L.NumberLiteral,L.RightParenthesis],path_mode:[L.Path,L.Colon,L.WhiteSpace,L.LeftParenthesis],pipe_mode:[L.WhiteSpace,L.FunctionLiteral,L.LeftParenthesis,L.Pipe]},defaultMode:"path_mode"},L.FormatterLexer=new w.Lexer(L.MultiModeLexerDefinition,{ensureOptimizations:!0})})(pn);var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.FormatterParser=void 0;const RM=gn,Zt=pn;class MM extends RM.CstParser{constructor(){super(Zt.MultiModeLexerDefinition,{recoveryEnabled:!1}),this.expression=this.RULE("expression",()=>{this.OR(this.expressionSyntaxCache||(this.expressionSyntaxCache=[{ALT:()=>this.SUBRULE(this.expressionWithPath)},{ALT:()=>this.SUBRULE(this.pipes)}]))}),this.path=this.RULE("path",()=>{this.CONSUME(Zt.Path),this.OPTION({DEF:()=>{this.SUBRULE(this.functionBody)}})}),this.expressionWithPath=this.RULE("expressionWithPath",()=>{this.SUBRULE(this.path),this.OPTION({DEF:()=>{this.SUBRULE(this.pipes)}})}),this.pipes=this.RULE("pipes",()=>{this.CONSUME(Zt.Colon),this.MANY_SEP({SEP:Zt.Pipe,DEF:()=>{this.SUBRULE(this.pipe)}})}),this.pipe=this.RULE("pipe",()=>{this.CONSUME(Zt.FunctionLiteral),this.SUBRULE(this.functionBody)}),this.functionBody=this.RULE("functionBody",()=>{this.CONSUME(Zt.LeftParenthesis),this.SUBRULE(this.parameters),this.CONSUME(Zt.RightParenthesis)}),this.parameters=this.RULE("parameters",()=>{this.MANY_SEP({SEP:Zt.Comma,DEF:()=>{this.SUBRULE(this.value)}})}),this.value=this.RULE("value",()=>{this.OR(this.valueSyntaxCache||(this.valueSyntaxCache=[{ALT:()=>this.CONSUME(Zt.StringLiteral,{LABEL:"value"})},{ALT:()=>this.CONSUME(Zt.NumberLiteral,{LABEL:"value"})},{ALT:()=>this.SUBRULE(this.object,{LABEL:"object"})},{ALT:()=>this.SUBRULE(this.array,{LABEL:"array"})},{ALT:()=>this.CONSUME(Zt.True,{LABEL:"value"})},{ALT:()=>this.CONSUME(Zt.False,{LABEL:"value"})},{ALT:()=>this.CONSUME(Zt.Null,{LABEL:"value"})}]))}),this.object=this.RULE("object",()=>{this.CONSUME(Zt.LeftCurly),this.MANY_SEP({SEP:Zt.Comma,DEF:()=>{this.SUBRULE(this.objectEntity)}}),this.CONSUME(Zt.RightCurly)}),this.objectEntity=this.RULE("objectEntity",()=>{this.CONSUME(Zt.StringLiteral),this.CONSUME(Zt.JsonColon),this.SUBRULE(this.value)}),this.array=this.RULE("array",()=>{this.CONSUME(Zt.LeftSquare),this.MANY_SEP({SEP:Zt.Comma,DEF:()=>{this.SUBRULE(this.value)}}),this.CONSUME(Zt.RightSquare)}),this.performSelfAnalysis()}}jn.FormatterParser=MM;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.createFormatterVisitor=void 0;const ts=gn,es=pn,FM=L=>{const w=L.getBaseCstVisitorConstructorWithDefaults();class M extends w{constructor(){super(),this.validateVisitor()}expression(W){return W.expressionWithPath?this.visit(W.expressionWithPath[0]):{pipes:this.visit(W.pipes[0])}}expressionWithPath(W){const Z=this.visit(W.path[0]),p=W.pipes?this.visit(W.pipes[0]):[];return{path:Z,pipes:p}}path(W){const Z={type:"PROPERTY",value:W.Path[0].image,parameters:[]};return W.functionBody&&(Z.type="FUNCTION",Z.parameters=this.visit(W.functionBody[0])),Z}pipes(W){return W.pipe.map(Z=>this.visit(Z))}pipe(W){const Z=W.FunctionLiteral[0].image,p=this.visit(W.functionBody[0]);return{name:Z,parameters:p}}functionBody(W){return this.visit(W.parameters[0])}parameters(W){return Array.isArray(W.value)?W.value.map(Z=>this.visit(Z)):[]}value(W){if(W.value)return M.extractValue(W.value[0]);if(W.array)return this.visit(W.array[0]);if(W.object)return this.visit(W.object[0]);throw new Error(`Unknown token entity: ${W}`)}array(W){return Array.isArray(W.value)?W.value.map(Z=>this.visit(Z)):[]}object(W){const Z={};if(!Array.isArray(W.objectEntity))return Z;for(let p=0;p<W.objectEntity.length;p++){const S=this.visit(W.objectEntity[p]);Z[S.key]=S.value}return Z}objectEntity(W){const Z=M.extractString(W.StringLiteral[0]),p=this.visit(W.value);return{key:Z,value:p}}static extractString(W){return W.image.slice(1,-1)}static extractNumber(W){return Number(W.image)}static extractValue(W){if((0,ts.tokenMatcher)(W,es.True)||(0,ts.tokenMatcher)(W,es.False))return!0;if((0,ts.tokenMatcher)(W,es.Null))return null;if((0,ts.tokenMatcher)(W,es.StringLiteral))return M.extractString(W);if((0,ts.tokenMatcher)(W,es.NumberLiteral))return M.extractNumber(W);throw new Error(`Unknown object entity: ${W.image}`)}}return new M};kn.createFormatterVisitor=FM;Object.defineProperty(cn,"__esModule",{value:!0});cn.Engine=void 0;const LM=Re,OM=pn,wM=jn,IM=kn;class hs{constructor(){this.lexer=OM.FormatterLexer,this.parser=new wM.FormatterParser,this.visitor=(0,IM.createFormatterVisitor)(this.parser)}static instance(){return hs.singletonInstance||(hs.singletonInstance=new hs)}parse(w){return LM.TypeUtils.isNonBlankString(w)?this.parseExpression(w):this.parseEmptyExpression()}tokenize(w){const M=this.lexer.tokenize(w);if(M.errors.length>0)throw new Error(`Parsing error: ${M.errors[0].message}`);return M}parseEmptyExpression(){return{pipes:[]}}parseExpression(w){const M=this.tokenize(w);this.parser.reset(),this.parser.input=M.tokens;const b=this.parser.expression();if(!b||this.parser.errors.length>0)throw new Error(`Parsing error: ${this.parser.errors[0].message}`);return this.visitor.visit(b)}}cn.Engine=hs;Object.defineProperty(vs,"__esModule",{value:!0});vs.Formatter=void 0;const Xo=js,Yo=sn,DM=Ai,BM=dn,Wo=vn,Ho=cn;class Zs{constructor(w,M){this.parser=w,this.pipes=M}static empty(w){const M=DM.Pipes.empty(),b=new Xo.TemplateParser(new Yo.PipeBuilder(Ho.Engine.instance(),M,new Wo.OptionsWrapper(w)));return new Zs(b,M)}static create(w,M){const b=new Xo.TemplateParser(new Yo.PipeBuilder(Ho.Engine.instance(),w,new Wo.OptionsWrapper(M)));return new Zs(b,w)}compile(w){return new BM.Template(this.parser.parse(w))}format(w,M){return this.compile(w).format(M)}getPipes(){return this.pipes}}vs.Formatter=Zs;var Yl={};(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.compile=L.format=L.formatter=void 0;const w=vs,M=Ai;L.formatter=w.Formatter.create(M.Pipes.withDefaults());const b=(Z,p)=>L.formatter.format(Z,p);L.format=b;const W=Z=>L.formatter.compile(Z);L.compile=W})(Yl);(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.formatter=L.compile=L.format=L.Pipes=L.Formatter=void 0;var w=vs;Object.defineProperty(L,"Formatter",{enumerable:!0,get:function(){return w.Formatter}});var M=Ai;Object.defineProperty(L,"Pipes",{enumerable:!0,get:function(){return M.Pipes}});var b=Yl;Object.defineProperty(L,"format",{enumerable:!0,get:function(){return b.format}}),Object.defineProperty(L,"compile",{enumerable:!0,get:function(){return b.compile}}),Object.defineProperty(L,"formatter",{enumerable:!0,get:function(){return b.formatter}})})(Ys);class zs extends It{constructor(){super(...arguments);j(this,"_textField",Object())}get textField(){return this._textField}build(M,b={x:0,y:0}){super.build(),this._textField=new Phaser.GameObjects.BitmapText(this.scene,0,0,M,"---"),this._textField.setOrigin(b.x,b.y),this.view.add(this._textField)}}class re extends jt{constructor(M,b){super(M,b);j(this,"view");j(this,"_isUi",!1);this.view=new Phaser.GameObjects.Sprite(M,0,0,"")}get isUi(){return this._isUi}build(M,b){var W,Z;super.build(),this._isUi=!0,b?(((Z=(W=this.view.frame)==null?void 0:W.texture)==null?void 0:Z.key)!=b&&(this.view.destroy(),this.view=new Phaser.GameObjects.Sprite(this.scene,0,0,b),this.setAsUI()),this.view.setFrame(M)):(this.view=new Phaser.GameObjects.Sprite(this.scene,0,0,M),this.setAsUI()),this.view.setOrigin(.5,.5)}setAsWorld(){}setAsUI(){this.view.parentContainer&&this.view.parentContainer.remove(this.view),this.eugine.uiCanvas.add(this.view),this._isUi=!0}afterBuild(){super.afterBuild()}fitSizeWithBody(M){M.isCircle?(this.view.displayWidth=M.halfWidth,this.view.displayHeight=M.halfHeight):(this.view.displayWidth=M.width,this.view.displayHeight=M.height)}destroy(){super.destroy(),this.view.setPosition(5e3,5e3),this.view.setVisible(!1),this.view.anims=new Phaser.Animations.AnimationState(this.view),this.scene.children.remove(this.view)}updateView(){this.view&&this.view.setPosition&&this.view.setPosition(this.transform.x,this.transform.z)}}class NM extends It{constructor(M,b){super(M,b);j(this,"onHide",new Lt.exports.Signal);j(this,"onComplete",new Lt.exports.Signal);j(this,"assetSet");j(this,"container",Object());j(this,"chestContainer",Object());j(this,"shadow",Object());j(this,"backEffect1",Object());j(this,"baseChest",Object());j(this,"frontChest",Object());j(this,"chestLid",Object());j(this,"frame1",Object());j(this,"goldCoins",Object());j(this,"goldGlow",Object());j(this,"goldGlow2",Object());j(this,"borderShine",Object());j(this,"prizeLabel",Object());j(this,"timeScale",1);j(this,"coinEmitter",Object());j(this,"smokeParticles",Object());j(this,"chestOpenData");j(this,"coinsSounds",["template/Coin1","template/Coin2"])}get hasPrize(){return this.chestOpenData.targetValue>0}build(...M){super.build(M),this.container=this.addFromPool(It),this.container.build(),this.chestContainer=this.addFromPool(It),this.chestContainer.build(),this.backEffect1=this.addFromPool(re),this.backEffect1.build("glow_cirlce","chest"),this.backEffect1.view.setOrigin(.5,.5),this.backEffect1.view.setTint(16752907),this.backEffect1.view.alpha=0,this.backEffect1.view.setScale(.8),this.shadow=this.addFromPool(re),this.shadow.build("chest_shadow","chest"),this.baseChest=this.addFromPool(re),this.baseChest.build("golden-chest","chest"),this.chestLid=this.addFromPool(re),this.chestLid.build("golden-lid-close","chest"),this.frontChest=this.addFromPool(re),this.frontChest.build("front-chest","chest"),this.frame1=this.addFromPool(re),this.frame1.build("round-blur","chest"),this.frame1.view.setAlpha(.5),this.frame1.view.setTint(1120346),this.frame1.view.setScale(10,7),this.borderShine=this.addFromPool(re),this.borderShine.build("chest_gold_top","chest"),this.goldCoins=this.addFromPool(re),this.goldCoins.build("new-coins","chest"),this.goldGlow=this.addFromPool(re),this.goldGlow.build("gold-glow","chest"),this.goldGlow2=this.addFromPool(re),this.goldGlow2.build("glow_flat","chest"),this.prizeLabel=this.addFromPool(zs),this.prizeLabel.build(yt.GoldenBitmapFont,{x:.5,y:.5}),this.prizeLabel.z=-380,this.container.addChild(this.frame1),this.container.addChild(this.backEffect1),this.container.addChild(this.shadow),this.shadow.z=100,this.borderShine.x=-10,this.borderShine.z=-96,this.chestContainer.addChild(this.baseChest),this.chestContainer.addChild(this.goldGlow),this.chestContainer.addChild(this.frontChest),this.chestContainer.addChild(this.borderShine),this.chestContainer.addChild(this.goldCoins),this.chestContainer.addChild(this.chestLid),this.chestLid.x=-8,this.chestLid.z=-152,this.frontChest.x=0,this.frontChest.z=0,this.goldGlow.x=-25,this.goldGlow.z=-235,this.goldGlow2.x=-25,this.goldGlow2.z=-220,this.goldGlow.view.setBlendMode(Phaser.BlendModes.ADD),this.goldCoins.x=5,this.goldCoins.z=-110,this.container.addChild(this.chestContainer),this.container.addChild(this.prizeLabel),this.timeScale=2,this.prizeLabel.textField.setText(""),this.smokeParticles=new Phaser.GameObjects.Particles.ParticleEmitter(this.scene,0,0,"chest",{frame:["smoke1","smoke2"],lifespan:5e3,angle:{min:0,max:10},speed:{min:-50,max:50},speedY:{min:100,max:550},scale:{min:.5,max:2},alpha:{start:.15,end:0},rotate:{min:0,max:360},gravityY:-50,blendMode:"ADD",emitting:!1,emitZone:{type:"edge",quantity:14,source:new Phaser.Geom.Line(-250,0,250,0)}}),this.smokeParticles.isUi=!0,this.chestContainer.view.addAt(this.smokeParticles,this.chestContainer.view.list.length-3)}setAssetData(M){this.assetSet=M,this.prizeLabel.textField.setFont(this.assetSet.bitmapFont),this.goldGlow2.view.setTint(this.assetSet.backFx1),this.backEffect1.view.setTint(this.assetSet.backFx1),this.goldCoins.view.setFrame(this.assetSet.contentImage)}customEase(M){return Math.abs(Math.sin(M*Math.PI))}flavour(){const M={frame:["round-blur"],lifespan:5e3,scale:{min:2,max:6},alpha:{start:0,end:.15,ease:this.customEase},gravityY:-20,maxParticles:30,frequency:500,tint:this.assetSet.particlesTint,blendMode:"ADD",emitZone:{type:"random",source:new Phaser.Geom.Rectangle(-1500,-1500,3e3,3e3)}},b=new Phaser.GameObjects.Particles.ParticleEmitter(this.scene,0,0,"chest",M);b.isUi=!0,this.container.view.addAt(b,0);const W=new Phaser.GameObjects.Particles.ParticleEmitter(this.scene,0,0,"chest",M);W.isUi=!0,this.container.view.addAt(W,0)}afterBuild(){super.afterBuild(),this.hideAll(),this.backEffect1.view.setAlpha(0)}hideAll(){this.container.view.setVisible(!1),this.goldGlow.view.alpha=0,this.goldGlow2.view.alpha=0}update(M,b){super.update(M,b),this.backEffect1&&(this.backEffect1.view.rotation+=M*.5)}show(M,b=void 0){var W,Z,p,S;b!=null&&this.setAssetData(b),this.flavour(),Mt.instance.play("template/Positive Open",{soundConfig:{volume:.1}}),Mt.instance.play("template/Whoosh",{soundConfig:{volume:.1}}),this.chestOpenData=M,(Z=(W=this.eugine)==null?void 0:W.debugParams)!=null&&Z.prizeAmount&&(this.chestOpenData.targetValue=(S=(p=this.eugine)==null?void 0:p.debugParams)==null?void 0:S.prizeAmount),this.chestLid.x=-10,this.chestLid.z=-150,this.chestLid.view.setFrame("golden-lid-close"),this.container.view.setVisible(!0),this.container.view.setAlpha(1),this.animateFrame1(),this.animateChestEntrance(300/this.timeScale)}hide(M){this.scene.tweens.add({targets:this.container.view,alpha:0,duration:500/this.timeScale,delay:M,onComplete:()=>{this.container.view.setVisible(!1),this.onHide.dispatch(),this.chestOpenData.autoHide&&this.chestOpenData.hideCallback()}})}showPrize(M=0){var b={score:this.chestOpenData.startValue};this.setUpCoinEmitter(0,-40);let W=0;this.scene.tweens.add({targets:b,score:this.chestOpenData.targetValue,duration:4e3/this.timeScale,delay:M,onStart:()=>{for(let Z=0;Z<25;Z++)setTimeout(()=>{Mt.instance.play(this.coinsSounds[Math.floor(Math.random()*this.coinsSounds.length)],{soundConfig:{volume:.2+Math.random()*.2,rate:Math.random()*.2+1}})},4e3/this.timeScale/25*Z)},onUpdate:Z=>{var t,f;(t=this.chestOpenData)!=null&&t.isHighPrize&&this.coinEmitter.start(),W++,W%3==0&&Mt.instance.play("template/ScoreUpdate",{soundConfig:{volume:.08}});let p=Math.round(Z.getValue()),S=p.toString();((f=this.chestOpenData)==null?void 0:f.currencyType)==Gt.EMERALD&&(p/=100,S=p.toFixed(3)),this.prizeLabel.textField.setText(S)},onComplete:()=>{this.chestOpenData.autoHide&&this.hide(1e3/this.timeScale),Mt.instance.play("template/Applause Cheering",{soundConfig:{volume:.08}}),this.onComplete.dispatch()}}),this.scene.tweens.add({targets:this.prizeLabel.textField,scaleX:1.5,scaleY:1.5,ease:Phaser.Math.Easing.Back.Out,duration:2500/this.timeScale,delay:M})}expodeChest(M=0){this.hasPrize?(this.goldCoins.view.setVisible(!0),this.backEffect1.view.setVisible(!0),this.goldGlow.view.setVisible(!0),this.goldGlow2.view.setVisible(!0),this.borderShine.view.setVisible(!0),this.showPrize(M)):(this.goldCoins.view.setVisible(!1),this.backEffect1.view.setVisible(!1),this.goldGlow.view.setVisible(!1),this.goldGlow2.view.setVisible(!1),this.borderShine.view.setVisible(!1),this.onComplete.dispatch(),setTimeout(()=>{Mt.instance.play("template/Game Negative SFX 3",{soundConfig:{volume:.08}})},400)),Mt.instance.play("template/Opening Chest 2",{soundConfig:{volume:.1}}),this.scene.tweens.add({targets:this.chestContainer.view,scaleX:1.5,scaleY:1.5,ease:Phaser.Math.Easing.Back.Out,duration:700/this.timeScale,delay:M,onStart:()=>{this.setUpLidParticle(40,this.chestLid.z)}}),this.scene.tweens.add({targets:this.shadow.view,scaleX:1.5,scaleY:1.5,ease:Phaser.Math.Easing.Back.Out,duration:700/this.timeScale,delay:M}),this.scene.tweens.add({targets:this.shadow,z:120,ease:Phaser.Math.Easing.Cubic.Out,duration:500/this.timeScale,delay:M}),this.scene.tweens.add({targets:this.goldGlow.view,alpha:0,ease:Phaser.Math.Easing.Cubic.Out,duration:1e3/this.timeScale,delay:M}),this.scene.tweens.add({targets:this.goldGlow2.view,alpha:1,ease:Phaser.Math.Easing.Cubic.Out,duration:1e3/this.timeScale,delay:M})}animateChestEntrance(M=0){this.chestContainer.view.setScale(0),this.scene.tweens.add({targets:this.chestContainer.view,scaleX:1,scaleY:1,ease:Phaser.Math.Easing.Back.Out,duration:600/this.timeScale,delay:M});const b=this.hasPrize?1:0,W=this.hasPrize?1.3:1.1;this.scene.tweens.add({targets:this.chestContainer.view,scaleX:W,scaleY:W,ease:Phaser.Math.Easing.Cubic.InOut,duration:400/this.timeScale,yoyo:!0,repeat:b,delay:M+600/this.timeScale,onComplete:()=>{Z.destroy(),this.animateBackEffect(150/this.timeScale),this.expodeChest(M)}}),this.scene.tweens.add({targets:this.shadow.view,scaleX:W,scaleY:W,ease:Phaser.Math.Easing.Cubic.InOut,duration:400/this.timeScale,yoyo:!0,repeat:b,delay:M+600/this.timeScale}),this.chestContainer.view.setRotation(-.1);const Z=this.scene.tweens.add({targets:this.chestContainer.view,rotation:.1,ease:Phaser.Math.Easing.Cubic.Out,duration:800/this.timeScale,yoyo:!0,repeat:-1,delay:M})}animateBackEffect(M=0){this.backEffect1.z=0,this.backEffect1.view.alpha=0,this.scene.tweens.add({targets:this.backEffect1.view,alpha:1,scaleX:.8,scaleY:.8,duration:200/this.timeScale,delay:M+700/this.timeScale}),this.scene.tweens.add({targets:this.backEffect1,z:-120,ease:Phaser.Math.Easing.Back.Out,duration:600/this.timeScale,delay:M+700/this.timeScale})}animateFrame1(M=0){this.frame1.z=200,this.frame1.view.alpha=0,this.scene.tweens.add({targets:this.frame1.view,alpha:.4,duration:200/this.timeScale,delay:M}),this.scene.tweens.add({targets:this.frame1,z:50,ease:Phaser.Math.Easing.Back.Out,duration:600/this.timeScale,delay:M})}setUpLidParticle(M,b){if(this.smokeParticles.emitParticleAt(M,b,15),!this.hasPrize){this.chestLid.x=-10,this.chestLid.z=-184,this.chestLid.view.setFrame("golden-lid");return}this.chestLid.destroy(),this.chestContainer.removeChild(this.chestLid);const W=new Phaser.GameObjects.Particles.ParticleEmitter(this.scene,0,0,"chest",{frame:["golden-lid"],lifespan:4e3,angle:{min:230,max:310},speed:{min:3e3,max:2e3},gravityY:5e3,alpha:{start:1,end:1},scale:{start:this.chestLid.view.scaleX+.1,end:1.7},rotate:{start:0,end:270},maxParticles:1});setTimeout(()=>{this.chestContainer.removeChild(this.chestLid)},20),W.x=M,W.y=b,W.isUi=!0,this.container.view.addAt(W,this.container.view.list.length-1)}setUpCoinEmitter(M,b){this.coinEmitter=new Phaser.GameObjects.Particles.ParticleEmitter(this.scene,0,0,this.assetSet.atlas,{frame:[this.assetSet.currencyTexture],lifespan:3500,angle:{min:230,max:310},speed:{min:550,max:850},gravityY:250,scale:{min:.5,max:.85},alpha:{start:1,end:0,ease:W=>W<.85?0:Phaser.Math.Easing.Cubic.Out((W-.85)*2)},rotate:{min:0,max:360*Math.random()},maxParticles:120,emitZone:{type:"edge",quantity:30,source:new Phaser.Geom.Line(-100,0,100,0),yoyo:!0}}),this.coinEmitter.x=M,this.coinEmitter.y=b,this.coinEmitter.isUi=!0,this.chestContainer.view.addAt(this.coinEmitter,this.chestContainer.view.list.length-6),this.coinEmitter.stop()}}class GM extends fs{constructor(M,b){super(M,b);j(this,"playbutton",Object());j(this,"gameOverLabel",Object());j(this,"titleContainer",Object());j(this,"defaultConfig",Object());j(this,"scoreLabel",Object());j(this,"winningsLabel",Object());j(this,"chest");j(this,"currencyData");this.enableCloseBlocker=!1,this.transition=new ds}build(M,b,W,Z,p){this.defaultConfig=xt.clone(yt.PrimaryPopup),super.build(M,this.defaultConfig),this.currencyData=b,this.view.add(this.popupShape),this.popupShape.setInteractive(),xt.clone(yt.PrimaryFont),this.titleContainer=this.addFromNew(It),this.gameOverLabel=this.titleContainer.addFromNew(zs),this.gameOverLabel.build("CattoBodyText",{x:.5,y:.5}),this.gameOverLabel.textField.setText(Rt.instance.getLabel("GAME_OVER")),this.gameOverLabel.z=0,this.chest=this.addFromNew(NM),this.chest.build(),this.chest.setAssetData(b.id==Gt.EMERALD?yt.EmeraldAssets:yt.GoldenAssets),this.chest.x=0,this.chest.z=-200,this.scoreLabel=this.titleContainer.addFromNew(zs),this.scoreLabel.build("CattoBodyText",{x:.5,y:.5}),this.scoreLabel.textField.setText(Rt.instance.getLabel("SCORE")),this.scoreLabel.x=0,this.scoreLabel.z=100,this.winningsLabel=this.titleContainer.addFromNew(zs),this.winningsLabel.build("CattoBodyText",{x:.5,y:.5}),this.winningsLabel.textField.setText(Rt.instance.getLabel("WINNINGS")),this.winningsLabel.x=0,this.winningsLabel.z=200,this.playbutton=this.addFromNew(Qt),this.playbutton.build(xt.clone(yt.PrimaryButton,{width:600,clickCallback:()=>{p()}})),this.playbutton.textField.setText(Rt.instance.getLabel("RUBY_PLAY_GAME")),this.refreshPositions()}afterBuild(){super.afterBuild(),this.gameResize(),this.refreshPositions()}refreshPositions(){const M=oe.getContainerBounds(this.titleContainer.view),b=oe.elementScalerBySize(M.displayWidth/this.titleContainer.view.scaleX,M.displayHeight/this.titleContainer.view.scaleX,this.popupConfig.width-150,this.popupConfig.width-150);this.titleContainer.view.setScale(Math.min(b,this.titleContainer.view.scaleX)),this.playbutton.x=0,this.playbutton.z=500}show(M){super.show(M),this.playInternal(M.score,M.winnings,M.isPerfect),console.log("showing")}async playInternal(M,b,W){this.scoreLabel.view.scale=0,this.winningsLabel.view.scale=0,this.playbutton.view.scale=0;const Z=this.scoreLabel,p=this.winningsLabel;this.chest.show({startValue:0,targetValue:b,autoHide:!1,isPerfect:W,isHighPrize:!1,currencyType:this.currencyData.id,hideCallback:()=>{}}),this.scene.tweens.add({targets:this.scoreLabel.view,duration:2e3,delay:500,props:{scale:{value:1}},ease:Phaser.Math.Easing.Elastic.Out}),await new Promise(S=>this.scene.tweens.addCounter({from:0,to:M,duration:1e3,delay:500,onUpdate:function(t){const f=Math.floor(t.getValue());Z.textField.text=Ys.format(Rt.instance.getLabel("SCORE"),{1:f})},onComplete:S})),this.scene.tweens.add({targets:this.winningsLabel.view,duration:2e3,props:{scale:{value:1}},ease:Phaser.Math.Easing.Elastic.Out}),await new Promise(S=>this.scene.tweens.addCounter({from:0,to:1e3,duration:1e3,onUpdate:function(t){const f=Math.floor(t.getValue()*.1*b)/100;p.textField.text=Ys.format(Rt.instance.getLabel("WINNINGS"),{1:f.toFixed(2)})},onComplete:S})),await new Promise(S=>this.scene.tweens.add({targets:this.playbutton.view,duration:2e3,props:{scale:{value:1}},ease:Phaser.Math.Easing.Elastic.Out,onComplete:S}))}update(M,b){super.update(M,b)}gameResize(M,b,W,Z,p){this.refreshPositions()}}var de=(L=>(L[L.REQUEST=0]="REQUEST",L[L.RESPONSE=1]="RESPONSE",L[L.NOTIFICATION=2]="NOTIFICATION",L))(de||{}),bt=(L=>(L.MAKE_BET="MAKE_BET",L.JACKPOT_UPDATE="JACKPOT_UPDATE",L.SPIN_ENDED="SPIN_ENDED",L.CLOSE_GAME="CLOSE_GAME",L.SKILL_CHECK_RESULT="SKILL_CHECK_RESULT",L.MAKE_CREDIT_BET="MAKE_CREDIT_BET",L.PAUSE_GAME="PAUSE_GAME",L.RESUME_GAME="RESUME_GAME",L.BALANCE_UPDATE="BALANCE_UPDATE",L.CREDIT_BALANCE="CREDIT_BALANCE",L.BJ_START_ROUND="BJ_START_ROUND",L.BJ_INSURANCE="BJ_INSURANCE",L.BJ_MAKE_MOVE="BJ_MAKE_MOVE",L.BJ_SKILL_CHECK_RESULT="BJ_SKILL_CHECK_RESULT",L.BJ_GET_PENDING_ROUNDS="BJ_GET_PENDING_ROUNDS",L.LOCAL_STORAGE_GET="LOCAL_STORAGE_GET",L.LOCAL_STORAGE_SET="LOCAL_STORAGE_SET",L.PS_START_GAME="PS_START_GAME",L.PS_PLACE_CARD="PS_PLACE_CARD",L.PS_SKILL_CHECK_RESULT="PS_SKILL_CHECK_RESULT",L.PS_GET_PENDING_GAMES="PS_GET_PENDING_GAMES",L.HARVEST_PLANT_SEED="HARVEST_PLANT_SEED",L.HARVEST_REAP_REWARD="HARVEST_REAP_REWARD",L.CR_MAKE_BET="CR_MAKE_BET",L.CR_CANCEL_BET="CR_CANCEL_BET",L.CR_CASHOUT_BET="CR_CASHOUT_BET",L))(bt||{});const gi=class{constructor(){j(this,"_accounts");j(this,"_credits")}static get instance(){return gi._instance||(gi._instance=new gi),gi._instance}get accounts(){return this._accounts}get accountsArray(){return[...this._accounts.values()]}get credits(){return this._credits}get sweepsBalance(){var w,M;return(M=(w=this._accounts.get("SWEEP_TICKETS"))==null?void 0:w.balance)!=null?M:0}get pointsBalance(){var w,M;return(M=(w=this._accounts.get("POINTS"))==null?void 0:w.balance)!=null?M:0}init(){var W,Z;const w=new URLSearchParams(location.search.substr(1));this._accounts=new Map;const M=(W=w.get("accounts"))!=null?W:"";try{let p=JSON.parse(M);for(let S=0;S<p.length;S++)this._accounts.set(p[S].currency,p[S]);if(!this._accounts.get("SWEEP_TICKETS")||!this._accounts.get("POINTS"))throw new Error("accounts param must include both SWEEP_TICKETS and POINTS accounts");console.log(`[Ruby Sweeps Test API] Successfully parsed user accounts from URLSearchParams:
SWEEP_TICKETS balance: ${this.sweepsBalance}
POINTS balance: ${this.pointsBalance}`)}catch(p){console.warn(`[Ruby Sweeps Test API] Failed to parse users accounts from URLSearchParams:
error: ${p.message}
URL accounts param: ${M}`),console.log("[Ruby Sweeps Test API] generating default user accounts for testing"),this._accounts.set("SWEEP_TICKETS",{userId:"Test123",balance:98.6,lockedBalance:0,currency:"SWEEP_TICKETS",createdAt:new Date().toISOString(),lastModifiedAt:new Date().toISOString()}),this._accounts.set("POINTS",{userId:"Test123",balance:9001,lockedBalance:0,currency:"POINTS",createdAt:new Date().toISOString(),lastModifiedAt:new Date().toISOString()})}this._credits=new Map;const b=(Z=w.get("credits"))!=null?Z:"";try{if(this._credits.set("SWEEP_TICKETS",new Map),this._credits.set("POINTS",new Map),b){let p=JSON.parse(b);for(let S=0;S<p.length;S++)this.addCredits(p[S].currency,p[S].paytableName,p[S].creditsValue);console.log("[Ruby Sweeps Test API] Successfully parsed user credits from URLSearchParams")}else console.debug("[Ruby Sweeps Test API] defaulting to 0 credits")}catch(p){console.warn(`[Ruby Sweeps Test API] Failed to parse users credits from URLSearchParams:
error: ${p.message}
URL credits param: ${b}`),console.log("[Ruby Sweeps Test API] defaulting to 0 credits")}}debitAccount(w,M){this._accounts.get(w).balance-=M}creditAccount(w,M){this._accounts.get(w).balance+=M}addCredits(w,M,b){var p;const W=this._credits.get(w),Z=(p=W.get(M))!=null?p:0;W.set(M,Z+b)}removeCredits(w,M,b){var S;let W=this._credits.get(w);const Z=(S=W.get(M))!=null?S:0,p=Z-b;p+Number.EPSILON<0?console.warn(`[Ruby Sweeps Test API] Can not remove ${b} credits for ${M}, in currency: ${w}, as user only has: ${Z}`):p<Number.EPSILON?W.delete(M):W.set(M,p)}};let ee=gi;j(ee,"_instance");async function Wl(L,w,M,b=!1){var Z;let W=await Vs.sendPaytableRequest(L,w,M,b);return!W||!W.result?(console.warn(`[Ruby Sweeps Test API] paytable result is error or undefined: ${JSON.stringify((Z=W==null?void 0:W.result)!=null?Z:W)}`),{amountWon:0}):W.result}const da=class{static async sendPaytableRequest(w,M,b,W){return new Promise(Z=>{const S=`paytableName=${w}&amountBet=${M}&effectiveBetAmount=${M}&currency=${b}&forceBigWin=${W}`,t=new XMLHttpRequest;t.open("GET",`${da.endpoint}?${S}`),t.setRequestHeader("Content-Type","application/json"),t.addEventListener("load",()=>{if(t.status<400){let f=JSON.parse(t.response);Z(f)}else Z(t.response)}),t.addEventListener("error",()=>{Z(t.response)}),t.send()})}};let Vs=da;j(Vs,"endpoint","https://paytable.dev.sweeps.wildrubygames.com/testBetResult");async function bM(L,w,M){var S,t,f;console.debug(`[Ruby Sweeps Test API] onMakeBetRequest(paytableName: ${L}, betAmount: ${w}, currency: ${M}`);const b=(t=(S=ee.instance.accounts.get(M))==null?void 0:S.balance)!=null?t:0;if(b-w+Number.EPSILON<0){const c=`[Ruby Sweeps Test API] failed to make bet of: ${w} as user balance is: ${b}`;return console.error(c),{error:c}}const Z=await Wl(L,w,M).catch(c=>(console.error(c),c));if(typeof Z=="string")return{error:Z};console.debug(`[Ruby Sweeps Test API] successfully retrieved paytable result: ${Z.amountWon}`);const p={betId:"bet"+Math.floor(Math.random()*1e6),paytableResult:Z,accounts:[]};return ee.instance.debitAccount(M,w),ee.instance.creditAccount(M,Z.amountWon),(f=Z.credits)==null||f.forEach(c=>{ee.instance.addCredits(c.currency,c.paytableName,c.creditsValue)}),p.accounts=JSON.parse(JSON.stringify(ee.instance.accountsArray)),p}async function UM(L,w,M){var S,t,f;console.debug(`[Ruby Sweeps Test API] onMakeCreditBetRequest(paytableName: ${L}, betAmount: ${w}, currency: ${M}`);const b=(t=(S=ee.instance.credits.get(M))==null?void 0:S.get(L))!=null?t:0;if(b-w+Number.EPSILON<0){const c=`[Ruby Sweeps Test API] failed to make credit bet of: ${w} as user balance is: ${b}`;return console.error(c),{error:c}}const Z=await Wl(L,w,M).catch(c=>(console.error(c),c));if(typeof Z=="string")return{error:Z};console.debug(`[Ruby Sweeps Test API] successfully retrieved credit paytable result: ${Z.amountWon}`);const p={betId:"creditBet"+Math.floor(Math.random()*1e6),paytableResult:Z,accounts:[]};return ee.instance.removeCredits(M,L,w),ee.instance.creditAccount(M,Z.amountWon),(f=Z.credits)==null||f.forEach(c=>{ee.instance.addCredits(c.currency,c.paytableName,c.creditsValue)}),p.accounts=JSON.parse(JSON.stringify(ee.instance.accountsArray)),p}async function zM(L,w){return console.log(`[Ruby Sweeps Test API] Setting value: ${w} for key: ${L} into local storage`),localStorage.setItem(L,w),Promise.resolve()}function VM(L){return console.log(`[Ruby Sweeps Test API] Getting value for key: ${L} from local storage`),new Promise(w=>{w(localStorage.getItem(L))})}class Sr{constructor(w,M,b){j(this,"id","blank");j(this,"controlType");j(this,"commandType");j(this,"data");this.controlType=w,this.commandType=M,this.data=b,this.id=Math.floor(Math.random()*1e7).toString()}}const ei=class{constructor(){j(this,"_sentMessages");this._sentMessages=[],window.addEventListener("message",this.onMessageReceived.bind(this))}static get instance(){return this._instance||(this._instance=new ei),this._instance}async onMessageReceived(w){let M;try{M=JSON.parse(w.data),typeof M.data=="string"&&(M.data=JSON.parse(M.data))}catch{console.warn(`[Ruby Sweeps Test API] Unable to parse message: ${JSON.stringify(w.data)}`);return}if(this._sentMessages.includes(M.id)){this._sentMessages=this._sentMessages.splice(this._sentMessages.indexOf(M.id),1);return}if(console.debug(`[Ruby Sweeps Test API] ${de[M.controlType]} message received:
${bt[M.commandType]}: ${JSON.stringify(M.data)}`),M.controlType===de.REQUEST)switch(M.commandType){case bt.MAKE_BET:{const b=await bM(M.data.paytableName,M.data.betAmount,M.data.currency);ei.instance.sendResponse(bt.MAKE_BET,b);break}case bt.MAKE_CREDIT_BET:{const b=await UM(M.data.paytableName,M.data.betAmount,M.data.currency);ei.instance.sendResponse(bt.MAKE_CREDIT_BET,b);break}case bt.SPIN_ENDED:{console.debug("[Ruby Sweeps Test API] SPIN ENDED message received");break}case bt.LOCAL_STORAGE_GET:{const b=await VM(M.data.key);ei.instance.sendResponse(bt.LOCAL_STORAGE_GET,{value:b});break}case bt.LOCAL_STORAGE_SET:{await zM(M.data.key,M.data.value);break}case bt.CREDIT_BALANCE:break;default:console.warn(`[Ruby Sweeps Test API] No REQUEST handling implemented for command ${bt[M.commandType]}`)}else M.controlType===de.RESPONSE?console.warn(`[Ruby Sweeps Test API] No RESPONSE handling implemented for command ${bt[M.commandType]}`):M.controlType===de.NOTIFICATION?console.warn(`[Ruby Sweeps Test API] No NOTIFICATION handling implemented for command ${bt[M.commandType]}`):console.warn(`[Ruby Sweeps Test API] Unable to handle unknown control type ${M.controlType}`)}sendResponse(w,M){const b=new Sr(de.RESPONSE,w,M);ei.instance.sendMessage(b)}sendMessage(w,M=!1){M||this._sentMessages.push(w.id),window.parent.postMessage(JSON.stringify(w),"*"),console.debug("[Ruby Sweeps Test API] Message sent to game:"),console.debug(w)}};let ii=ei;j(ii,"_instance");/*! typescript-cookie v1.0.6 | MIT */const Hl=L=>encodeURIComponent(L).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),$l=L=>encodeURIComponent(L).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent),na=decodeURIComponent,ra=L=>(L[0]==='"'&&(L=L.slice(1,-1)),L.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function XM(L){return L=Object.assign({},L),typeof L.expires=="number"&&(L.expires=new Date(Date.now()+L.expires*864e5)),L.expires!=null&&(L.expires=L.expires.toUTCString()),Object.entries(L).filter(([w,M])=>M!=null&&M!==!1).map(([w,M])=>M===!0?`; ${w}`:`; ${w}=${M.split(";")[0]}`).join("")}function Kl(L,w,M){const b=/(?:^|; )([^=]*)=([^;]*)/g,W={};let Z;for(;(Z=b.exec(document.cookie))!=null;)try{const p=M(Z[1]);if(W[p]=w(Z[2],p),L===p)break}catch{}return L!=null?W[L]:W}const $o=Object.freeze({decodeName:na,decodeValue:ra,encodeName:Hl,encodeValue:$l}),aa=Object.freeze({path:"/"});function oa(L,w,M=aa,{encodeValue:b=$l,encodeName:W=Hl}={}){return document.cookie=`${W(L)}=${b(w,L)}${XM(M)}`}function Zl(L,{decodeValue:w=ra,decodeName:M=na}={}){return Kl(L,w,M)}function YM({decodeValue:L=ra,decodeName:w=na}={}){return Kl(void 0,L,w)}function WM(L,w=aa){oa(L,"",Object.assign({},w,{expires:-1}))}function Er(L,w){const M={set:function(W,Z,p){return oa(W,Z,Object.assign({},this.attributes,p),{encodeValue:this.converter.write})},get:function(W){if(arguments.length===0)return YM(this.converter.read);if(W!=null)return Zl(W,this.converter.read)},remove:function(W,Z){WM(W,Object.assign({},this.attributes,Z))},withAttributes:function(W){return Er(this.converter,Object.assign({},this.attributes,W))},withConverter:function(W){return Er(Object.assign({},this.converter,W),this.attributes)}},b={attributes:{value:Object.freeze(w)},converter:{value:Object.freeze(L)}};return Object.create(M,b)}Er({read:$o.decodeValue,write:$o.encodeValue},aa);class HM{constructor(){j(this,"storage",{})}get usesLocalStorage(){return!0}initialize(){ee.instance.init(),this.updateBalace()}updateBalace(){const w=ee.instance.accountsArray.slice(0),M=new Sr(de.NOTIFICATION,bt.BALANCE_UPDATE,w);ii.instance.sendMessage(M)}localStorageGet(w){console.log("localStorageGet",w)}spinEnded(w){console.log("spinEnded",w)}balanceUpdate(w){}closeGame(w){console.log("closeGame",w)}resumeGame(w){console.log("resumeGame",w)}pauseGame(w){console.log("pauseGame",w)}betResult(w){console.log("betResult",w)}makeBet(w,M){const b=new Sr(de.REQUEST,bt.MAKE_BET,{betAmount:w,currency:Ct.instance.currentApiCurrencyId,gameName:"RUBY_RACES",paytableName:M,gameVersion:"2.0.17"});console.log("bet sent",b),ii.instance.sendMessage(b,!0)}setLocalStorage(w,M){const b={controlType:de.RESPONSE,commandType:bt.LOCAL_STORAGE_SET,data:{key:w,value:M},id:Math.floor(Math.random()*1e7).toString()};console.log("SETTING",b),oa(w,M),ii.instance.sendMessage(b,!0),this.setLocalGet(w)}setLocalGet(w){var W;const M=(W=Zl(w))!=null?W:null,b={controlType:de.REQUEST,commandType:bt.LOCAL_STORAGE_GET,data:{value:M},id:Math.floor(Math.random()*1e7).toString()};ii.instance.sendMessage(b,!1)}}class ha{static loadHTMLContent(w,M){fetch(w).then(b=>b.text()).then(b=>{const W=document.getElementById("overlay");W||console.log("No id for overlay on html");const Z=w.substring(0,w.lastIndexOf("/")+1);let p=b.replace(/src="/g,`src="${Z}`).replace(/href="/g,`href="${Z}`).replace(/url\(['"]?(.*?)['"]?\)/g,(t,f)=>!f.startsWith("http")&&!f.startsWith("/")?`url(${Z}${f})`:t);W.innerHTML=p,W.style.display="flex";const S=document.createElement("button");S.textContent="X",S.className="close-button",S.addEventListener("click",()=>{M&&M(),ha.hideOverlay()}),W.appendChild(S)}).catch(b=>console.error("Error loading HTML content:",b))}static hideOverlay(){const w=document.getElementById("overlay");w||console.log("No id for overlay on html"),w.innerHTML="",w.style.display="none"}}const Ut=class{constructor(){j(this,"currencyList");j(this,"currentCurrencyType",Gt.GOLD_COIN);j(this,"opposityCurrencyData",Gt.EMERALD);j(this,"betApi");j(this,"onStorageGet",new Lt.exports.Signal);j(this,"onChangeCurrency",new Lt.exports.Signal);j(this,"onUpdateBet",new Lt.exports.Signal);j(this,"onBetResult",new Lt.exports.Signal);j(this,"onUpdateBalance",new Lt.exports.Signal);j(this,"onUpdatePot",new Lt.exports.Signal);j(this,"onUpdateAutoplay",new Lt.exports.Signal);j(this,"onStartGameplay",new Lt.exports.Signal);j(this,"onAskForBet",new Lt.exports.Signal);j(this,"onWin",new Lt.exports.Signal);j(this,"onApiReady",new Lt.exports.Signal);j(this,"onApiWait",new Lt.exports.Signal);j(this,"onApiWaitEnd",new Lt.exports.Signal);j(this,"onShowInfoPage",new Lt.exports.Signal);j(this,"onHideInfoPage",new Lt.exports.Signal);j(this,"isReady",!1);j(this,"gameId","");j(this,"waitList",[]);j(this,"isInitialized",!1);j(this,"maxBetIncrease",5);j(this,"betAmountId",0);j(this,"isAutoplay",!1);j(this,"potData",new Map);j(this,"balanceData",new Map);this.currencyList=new Map,this.currencyList.set(Gt.EMERALD,{id:Gt.EMERALD,betValues:{betValue:[25,50,100,200,500],displayValue:["0.25","0.5","1.0","2.0","5.0"]},currencyViewData:{image:"currency-rubysweeps-sweep_tickets",name:"Emerald",tint:yt.EmeraldGradient}}),this.currencyList.set(Gt.GOLD_COIN,{id:Gt.GOLD_COIN,betValues:{betValue:[25,50,100,200,500],displayValue:["25","50","100","200","500"]},currencyViewData:{image:"currency-rubysweeps-points",name:"Gold Coins",tint:yt.GoldenCoinsGradient}}),this.betApi=new HM,window.addEventListener("message",w=>{var b,W;let M;try{M=JSON.parse(w.data),typeof M.data=="string"&&(M.data=JSON.parse(M.data))}catch{console.warn("Unable to parse message",{message:JSON.stringify(w.data)});return}switch(M.commandType){case bt.PAUSE_GAME:this.betApi.pauseGame(M);break;case bt.RESUME_GAME:this.betApi.resumeGame(M);break;case bt.CLOSE_GAME:this.betApi.closeGame(M);break;case bt.BALANCE_UPDATE:this.updateBalanceData(M.data),this.betApi.balanceUpdate(M);break;case bt.MAKE_BET:if(M.controlType==de.RESPONSE){if(this.betApi.betResult(M),(b=M==null?void 0:M.data)!=null&&b.paytableResult){const Z=((W=M==null?void 0:M.data)==null?void 0:W.paytableResult.amountWon)||0;M.data.paytableResult.displayPrize=this.convertCurrencyDisplayAmount(Z,this.currentCurrencyType)}this.onBetResult.dispatch(M,this.currentBetAmount)}break;case bt.SPIN_ENDED:this.betApi.spinEnded(M);break;case bt.LOCAL_STORAGE_GET:this.betApi.localStorageGet(M),this.onStorageGet.dispatch(M);break;case bt.LOCAL_STORAGE_SET:break}M.controlType==de.RESPONSE&&this.waitList.length&&(this.waitList.includes(M.commandType)&&(this.waitList=this.waitList.filter(Z=>Z!==M.commandType)),this.waitList.length<=0&&this.onApiWaitEnd.dispatch())})}static get instance(){return Ut._instance||(Ut._instance=new Ut),Ut._instance}initialize(w){this.isInitialized||(this.isInitialized=!0),this.gameId=w,console.log("CAP THE VALUES"),this.waitList=[],Ut.instance.onStorageGet.removeAll(),Ut.instance.onChangeCurrency.removeAll(),Ut.instance.onUpdateBet.removeAll(),Ut.instance.onBetResult.removeAll(),Ut.instance.onUpdateAutoplay.removeAll(),Ut.instance.onUpdateBalance.removeAll(),Ut.instance.onUpdatePot.removeAll(),Ut.instance.onWin.removeAll(),Ut.instance.onStartGameplay.removeAll(),Ut.instance.onAskForBet.removeAll(),Ut.instance.onApiReady.removeAll(),Ut.instance.onApiWait.removeAll(),Ut.instance.onApiWaitEnd.removeAll(),Ut.instance.onShowInfoPage.removeAll(),Ut.instance.onHideInfoPage.removeAll(),setTimeout(()=>{this.betApi.initialize(),this.apiReady(),this.betAmountId=0},100)}updateBalanceData(w){if(!w){console.error("No balance data");return}w.forEach(M=>{(M==null?void 0:M.currency)==Ut.GoldenApiId?this.balanceData.set(Gt.GOLD_COIN,(M==null?void 0:M.balance)||0):(M==null?void 0:M.currency)==Ut.EmeraldApiId&&this.balanceData.set(Gt.EMERALD,(M==null?void 0:M.balance)||0)}),console.debug("updateBalanceData",this.balanceData,this.currentBalanceAmount),this.onUpdateBalance.dispatch(this.currentBalanceAmount,this.currentDisplayBalanceAmount)}apiReady(){Ut.instance.onApiReady.dispatch(),this.isReady=!0,this.setCurrency(Gt.EMERALD),this.potData=new Map,this.potData.set(Gt.EMERALD,0),this.potData.set(Gt.GOLD_COIN,0)}get currentApiCurrencyId(){return this.currentCurrencyType==Gt.EMERALD?Ut.EmeraldApiId:Ut.GoldenApiId}get currencyType(){return this.currentCurrencyType}get currentBetDisplayValue(){var w;return((w=this.currentCurrencyData)==null?void 0:w.betValues.displayValue[this.betAmountId])||""}get currentBetAmount(){var w;return((w=this.currentCurrencyData)==null?void 0:w.betValues.betValue[this.betAmountId])||0}get currentCurrencyData(){return this.currencyList.get(this.currentCurrencyType)}get currentOpposityCurrencyData(){return this.currencyList.get(this.opposityCurrencyData)}get currentPotAmount(){return this.potData.get(this.currentCurrencyType)}get currentBalanceAmount(){return this.balanceData.get(this.currentCurrencyType)||0}get hasFunds(){return this.currentBalanceAmount>=this.currentBetAmount}get currentDisplayBalanceAmount(){let w=this.currentBalanceAmount||0,M=w.toString();return this.currentCurrencyType==Gt.EMERALD&&(w/=100,M=w.toFixed(3)),M}get isAutoplayMode(){return this.isAutoplay}convertCurrencyDisplayAmount(w,M){let b=w.toString();return M==Gt.EMERALD&&(w/=100,b=w.toFixed(3)),b}requestInfoPage(){this.onShowInfoPage.dispatch(),ha.loadHTMLContent("html/info.html",this.hideInfoPage.bind(this))}hideInfoPage(){this.onHideInfoPage.dispatch()}winRound(w){var M;if(!this.currentCurrencyData){console.debug("No currency data");return}this.addtoPot((M=this.currentCurrencyData)==null?void 0:M.id,w),this.onWin.dispatch(this.currentCurrencyData,w)}addtoPot(w,M){if(!this.potData.has(w))return;const W=(this.potData.get(w)||0)+M;this.potData.set(this.currentCurrencyType,W),this.onUpdatePot.dispatch(this.currentPotAmount)}removeFromBalance(w,M){const W=(this.balanceData.get(w)||0)-M;this.balanceData.set(this.currentCurrencyType,W),this.onUpdateBalance.dispatch(this.currentBalanceAmount,this.currentDisplayBalanceAmount)}refreshCurrency(){this.onChangeCurrency.dispatch(this.currentCurrencyData,this.currentOpposityCurrencyData)}startGameplay(){this.onStartGameplay.dispatch()}pauseGameplay(){}refreshBalance(){this.betApi.updateBalace()}askForBet(){this.onAskForBet.dispatch()}betAndPlay(){this.makeBet(this.currentBetAmount),this.onStartGameplay.dispatch()}toggleAutoplay(){this.isAutoplay=!this.isAutoplay,this.onUpdateAutoplay.dispatch(this.isAutoplay)}setCurrency(w){this.currentCurrencyType=w,this.currentCurrencyType==Gt.EMERALD?this.opposityCurrencyData=Gt.GOLD_COIN:this.opposityCurrencyData=Gt.EMERALD,this.betAmountId=this.capBet(this.betAmountId),this.onChangeCurrency.dispatch(this.currentCurrencyData,this.currentOpposityCurrencyData),this.betApi.updateBalace()}toggleCurrency(){this.currentCurrencyType==Gt.EMERALD?this.setCurrency(Gt.GOLD_COIN):this.setCurrency(Gt.EMERALD)}findBetValueId(w){var M,b,W;if(!((M=this.currentCurrencyData)!=null&&M.betValues))return 0;for(let Z=((b=this.currentCurrencyData)==null?void 0:b.betValues.betValue.length)-1;Z>=0;Z--)if(((W=this.currentCurrencyData)==null?void 0:W.betValues.betValue[Z])<=w)return Z;return 0}capBet(w){var b;return(((b=this.currentCurrencyData)==null?void 0:b.betValues.betValue[w])||0)>this.currentBalanceAmount?0:w}increaseBet(){const w=(this.betAmountId+1)%this.maxBetIncrease;this.betAmountId=this.capBet(w),this.updateBetAmount(this.currentBetAmount)}decreaseBet(){const w=this.betAmountId-1;w<0?this.betAmountId=this.findBetValueId(this.currentBalanceAmount)||0:this.betAmountId=this.capBet(w),this.updateBetAmount(this.currentBetAmount)}updateBetAmount(w){this.onUpdateBet.dispatch({},this.currentBetAmount,this.currentBetDisplayValue)}makeBet(w){this.betApi.makeBet(w,this.gameId),this.waitList.push(bt.MAKE_BET),this.onApiWait.dispatch(),this.removeFromBalance(this.currentCurrencyType,w)}setLocalStorage(w,M){this.betApi.setLocalStorage(w,M)}setLocalGet(w){this.betApi.setLocalGet(w)}get usesLocalStorage(){return this.betApi.usesLocalStorage}};let Ct=Ut;j(Ct,"GoldenApiId","POINTS"),j(Ct,"EmeraldApiId","SWEEP_TICKETS"),j(Ct,"_instance");const Ko="end-game-screen",Zo="BALLS_TOP_SCORE";class $M extends au{constructor(){super(...arguments);j(this,"OnRestartRequested");j(this,"lineHeight",-295);j(this,"dropHeight",-395);j(this,"maxBadTime",7);j(this,"leewayBadTime",4);j(this,"gameplayAreaWidth",900);j(this,"gameplayMarginLeft",180);j(this,"gameplayMarginRight",50);j(this,"gameplayMarginTop",800);j(this,"gameplayMarginBottom",100);j(this,"gameplayAreaHeight",800);j(this,"sideDepth",100);j(this,"ballTable",[0,1,2]);j(this,"ballsBeforeRandom",3);j(this,"timeBeforeNextDropMS",300);j(this,"popupManager");j(this,"badLine");j(this,"dropPointer");j(this,"nextNextBallPreview");j(this,"nextBallPreview");j(this,"nextBallGrabber");j(this,"allBalls",[]);j(this,"badLineTween");j(this,"bottom");j(this,"left");j(this,"right");j(this,"countIn");j(this,"gradientBackGround");j(this,"scrollingBackGround");j(this,"angryFill");j(this,"scoreText");j(this,"bestScoreText");j(this,"bar");j(this,"ballsDropped",0);j(this,"badTime",0);j(this,"nextBall",0);j(this,"nextNextBall",0);j(this,"canDrop",!0);j(this,"score",0);j(this,"maxScore",100);j(this,"topOfBarFilled",!1);j(this,"chests",[]);j(this,"scoreConfig");j(this,"lost",!1);j(this,"bestScoreCached",9999999);j(this,"container")}get worldViewWidth(){return this.gameplayAreaWidth+this.gameplayMarginLeft+this.gameplayMarginRight}get worldViewHeight(){return this.gameplayAreaHeight+this.gameplayMarginTop+this.gameplayMarginBottom}build(M,b){var c,a,r;super.build(),this.OnRestartRequested=b,this.scene.input.on(Phaser.Input.Events.POINTER_UP,n=>{!this.canDrop||this.eugine.uiCanvas.pointerOver||this.dropRandomBall(this.getBallPosXFromMousePos(n.x,n.y))}),Ct.instance.onStorageGet.add(this.HandleStorageGet.bind(this)),Ct.instance.setLocalGet(Zo),this.lost=!1,this.popupManager=this.addFromNew(th),this.popupManager.build();var W=this.addFromNew(GM),Z=Ct.instance.currentCurrencyData;W.build(Ko,Z,this.score,50.5,this.OnRestartRequested),this.popupManager.registerPopUp(W),this.maxScore=M.getMaxScore(),this.scoreConfig=M,this.buildBackground(),this.countIn=this.eugine.addChildFromPool(uu),this.countIn.build(this.gameplayAreaWidth/2,0,[new ga("countdown_alarm1","cat-meow-1"),new ga("countdown_alarm2","cat-meow-2")],"countdown",500,{soundConfig:{volume:1.5}}),this.countIn.view.scale=1,this.addChild(this.countIn),(c=this.scene.input.keyboard)==null||c.on("keydown-W",()=>{this.OnRestartRequested()}),(a=this.scene.input.keyboard)==null||a.on("keydown-S",()=>{this.score+=5}),this.score=(r=this.eugine.debugParams.startScore)!=null?r:0,this.eugine.scene,this.BuildUI(),this.fitCamera(),this.bar=this.eugine.addChildFromPool(lu);const p=this.scene.add.nineslice(0,0,"backing_assets","prizetrack_back",102,1127,0,0,0,102),S=this.scene.add.nineslice(0,0,"backing_assets","prizetrack_fill",102,1127,0,0,0,102);this.bar.build(p,S,-100,265,102,1470,!0),this.bar.setScale(.75),this.badLine=this.scene.add.sprite(0,this.lineHeight,"backing_assets","board_topline"),this.badLine.setOrigin(0,.5),this.badLine.displayWidth=this.gameplayAreaWidth;const t=this.scene.add.sprite(-250,-100,"backing_assets","background_yarn");t.setOrigin(0,1),t.setDepth(-10010),this.bottom=this.scene.matter.add.rectangle(this.gameplayAreaWidth/2,this.gameplayAreaHeight+this.sideDepth/2,this.gameplayAreaWidth*2,this.sideDepth),this.bottom.isStatic=!0,this.left=this.scene.matter.add.rectangle(0-this.sideDepth/2,this.gameplayAreaHeight/2,this.sideDepth,this.gameplayAreaHeight*4),this.left.isStatic=!0,this.right=this.scene.matter.add.rectangle(this.gameplayAreaWidth+this.sideDepth/2,this.gameplayAreaHeight/2,this.sideDepth,this.gameplayAreaHeight*4),this.right.isStatic=!0,this.nextBallGrabber=this.eugine.addChildFromPool(is),this.nextBallPreview=this.eugine.addChildFromPool(is),this.nextBallPreview.parent=this.nextBallGrabber,this.dropPointer=this.eugine.addChildFromPool(is),this.dropPointer.build("board_pointer","backing_assets"),this.dropPointer.view.scale=.75,this.dropPointer.view.setOrigin(.5,-.23);const f=this.scene.add.sprite(0,100,"backing_assets","board_back");f.scaleX=1.075,f.x=f.width/2-48,f.setDepth(-1e4),this.angryFill=this.scene.add.sprite(0,100,"backing_assets","board_redoverlay"),this.angryFill.scaleX=f.scaleX,this.angryFill.x=f.x,this.angryFill.setDepth(0),this.dropPointer.parent=this.nextBallGrabber,this.dropPointer.x=0,this.dropPointer.y=0,this.createChests(),this.updateNextBall(),this.updateNextBall(),this.scene.matter.world.on(Phaser.Physics.Matter.Events.COLLISION_START,(n,e,s)=>{n.pairs.forEach(u=>{var h,l;const i=u.bodyA,o=u.bodyB;if(((h=i.gameObject)==null?void 0:h.parentGameObject)instanceof Ue&&((l=o.gameObject)==null?void 0:l.parentGameObject)instanceof Ue){const d=i.gameObject.parentGameObject,v=o.gameObject.parentGameObject;if(d.gameView.isDestroyed||v.gameView.isDestroyed){console.log("Already destroyed");return}d.sizeIndex==v.sizeIndex&&(console.log("Combine"),this.tryCombineBalls(d,v))}})}),this.scene.matter.world.on(Phaser.Physics.Matter.Events.COLLISION_ACTIVE,(n,e,s)=>{n.pairs.forEach(u=>{var h,l;const i=u.bodyA,o=u.bodyB;if(((h=i.gameObject)==null?void 0:h.parentGameObject)instanceof Ue&&((l=o.gameObject)==null?void 0:l.parentGameObject)instanceof Ue){const d=i.gameObject.parentGameObject,v=o.gameObject.parentGameObject;if(d.gameView.isDestroyed||v.gameView.isDestroyed){console.log("Already destroyed");return}d.sizeIndex==v.sizeIndex&&(console.log("Combine"),this.tryCombineBalls(d,v))}})}),Mt.instance.playMusic("Cafe Chill",{soundConfig:{volume:.3,loop:!0}})}BuildUI(){this.container=this.eugine.addChildFromNew(_o),this.scoreText=this.scene.add.bitmapText(this.gameplayAreaWidth/2,50,"cattoScore",""+this.score),this.scoreText.depth=1e4,this.scoreText.setOrigin(.5,.5),this.container.view.add(this.scoreText);const M=this.scene.add.sprite(this.gameplayAreaWidth/2,200,"backing_assets","bestScoreBanner");this.container.view.add(M),this.bestScoreText=this.scene.add.bitmapText(this.gameplayAreaWidth/2,170,"CattoBodyText",""+this.score),this.bestScoreText.depth=1e4,this.bestScoreText.setOrigin(.5,.5),this.container.view.add(this.bestScoreText);const b=this.scene.add.sprite(0,0,"backing_assets","nextbanner");b.scale=.75,b.y=b.height/2*b.scaleY,this.container.view.add(b),this.nextNextBallPreview=this.eugine.addChildFromPool(is),this.nextNextBallPreview.build("ball_0","balls"),this.nextNextBallPreview.x=b.x,this.nextNextBallPreview.z=110,this.container.addChild(this.nextNextBallPreview);const W=this.scene.add.bitmapText(this.nextNextBallPreview.x,this.nextNextBallPreview.z+80,"CattoBodyText");W.fontSize=40,W.setText(Rt.instance.getLabel("NEXT")),W.setOrigin(.5,.5),W.setDropShadow(0,5,0,.5),this.container.view.add(W),this.container.view.bringToTop(this.scoreText),this.container.view.bringToTop(W)}HandleStorageGet(M){if(!((M==null?void 0:M.data)==null||(M==null?void 0:M.data.value)===void 0)){if((M==null?void 0:M.data.value)==null){this.SetBestScore(0);return}this.SetBestScore(+M.data.value)}}SetBestScore(M){this.bestScoreCached=M,this.bestScoreText.text=Ys.format(Rt.instance.getLabel("BEST"),{1:M}),this.bestScoreText.fontSize=this.bestScoreText.fontSize/(this.bestScoreText.displayWidth/200)}buildBackground(){this.gradientBackGround=this.scene.add.sprite(0,-this.gameplayMarginTop,"backing_assets","background_gradient"),this.gradientBackGround.setOrigin(.5,0),this.gradientBackGround.depth=-2e4,this.scrollingBackGround=this.scene.add.tileSprite(0,-this.gameplayMarginTop,0,0,"backing_assets","background_tilepattern"),this.scrollingBackGround.setOrigin(.5,0),this.scrollingBackGround.depth=-15e3,this.scrollingBackGround.scale=.25,this.scrollingBackGround.alpha=.5,this.scrollingBackGround.blendMode=Phaser.BlendModes.MULTIPLY}createChests(){const M=this.scoreConfig.getMaxScore(),b=this.scene.textures.cloneFrame("backing_assets","chest_closed"),W=this.scene.textures.cloneFrame("backing_assets","chest_open"),Z=this.scene.textures.cloneFrame("backing_assets","prizetrack_chestground_off"),p=this.scene.textures.cloneFrame("backing_assets","prizetrack_chestground_on"),S=this.scene.textures.cloneFrame("backing_assets","prizetrack_finalprize_on"),t=this.scene.textures.cloneFrame("backing_assets","prizetrack_finalprize_off"),f=this.scoreConfig.getScoreItems();f.forEach((c,a)=>{const r=this.bar.x,n=c.score/M,e=this.bar.getYPositionForFill(n);a==f.length-1?this.chests.push(new pa(this.scene,r,e,b,W,t,S,"chest-open-big")):this.chests.push(new pa(this.scene,r,e,b,W,Z,p,"chest-open-small")),this.scene.add.existing(this.chests[a])})}updateNextBall(){this.nextBall=this.nextNextBall,this.ballsDropped>=this.ballsBeforeRandom&&(this.nextNextBall=this.ballTable[Math.floor(Math.random()*this.ballTable.length)]),Ue.setSpriteFromData(this.nextNextBallPreview,ae.GetDataForIndex(this.nextNextBall)),this.nextNextBallPreview.view.scale=128/this.nextNextBallPreview.view.width,Ue.setSpriteFromData(this.nextBallPreview,ae.GetDataForIndex(this.nextBall))}getBallPosXFromMousePos(M,b){const W=this.scene.cameras.main.getWorldPoint(M,b),Z=ae.GetDataForIndex(this.nextBall),p=0+Z.radius,S=this.gameplayAreaWidth-Z.radius;return Math.min(S,Math.max(p,W.x))}fitCamera(){const M=Math.min(this.scene.scale.width,this.worldViewWidth)/this.worldViewWidth,b=Math.min(this.scene.scale.height,this.worldViewHeight)/this.worldViewHeight,W=Math.min(M,b);this.eugine.mainCamera.setTargetZoom(W,!0),this.scene.cameras.main.centerOnX(this.GetCenterX()),this.scene.cameras.main.centerOnY(this.GetCenterY()),this.gradientBackGround.setOrigin(.5,.5),this.gradientBackGround.x=this.GetCenterX(),this.gradientBackGround.y=this.GetCenterY(),this.gradientBackGround.scaleX=this.scene.scale.width/W/this.gradientBackGround.width,this.gradientBackGround.scaleY=this.scene.scale.height/W/this.gradientBackGround.height,this.scrollingBackGround.setOrigin(.5,.5),this.scrollingBackGround.x=this.GetCenterX(),this.scrollingBackGround.y=this.GetCenterY(),this.scrollingBackGround.width=this.scene.scale.width*2/this.scrollingBackGround.scaleX/W,this.scrollingBackGround.height=this.scene.scale.height*2/this.scrollingBackGround.scaleY/W,this.container.z=-this.scene.game.canvas.height/2/W}GetCenterX(){return(this.gameplayAreaWidth-this.gameplayMarginLeft+this.gameplayMarginRight)/2}GetCenterY(){return 0}update(M,b){var p;if(super.update(M,b),this.lost)return;this.nextBallGrabber.x=this.getBallPosXFromMousePos(this.scene.input.activePointer.x,this.scene.input.activePointer.y),this.nextBallGrabber.z=this.dropHeight,this.nextBallPreview.view.depth=100,this.scrollingBackGround.tilePositionY-=M*100,this.scoreText.setText("'"+this.score),this.bar.targetFill=this.score/this.maxScore,this.bar.fill==1&&!this.topOfBarFilled&&this.topBarHit(),this.scoreConfig.getScoreItems().forEach((S,t)=>{this.score>=S.score&&!this.chests[t].isOpen&&this.chests[t].open()});var W=this.eugine.debugParams.alwaysFailure;this.allBalls.forEach(S=>{S.gameView.view.y-S.radius<this.lineHeight&&(W=!0)});for(let S=this.allBalls.length-1;S>=0;S--)this.allBalls[S].isDestroyed&&this.allBalls.splice(S,1);const Z=Math.max(0,(this.badTime-this.leewayBadTime+1)/(this.maxBadTime-this.leewayBadTime+1));W?(this.badTime+=M,this.badTime>this.maxBadTime-this.leewayBadTime&&!this.countIn.isPlaying&&this.countIn.play(),this.badLineTween==null&&(this.badLineTween=this.scene.tweens.addCounter({from:0,to:1,duration:500,onUpdate:S=>{const t=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(16777215),Phaser.Display.Color.ValueToColor(16711680),1,S.getValue()),f=Phaser.Display.Color.ObjectToColor(t).color;this.badLine.tint=f},onComplete:S=>{this.badLine.tint=16777215,this.badLineTween=void 0},ease:Phaser.Math.Easing.Cubic.InOut,yoyo:!0}))):(this.badTime=0,(p=this.badLineTween)==null||p.complete(),this.badLineTween=void 0,this.countIn.stop()),this.angryFill.setCrop(0,this.angryFill.height*(1-Z),this.angryFill.width,this.angryFill.height),this.badTime>this.maxBadTime&&this.endGameLose()}topBarHit(){}dropRandomBall(M){this.createBall(M,this.dropHeight,this.nextBall);const b=ae.GetDataForIndex(this.nextBall);this.AddScore(b.score),this.updateNextBall(),this.ballsDropped++;const W=this.nextBallPreview.view.scale;this.nextBallPreview.view.scale=0,this.canDrop=!1,this.scene.tweens.add({targets:this.nextBallPreview.view,scale:W,ease:"Back.easeOut",duration:this.timeBeforeNextDropMS,onComplete:Z=>{this.canDrop=!0}})}AddScore(M){this.score+=M,this.score>this.bestScoreCached&&(this.SetBestScore(this.score),Ct.instance.setLocalStorage(Zo,this.score))}createBall(M,b,W){const Z=this.eugine.addChildFromPool(Ue);return Z.build(W,M,b,this.tryCombineBalls),Z.gameView.view.setDepth(-100),Z.physicsEntity.setVelocityY(3),this.allBalls.push(Z),Z}tryCombineBalls(M,b){if(M.isDestroying||b.isDestroying||M.cantMergeYet||b.cantMergeYet)return;console.log("combining",M,b);const W=(M.physicsEntity.body.position.x+b.physicsEntity.body.position.x)/2,Z=(M.physicsEntity.body.position.y+b.physicsEntity.body.position.y)/2,p=M.sizeIndex+1;if(M.animateOut(W,Z),b.animateOut(W,Z),p<ae.Count){const S=ae.GetDataForIndex(p);this.AddScore(S.score),this.createBall(W,Z,p).animateIn()}else{const S=ae.GetDataForIndex(p-1);this.AddScore(S.score*2)}}endGameLose(){this.scene.input.removeAllListeners(),this.scene.matter.world.removeAllListeners(),this.popupManager.showPopUp(Ko,{score:this.score,winnings:50.5,isPerfect:this.score>=this.scoreConfig.getMaxScore()}),this.lost=!0}destroy(){this.allBalls.forEach(M=>M.destroy()),this.scene.input.removeAllListeners(),this.scene.matter.world.removeAllListeners(),super.destroy()}gameResize(M,b,W,Z,p){this.fitCamera()}setTokens(M){}}const mi=class{constructor(){}static get instance(){return mi._instance||(mi._instance=new mi),mi._instance}checkDefault(w,M){const b=this.loadData(w);let W=M;return W.applyDefaults(),b&&W.cloneData(b),W}saveData(w,M){try{const b=JSON.stringify(M.storageData);localStorage.setItem(w,b)}catch(b){console.error("Error saving data to local storage:",b)}}loadData(w){try{const M=localStorage.getItem(w);return M?JSON.parse(M):null}catch(M){return console.error("Error loading data from local storage:",M),null}}removeData(w){try{return localStorage.removeItem(w),!0}catch(M){return console.error("Error removeItem data from local storage:",M),!1}}removeAll(){try{return localStorage.clear(),!0}catch(w){return console.error("Error clear data from local storage:",w),!1}}};let ls=mi;j(ls,"_instance",null);const xi=class{constructor(){j(this,"settingsData",{});j(this,"created");j(this,"onSettingsUpdate",new Lt.exports.Signal);j(this,"betApi")}static get instance(){return xi._instance||(xi._instance=new xi),xi._instance}setApi(w){this.betApi=w,this.betApi.onStorageGet.add(M=>{this.settingsData[M.data.key]=M.data.value,this.onSettingsUpdate.dispatch()})}get usesLocalStorage(){return this.betApi?this.betApi.usesLocalStorage:!0}get storageData(){return this.settingsData}applyDefaults(){this.settingsData={},this.settingsData.music_muted=!1,this.settingsData.test=0}cloneData(w){for(const M in w)Object.prototype.hasOwnProperty.call(w,M)&&(this.settingsData[M]=w[M]);return this.settingsData}setCreated(w){this.settingsData={...this.settingsData},this.settingsData.createdAt=w,this.dataUpdated()}toggleMute(){this.setMute(!this.settingsData.music_muted)}setMute(w){var M;this.settingsData={...this.settingsData},this.settingsData.music_muted=w,this.usesLocalStorage||(M=this.betApi)==null||M.setLocalStorage("music_muted",w),this.dataUpdated()}toggleSfxMute(){this.setSfxMute(!this.settingsData.sound_muted)}setSfxMute(w){var M;this.settingsData={...this.settingsData},this.settingsData.sound_muted=w,this.usesLocalStorage||(M=this.betApi)==null||M.setLocalStorage("sound_muted",w),this.dataUpdated()}dataUpdated(){!this.usesLocalStorage||(ls.instance.saveData("config",this),this.onSettingsUpdate.dispatch())}};let me=xi;j(me,"_instance",null);class he extends It{constructor(){super(...arguments);j(this,"_textField",Object())}get textField(){return this._textField}build(M,b={x:0,y:0}){super.build(),this._textField=new Phaser.GameObjects.Text(this.scene,0,0,"--------",M||{}),this._textField.setOrigin(b.x,b.y),this.view.add(this._textField)}}class la extends It{constructor(M,b){super(M,b);j(this,"currencyView");j(this,"currencyName")}build(...M){super.build(M),this.currencyView=this.addFromNew(re),this.currencyView.build("currency-rubysweeps-points","template"),this.currencyView.view.setOrigin(0,.5),this.addChild(this.currencyView),this.currencyView.view.setScale(oe.elementScaler(this.currencyView.view,120,120)),this.currencyName=this.addFromNew(he),this.currencyName.build(xt.clone(yt.CurrencyFont),{x:0,y:.5}),this.currencyName.textField.setText("Gold Coins"),this.addChild(this.currencyName),this.currencyName.x=this.currencyView.view.displayWidth+20}hideCurrencyName(){this.currencyName.textField.setVisible(!1)}replaceCurrency(M){this.currencyView.view.setFrame(M.image),this.currencyView.view.setOrigin(0,.5),this.currencyName.textField.setText(M.name),this.currencyName.x=this.currencyView.view.displayWidth+20,this.currencyName.textField.setTint(M.tint[0],M.tint[1],M.tint[2],M.tint[3])}}class KM extends fs{constructor(M,b){super(M,b);j(this,"confirmButton",Object());j(this,"cancelButton",Object());j(this,"currencyView",Object());j(this,"currentPlayingLabel",Object());j(this,"switchCurrencies",Object());j(this,"warningLabel",Object());j(this,"warningContainer",Object());j(this,"titleContainer",Object());j(this,"defaultConfig",Object());this.transition=new ds}build(M,b,W,Z,p="Title"){super.build(M,b),this.defaultConfig=xt.clone(b),this.view.add(this.popupShape),this.popupShape.setInteractive(),Ct.instance.onChangeCurrency.add((f,c)=>{this.currencyView.replaceCurrency(f.currencyViewData),c.id==Gt.EMERALD?(this.confirmButton.updateMainTexture(yt.EmeraldViewAssets.buttonTexture),this.confirmButton.updateHoverTexture(yt.EmeraldViewAssets.overTexture)):(this.confirmButton.updateMainTexture(yt.GoldViewAssets.buttonTexture),this.confirmButton.updateHoverTexture(yt.GoldViewAssets.overTexture)),this.confirmButton.setText(Rt.instance.getLabel("RUBY_BTN_SWITCH_TO")+" "+c.currencyViewData.name),this.refreshPositions()});const S=xt.clone(yt.PrimaryFont);S.align="center",this.titleContainer=this.addFromNew(It),this.currentPlayingLabel=this.titleContainer.addFromNew(he),this.currentPlayingLabel.build(S,{x:0,y:.5}),this.currentPlayingLabel.textField.setText(Rt.instance.getLabel("RUBY_CURRENT_PLAYING_CURRENCY")),this.currencyView=this.titleContainer.addFromNew(la),this.currencyView.build(),this.currencyView.x=this.currentPlayingLabel.x+this.currentPlayingLabel.textField.displayWidth+5,this.currencyView.z=this.currentPlayingLabel.y,this.switchCurrencies=this.addFromNew(he),this.switchCurrencies.build(S,{x:.5,y:0}),this.switchCurrencies.textField.setText(Rt.instance.getLabel("RUBY_CHANGE_CURRENCY")),this.warningContainer=this.addFromNew(It),this.warningLabel=this.warningContainer.addFromNew(he),this.warningLabel.build(xt.clone(yt.PlainFont,{fontSize:28}),{x:0,y:.5}),this.warningLabel.textField.setText(Rt.instance.getLabel("RUBY_CURRENCY_WARNING")),this.warningLabel.x=50;const t=this.warningContainer.addFromNew(re);t.build("config/info","template"),t.view.setScale(oe.elementScaler(t.view,80,80)),this.warningContainer.addChild(t),this.confirmButton=this.addFromNew(Qt),this.confirmButton.build(xt.clone(W,{width:800,clickCallback:()=>{Ct.instance.toggleCurrency(),Mt.instance.play("template/Pitched-Tapping-Glass",{soundConfig:{volume:.15}})}})),this.cancelButton=this.addFromNew(Qt),this.cancelButton.build(xt.clone(Z,{width:100,height:100,clickCallback:()=>{this.hide()}})),this.cancelButton.setText("X")}afterBuild(){super.afterBuild(),this.refreshPositions(),this.gameResize(),this.refreshPositions()}refreshPositions(){const M=oe.getContainerBounds(this.titleContainer.view),b=oe.elementScalerBySize(M.displayWidth/this.titleContainer.view.scaleX,M.displayHeight/this.titleContainer.view.scaleX,this.popupConfig.width-150,this.popupConfig.width-150);this.titleContainer.view.setScale(Math.min(b,this.titleContainer.view.scaleX)),this.titleContainer.x=-M.displayWidth/2,this.titleContainer.z=-this.popupConfig.height/2+100,this.switchCurrencies.z=this.titleContainer.z+150;const W=oe.getContainerBounds(this.warningContainer.view),Z=oe.elementScalerBySize(W.displayWidth/this.warningContainer.view.scaleX,W.displayHeight/this.warningContainer.view.scaleX,this.popupConfig.width-100,this.popupConfig.width-100);this.warningContainer.view.setScale(Math.min(Z,this.warningContainer.view.scaleX)),this.warningContainer.x=-W.displayWidth/2,this.warningContainer.z=this.switchCurrencies.z+150,this.confirmButton.x=0,this.confirmButton.z=this.warningContainer.z+150,this.cancelButton.x=this.popupConfig.width/2-15,this.cancelButton.z=-this.popupConfig.height/2+15}show(M){super.show(M)}update(M,b){super.update(M,b),this.currencyView.x=this.currentPlayingLabel.x+this.currentPlayingLabel.textField.displayWidth+10,this.currencyView.z=this.currentPlayingLabel.z}gameResize(M,b,W,Z,p){this.cancelButton.x=this.popupConfig.width/2-15}}class ZM extends fs{constructor(M,b){super(M,b);j(this,"confirmButton",Object());j(this,"cancelButton",Object());j(this,"currencyView",Object());j(this,"currentPlayingLabel",Object());j(this,"titleContainer",Object());j(this,"defaultConfig",Object());this.transition=new ds}build(M,b,W,Z,p="Title"){super.build(M,b),this.defaultConfig=xt.clone(b),this.view.add(this.popupShape),this.popupShape.setInteractive();const S=xt.clone(yt.PrimaryFont);S.align="center",S.wordWrap={width:500},this.titleContainer=this.addFromNew(It),this.currentPlayingLabel=this.titleContainer.addFromNew(he),this.currentPlayingLabel.build(S,{x:.5,y:.5}),this.currentPlayingLabel.textField.setText(Rt.instance.getLabel("RUBY_EXIT_GAME")),this.currentPlayingLabel.z=-80,this.confirmButton=this.addFromNew(Qt),this.confirmButton.build(xt.clone(W,{width:300,clickCallback:()=>{this.scene.restartGameWithFade()}})),this.confirmButton.setText(Rt.instance.getLabel("RUBY_BTN_EXIT_CONFIRM")),this.cancelButton=this.addFromNew(Qt),this.cancelButton.build(xt.clone(Z,{width:300,clickCallback:()=>{this.hide()}})),this.cancelButton.setText(Rt.instance.getLabel("RUBY_BTN_CANCEL")),this.confirmButton.x=-180,this.cancelButton.x=180,this.confirmButton.z=100,this.cancelButton.z=100}afterBuild(){super.afterBuild(),this.refreshPositions(),this.gameResize()}refreshPositions(){}show(M){super.show(M)}update(M,b){super.update(M,b),this.currencyView.x=this.currentPlayingLabel.x+this.currentPlayingLabel.textField.displayWidth+10,this.currencyView.z=this.currentPlayingLabel.z}gameResize(M,b,W,Z,p){this.resizeShape()}}class Jl extends It{constructor(M,b){super(M,b);j(this,"backContainerShape",Object());j(this,"moreButton",Object());j(this,"lessButton",Object());j(this,"currentBetText",Object())}build(M=850,b=200){super.build(),Ct.instance.onUpdateBet.add(this.updateBetAmount.bind(this)),Ct.instance.onUpdateBalance.add(this.updateBalanceAmount.bind(this));const W=xt.clone(yt.ChangeBetButton);this.moreButton=this.addFromNew(Qt),this.moreButton.build(xt.clone(W,{width:b,height:b,texture:"buttonsBevel/square_button_0002",textureOver:"buttons/square_button_0002",clickCallback:()=>{Ct.instance.increaseBet(),Mt.instance.play("template/Bubbles",{soundConfig:{volume:.5,rate:1.2}})}})),this.moreButton.setText("+"),this.lessButton=this.addFromNew(Qt),this.lessButton.build(xt.clone(W,{width:b,height:b,texture:"buttonsBevel/square_button_0011",textureOver:"buttons/square_button_0011",clickCallback:()=>{Ct.instance.decreaseBet(),Mt.instance.play("template/Bubbles",{soundConfig:{volume:.5,rate:.8}})}})),this.lessButton.setText("-"),this.currentBetText=this.addFromNew(he),this.currentBetText.build(xt.clone(yt.PlainFont,{fontSize:64}),{x:.5,y:.5}),this.currentBetText.textField.setText(Ct.instance.currentBetDisplayValue),this.lessButton.x=-M/2+b/2,this.moreButton.x=M/2-b/2,this.lessButton.z=-30,this.moreButton.z=this.lessButton.z,this.backContainerShape=new Phaser.GameObjects.NineSlice(this.scene,0,0,"template","config/betting-background",50,50,30,30,30,30),this.view.addAt(this.backContainerShape,0),this.backContainerShape.tint=14540253,this.backContainerShape.width=M+60,this.backContainerShape.height=b}updateBetAmount(M,b,W){var Z;this.currentBetText.textField.setText(W),this.currentBetText.textField.setText((Z=Ct.instance.currentBetDisplayValue)==null?void 0:Z.toString())}updateBalanceAmount(M,b,W){var Z;console.log(Ct.instance.currentBetDisplayValue),this.currentBetText.textField.setText((Z=Ct.instance.currentBetDisplayValue)==null?void 0:Z.toString())}}class Js extends Qt{constructor(){super(...arguments);j(this,"buttonShape",Object());j(this,"textField");j(this,"isPointerDown",!1);j(this,"buttonConfig");j(this,"latestWidth",0);j(this,"latestHeight",0)}build(M){this.buttonConfig=M,this.buttonConfig.atlas?(this.buttonShape=new Phaser.GameObjects.Sprite(this.scene,0,0,this.buttonConfig.atlas,this.buttonConfig.texture),this.buttonShape.setFrame(this.buttonConfig.texture)):this.buttonShape=new Phaser.GameObjects.Sprite(this.scene,0,0,this.buttonConfig.texture,void 0),this.buttonConfig.width<=0&&(this.buttonConfig.width=this.buttonShape.width),this.buttonConfig.height<=0&&(this.buttonConfig.height=this.buttonShape.height),this.view.add(this.buttonShape),this.buttonConfig.textStyle&&(this.textField=this.scene.add.text(0,0,this.buttonConfig.text,this.buttonConfig.textStyle),this.buttonConfig.textOrigin?this.textField.setOrigin(this.buttonConfig.textOrigin.x,this.buttonConfig.textOrigin.y):this.textField.setOrigin(.5,.5),this.view.add(this.textField)),this.view.setSize(this.buttonConfig.width||this.buttonShape.width,this.buttonConfig.height||this.buttonShape.height),this.buttonShape.setInteractive({useHandCursor:!0}),this.buttonShape.setDisplaySize(this.buttonConfig.width||this.buttonShape.width,this.buttonConfig.height||this.buttonShape.height),this.buttonConfig.buttonOrigin?this.buttonShape.setOrigin(this.buttonConfig.buttonOrigin.x,this.buttonConfig.buttonOrigin.y):this.buttonShape.setOrigin(.5,.5),this.addEvents()}}class JM extends It{constructor(M,b){super(M,b);j(this,"container",Object());j(this,"currencyView",Object());j(this,"currentBalanceText",Object());j(this,"swapCurrenciesButton",Object());j(this,"currentWidth",0)}build(...M){super.build(M),Ct.instance.onChangeCurrency.add((W,Z)=>{this.currencyView.replaceCurrency(W.currencyViewData),Z.id==Gt.EMERALD?this.swapCurrenciesButton.updateMainTexture(yt.EmeraldViewAssets.roundTexture):this.swapCurrenciesButton.updateMainTexture(yt.GoldViewAssets.roundTexture),this.currentBalanceText.textField.setText(Ct.instance.currentDisplayBalanceAmount),this.refreshPositions()}),this.container=this.addFromNew(It),this.currencyView=this.container.addFromNew(la),this.currencyView.build(),this.currentBalanceText=this.container.addFromNew(he),this.currentBalanceText.build(xt.clone(yt.PrimaryFont,{fontSize:52,backgroundColor:"#000000",padding:{left:15,right:15,top:5,bottom:5}}),{x:.5,y:.5});const b={atlas:"template",hoverSound:"template/Bubbles",clickSound:"template/Tap"};this.swapCurrenciesButton=this.container.addFromNew(Js),this.swapCurrenciesButton.build(xt.clone(b,{width:100,height:100,texture:"roundButtons/golden",clickCallback:()=>{Ct.instance.toggleCurrency()}})),this.swapCurrenciesButton.setIcon("template","config/swap-sm"),this.swapCurrenciesButton.mainIcon.setScale(oe.elementScaler(this.swapCurrenciesButton.view,90,90)),this.refreshPositions()}afterBuild(){super.afterBuild(),this.refreshPositions(),this.currencyView.hideCurrencyName()}update(M,b){super.update(M,b)}refreshPositions(){this.currencyView.x=0,this.currentBalanceText.x=230,this.swapCurrenciesButton.x=400}}class QM extends fs{constructor(M,b){super(M,b);j(this,"playbutton",Object());j(this,"insuficientFunds",Object());j(this,"quickCurrencySwitch",Object());j(this,"currencyBalanceView",Object());j(this,"betAskLabel",Object());j(this,"insuficientFundsLabel",Object());j(this,"defaultConfig",Object());j(this,"betContainer",Object());this.enableCloseBlocker=!1,this.transition=new ds}build(M,b,W,Z,p="Title"){super.build(M,b),this.defaultConfig=xt.clone(b),this.view.add(this.popupShape),this.popupShape.setInteractive(),Ct.instance.onChangeCurrency.add((t,f)=>{this.refreshPositions(),this.checkBetView()});const S=xt.clone(yt.PrimaryFontBold);this.currencyBalanceView=this.addFromNew(JM),this.currencyBalanceView.build(),this.currencyBalanceView.view.setScale(1),this.playbutton=this.addFromNew(Qt),this.playbutton.build(xt.clone(Z,{width:600,clickCallback:()=>{Ct.instance.betAndPlay()}})),this.playbutton.setText(Rt.instance.getLabel("RUBY_PLAY_GAME")),this.insuficientFunds=this.addFromNew(Qt),this.insuficientFunds.build(xt.clone(Z,{texture:"buttonsBevel/square_button_0011",textureOver:"buttons/square_button_0011",width:600,clickCallback:()=>{alert("should redirect to top up")}})),this.insuficientFunds.setText(Rt.instance.getLabel("RUBY_INSUFICIENT_FUNDS")),this.betAskLabel=this.addFromNew(he),this.betAskLabel.build(xt.clone(S,{fontSize:64,wordWrap:{width:750},align:"center"}),{x:.5,y:.5}),this.betAskLabel.textField.setText(Rt.instance.getLabel("RUBY_ASK_BET")),this.insuficientFundsLabel=this.addFromNew(he),this.insuficientFundsLabel.build(xt.clone(S,{fontSize:24,wordWrap:{width:750},align:"center"}),{x:.5,y:.5}),this.insuficientFundsLabel.textField.setText(Rt.instance.getLabel("RUBY_EXPLAIN_NO_FUNDS")),this.betContainer=this.addFromNew(Jl),this.betContainer.build(550,150)}afterBuild(){super.afterBuild(),this.gameResize(),this.refreshPositions(),this.checkBetView()}checkBetView(){Ct.instance.hasFunds?(this.playbutton.view.setVisible(!0),this.insuficientFunds.view.setVisible(!1)):(this.playbutton.view.setVisible(!1),this.insuficientFunds.view.setVisible(!0)),this.insuficientFundsLabel.textField.setVisible(this.insuficientFunds.view.visible)}refreshPositions(){this.betAskLabel.z=-this.popupConfig.height/2+180,this.betContainer.z=this.betAskLabel.z+230,this.currencyBalanceView.x=-230,this.currencyBalanceView.z=this.betContainer.z+180,this.playbutton.x=0,this.playbutton.z=this.currencyBalanceView.z+180,this.insuficientFunds.x=this.playbutton.x,this.insuficientFunds.z=this.playbutton.z,this.insuficientFundsLabel.z=this.insuficientFunds.z+120}show(M){super.show(M)}update(M,b){super.update(M,b)}gameResize(M,b,W,Z,p){this.refreshPositions()}}class jM extends It{constructor(M,b){super(M,b);j(this,"infinityLoader",Object());j(this,"warningLabel",Object());j(this,"screenBlocker",Object())}build(M,b){super.build(M,b),this.screenBlocker=this.addFromPool(Qs),this.screenBlocker.build(0,.5),this.addChild(this.screenBlocker),this.infinityLoader=this.addFromPool(re),this.infinityLoader.build("config/loader","template"),this.addChild(this.infinityLoader)}afterBuild(){super.afterBuild(),this.refreshPositions()}refreshPositions(){}show(){this.infinityLoader.view.setAlpha(0),this.scene.add.tween({targets:this.infinityLoader.view,alpha:1,duration:150}),this.infinityLoader.view.setVisible(!0),this.screenBlocker.showBlocker()}hide(M=!1){M?this.infinityLoader.view.setVisible(!1):this.scene.add.tween({targets:this.infinityLoader.view,alpha:0,duration:500}),this.screenBlocker.hideBlocker(()=>{this.infinityLoader.view.setVisible(!1)})}update(M,b){super.update(M,b),this.infinityLoader.x=this.eugine.uiCanvas.halfWidth,this.infinityLoader.z=this.eugine.uiCanvas.halfHeight,this.infinityLoader.view.rotation+=M*10}}class kM extends It{constructor(M,b){super(M,b);j(this,"container",Object());j(this,"currencyView",Object());j(this,"swapCurrenciesButton",Object());j(this,"currentWidth",0)}build(...M){super.build(M),Ct.instance.onChangeCurrency.add((W,Z)=>{this.currencyView.replaceCurrency(W.currencyViewData),Z.id==Gt.EMERALD?this.swapCurrenciesButton.updateMainTexture(yt.EmeraldViewAssets.roundTexture):this.swapCurrenciesButton.updateMainTexture(yt.GoldViewAssets.roundTexture),this.refreshPositions()}),this.container=this.addFromNew(It),this.currencyView=this.container.addFromNew(la),this.currencyView.build();const b={atlas:"template",hoverSound:"template/Bubbles",clickSound:"template/Tap"};this.swapCurrenciesButton=this.container.addFromNew(Js),this.swapCurrenciesButton.build(xt.clone(b,{width:100,height:100,texture:"roundButtons/golden",clickCallback:()=>{Ct.instance.toggleCurrency()}})),this.swapCurrenciesButton.setIcon("template","config/swap-sm"),this.swapCurrenciesButton.mainIcon.setScale(oe.elementScaler(this.swapCurrenciesButton.view,90,90)),this.refreshPositions()}afterBuild(){super.afterBuild(),this.refreshPositions()}update(M,b){super.update(M,b)}refreshPositions(){this.currencyView.x=-90,this.currentWidth=400,this.container.x=-this.currentWidth,this.swapCurrenciesButton.x=this.currentWidth}}class qM extends fs{constructor(M,b){super(M,b);j(this,"mockButton1",Object());j(this,"mockButton2",Object());j(this,"gameInfoButton",Object());j(this,"payTableButton",Object());j(this,"soundButton",Object());j(this,"musicButton",Object());j(this,"cancelButton",Object());j(this,"currencyView",Object());j(this,"titleLabel",Object());j(this,"titleContainer",Object());j(this,"buttonsContainer",Object());j(this,"quickCurrencySwitch",Object());j(this,"defaultConfig",Object());this.transition=new ds,Mt.instance.onToggleMute.add(W=>{this.updateSoundButton(W)}),Mt.instance.onToggleMusicMute.add(W=>{this.updateMusicButton(W)})}updateSoundButton(M){M?this.soundButton.updateMainTexture("config/sound-off"):this.soundButton.updateMainTexture("config/sound-on")}updateMusicButton(M){M?this.musicButton.updateMainTexture("config/music-off"):this.musicButton.updateMainTexture("config/music-on")}build(M,b,W){super.build(M,b),this.defaultConfig=xt.clone(b),this.view.add(this.popupShape),this.popupShape.setInteractive();const Z=xt.clone(yt.PrimaryFont);Z.align="center",Z.wordWrap={width:500},this.titleContainer=this.addFromNew(It),this.buttonsContainer=this.addFromNew(It),this.buttonsContainer.build(),this.titleLabel=this.titleContainer.addFromNew(he),this.titleLabel.build(Z,{x:.5,y:.5}),this.titleLabel.textField.setText(Rt.instance.getLabel("RUBY_SETTINGS"));const p=[];this.quickCurrencySwitch=this.addFromNew(kM),this.quickCurrencySwitch.build();const S=xt.clone(W,{buttonOrigin:{x:.5,y:0}});this.gameInfoButton=this.addFromNew(Qt),this.gameInfoButton.build(xt.clone(S,{width:450,height:150,clickCallback:()=>{Ct.instance.requestInfoPage()}})),this.gameInfoButton.setText(Rt.instance.getLabel("RUBY_GAME_INFO")),p.push(this.gameInfoButton),this.buttonsContainer.addChild(this.gameInfoButton),this.payTableButton=this.addFromNew(Qt),this.payTableButton.build(xt.clone(S,{width:450,height:150,clickCallback:()=>{this.hide({})}})),this.payTableButton.setText(Rt.instance.getLabel("RUBY_PAY_TABLE")),p.push(this.payTableButton),this.buttonsContainer.addChild(this.payTableButton),this.mockButton1=this.addFromNew(Qt),this.mockButton1.build(xt.clone(S,{width:450,height:100,clickCallback:()=>{this.hide({})}})),this.mockButton1.setText("Mock Button 1"),p.push(this.mockButton1),this.buttonsContainer.addChild(this.mockButton1),this.mockButton2=this.addFromNew(Qt),this.mockButton2.build(xt.clone(S,{width:450,height:100,clickCallback:()=>{this.hide({})}})),this.mockButton2.setText("Mock Button 2"),p.push(this.mockButton2),this.buttonsContainer.addChild(this.mockButton2);const t={atlas:"template",hoverSound:"template/Hover",clickSound:"template/Tap",hoverVolume:.1,width:180,height:180};this.soundButton=this.addFromNew(Js),this.soundButton.build(xt.clone(t,{clickCallback:()=>{me.instance.toggleSfxMute()},texture:"config/sound-on"})),this.musicButton=this.addFromNew(Js),this.musicButton.build(xt.clone(t,{clickCallback:()=>{me.instance.toggleMute()},texture:"config/music-on"})),this.cancelButton=this.addFromNew(Qt),this.cancelButton.build(xt.clone(W,{width:100,height:100,clickCallback:()=>{this.hide({})}})),this.cancelButton.setText("X");for(let f=1;f<p.length;f++){const c=p[f-1],a=p[f];a.z=c.z+c.view.displayHeight+20}}afterBuild(){super.afterBuild(),this.refreshPositions()}refreshPositions(){}show(M){super.show(M)}update(M,b){super.update(M,b),this.currencyView.x=this.titleLabel.x+this.titleLabel.textField.displayWidth+10,this.currencyView.z=this.titleLabel.z,this.quickCurrencySwitch.x=220,this.quickCurrencySwitch.z=-this.popupConfig.height/2+230,this.titleLabel.z=-this.popupConfig.height/2+100,this.buttonsContainer.z=this.quickCurrencySwitch.z+100,this.cancelButton.x=this.popupConfig.width/2-15,this.cancelButton.z=-this.popupConfig.height/2+15,this.soundButton.x=-150,this.musicButton.x=150,this.soundButton.z=this.popupConfig.height/2-180,this.musicButton.z=this.popupConfig.height/2-180}}class _M extends It{constructor(M,b){super(M,b);j(this,"screenBlocker",Object())}build(M,b){super.build(M,b),this.screenBlocker=this.addFromPool(Qs),this.screenBlocker.build(0,.5),this.addChild(this.screenBlocker)}show(){this.screenBlocker.showBlocker()}hide(M=!1){this.screenBlocker.hideBlocker(()=>{})}}var Xs=(L=>(L[L.RubySettings=9e3]="RubySettings",L[L.RubyMainPopUp=1e4]="RubyMainPopUp",L[L.RubyInfinityLoader=11e3]="RubyInfinityLoader",L[L.RubyInfoBlocker=12e3]="RubyInfoBlocker",L))(Xs||{});class t5 extends jt{constructor(M,b){super(M,b);j(this,"popupManager",Object());j(this,"currencyPopup",Object());j(this,"makeBetPopup",Object());j(this,"exitPopUp",Object());j(this,"settingsPopup",Object());j(this,"infinityLoader",Object());j(this,"infoPageBlocker",Object())}build(...M){super.build(M),this.popupManager=this.addFromNew(th),this.popupManager.build(),this.popupManager.screenBlocker.setClickCallback(()=>{var Z;(Z=this.popupManager)!=null&&Z.activePopup.enableCloseBlocker&&this.popupManager.hideCurrentPopup()});const b=xt.clone(yt.SwitchCurrenciesButton),W=xt.clone(yt.SwitchCurrenciesButton,{texture:"buttonsBevel/square_button_0006",textureOver:"buttons/square_button_0006",textStyle:xt.clone(yt.SwitchCurrenciesFont)});this.currencyPopup=this.addFromNew(KM),this.currencyPopup.build("currencyPopup",xt.clone(yt.PrimaryPopup,{height:700}),xt.clone(b),xt.clone(W),"Popup 1"),this.exitPopUp=this.addFromNew(ZM),this.exitPopUp.build("exitPopup",xt.clone(yt.PrimaryPopup,{height:500}),xt.clone(b,{text:Rt.instance.getLabel("BTN_RESTART")}),xt.clone(W),"Popup 2"),this.makeBetPopup=this.addFromNew(QM),this.makeBetPopup.build("makeBetPopup",xt.clone(yt.PrimaryPopup,{height:1e3}),xt.clone(b),xt.clone(b),"Popup 2"),this.settingsPopup=this.addFromNew(qM),this.settingsPopup.build("settingsPopup",xt.clone(yt.PrimaryPopup,{height:1200}),xt.clone(W)),this.infinityLoader=this.addFromNew(jM),this.infinityLoader.build("infinityLoader",xt.clone(yt.PrimaryPopup)),this.infoPageBlocker=this.addFromNew(_M),this.infoPageBlocker.build("infoPageBlocker",xt.clone(yt.PrimaryPopup)),this.popupManager.registerPopUp(this.exitPopUp),this.popupManager.registerPopUp(this.currencyPopup),this.popupManager.registerPopUp(this.makeBetPopup),this.popupManager.registerPopUp(this.settingsPopup),this.popupManager.view.setDepth(Xs.RubyMainPopUp),this.infinityLoader.view.setDepth(Xs.RubyInfinityLoader),this.infoPageBlocker.view.setDepth(Xs.RubyInfoBlocker),this.infinityLoader.hide(!0),Ct.instance.onApiWait.add(()=>{this.showBlocker()}),Ct.instance.onApiWaitEnd.add(()=>{this.hideBlocker()}),Ct.instance.onShowInfoPage.add(()=>{this.infoPageBlocker.show()}),Ct.instance.onHideInfoPage.add(()=>{this.infoPageBlocker.hide()})}hideAll(){this.popupManager.hideCurrentPopup()}hideBlocker(){this.infinityLoader.hide()}showBlocker(){this.infinityLoader.show()}showSettings(){this.popupManager.showPopUp("settingsPopup",{})}showExitPopup(){this.popupManager.showPopUp("exitPopup",{})}showCurrencyPopup(M){this.popupManager.showPopUp("currencyPopup",M)}showMakeBetPopup(M){this.popupManager.showPopUp("makeBetPopup",M)}update(M,b){super.update(M,b)}}class e5 extends It{constructor(M,b){super(M,b);j(this,"container",Object());j(this,"screenBlocker",Object());j(this,"betSelector",Object());j(this,"confirmButton",Object());j(this,"hidePosition",-1400);j(this,"containerPositionSpring",new ih);j(this,"containerRotationSpring",new eh(500,8,1))}build(...M){super.build(M),this.screenBlocker=this.addFromNew(Qs),this.screenBlocker.build(0,.5),this.container=this.addFromNew(It),this.betSelector=this.container.addFromNew(Jl),this.betSelector.build();const b=xt.clone(yt.SwitchCurrenciesButton);this.confirmButton=this.addFromNew(Qt),this.confirmButton.build(xt.clone(b,{fitText:.9,width:420,clickCallback:this.hideBets.bind(this),text:Rt.instance.getLabel("RUBY_BTN_CONFIRM")})),this.confirmButton.z=200,this.containerPositionSpring.setPosition(0,this.hidePosition),this.containerPositionSpring.setTarget(0,this.hidePosition),this.containerRotationSpring.setPosition(.2),this.containerRotationSpring.setTarget(.2)}removeBlocker(){this.screenBlocker.disableBlocker()}forceShow(){this.view.setVisible(!0),this.containerPositionSpring.setTarget(0,0),this.containerRotationSpring.setTarget(0)}afterBuild(){super.afterBuild(),this.hardHide()}showBets(){this.view.setVisible(!0),yt.PrimaryPopup.showSound&&Mt.instance.play(yt.PrimaryPopup.showSound,{soundConfig:{volume:.2}}),this.screenBlocker.showBlocker(),this.containerPositionSpring.setTarget(0,0),this.containerRotationSpring.setTarget(0)}hideBets(){yt.PrimaryPopup.hideSound&&Mt.instance.play(yt.PrimaryPopup.hideSound,{soundConfig:{volume:.2}}),this.screenBlocker.hideBlocker(()=>{this.hardHide()}),this.containerPositionSpring.setTarget(0,this.hidePosition),this.containerRotationSpring.setTarget(-.2+Math.random()*.4)}hardHide(){this.view.setVisible(!1)}updateBetValue(M){}update(M,b){super.update(M,b),this.containerPositionSpring.update(M),this.containerRotationSpring.update(M),this.x=this.eugine.uiCanvas.halfWidth+this.containerPositionSpring.getPosition().x,this.z=this.eugine.uiCanvas.halfHeight+this.containerPositionSpring.getPosition().y,this.container.view.setRotation(this.containerRotationSpring.getPosition())}}class i5 extends It{constructor(){super(...arguments);j(this,"elementList",new Map);j(this,"customWidth",0);j(this,"customHeight",0);j(this,"latestUpdated",0);j(this,"layoutConfig",Object());j(this,"latestWidth",0);j(this,"latestHeight",0)}build(M){if(super.build(),this.latestUpdated=-1,M)this.layoutConfig=M;else{const b={width:0,height:0,spacing:0};this.layoutConfig=b}}setWidth(M){this.latestWidth!=M&&(this.layoutConfig.width=M,this.latestUpdated==0?this.updateHorizontalList():this.latestUpdated==1&&this.updateVerticalList(),this.latestWidth=M)}setHeight(M){this.latestHeight!=M&&(this.layoutConfig.height=M,this.latestUpdated==0?this.updateHorizontalList():this.latestUpdated==1&&this.updateVerticalList(),this.latestHeight=M)}get layoutWidth(){return this.layoutConfig.width||0}get layoutHeight(){return this.layoutConfig.height||0}addElement(M,b=void 0){if(this.elementList.has(M))return;this.addChild(M),this.view.add(M.view);const W={};b?this.elementList.set(M,b):this.elementList.set(M,W)}resetLayout(){this.layoutConfig.height=0,this.layoutConfig.width=0}updateHorizontalList(){var u,i;this.latestUpdated=0;let M=[],b=0,W=0,Z=0,p=0,S=new Phaser.Math.Vector2,t=[];for(let o of this.elementList.entries()){const h=o[0],l=o[1];t.push([h,l]),l.relativeArea?(M.push(l.relativeArea),b+=l.relativeArea,W++):M.push(0);let d=h.view;Z+=d.displayWidth,p<d.displayHeight&&(p=d.displayHeight)}this.layoutConfig.height||(this.layoutConfig.height=p),this.layoutConfig.width||(this.layoutConfig.width=Z);let f=((u=this.layoutConfig)==null?void 0:u.width)||Z,c=((i=this.layoutConfig)==null?void 0:i.height)||p,r=(1-b)/(this.elementList.size-W),n=0;for(var e=0;e<this.elementList.size;e++)M[e]==0&&(M[e]=r);let s=[];f+=this.layoutConfig.spacing||0;for(var e=0;e<M.length;e++){let h=0;n=f*M[e]-(this.layoutConfig.spacing||0),e==0?h=0:h=s[e-1]+f*M[e-1];let l=t[e][0],d=l.view,v=!1;const m=t[e][1];s.push(h),m!=null&&m.noScale||(m!=null&&m.fitHeight?m.callResize?(m.aspectRatio?l.resize(n*m.fitHeight*m.aspectRatio,n*m.fitHeight):l.resize(n,d.displayHeight*m.fitHeight),d.displayHeight=d.displayHeight*m.fitHeight,v=!0):l.view.setScale(c/d.displayHeight*m.fitHeight):m!=null&&m.fitWidth?m.callResize?(m.aspectRatio?(l.resize(n*m.fitWidth,n*m.fitWidth*m.aspectRatio),d.displayHeight=n*m.fitWidth*m.aspectRatio):(l.resize(n*m.fitWidth,d.displayHeight),d.displayHeight=n*m.fitWidth),v=!0):l.view.setScale(n/d.displayWidth*m.fitWidth):(m!=null&&m.scaleContent||(m==null?void 0:m.scaleContentToFit)&&d.displayWidth>n)&&l.view.setScale(n/d.displayWidth));let x=.5;(m==null?void 0:m.align)!=null&&(x=m==null?void 0:m.align),(m==null?void 0:m.callResize)&&!v&&l.resize(n,c),e==0&&(S.x=d.displayWidth*l.view.originX,S.y=d.displayHeight*l.view.originY),l.x=h+n*x-d.displayWidth*x+S.x;let g=.5;(m==null?void 0:m.verticalAlign)!=null&&(g=m==null?void 0:m.verticalAlign),l.z=d.displayHeight*l.view.originY-d.displayHeight*g+S.y,m!=null&&m.noScale&&console.log(l.z,d.displayHeight)}}updateVerticalList(){var u,i;this.latestUpdated=1;let M=[],b=0,W=0,Z=[],p=0,S=0,t=new Phaser.Math.Vector2;for(let o of this.elementList.entries()){const h=o[0],l=o[1];Z.push([h,l]),l.relativeArea?(M.push(l.relativeArea),b+=l.relativeArea,W++):M.push(0);let d=h.view;S+=d.displayHeight,p<d.displayWidth&&(p=d.displayWidth)}this.layoutConfig.width||(this.layoutConfig.width=p),this.layoutConfig.height||(this.layoutConfig.height=S);let f=((u=this.layoutConfig)==null?void 0:u.width)||p,c=((i=this.layoutConfig)==null?void 0:i.height)||S,r=(1-b)/(this.elementList.size-W),n=0;for(var e=0;e<this.elementList.size;e++)M[e]==0&&(M[e]=r);let s=[];c+=this.layoutConfig.spacing||0;for(var e=0;e<M.length;e++){let h=0;n=c*M[e]-(this.layoutConfig.spacing||0),e==0?h=0:h=s[e-1]+c*M[e-1];let l=!1,d=Z[e][0],v=d.view;const m=Z[e][1];s.push(h),m!=null&&m.noScale||(m!=null&&m.fitHeight?m.callResize?(m.aspectRatio?(d.resize(n*m.fitHeight*m.aspectRatio,n*m.fitHeight),v.displayWidth=n*m.fitHeight*m.aspectRatio):(d.resize(n*m.fitHeight,v.displayWidth),v.displayWidth=n*m.fitHeight),l=!0):d.view.setScale(n/v.displayHeight*m.fitHeight):m!=null&&m.fitWidth?m.callResize?(m.aspectRatio?(d.resize(f*m.fitWidth,f*m.fitWidth*m.aspectRatio),v.displayWidth=f*m.fitWidth*m.aspectRatio):(d.resize(f*m.fitWidth,v.displayHeight),v.displayWidth=f*m.fitWidth),l=!0):d.view.setScale(f/v.displayWidth*m.fitWidth):(m!=null&&m.scaleContent||(m==null?void 0:m.scaleContentToFit)&&v.displayWidth>n)&&d.view.setScale(n/v.displayWidth));let x=.5;(m==null?void 0:m.align)!=null&&(x=m==null?void 0:m.align);let g=.5;(m==null?void 0:m.verticalAlign)!=null&&(g=m==null?void 0:m.verticalAlign),(m==null?void 0:m.callResize)&&!l&&d.resize(f,n),e==0&&(t.x=v.displayWidth*d.view.originX,t.y=v.displayHeight*d.view.originY),d.z=h+n*g-v.displayHeight*g+t.y,d.x=v.displayWidth*d.view.originX-v.displayWidth*x+t.x}}resize(M,b){this.setWidth(M),this.setHeight(b)}}var se=(L=>(L[L.SwapCurrency=0]="SwapCurrency",L[L.MakeBet=1]="MakeBet",L[L.AutoPlay=2]="AutoPlay",L))(se||{});class s5 extends It{constructor(M,b){super(M,b);j(this,"currentBetText",Object())}build(M=850,b=200){super.build(),Ct.instance.onUpdateBalance.add(this.updateBalanceAmount.bind(this)),this.currentBetText=this.addFromNew(he),this.currentBetText.build(xt.clone(yt.BalanceFont),{x:0,y:.5}),this.currentBetText.textField.setText(Rt.instance.getLabel("RUBY_BALANCE")+" :"+Ct.instance.currentPotAmount)}updateBalanceAmount(M,b){this.currentBetText.textField.setText(Rt.instance.getLabel("RUBY_BALANCE")+" :"+b)}}class n5 extends It{constructor(M,b){super(M,b);j(this,"currentBetText",Object())}build(){super.build(),Ct.instance.onUpdatePot.add(this.updateWinAmount.bind(this)),this.currentBetText=this.addFromNew(he),this.currentBetText.build(xt.clone(yt.BalanceFont),{x:1,y:.5}),this.currentBetText.textField.setText(Rt.instance.getLabel("RUBY_WIN")+" :"+Ct.instance.currentPotAmount)}updateWinAmount(M){this.currentBetText.textField.setText(Rt.instance.getLabel("RUBY_WIN")+" :"+M)}}class r5 extends It{constructor(M,b){super(M,b);j(this,"currentBetText",Object())}build(){super.build(),Ct.instance.onUpdateBet.add(this.updateBetAmount.bind(this)),Ct.instance.onUpdateBalance.add(this.updateBetAmount.bind(this)),this.currentBetText=this.addFromNew(he),this.currentBetText.build(xt.clone(yt.BalanceFont),{x:.5,y:.5}),this.currentBetText.textField.setText(Rt.instance.getLabel("RUBY_BET")+" :"+Ct.instance.currentBetDisplayValue)}updateBetAmount(M){this.currentBetText.textField.setText(Rt.instance.getLabel("RUBY_BET")+" :"+Ct.instance.currentBetDisplayValue)}}class a5 extends It{constructor(M,b){super(M,b);j(this,"backContainerShape",Object());j(this,"currentBetText",Object());j(this,"balanceView",Object());j(this,"winView",Object());j(this,"currentBetView",Object())}build(){super.build(),this.backContainerShape=new Phaser.GameObjects.NineSlice(this.scene,0,0,"template","config/betting-background",50,50,30,30,30,30),this.backContainerShape.setOrigin(0,0),this.view.add(this.backContainerShape),this.balanceView=this.addFromNew(s5),this.winView=this.addFromNew(n5),this.currentBetView=this.addFromNew(r5),this.balanceView.build(),this.winView.build(),this.currentBetView.build()}update(M,b){super.update(M,b),this.backContainerShape.width=this.eugine.uiCanvas.right,this.backContainerShape.height=50,this.winView.x=this.eugine.uiCanvas.right-32,this.winView.z=32,this.currentBetView.x=this.eugine.uiCanvas.right/2,this.currentBetView.z=32,this.balanceView.x=32,this.balanceView.z=32,this.z=this.eugine.uiCanvas.down-54}}class o5 extends jt{constructor(M,b){super(M,b);j(this,"container",Object());j(this,"currencyButton",Object());j(this,"betButton",Object());j(this,"settingsButton",Object());j(this,"autoplayButton",Object());j(this,"betContainer",Object());j(this,"balanceView",Object());j(this,"winView",Object());j(this,"popupManager",Object());j(this,"isHorizontal",!1);j(this,"buttonsList",Object());j(this,"buttonMap",new Map);j(this,"showButtonList",[])}build(M,b){super.build(),this.showButtonList=b,this.isHorizontal=M,Ct.instance.onChangeCurrency.add((S,t)=>{this.refreshCurrency(S)}),this.container=this.addFromNew(It),this.popupManager=this.addFromNew(t5),this.popupManager.build(),this.buttonsList=this.container.addFromNew(i5),this.buttonsList.build({spacing:30}),this.balanceView=this.container.addFromNew(a5),this.balanceView.build();const W=xt.clone(yt.PrimaryButton);this.settingsButton=this.addFromPool(Qt),this.settingsButton.build(xt.clone(W,{width:120,height:120,textOffset:{x:0,y:-10},textOffsetOver:{x:0,y:5},clickCallback:()=>{this.popupManager.showSettings({})}})),this.currencyButton=ye.instance.getElement(Qt,this.scene,this.eugine),this.currencyButton.build(xt.clone(W,{width:120,height:120,textOffset:{x:0,y:-10},textOffsetOver:{x:0,y:5},clickCallback:()=>{this.popupManager.showCurrencyPopup({})}})),this.buttonMap.set(se.SwapCurrency,this.currencyButton),this.betButton=ye.instance.getElement(Qt,this.scene,this.eugine),this.betButton.build(xt.clone(W,{width:120,height:120,textOffset:{x:0,y:-5},textOffsetOver:{x:0,y:9},texture:"buttonsBevel/square_button_0002",textureOver:"buttons/square_button_0002",clickCallback:()=>{this.betContainer.showBets()}})),this.buttonMap.set(se.MakeBet,this.betButton),this.autoplayButton=ye.instance.getElement(Qt,this.scene,this.eugine),this.autoplayButton.build(xt.clone(W,{width:120,height:120,textOffset:{x:0,y:-5},textOffsetOver:{x:0,y:9},texture:"buttonsBevel/square_button_0002",textureOver:"buttons/square_button_0002",clickCallback:()=>{Ct.instance.toggleAutoplay(),this.refreshAutoplay()}})),this.buttonMap.set(se.AutoPlay,this.autoplayButton),this.betButton.setIcon("template","config/adjust-bet-sm");const Z=oe.elementScaler(this.betButton.mainIcon,70,70);this.betButton.mainIcon.setScale(Z),this.betButton.mainIcon.y=-10,this.autoplayButton.setIcon("template","config/autoplay-sm");const p=oe.elementScaler(this.autoplayButton.mainIcon,70,70);this.autoplayButton.mainIcon.setScale(p),this.betContainer=this.addFromNew(e5),this.betContainer.build(),this.isHorizontal?(this.buttonsList.setWidth(150),this.tryAddButton(se.SwapCurrency,{align:1}),this.tryAddButton(se.MakeBet,{align:1}),this.tryAddButton(se.AutoPlay,{align:1}),this.buttonsList.updateVerticalList()):(this.buttonsList.setHeight(180),this.tryAddButton(se.SwapCurrency,{verticalAlign:0,noScale:!0}),this.tryAddButton(se.MakeBet,{verticalAlign:0,noScale:!0}),this.tryAddButton(se.AutoPlay,{verticalAlign:0,noScale:!0}),this.buttonsList.updateHorizontalList()),Ct.instance.refreshCurrency()}afterBuild(){for(let[M,b]of this.buttonMap)this.showButtonList.indexOf(M)<0&&b.view.destroy()}tryAddButton(M,b){if(this.showButtonList.indexOf(M)>=0&&this.buttonMap.has(M)){const W=this.buttonMap.get(M);this.buttonsList.addElement(W,b)}}refreshAutoplay(){}showAskBet(){this.popupManager.showMakeBetPopup({})}hidePopups(){this.popupManager.hideAll()}openExitPopup(){this.popupManager.showExitPopup()}refreshCurrency(M){if(!this.showButtonList.includes(se.SwapCurrency))return;this.currencyButton.setIcon("template",M.currencyViewData.image);const b=oe.elementScaler(this.currencyButton.mainIcon,70,70);this.currencyButton.mainIcon.setScale(b),this.currencyButton.mainIcon.y=-10,M.id==Gt.EMERALD?(this.currencyButton.updateMainTexture(yt.EmeraldViewAssets.buttonTexture),this.currencyButton.updateHoverTexture(yt.EmeraldViewAssets.overTexture)):(this.currencyButton.updateMainTexture(yt.GoldViewAssets.buttonTexture),this.currencyButton.updateHoverTexture(yt.GoldViewAssets.overTexture))}update(M,b){super.update(M,b),this.settingsButton.x=this.eugine.uiCanvas.right-this.settingsButton.view.displayWidth/2-20,this.settingsButton.z=this.settingsButton.view.displayHeight/2+20,this.isHorizontal?(this.buttonsList.x=this.eugine.uiCanvas.right-this.buttonsList.layoutWidth/2-10,this.buttonsList.z=190):(this.buttonsList.x=this.eugine.uiCanvas.right-this.buttonsList.layoutWidth-180,this.buttonsList.z=-this.buttonsList.layoutHeight/2+60)}}class Ql extends jt{constructor(){super(...arguments);j(this,"rubyOverlay");j(this,"settingsView")}build(M,b){const W=ls.instance.checkDefault("config",me.instance);W.storageData.createdAt||W.setCreated(Date.now()),this.rubyOverlay=this.eugine.addChildFromNew(o5),this.rubyOverlay.build(M,b),me.instance.storageData.music_muted&&Mt.instance.musicMute(),me.instance.storageData.sound_muted&&Mt.instance.mute(),me.instance.onSettingsUpdate.add(()=>{me.instance.storageData.music_muted?Mt.instance.musicMute():Mt.instance.musicUnmute(),me.instance.storageData.sound_muted?Mt.instance.mute():Mt.instance.unmute()}),Ct.instance.onStartGameplay.add(()=>{this.rubyOverlay.hidePopups()}),Ct.instance.onAskForBet.add(()=>{this.rubyOverlay.showAskBet()})}}class h5 extends jt{constructor(M,b){super(M,b);j(this,"camera");j(this,"targetZoom",1);j(this,"globalResizeZoom",1);this.camera=this.scene.cameras.main,this.camera.setBackgroundColor("#270e39")}update(M,b){super.update(M,b),this.camera.setZoom(Phaser.Math.Linear(this.camera.zoom,this.targetZoom,.01))}setTargetZoom(M,b){this.targetZoom=M*this.globalResizeZoom,b&&this.camera.setZoom(this.targetZoom)}worldToScreen(M,b){return this.camera.getWorldPoint(M,b)}}class l5 extends jt{constructor(M,b){super(M,b);j(this,"lastButtonStates",[]);j(this,"thisButtonStates",[]);j(this,"showDebug",!1);j(this,"pointer");j(this,"buttonRects",[]);j(this,"disabled",!1);j(this,"lastClickTime",0);this.pointer=this.scene.input.activePointer;for(let W=0;W<3;++W)this.lastButtonStates.push(!1),this.thisButtonStates.push(!1)}update(M,b){super.update(M,b),this.pointer=this.scene.input.activePointer;for(let W=0;W<this.thisButtonStates.length;++W)this.lastButtonStates[W]=this.thisButtonStates[W];this.thisButtonStates[0]=this.pointer.leftButtonDown(),this.thisButtonStates[1]=this.pointer.rightButtonDown(),this.buttonClicked(0)==!1?this.lastClickTime+=M:this.lastClickTime=0}getLastClickTime(){return this.lastClickTime}buttonClicked(M){return this.disabled==!0?!1:this.thisButtonStates[M]==!0&&this.lastButtonStates[M]==!1}buttonReleased(M){return this.disabled==!0?!1:this.thisButtonStates[M]==!1&&this.lastButtonStates[M]==!0}buttonDown(M){return this.disabled?!1:this.thisButtonStates[M]}disableInput(){this.disabled=!0}}var Ti=(L=>(L[L.ForcePortrait=0]="ForcePortrait",L[L.ForceLandscape=1]="ForceLandscape",L[L.Both=2]="Both",L))(Ti||{});const fe=class extends ue.GameObjects.Container{constructor(M,b,W){super(M);j(this,"topLeft",new ue.Math.Vector2);j(this,"topRight",new ue.Math.Vector2);j(this,"bottomLeft",new ue.Math.Vector2);j(this,"bottomRight",new ue.Math.Vector2);j(this,"left",0);j(this,"right",0);j(this,"up",0);j(this,"down",0);j(this,"pointerOver",!1);j(this,"targetScale",1);j(this,"interactiveList",[]);j(this,"uiCamera",Object());j(this,"aspectRatio",1);j(this,"latestAspectRatio",-1);j(this,"eugine");j(this,"particleContaier");j(this,"forcedOrientation",Ti.Both);j(this,"onOrientationChange",new Lt.exports.Signal);this.setScrollFactor(0),this.setDepth(1e6),this.eugine=b,this.particleContaier=W,this.add(this.particleContaier),this.particleContaier.setDepth(99999999),this.scene.cameras.main.ignore(this),this.uiCamera=this.scene.cameras.add(0,0,800,600),this.scene.scale.on(ue.Scale.Events.ORIENTATION_CHANGE,this.orientationChange.bind(this))}get platformScale(){return this.isMobile?fe.DEFAULT_MOBILE_RESOLUTION.scale:fe.DEFAULT_RESOLUTION.scale}get minWidth(){return this.isMobile?this.isPortrait?fe.DEFAULT_MOBILE_RESOLUTION.width:fe.DEFAULT_MOBILE_RESOLUTION.height:this.isPortrait?fe.DEFAULT_RESOLUTION.width:fe.DEFAULT_RESOLUTION.height}get minHeight(){return this.isMobile?this.isPortrait?fe.DEFAULT_MOBILE_RESOLUTION.height:fe.DEFAULT_MOBILE_RESOLUTION.width:this.isPortrait?fe.DEFAULT_RESOLUTION.height:fe.DEFAULT_RESOLUTION.width}get isPortrait(){return this.forcedOrientation==Ti.ForcePortrait?!0:this.forcedOrientation==Ti.ForceLandscape?!1:this.scene.scale.scaleMode!=ue.Scale.RESIZE?this.scene.game.canvas.width<this.scene.game.canvas.height:window.innerWidth<window.innerHeight}get canvasWidth(){return this.scene.game.canvas.width}get canvasHeight(){return this.scene.game.canvas.height}get halfWidth(){return this.topRight.x/2}get halfHeight(){return this.bottomRight.y/2}get isMobile(){return this.scene.sys.game.device.os.android||this.scene.sys.game.device.os.iOS}setOrientation(M){this.forcedOrientation=M}update(...M){super.update(M),this.pointerOver=!1,this.interactiveList=this.findInteractiveElements(this),this.interactiveList.forEach(Z=>{if(!this.isContainerVisibleConsideringParents(Z))return;if(Z.getBounds().contains(this.scene.input.x,this.scene.input.y)){this.pointerOver=!0;return}}),this.handleScaling(),this.topLeft.x=0,this.topLeft.y=0;let b=window.innerWidth,W=window.innerHeight;this.scene.scale.scaleMode!=ue.Scale.RESIZE&&(b=this.scene.game.canvas.width,W=this.scene.game.canvas.height),this.bottomRight.x=b/this.targetScale,this.bottomRight.y=W/this.targetScale,this.bottomLeft.x=0,this.bottomLeft.y=W/this.targetScale,this.topRight.x=b/this.targetScale,this.topRight.y=0,this.right=b/this.targetScale,this.down=W/this.targetScale,this.setSize(this.canvasWidth,this.canvasHeight),this.setScale(this.targetScale,this.targetScale),this.particleContaier.x=this.left,this.particleContaier.y=this.up;for(let Z=this.uiCamera.renderList.length-1;Z>=0;Z--){const p=this.uiCamera.renderList[Z];p.parentContainer==this.particleContaier||p.isUi||(this.findTopLevelParent(p)!=this||p instanceof ue.GameObjects.Particles.ParticleEmitter)&&this.uiCamera.ignore(p)}this.uiCamera.width=this.right,this.uiCamera.height=this.down,this.aspectRatio=this.canvasWidth/this.canvasHeight,Math.floor(this.latestAspectRatio)!=Math.floor(this.aspectRatio)&&this.onOrientationChange.dispatch(Math.floor(this.aspectRatio)),this.latestAspectRatio=this.aspectRatio,this.sort("depth")}orientationChange(){this.latestAspectRatio=-1}findTopLevelParent(M){return M.parentContainer?this.findTopLevelParent(M.parentContainer):M}handleScaling(){if(this.canvasWidth<this.minWidth||this.canvasHeight<this.minHeight){const M=this.canvasWidth/this.minWidth,b=this.canvasHeight/this.minHeight,W=Math.min(M,b);this.targetScale=W*this.platformScale}else this.targetScale=1*this.platformScale}isContainerVisibleConsideringParents(M){return M.visible&&this.checkParentsVisibility(M)}checkParentsVisibility(M){return M.parentContainer?M.parentContainer.visible?this.checkParentsVisibility(M.parentContainer):!1:!0}findInteractiveElements(M){const b=[];return M.iterate(W=>{W instanceof ue.GameObjects.Container?b.push(...this.findInteractiveElements(W)):W.input&&W.input.enabled&&b.push(W)}),b}elementScaler(M,b,W,Z=0){let p=this.isPortrait;Z&&this.aspectRatio>Z&&(p=!1);let S=this.right/M.width*b;return p||(S=this.down/M.height*W),S}elementScalerBySize(M,b,W,Z,p=0){let S=this.isPortrait;p&&this.aspectRatio>p&&(S=!1);let t=this.right/M*W;return S||(t=this.down/b*Z),t}worldToUiPosition(M,b){return this.getLocalPoint(M,b)}};let ns=fe;j(ns,"DEFAULT_RESOLUTION",{width:1080,height:1920,scale:1}),j(ns,"DEFAULT_MOBILE_RESOLUTION",{width:1080,height:1920,scale:1});class u5 extends ue.GameObjects.Container{constructor(w){super(w)}}class f5 extends jt{constructor(M,b){super(M,b);j(this,"collisionList",[]);j(this,"nonStaticList",[]);j(this,"allEntities",[]);j(this,"entityAdded",new Lt.exports.Signal);j(this,"entityRemoved",new Lt.exports.Signal);this.nonStaticList=[],this.collisionList=[],this.allEntities=[]}added(){super.added(),this.eugine.onEntityAdded.add(this.addAgent.bind(this)),this.scene.matter.world.on("collisionactive ",M=>{M.pairs.forEach(b=>{var W=this.collisionList.findIndex(p=>p.physicsEntity.body.id===b.bodyA.id);if(W>=0&&this.collisionList[W].collisionStay){const p=this.allEntities.findIndex(S=>S.physicsEntity.body.id===b.bodyB.id);this.collisionList[W].collisionStay(this.allEntities[p])}var Z=this.collisionList.findIndex(p=>p.physicsEntity.body.id===b.bodyB.id);if(Z>=0&&this.collisionList[Z].collisionStay){const p=this.allEntities.findIndex(S=>S.physicsEntity.body.id===b.bodyA.id);this.collisionList[Z].collisionStay(this.allEntities[p])}})}),this.scene.matter.world.on("collisionend",M=>{M.pairs.forEach(b=>{var W=this.collisionList.findIndex(p=>p.physicsEntity.body.id===b.bodyA.id);if(W>=0&&this.collisionList[W].collisionEnd){const p=this.allEntities.findIndex(S=>S.physicsEntity.body.id===b.bodyB.id);this.collisionList[W].collisionEnd(this.allEntities[p])}var Z=this.collisionList.findIndex(p=>p.physicsEntity.body.id===b.bodyB.id);if(Z>=0&&this.collisionList[Z].collisionEnd){const p=this.allEntities.findIndex(S=>S.physicsEntity.body.id===b.bodyA.id);this.collisionList[Z].collisionEnd(this.allEntities[p])}})}),this.scene.matter.world.on("collisionstart",M=>{M.pairs.forEach(b=>{var W=this.collisionList.findIndex(p=>p.physicsEntity.body.id===b.bodyA.id);if(W>=0&&this.collisionList[W].collisionEnter){const p=this.allEntities.findIndex(S=>S.physicsEntity.body.id===b.bodyB.id);this.collisionList[W].collisionEnter(this.allEntities[p])}var Z=this.collisionList.findIndex(p=>p.physicsEntity.body.id===b.bodyB.id);if(Z>=0&&this.collisionList[Z].collisionEnter){const p=this.allEntities.findIndex(S=>S.physicsEntity.body.id===b.bodyA.id);this.collisionList[Z].collisionEnter(this.allEntities[p])}})})}addPhysicBody(M){(M.collisionEnter||M.collisionExit||M.collisionStay)&&this.collisionList.push(M),this.allEntities.push(M),this.entityAdded.dispatch([M])}removeAgent(M){Ve.RemoveFromListById(this.nonStaticList,M),Ve.RemoveFromListById(this.collisionList,M),Ve.RemoveFromListById(this.allEntities,M),this.scene.matter.world.remove(M.physicsEntity)}addAgent(M){if(!!M.physicsEntity){var b=this.collisionList.map(function(W){return W.engineID}).indexOf(M.engineID);if(!(b>=0)){var b=this.allEntities.map(function(W){return W.engineID}).indexOf(M.engineID);b>=0||(this.addPhysicBody(M),M.physicsEntity.isStatic||this.nonStaticList.push(M))}}}}const yi=class{constructor(w){j(this,"children",[]);j(this,"allElements",[]);j(this,"onAddedCallbackList");j(this,"uiCanvas");j(this,"scene");j(this,"mainCamera");j(this,"physicsManager");j(this,"inputSystem");j(this,"worldParticleContainer");j(this,"canvasParticleContainer");j(this,"onEntityAdded",new Lt.exports.Signal);j(this,"debugParams",{});j(this,"animationSet");this.scene=w,ye.instance.reset(),Mt.instance.initialize(this.scene),this.canvasParticleContainer=new Phaser.GameObjects.Container(this.scene),this.uiCanvas=new ns(this.scene,this,this.canvasParticleContainer),this.uiCanvas.setScrollFactor(0,0),this.scene.add.existing(this.uiCanvas),this.worldParticleContainer=new u5(this.scene),this.scene.add.existing(this.worldParticleContainer),this.uiCanvas.uiCamera.ignore(this.worldParticleContainer),this.uiCanvas.update();const M=new URLSearchParams(window.location.search);M&&M.forEach((b,W)=>{b&&(isNaN(b)?this.debugParams[W]=b:this.debugParams[W]=parseFloat(b))}),this.onAddedCallbackList=new Map,this.physicsManager=this.addChildFromPool(f5),this.mainCamera=this.addChildFromPool(h5),this.mainCamera.build(),this.inputSystem=this.addChildFromPool(l5),this.scene.events.on(Phaser.Scenes.Events.POST_UPDATE,this.lateUpdate.bind(this)),this.scene.events.on(Phaser.Scenes.Events.PRE_RENDER,this.preRender.bind(this)),this.scene.scale.on(Phaser.Scale.Events.RESIZE,this.gameResize.bind(this))}static RemoveFromListById(w,M){for(let b=0;b<w.length;b++)if(w[b].engineID==M.engineID){w.splice(b,1);break}}get isPortrait(){return this.uiCanvas.isPortrait}get isMobile(){return this.scene.sys.game.device.os.android||this.scene.sys.game.device.os.iOS}get uiCamera(){return this.uiCanvas.uiCamera}callbackWhenAdding(w,M){var b;this.onAddedCallbackList.has(w.name)?(b=this.onAddedCallbackList.get(w.name))==null||b.push(M):this.onAddedCallbackList.set(w.name,[M])}findByTypeOnProject(w,M){let b=null;for(let W=0;W<this.allElements.length;W++){const Z=this.allElements[W];if(Z instanceof w){b=Z;break}}return!b&&M!==null&&this.callbackWhenAdding(w,M),b}findByType(w,M){let b=null;for(let W=0;W<this.children.length;W++){const Z=this.children[W];if(Z instanceof w){b=Z;break}}return!b&&M!==null&&this.callbackWhenAdding(w,M),b}findByTypeInParent(w,M,b){let W=null;for(let Z=0;Z<w.children.length;Z++){const p=w.children[Z];if(p instanceof M){W=p;break}}return!W&&b!==null&&this.callbackWhenAdding(M,b),W}getComponent(w){return ye.instance.getElement(w,this.scene,this)}addChildFromNew(w){const M=new w(this.scene,this);return this.addChild(M)}addChildFromPool(w){return this.addChild(ye.instance.getElement(w,this.scene,this))}registerParentedGameObject(w){return w.gameObjectDestroyed.addOnce(this.wipeGameObject.bind(this)),this.onEntityAdded.dispatch(w),this.allElements.includes(w)||this.allElements.push(w),w}addChild(w){return w.gameObjectDestroyed.addOnce(this.wipeGameObject.bind(this)),this.children.includes(w)||(this.children.push(w),w.added(this),this.onEntityAdded.dispatch(w)),this.allElements.includes(w)||this.allElements.push(w),this.findCallback(w.constructor.name),w}findCallback(w){var M;this.onAddedCallbackList.has(w)&&((M=this.onAddedCallbackList.get(w))==null||M.forEach(b=>{b([gameObject])}),this.onAddedCallbackList.delete(w))}update(w,M){yi.DELTA_TIME=w,yi.TIME=M,this.uiCanvas.update(),this.children.forEach(b=>{b.update(w,M)})}preRender(){this.children.forEach(w=>{w.preRender()})}fixedUpdate(w,M){this.children.forEach(b=>{b.fixedUpdate(w,M)})}lateUpdate(w,M){this.children.forEach(b=>{b.lateUpdate(w/100,M)})}gameResize(w,M,b,W,Z){this.children.forEach(p=>{p.gameResize(w,M,b,W,Z)})}removeAll(){for(let w=this.allElements.length-1;w>=0;w--){const M=this.allElements[w];this.wipeGameObject(M)}this.scene.events.off(Phaser.Scenes.Events.POST_UPDATE,this.lateUpdate.bind(this)),this.scene.events.off(Phaser.Scenes.Events.PRE_RENDER,this.preRender.bind(this)),this.scene.scale.off(Phaser.Scale.Events.RESIZE,this.gameResize.bind(this))}wipeGameObject(w){yi.RemoveFromListById(this.children,w),yi.RemoveFromListById(this.allElements,w),w instanceof qo&&this.physicsManager.removeAgent(w)}};let Ve=yi;j(Ve,"TIME_SCALE",1),j(Ve,"DELTA_TIME",1/60),j(Ve,"TIME",0);class d5{static injectFonts(w,M,b){if(!b){const Z=`
    @font-face {
        font-family: '${w}';
        src: url('${M}') format('woff2'),
        font-weight: normal;
        font-style: normal;
    }
`,p=document.createElement("style");p.type="text/css","styleSheet"in p?p.styleSheet.cssText=Z:p.appendChild(document.createTextNode(Z)),document.head.appendChild(p)}const W=document.createElement("div");W.textContent="Hello",W.style.fontFamily=w,W.style.visibility="hidden",W.style.position="fixed",document.body.appendChild(W)}}class v5{constructor(w){j(this,"loader");j(this,"hasFilesToLoad",!1);j(this,"manifestTypes",new Map);j(this,"localizationMap",new Map);j(this,"localizationFilesLoaded",[]);this.loader=w}removePath(w){const M=w.lastIndexOf("/");return M!==-1?w.slice(M+1):w}completeLoad(){this.localizationFilesLoaded.forEach(w=>{this.localizationMap.set(w,this.loader.cacheManager.json.get(w))}),Rt.instance.initialize("EN",this.localizationMap)}loadManifests(w){this.manifestTypes=new Map,w.forEach(M=>{M.type=="preload"?M.assets.forEach(b=>{this.loader.image(b.key,b.path)}):M.type=="bitmapFonts"?M.assets.forEach(b=>{this.loader.bitmapFont(b.xmlFileName,b.fileName,b.xmlPath)}):(this.loader.json(M.filename,M.path),this.manifestTypes.set(M.type,M.filename))})}loadImageManifest(w){const M="./",b="./images/";w.forEach(W=>{W.assets.forEach(Z=>{var S;const p=(S=Z==null?void 0:Z.data)==null?void 0:S.tags;if(p)if(p.tps){const f=this.removePath(Z.name).replace(/\.[^.]+$/,""),c=Z.srcs[0],a=Z.srcs[0].replace(/\.[^.]+$/,"")+".png";this.loader.atlas(f,b+M+a,b+M+c),this.hasFilesToLoad=!0}else{const f=this.removePath(Z.name).replace(/\.[^.]+$/,"");this.loader.image(f,b+M+Z.srcs[0]),this.hasFilesToLoad=!0}else if(Z.srcs[0].includes("glsl.js")){const f=this.removePath(Z.name).replace(/\.[^.]+$/,"").replace(/\.[^.]+$/,"");this.loader.glsl(f,Z.srcs[0])}else{const f=this.removePath(Z.name).replace(/\.[^.]+$/,"");this.loader.image(f,b+M+Z.srcs[0]),this.hasFilesToLoad=!0}})})}loadJsonManifest(w){const M="./json/";w.forEach(b=>{b.assets.forEach(W=>{const p=this.removePath(W.name).replace(/\.[^.]+$/,"").replace(/\.[^.]+$/,"");this.loader.json(p,M+W.srcs[0]);const t=/localization_\s*([^\s]+)/i.exec(p);t&&t[1]&&(t[1],this.localizationFilesLoaded.push(p))})})}loadShaderManifest(w){const M="./shader/";w.forEach(b=>{b.assets.forEach(W=>{if(W.srcs[0].includes("glsl.js")){const p=this.removePath(W.name).replace(/\.[^.]+$/,"").replace(/\.[^.]+$/,"");this.loader.glsl(p,M+W.srcs[0])}})})}loadFontManifest(w){const M="./style/",b=[];w.forEach(W=>{W.assets.forEach(Z=>{var S;const p=(S=Z==null?void 0:Z.data)==null?void 0:S.tags;if(p&&p.wf){const f=this.removePath(Z.name).toLowerCase().replace(/\.[^.]+$/,"");b.push(f,M+Z.srcs[0]),d5.injectFonts(f,M+Z.srcs[0],!1),this.loader.binary(f,M+Z.srcs[0])}})})}loadAudioManifest(w){const M="./audio/";w.forEach(b=>{b.assets.forEach(W=>{const Z=W.name.replace(/\.[^.]+$/,"");this.loader.audio(Z,M+W.srcs[0])})})}}class c5{static createOverlay(w){const M=document.createElement("div");M.id="overlay",M.style.position="fixed",M.style.top="0",M.style.left="0",M.style.width="100%",M.style.height="20px",M.style.display="block",M.style.alignItems="left",M.style.justifyContent="left",M.style.backgroundColor="transparent",M.style.color="red",M.style.fontSize="14px",document.body.appendChild(M);const b=document.createElement("div");b.innerText=w,M.appendChild(b)}}class p5 extends ue.Scene{constructor(M){super(M);j(this,"eugine");j(this,"gameLogic",Object());j(this,"hasFilesToLoad",!1);j(this,"loadingScreen",Object());j(this,"loadingScreenConstructor");j(this,"loader",Object());j(this,"orientationType",Ti.Both);this.loadingScreenConstructor=ko}preload(){this.loader=new v5(this.load)}create(){this.eugine&&this.eugine.removeAll(),this.eugine=new Ve(this),this.eugine.uiCanvas.setOrientation(this.orientationType),this.loadingScreen=this.eugine.addChildFromNew(this.loadingScreenConstructor),this.loader.manifestTypes.forEach((M,b)=>{const W=this.cache.json.get(M);switch(b){case"preload":break;case"image":this.loader.loadImageManifest(W.bundles);break;case"font":this.loader.loadFontManifest(W.bundles);break;case"audio":this.loader.loadAudioManifest(W.bundles);break;case"shader":this.loader.loadShaderManifest(W.bundles);break;case"json":this.loader.loadJsonManifest(W.bundles);break}}),this.input.setTopOnly(!0),this.load.on("complete",()=>{if(this.loader.completeLoad(),this.cache.json.has("animation-set")&&(this.eugine.animationSet=this.cache.json.get("animation-set")),this.cache.json.has("commit-hash")){const M=this.cache.json.get("commit-hash");if(M.dev){let b=M.hash;b.length>6?b=b.substring(0,6)+"...":b=b,c5.createOverlay("-c:"+b+"-v:"+M.buildCount+"-ci:"+M.ciBuildCount)}}this.loadManifestComplete(),this.afterLoadManifestComplete()},this),this.load.on("start",this.loadStart.bind(this),this),this.load.on("progress",this.loadProgress.bind(this),this),this.load.start(),this.loadingScreen.setBackgroundColor(this.game.config.backgroundColor.color),this.loadingScreen.build()}update(M,b){this.eugine&&this.eugine.update(b/1e3,M)}loadStart(){!this.loadingScreen||this.loadingScreen.updateProgress(0)}loadProgress(M){!this.loadingScreen||this.loadingScreen.updateProgress(M)}loadManifestComplete(){this.loadingScreen.hide(()=>{this.completeHide()})}afterLoadManifestComplete(){}completeHide(){}fadeInCameras(){this.scene.scene.cameras.cameras.forEach(M=>{M.fadeIn(250)})}hardRestart(){this.scene.restart()}restartGameWithFade(){const b=this.game.config.backgroundColor;this.time.delayedCall(500,()=>{this.scene.restart()},[],this),this.scene.scene.cameras.cameras.forEach(W=>{W==this.scene.scene.cameras.main,W.fadeOut(500,b.red,b.green,b.blue)})}}class g5 extends p5{constructor(M){super(M);j(this,"gameName","")}preload(){super.preload(),Ct.instance.initialize(this.gameName)}loadManifestComplete(){super.loadManifestComplete(),this.eugine.debugParams.lang&&(console.log(this.eugine.debugParams.lang),Rt.instance.changeLanguage(this.eugine.debugParams.lang))}afterLoadManifestComplete(){Ct.instance.isReady?this.afterApiReady():Ct.instance.onApiReady.add(()=>{this.afterApiReady()})}afterApiReady(){var M;(M=this.eugine)==null||M.addChildFromNew(Ql).build(!1,[se.AutoPlay,se.MakeBet,se.SwapCurrency])}}class m5{constructor(){j(this,"scoreItems",[])}getMaxScore(){return this.scoreItems.length==0?(console.error("No score items configured"),1):this.scoreItems[this.scoreItems.length-1].score}getScoreItems(){return this.scoreItems}addScoreItem(w){this.scoreItems.push(w),this.scoreItems.sort((M,b)=>M.score-b.score)}}class lr{constructor(w){j(this,"score");this.score=w}}class x5 extends g5{constructor(){super("hello-world"),this.orientationType=Ti.ForcePortrait,this.loadingScreenConstructor=ru}preload(){super.preload(),this.loader.loadManifests(Ee.Manifest.default)}completeHide(){}loadManifestComplete(){super.loadManifestComplete();const w=6,M=1/12;ae.SetBallData([new $e(this.AreaToRadius(1e3)*w,"ball_0","balls",1*w*M,1,1),new $e(this.AreaToRadius(2e3)*w,"ball_1","balls",1*w*M,2,2),new $e(this.AreaToRadius(4e3)*w,"ball_2","balls",1*w*M,4,4),new $e(this.AreaToRadius(8e3)*w,"ball_3","balls",1*w*M,8,8),new $e(this.AreaToRadius(16e3)*w,"ball_4","balls",1*w*M,16,16),new $e(this.AreaToRadius(32e3)*w,"ball_5","balls",1*w*M,32,32),new $e(this.AreaToRadius(64e3)*w,"ball_6","balls",1*w*M,64,64),new $e(this.AreaToRadius(128e3)*w,"ball_7","balls",1*w*M,128,128)])}afterApiReady(){console.log("API Ready"),this.eugine.addChildFromNew(Ql).build(!1,[]),Ct.instance.askForBet(),Ct.instance.onBetResult.add((w,M)=>{var W;this.loadingScreen.cleanup(),this.gameLogic=this.eugine.addChildFromNew($M);const b=new m5;b.addScoreItem(new lr(1600)),b.addScoreItem(new lr(1e3)),b.addScoreItem(new lr(500)),(W=this.gameLogic)==null||W.build(b,this.Restart.bind(this)),this.gameLogic.setTokens(w.data.paytableResult)}),Ct.instance.refreshBalance()}Restart(){console.log("Restarting: ",this.gameLogic),this.gameLogic.destroy(),this.restartGameWithFade()}AreaToRadius(w){return Math.pow(w*3/4,1/3)}}const y5={type:Bs.AUTO,parent:"app",width:1920,height:1080,physics:{default:"matter",matter:{debug:!1,gravity:{x:0,y:1}}},scale:{mode:Bs.Scale.RESIZE,autoCenter:Bs.Scale.CENTER_BOTH},scene:[x5]};new Bs.Game(y5);
